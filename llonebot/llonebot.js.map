{"version":3,"file":"llonebot.js","sources":["../node_modules/cosmokit/lib/index.mjs","../node_modules/@cordisjs/core/lib/index.mjs","../node_modules/has-flag/index.js","../node_modules/supports-color/index.js","../__vite-browser-external","../node_modules/object-inspect/index.js","../node_modules/reggol/lib/browser.mjs","../node_modules/@cordisjs/logger/lib/index.mjs","../node_modules/schemastery/lib/index.mjs","../node_modules/@cordisjs/schema/lib/index.mjs","../node_modules/@cordisjs/timer/lib/index.mjs","../node_modules/cordis/lib/index.mjs","../src/common/globalVars.ts","../src/main/log.ts","../node_modules/@protobufjs/aspromise/index.js","../node_modules/@protobufjs/base64/index.js","../node_modules/@protobufjs/eventemitter/index.js","../node_modules/@protobufjs/float/index.js","../node_modules/@protobufjs/inquire/index.js","../node_modules/@protobufjs/utf8/index.js","../node_modules/@protobufjs/pool/index.js","../node_modules/protobufjs/src/util/longbits.js","../node_modules/protobufjs/src/util/minimal.js","../node_modules/protobufjs/src/writer.js","../node_modules/protobufjs/src/writer_buffer.js","../node_modules/protobufjs/src/reader.js","../node_modules/protobufjs/src/reader_buffer.js","../node_modules/protobufjs/src/rpc/service.js","../node_modules/protobufjs/src/rpc.js","../node_modules/protobufjs/src/roots.js","../node_modules/protobufjs/src/index-minimal.js","../node_modules/protobufjs/minimal.js","../src/ntqqapi/proto/compiled.js","../src/ntqqapi/native/pmhq/util.ts","../src/ntqqapi/types/msg.ts","../src/ntqqapi/native/pmhq/index.ts","../src/ntqqapi/hook.ts","../src/ntqqapi/types/user.ts","../src/ntqqapi/types/group.ts","../src/ntqqapi/types/notify.ts","../src/version.ts","../src/ntqqapi/log.ts","../node_modules/isexe/windows.js","../node_modules/isexe/mode.js","../node_modules/isexe/index.js","../node_modules/which/which.js","../node_modules/fluent-ffmpeg/lib/utils.js","../node_modules/fluent-ffmpeg/lib/options/inputs.js","../node_modules/fluent-ffmpeg/lib/options/audio.js","../node_modules/fluent-ffmpeg/lib/options/video.js","../node_modules/fluent-ffmpeg/lib/options/videosize.js","../node_modules/fluent-ffmpeg/lib/options/output.js","../node_modules/fluent-ffmpeg/lib/options/custom.js","../node_modules/fluent-ffmpeg/lib/options/misc.js","../node_modules/async/lib/async.js","../node_modules/fluent-ffmpeg/lib/processor.js","../node_modules/fluent-ffmpeg/lib/capabilities.js","../node_modules/fluent-ffmpeg/lib/ffprobe.js","../node_modules/fluent-ffmpeg/lib/recipes.js","../node_modules/fluent-ffmpeg/lib/fluent-ffmpeg.js","../node_modules/fluent-ffmpeg/index.js","../src/common/utils/ffmpeg.ts","../src/ntqqapi/core.ts","../src/onebot11/types.ts","../src/onebot11/event/OB11BaseEvent.ts","../src/onebot11/cqcode.ts","../src/onebot11/event/notice/OB11BaseNoticeEvent.ts","../src/onebot11/event/notice/OB11GroupNoticeEvent.ts","../src/onebot11/event/notice/OB11GroupIncreaseEvent.ts","../src/onebot11/event/notice/OB11GroupUploadNoticeEvent.ts","../src/common/utils/misc.ts","../src/onebot11/event/notice/OB11GroupTitleEvent.ts","../src/onebot11/event/notice/OB11GroupDecreaseEvent.ts","../src/onebot11/event/notice/OB11FriendAddNoticeEvent.ts","../src/onebot11/event/notice/OB11FriendRecallNoticeEvent.ts","../src/onebot11/event/notice/OB11GroupRecallNoticeEvent.ts","../src/onebot11/event/notice/OB11PokeEvent.ts","../src/onebot11/event/request/OB11GroupRequest.ts","../src/onebot11/event/notice/OB11GroupBanEvent.ts","../src/onebot11/event/notice/OB11MsgEmojiLikeEvent.ts","../src/onebot11/event/notice/OB11GroupEssenceEvent.ts","../src/onebot11/entities.ts","../src/onebot11/event/request/OB11FriendRequest.ts","../src/onebot11/action/OB11Response.ts","../src/onebot11/event/meta/OB11BaseMetaEvent.ts","../src/onebot11/event/meta/OB11LifeCycleEvent.ts","../src/onebot11/event/meta/OB11HeartbeatEvent.ts","../src/onebot11/connect/ws.ts","../node_modules/object-assign/index.js","../node_modules/vary/index.js","../node_modules/cors/lib/index.js","../node_modules/depd/lib/browser/index.js","../node_modules/setprototypeof/index.js","../node_modules/http-errors/node_modules/statuses/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/toidentifier/index.js","../node_modules/http-errors/index.js","../node_modules/ee-first/index.js","../node_modules/on-finished/index.js","../node_modules/bytes/index.js","../node_modules/safer-buffer/safer.js","../node_modules/iconv-lite/lib/bom-handling.js","../node_modules/iconv-lite/encodings/internal.js","../node_modules/iconv-lite/encodings/utf32.js","../node_modules/iconv-lite/encodings/utf16.js","../node_modules/iconv-lite/encodings/utf7.js","../node_modules/iconv-lite/encodings/sbcs-codec.js","../node_modules/iconv-lite/encodings/sbcs-data.js","../node_modules/iconv-lite/encodings/sbcs-data-generated.js","../node_modules/iconv-lite/encodings/dbcs-codec.js","../node_modules/iconv-lite/encodings/dbcs-data.js","../node_modules/iconv-lite/encodings/index.js","../node_modules/iconv-lite/lib/streams.js","../node_modules/iconv-lite/lib/index.js","../node_modules/unpipe/index.js","../node_modules/raw-body/index.js","../node_modules/body-parser/lib/read.js","../node_modules/content-type/index.js","../node_modules/mime-db/index.js","../node_modules/mime-types/mimeScore.js","../node_modules/mime-types/index.js","../node_modules/media-typer/index.js","../node_modules/type-is/index.js","../node_modules/body-parser/lib/utils.js","../node_modules/body-parser/lib/types/json.js","../node_modules/body-parser/lib/types/raw.js","../node_modules/body-parser/lib/types/text.js","../node_modules/es-errors/type.js","../node_modules/side-channel-list/index.js","../node_modules/es-object-atoms/index.js","../node_modules/es-errors/index.js","../node_modules/es-errors/eval.js","../node_modules/es-errors/range.js","../node_modules/es-errors/ref.js","../node_modules/es-errors/syntax.js","../node_modules/es-errors/uri.js","../node_modules/math-intrinsics/abs.js","../node_modules/math-intrinsics/floor.js","../node_modules/math-intrinsics/max.js","../node_modules/math-intrinsics/min.js","../node_modules/math-intrinsics/pow.js","../node_modules/math-intrinsics/round.js","../node_modules/math-intrinsics/isNaN.js","../node_modules/math-intrinsics/sign.js","../node_modules/gopd/gOPD.js","../node_modules/gopd/index.js","../node_modules/es-define-property/index.js","../node_modules/has-symbols/shams.js","../node_modules/has-symbols/index.js","../node_modules/get-proto/Reflect.getPrototypeOf.js","../node_modules/get-proto/Object.getPrototypeOf.js","../node_modules/function-bind/implementation.js","../node_modules/function-bind/index.js","../node_modules/call-bind-apply-helpers/functionCall.js","../node_modules/call-bind-apply-helpers/functionApply.js","../node_modules/call-bind-apply-helpers/reflectApply.js","../node_modules/call-bind-apply-helpers/actualApply.js","../node_modules/call-bind-apply-helpers/index.js","../node_modules/dunder-proto/get.js","../node_modules/get-proto/index.js","../node_modules/hasown/index.js","../node_modules/get-intrinsic/index.js","../node_modules/call-bound/index.js","../node_modules/side-channel-map/index.js","../node_modules/side-channel-weakmap/index.js","../node_modules/side-channel/index.js","../node_modules/qs/lib/formats.js","../node_modules/qs/lib/utils.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../node_modules/qs/lib/index.js","../node_modules/body-parser/lib/types/urlencoded.js","../node_modules/body-parser/index.js","../node_modules/merge-descriptors/index.js","../node_modules/encodeurl/index.js","../node_modules/escape-html/index.js","../node_modules/parseurl/index.js","../node_modules/statuses/index.js","../node_modules/finalhandler/index.js","../node_modules/express/lib/view.js","../node_modules/etag/index.js","../node_modules/forwarded/index.js","../node_modules/ipaddr.js/lib/ipaddr.js","../node_modules/proxy-addr/index.js","../node_modules/express/lib/utils.js","../node_modules/wrappy/wrappy.js","../node_modules/once/once.js","../node_modules/is-promise/index.js","../node_modules/path-to-regexp/dist/index.js","../node_modules/router/lib/layer.js","../node_modules/router/lib/route.js","../node_modules/router/index.js","../node_modules/express/lib/application.js","../node_modules/negotiator/lib/charset.js","../node_modules/negotiator/lib/encoding.js","../node_modules/negotiator/lib/language.js","../node_modules/negotiator/lib/mediaType.js","../node_modules/negotiator/index.js","../node_modules/accepts/index.js","../node_modules/fresh/index.js","../node_modules/range-parser/index.js","../node_modules/express/lib/request.js","../node_modules/safe-buffer/index.js","../node_modules/content-disposition/index.js","../node_modules/cookie-signature/index.js","../node_modules/cookie/index.js","../node_modules/send/index.js","../node_modules/express/lib/response.js","../node_modules/serve-static/index.js","../node_modules/express/lib/express.js","../node_modules/express/index.js","../node_modules/image-size/dist/fromFile.mjs","../src/common/utils/file.ts","../node_modules/json5/dist/index.mjs","../src/common/config.ts","../src/common/utils/legacyLog.ts","../src/common/utils/video.ts","../src/common/utils/audio.ts","../src/ntqqapi/entities.ts","../src/common/utils/sign.ts","../src/onebot11/helper/createMessage.ts","../src/onebot11/helper/quickOperation.ts","../src/onebot11/connect/http.ts","../src/onebot11/helper/eventForHttp.ts","../src/onebot11/action/BaseAction.ts","../src/onebot11/action/types.ts","../src/onebot11/action/msg/GetMsg.ts","../src/onebot11/action/system/GetLoginInfo.ts","../src/onebot11/action/user/GetFriendList.ts","../src/onebot11/action/group/GetGroupList.ts","../src/onebot11/action/group/GetGroupInfo.ts","../src/onebot11/action/group/GetGroupMemberList.ts","../src/onebot11/action/group/GetGroupMemberInfo.ts","../src/onebot11/action/msg/SendMsg.ts","../src/onebot11/action/group/SendGroupMsg.ts","../src/onebot11/action/msg/SendPrivateMsg.ts","../src/onebot11/action/msg/DeleteMsg.ts","../src/onebot11/action/system/GetVersionInfo.ts","../src/onebot11/action/system/CanSendRecord.ts","../src/onebot11/action/system/CanSendImage.ts","../src/onebot11/action/system/GetStatus.ts","../src/onebot11/helper/createMultiMessage.ts","../src/onebot11/action/go-cqhttp/SendForwardMsg.ts","../src/onebot11/action/go-cqhttp/GetStrangerInfo.ts","../src/onebot11/action/user/SendLike.ts","../src/onebot11/action/group/SetGroupAddRequest.ts","../src/onebot11/action/group/SetGroupLeave.ts","../src/onebot11/action/group/GetGuildList.ts","../src/onebot11/action/llonebot/Debug.ts","../src/onebot11/action/user/SetFriendAddRequest.ts","../src/onebot11/action/group/SetGroupWholeBan.ts","../src/onebot11/action/group/SetGroupName.ts","../src/onebot11/action/group/SetGroupBan.ts","../src/onebot11/action/group/SetGroupKick.ts","../src/onebot11/action/group/SetGroupAdmin.ts","../src/onebot11/action/group/SetGroupCard.ts","../src/onebot11/action/file/GetFile.ts","../src/onebot11/action/file/GetImage.ts","../src/onebot11/action/file/GetRecord.ts","../src/onebot11/action/go-cqhttp/MarkMsgAsRead.ts","../src/onebot11/action/system/CleanCache.ts","../src/onebot11/action/llonebot/Config.ts","../src/onebot11/action/llonebot/GetGroupAddRequest.ts","../src/onebot11/action/llonebot/SetQQAvatar.ts","../src/onebot11/action/go-cqhttp/DownloadFile.ts","../src/onebot11/action/go-cqhttp/GetGroupMsgHistory.ts","../src/onebot11/action/go-cqhttp/GetForwardMsg.ts","../src/onebot11/action/user/GetCookie.ts","../src/onebot11/action/llonebot/SetMsgEmojiLike.ts","../src/onebot11/action/llonebot/ForwardSingleMsg.ts","../src/onebot11/action/go-cqhttp/GetGroupEssence.ts","../src/onebot11/action/group/GetGroupHonorInfo.ts","../src/onebot11/action/go-cqhttp/QuickOperation.ts","../src/onebot11/action/go-cqhttp/SetEssenceMsg.ts","../src/onebot11/action/go-cqhttp/DelEssenceMsg.ts","../src/onebot11/action/llonebot/GetEvent.ts","../src/onebot11/action/go-cqhttp/DelGroupFile.ts","../src/onebot11/action/go-cqhttp/GetGroupSystemMsg.ts","../src/onebot11/action/go-cqhttp/CreateGroupFileFolder.ts","../src/onebot11/action/go-cqhttp/DelGroupFolder.ts","../src/onebot11/action/go-cqhttp/GetGroupAtAllRemain.ts","../src/onebot11/action/go-cqhttp/GetGroupRootFiles.ts","../src/onebot11/action/llonebot/SetOnlineStatus.ts","../src/onebot11/action/go-cqhttp/SendGroupNotice.ts","../src/onebot11/action/llonebot/GetProfileLikeMe.ts","../src/onebot11/action/llonebot/FetchEmojiLike.ts","../src/onebot11/action/llonebot/FetchCustomFace.ts","../src/onebot11/action/llonebot/GetFriendMsgHistory.ts","../src/onebot11/action/go-cqhttp/GetGroupFilesByFolder.ts","../src/onebot11/action/llonebot/GetFriendWithCategory.ts","../src/onebot11/action/go-cqhttp/UploadGroupFile.ts","../src/onebot11/action/go-cqhttp/UploadPrivateFile.ts","../src/onebot11/action/go-cqhttp/GetGroupFileUrl.ts","../src/onebot11/action/go-cqhttp/GetGroupNotice.ts","../src/onebot11/action/llonebot/GetRobotUinRange.ts","../src/onebot11/action/go-cqhttp/DeleteFriend.ts","../src/onebot11/action/go-cqhttp/OCRImage.ts","../src/onebot11/action/llonebot/GroupPoke.ts","../src/onebot11/action/llonebot/FriendPoke.ts","../src/onebot11/action/go-cqhttp/GetGroupFileSystemInfo.ts","../src/onebot11/action/system/GetCredentials.ts","../src/onebot11/action/go-cqhttp/SetGroupSpecialTitle.ts","../src/onebot11/action/go-cqhttp/SendGroupSign.ts","../src/onebot11/action/system/SetRestart.ts","../src/onebot11/action/llonebot/SetFriendCategory.ts","../src/onebot11/action/llonebot/SetFriendRemark.ts","../src/onebot11/action/llonebot/SetGroupMsgMask.ts","../src/onebot11/action/llonebot/SetGroupRemark.ts","../src/onebot11/action/go-cqhttp/SetQQProfile.ts","../src/onebot11/action/llonebot/GetProfileLike.ts","../src/onebot11/action/system/GetCsrfToken.ts","../src/onebot11/action/go-cqhttp/SetGroupPortrait.ts","../src/onebot11/action/llonebot/MoveGroupFile.ts","../src/onebot11/action/llonebot/GetGroupShutList.ts","../src/onebot11/action/llonebot/RenameGroupFileFolder.ts","../node_modules/minato/lib/index.mjs","../src/onebot11/action/llonebot/VoiceMsg2Text.ts","../src/onebot11/action/llonebot/SendPB.ts","../src/onebot11/action/llonebot/GetRkey.ts","../src/onebot11/action/llonebot/UploadFlashFile.ts","../src/onebot11/action/llonebot/GetQQAvatar.ts","../src/onebot11/action/llonebot/GetFlashFileInfo.ts","../src/onebot11/action/llonebot/DownloadFlashFile.ts","../src/onebot11/action/index.ts","../src/onebot11/event/notice/OB11GroupAdminNoticeEvent.ts","../src/onebot11/event/notice/OB11ProfileLikeEvent.ts","../src/ntqqapi/types/flashfile.ts","../src/onebot11/event/notice/OB11FlashFileEvent.ts","../src/onebot11/adapter.ts","../node_modules/@satorijs/element/lib/index.mjs","../node_modules/@satorijs/protocol/lib/index.mjs","../src/satori/api/channel/get.ts","../src/satori/api/channel/list.ts","../src/satori/api/channel/update.ts","../src/satori/api/channel/delete.ts","../src/satori/api/channel/mute.ts","../src/satori/api/channel/user/create.ts","../src/satori/utils.ts","../src/satori/api/guild/get.ts","../src/satori/api/guild/list.ts","../src/satori/api/guild/approve.ts","../src/satori/api/login/get.ts","../src/satori/api/member/get.ts","../src/satori/api/member/list.ts","../src/satori/api/member/kick.ts","../src/satori/api/member/mute.ts","../src/satori/api/member/approve.ts","../src/satori/message.ts","../src/satori/api/message/create.ts","../src/satori/api/message/get.ts","../src/satori/api/message/delete.ts","../src/satori/api/message/list.ts","../src/satori/api/reaction/create.ts","../src/satori/api/reaction/delete.ts","../src/satori/api/reaction/list.ts","../src/satori/api/role/member/set.ts","../src/satori/api/role/list.ts","../src/satori/api/user/get.ts","../src/satori/api/user/list.ts","../src/satori/api/user/approve.ts","../src/satori/api/index.ts","../node_modules/get-port/index.js","../src/common/utils/port.ts","../src/satori/server.ts","../src/satori/event/message.ts","../src/satori/event/guild.ts","../src/satori/event/member.ts","../src/satori/event/user.ts","../src/satori/adapter.ts","../node_modules/@minatojs/sql-utils/lib/index.mjs","../node_modules/@minatojs/driver-sqlite/lib/index.mjs","../src/common/utils/table.ts","../src/main/store.ts","../src/ntqqapi/ntcall.ts","../src/ntqqapi/helper/rkey.ts","../src/ntqqapi/api/file.ts","../src/ntqqapi/cache.ts","../src/ntqqapi/api/friend.ts","../src/ntqqapi/api/group.ts","../src/ntqqapi/api/msg.ts","../src/common/utils/request.ts","../src/ntqqapi/api/user.ts","../src/ntqqapi/api/webapi.ts","../src/ntqqapi/api/system.ts","../src/webui/BE/server.ts","../src/main/main.ts"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/misc.ts\nfunction noop() {\n}\n__name(noop, \"noop\");\nfunction isNullable(value) {\n  return value === null || value === void 0;\n}\n__name(isNullable, \"isNullable\");\nfunction isNonNullable(value) {\n  return !isNullable(value);\n}\n__name(isNonNullable, \"isNonNullable\");\nfunction isPlainObject(data) {\n  return data && typeof data === \"object\" && !Array.isArray(data);\n}\n__name(isPlainObject, \"isPlainObject\");\nfunction filterKeys(object, filter) {\n  return Object.fromEntries(Object.entries(object).filter(([key, value]) => filter(key, value)));\n}\n__name(filterKeys, \"filterKeys\");\nfunction mapValues(object, transform) {\n  return Object.fromEntries(Object.entries(object).map(([key, value]) => [key, transform(value, key)]));\n}\n__name(mapValues, \"mapValues\");\nfunction pick(source, keys, forced) {\n  if (!keys) return { ...source };\n  const result = {};\n  for (const key of keys) {\n    if (forced || source[key] !== void 0) result[key] = source[key];\n  }\n  return result;\n}\n__name(pick, \"pick\");\nfunction omit(source, keys) {\n  if (!keys) return { ...source };\n  const result = { ...source };\n  for (const key of keys) {\n    Reflect.deleteProperty(result, key);\n  }\n  return result;\n}\n__name(omit, \"omit\");\nfunction defineProperty(object, key, value) {\n  return Object.defineProperty(object, key, { writable: true, value, enumerable: false });\n}\n__name(defineProperty, \"defineProperty\");\n\n// src/array.ts\nfunction contain(array1, array2) {\n  return array2.every((item) => array1.includes(item));\n}\n__name(contain, \"contain\");\nfunction intersection(array1, array2) {\n  return array1.filter((item) => array2.includes(item));\n}\n__name(intersection, \"intersection\");\nfunction difference(array1, array2) {\n  return array1.filter((item) => !array2.includes(item));\n}\n__name(difference, \"difference\");\nfunction union(array1, array2) {\n  return Array.from(/* @__PURE__ */ new Set([...array1, ...array2]));\n}\n__name(union, \"union\");\nfunction deduplicate(array) {\n  return [...new Set(array)];\n}\n__name(deduplicate, \"deduplicate\");\nfunction remove(list, item) {\n  const index = list?.indexOf(item);\n  if (index >= 0) {\n    list.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n__name(remove, \"remove\");\nfunction makeArray(source) {\n  return Array.isArray(source) ? source : isNullable(source) ? [] : [source];\n}\n__name(makeArray, \"makeArray\");\n\n// src/types.ts\nfunction is(type, value) {\n  if (arguments.length === 1) return (value2) => is(type, value2);\n  return type in globalThis && value instanceof globalThis[type] || Object.prototype.toString.call(value).slice(8, -1) === type;\n}\n__name(is, \"is\");\nfunction isArrayBufferLike(value) {\n  return is(\"ArrayBuffer\", value) || is(\"SharedArrayBuffer\", value);\n}\n__name(isArrayBufferLike, \"isArrayBufferLike\");\nfunction isArrayBufferSource(value) {\n  return isArrayBufferLike(value) || ArrayBuffer.isView(value);\n}\n__name(isArrayBufferSource, \"isArrayBufferSource\");\nvar Binary;\n((Binary2) => {\n  Binary2.is = isArrayBufferLike;\n  Binary2.isSource = isArrayBufferSource;\n  function fromSource(source) {\n    if (ArrayBuffer.isView(source)) {\n      return source.buffer.slice(source.byteOffset, source.byteOffset + source.byteLength);\n    } else {\n      return source;\n    }\n  }\n  Binary2.fromSource = fromSource;\n  __name(fromSource, \"fromSource\");\n  function toBase64(source) {\n    if (typeof Buffer !== \"undefined\") {\n      return Buffer.from(source).toString(\"base64\");\n    }\n    let binary = \"\";\n    const bytes = new Uint8Array(source);\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n  }\n  Binary2.toBase64 = toBase64;\n  __name(toBase64, \"toBase64\");\n  function fromBase64(source) {\n    if (typeof Buffer !== \"undefined\") return fromSource(Buffer.from(source, \"base64\"));\n    return Uint8Array.from(atob(source), (c) => c.charCodeAt(0));\n  }\n  Binary2.fromBase64 = fromBase64;\n  __name(fromBase64, \"fromBase64\");\n  function toHex(source) {\n    if (typeof Buffer !== \"undefined\") return Buffer.from(source).toString(\"hex\");\n    return Array.from(new Uint8Array(source), (byte) => byte.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n  Binary2.toHex = toHex;\n  __name(toHex, \"toHex\");\n  function fromHex(source) {\n    if (typeof Buffer !== \"undefined\") return fromSource(Buffer.from(source, \"hex\"));\n    const hex = source.length % 2 === 0 ? source : source.slice(0, source.length - 1);\n    const buffer = [];\n    for (let i = 0; i < hex.length; i += 2) {\n      buffer.push(parseInt(`${hex[i]}${hex[i + 1]}`, 16));\n    }\n    return Uint8Array.from(buffer).buffer;\n  }\n  Binary2.fromHex = fromHex;\n  __name(fromHex, \"fromHex\");\n})(Binary || (Binary = {}));\nvar base64ToArrayBuffer = Binary.fromBase64;\nvar arrayBufferToBase64 = Binary.toBase64;\nvar hexToArrayBuffer = Binary.fromHex;\nvar arrayBufferToHex = Binary.toHex;\nfunction clone(source, refs = /* @__PURE__ */ new Map()) {\n  if (!source || typeof source !== \"object\") return source;\n  if (is(\"Date\", source)) return new Date(source.valueOf());\n  if (is(\"RegExp\", source)) return new RegExp(source.source, source.flags);\n  if (isArrayBufferLike(source)) return source.slice(0);\n  if (ArrayBuffer.isView(source)) return source.buffer.slice(source.byteOffset, source.byteOffset + source.byteLength);\n  const cached = refs.get(source);\n  if (cached) return cached;\n  if (Array.isArray(source)) {\n    const result2 = [];\n    refs.set(source, result2);\n    source.forEach((value, index) => {\n      result2[index] = Reflect.apply(clone, null, [value, refs]);\n    });\n    return result2;\n  }\n  const result = Object.create(Object.getPrototypeOf(source));\n  refs.set(source, result);\n  for (const key of Reflect.ownKeys(source)) {\n    const descriptor = { ...Reflect.getOwnPropertyDescriptor(source, key) };\n    if (\"value\" in descriptor) {\n      descriptor.value = Reflect.apply(clone, null, [descriptor.value, refs]);\n    }\n    Reflect.defineProperty(result, key, descriptor);\n  }\n  return result;\n}\n__name(clone, \"clone\");\nfunction deepEqual(a, b, strict) {\n  if (a === b) return true;\n  if (!strict && isNullable(a) && isNullable(b)) return true;\n  if (typeof a !== typeof b) return false;\n  if (typeof a !== \"object\") return false;\n  if (!a || !b) return false;\n  function check(test, then) {\n    return test(a) ? test(b) ? then(a, b) : false : test(b) ? false : void 0;\n  }\n  __name(check, \"check\");\n  return check(Array.isArray, (a2, b2) => a2.length === b2.length && a2.every((item, index) => deepEqual(item, b2[index]))) ?? check(is(\"Date\"), (a2, b2) => a2.valueOf() === b2.valueOf()) ?? check(is(\"RegExp\"), (a2, b2) => a2.source === b2.source && a2.flags === b2.flags) ?? check(isArrayBufferLike, (a2, b2) => {\n    if (a2.byteLength !== b2.byteLength) return false;\n    const viewA = new Uint8Array(a2);\n    const viewB = new Uint8Array(b2);\n    for (let i = 0; i < viewA.length; i++) {\n      if (viewA[i] !== viewB[i]) return false;\n    }\n    return true;\n  }) ?? Object.keys({ ...a, ...b }).every((key) => deepEqual(a[key], b[key], strict));\n}\n__name(deepEqual, \"deepEqual\");\n\n// src/string.ts\nfunction capitalize(source) {\n  return source.charAt(0).toUpperCase() + source.slice(1);\n}\n__name(capitalize, \"capitalize\");\nfunction uncapitalize(source) {\n  return source.charAt(0).toLowerCase() + source.slice(1);\n}\n__name(uncapitalize, \"uncapitalize\");\nfunction camelCase(source) {\n  return source.replace(/[_-][a-z]/g, (str) => str.slice(1).toUpperCase());\n}\n__name(camelCase, \"camelCase\");\nfunction tokenize(source, delimiters, delimiter) {\n  const output = [];\n  let state = 0 /* DELIM */;\n  for (let i = 0; i < source.length; i++) {\n    const code = source.charCodeAt(i);\n    if (code >= 65 && code <= 90) {\n      if (state === 1 /* UPPER */) {\n        const next = source.charCodeAt(i + 1);\n        if (next >= 97 && next <= 122) {\n          output.push(delimiter);\n        }\n        output.push(code + 32);\n      } else {\n        if (state !== 0 /* DELIM */) {\n          output.push(delimiter);\n        }\n        output.push(code + 32);\n      }\n      state = 1 /* UPPER */;\n    } else if (code >= 97 && code <= 122) {\n      output.push(code);\n      state = 2 /* LOWER */;\n    } else if (delimiters.includes(code)) {\n      if (state !== 0 /* DELIM */) {\n        output.push(delimiter);\n      }\n      state = 0 /* DELIM */;\n    } else {\n      output.push(code);\n    }\n  }\n  return String.fromCharCode(...output);\n}\n__name(tokenize, \"tokenize\");\nfunction paramCase(source) {\n  return tokenize(source, [45, 95], 45);\n}\n__name(paramCase, \"paramCase\");\nfunction snakeCase(source) {\n  return tokenize(source, [45, 95], 95);\n}\n__name(snakeCase, \"snakeCase\");\nvar camelize = camelCase;\nvar hyphenate = paramCase;\nfunction formatProperty(key) {\n  if (typeof key !== \"string\") return `[${key.toString()}]`;\n  return /^[a-z_$][\\w$]*$/i.test(key) ? `.${key}` : `[${JSON.stringify(key)}]`;\n}\n__name(formatProperty, \"formatProperty\");\nfunction trimSlash(source) {\n  return source.replace(/\\/$/, \"\");\n}\n__name(trimSlash, \"trimSlash\");\nfunction sanitize(source) {\n  if (!source.startsWith(\"/\")) source = \"/\" + source;\n  return trimSlash(source);\n}\n__name(sanitize, \"sanitize\");\n\n// src/time.ts\nvar Time;\n((Time2) => {\n  Time2.millisecond = 1;\n  Time2.second = 1e3;\n  Time2.minute = Time2.second * 60;\n  Time2.hour = Time2.minute * 60;\n  Time2.day = Time2.hour * 24;\n  Time2.week = Time2.day * 7;\n  let timezoneOffset = (/* @__PURE__ */ new Date()).getTimezoneOffset();\n  function setTimezoneOffset(offset) {\n    timezoneOffset = offset;\n  }\n  Time2.setTimezoneOffset = setTimezoneOffset;\n  __name(setTimezoneOffset, \"setTimezoneOffset\");\n  function getTimezoneOffset() {\n    return timezoneOffset;\n  }\n  Time2.getTimezoneOffset = getTimezoneOffset;\n  __name(getTimezoneOffset, \"getTimezoneOffset\");\n  function getDateNumber(date = /* @__PURE__ */ new Date(), offset) {\n    if (typeof date === \"number\") date = new Date(date);\n    if (offset === void 0) offset = timezoneOffset;\n    return Math.floor((date.valueOf() / Time2.minute - offset) / 1440);\n  }\n  Time2.getDateNumber = getDateNumber;\n  __name(getDateNumber, \"getDateNumber\");\n  function fromDateNumber(value, offset) {\n    const date = new Date(value * Time2.day);\n    if (offset === void 0) offset = timezoneOffset;\n    return new Date(+date + offset * Time2.minute);\n  }\n  Time2.fromDateNumber = fromDateNumber;\n  __name(fromDateNumber, \"fromDateNumber\");\n  const numeric = /\\d+(?:\\.\\d+)?/.source;\n  const timeRegExp = new RegExp(`^${[\n    \"w(?:eek(?:s)?)?\",\n    \"d(?:ay(?:s)?)?\",\n    \"h(?:our(?:s)?)?\",\n    \"m(?:in(?:ute)?(?:s)?)?\",\n    \"s(?:ec(?:ond)?(?:s)?)?\"\n  ].map((unit) => `(${numeric}${unit})?`).join(\"\")}$`);\n  function parseTime(source) {\n    const capture = timeRegExp.exec(source);\n    if (!capture) return 0;\n    return (parseFloat(capture[1]) * Time2.week || 0) + (parseFloat(capture[2]) * Time2.day || 0) + (parseFloat(capture[3]) * Time2.hour || 0) + (parseFloat(capture[4]) * Time2.minute || 0) + (parseFloat(capture[5]) * Time2.second || 0);\n  }\n  Time2.parseTime = parseTime;\n  __name(parseTime, \"parseTime\");\n  function parseDate(date) {\n    const parsed = parseTime(date);\n    if (parsed) {\n      date = Date.now() + parsed;\n    } else if (/^\\d{1,2}(:\\d{1,2}){1,2}$/.test(date)) {\n      date = `${(/* @__PURE__ */ new Date()).toLocaleDateString()}-${date}`;\n    } else if (/^\\d{1,2}-\\d{1,2}-\\d{1,2}(:\\d{1,2}){1,2}$/.test(date)) {\n      date = `${(/* @__PURE__ */ new Date()).getFullYear()}-${date}`;\n    }\n    return date ? new Date(date) : /* @__PURE__ */ new Date();\n  }\n  Time2.parseDate = parseDate;\n  __name(parseDate, \"parseDate\");\n  function format(ms) {\n    const abs = Math.abs(ms);\n    if (abs >= Time2.day - Time2.hour / 2) {\n      return Math.round(ms / Time2.day) + \"d\";\n    } else if (abs >= Time2.hour - Time2.minute / 2) {\n      return Math.round(ms / Time2.hour) + \"h\";\n    } else if (abs >= Time2.minute - Time2.second / 2) {\n      return Math.round(ms / Time2.minute) + \"m\";\n    } else if (abs >= Time2.second) {\n      return Math.round(ms / Time2.second) + \"s\";\n    }\n    return ms + \"ms\";\n  }\n  Time2.format = format;\n  __name(format, \"format\");\n  function toDigits(source, length = 2) {\n    return source.toString().padStart(length, \"0\");\n  }\n  Time2.toDigits = toDigits;\n  __name(toDigits, \"toDigits\");\n  function template(template2, time = /* @__PURE__ */ new Date()) {\n    return template2.replace(\"yyyy\", time.getFullYear().toString()).replace(\"yy\", time.getFullYear().toString().slice(2)).replace(\"MM\", toDigits(time.getMonth() + 1)).replace(\"dd\", toDigits(time.getDate())).replace(\"hh\", toDigits(time.getHours())).replace(\"mm\", toDigits(time.getMinutes())).replace(\"ss\", toDigits(time.getSeconds())).replace(\"SSS\", toDigits(time.getMilliseconds(), 3));\n  }\n  Time2.template = template;\n  __name(template, \"template\");\n})(Time || (Time = {}));\nexport {\n  Binary,\n  Time,\n  arrayBufferToBase64,\n  arrayBufferToHex,\n  base64ToArrayBuffer,\n  camelCase,\n  camelize,\n  capitalize,\n  clone,\n  contain,\n  deduplicate,\n  deepEqual,\n  defineProperty,\n  difference,\n  filterKeys,\n  formatProperty,\n  hexToArrayBuffer,\n  hyphenate,\n  intersection,\n  is,\n  isNonNullable,\n  isNullable,\n  isPlainObject,\n  makeArray,\n  mapValues,\n  noop,\n  omit,\n  paramCase,\n  pick,\n  remove,\n  sanitize,\n  snakeCase,\n  trimSlash,\n  uncapitalize,\n  union,\n  mapValues as valueMap\n};\n//# sourceMappingURL=index.mjs.map\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/context.ts\nimport { defineProperty as defineProperty6 } from \"cosmokit\";\n\n// src/events.ts\nimport { defineProperty as defineProperty3, remove } from \"cosmokit\";\n\n// src/reflect.ts\nimport { defineProperty as defineProperty2, isNullable } from \"cosmokit\";\n\n// src/utils.ts\nimport { defineProperty } from \"cosmokit\";\nvar symbols = {\n  // internal symbols\n  shadow: Symbol.for(\"cordis.shadow\"),\n  receiver: Symbol.for(\"cordis.receiver\"),\n  original: Symbol.for(\"cordis.original\"),\n  // context symbols\n  store: Symbol.for(\"cordis.store\"),\n  events: Symbol.for(\"cordis.events\"),\n  static: Symbol.for(\"cordis.static\"),\n  filter: Symbol.for(\"cordis.filter\"),\n  expose: Symbol.for(\"cordis.expose\"),\n  isolate: Symbol.for(\"cordis.isolate\"),\n  internal: Symbol.for(\"cordis.internal\"),\n  intercept: Symbol.for(\"cordis.intercept\"),\n  // service symbols\n  setup: Symbol.for(\"cordis.setup\"),\n  invoke: Symbol.for(\"cordis.invoke\"),\n  extend: Symbol.for(\"cordis.extend\"),\n  tracker: Symbol.for(\"cordis.tracker\"),\n  provide: Symbol.for(\"cordis.provide\"),\n  immediate: Symbol.for(\"cordis.immediate\")\n};\nvar GeneratorFunction = function* () {\n}.constructor;\nvar AsyncGeneratorFunction = async function* () {\n}.constructor;\nfunction isConstructor(func) {\n  if (!func.prototype) return false;\n  if (func instanceof GeneratorFunction) return false;\n  if (AsyncGeneratorFunction !== Function && func instanceof AsyncGeneratorFunction) return false;\n  return true;\n}\n__name(isConstructor, \"isConstructor\");\nfunction resolveConfig(plugin, config) {\n  const schema = plugin[\"Config\"] || plugin[\"schema\"];\n  if (schema && plugin[\"schema\"] !== false) config = schema(config);\n  return config ?? {};\n}\n__name(resolveConfig, \"resolveConfig\");\nfunction isUnproxyable(value) {\n  return [Map, Set, Date, Promise].some((constructor) => value instanceof constructor);\n}\n__name(isUnproxyable, \"isUnproxyable\");\nfunction joinPrototype(proto1, proto2) {\n  if (proto1 === Object.prototype) return proto2;\n  const result = Object.create(joinPrototype(Object.getPrototypeOf(proto1), proto2));\n  for (const key of Reflect.ownKeys(proto1)) {\n    Object.defineProperty(result, key, Object.getOwnPropertyDescriptor(proto1, key));\n  }\n  return result;\n}\n__name(joinPrototype, \"joinPrototype\");\nfunction isObject(value) {\n  return value && (typeof value === \"object\" || typeof value === \"function\");\n}\n__name(isObject, \"isObject\");\nfunction getTraceable(ctx, value, noTrap) {\n  if (!isObject(value)) return value;\n  if (Object.hasOwn(value, symbols.shadow)) {\n    return Object.getPrototypeOf(value);\n  }\n  const tracker = value[symbols.tracker];\n  if (!tracker) return value;\n  return createTraceable(ctx, value, tracker, noTrap);\n}\n__name(getTraceable, \"getTraceable\");\nfunction withProps(target, props) {\n  if (!props) return target;\n  return new Proxy(target, {\n    get: /* @__PURE__ */ __name((target2, prop, receiver) => {\n      if (prop in props && prop !== \"constructor\") return Reflect.get(props, prop, receiver);\n      return Reflect.get(target2, prop, receiver);\n    }, \"get\"),\n    set: /* @__PURE__ */ __name((target2, prop, value, receiver) => {\n      if (prop in props && prop !== \"constructor\") return Reflect.set(props, prop, value, receiver);\n      return Reflect.set(target2, prop, value, receiver);\n    }, \"set\")\n  });\n}\n__name(withProps, \"withProps\");\nfunction withProp(target, prop, value) {\n  return withProps(target, Object.defineProperty(/* @__PURE__ */ Object.create(null), prop, {\n    value,\n    writable: false\n  }));\n}\n__name(withProp, \"withProp\");\nfunction createShadow(ctx, target, property, receiver) {\n  if (!property) return receiver;\n  const origin = Reflect.getOwnPropertyDescriptor(target, property)?.value;\n  if (!origin) return receiver;\n  return withProp(receiver, property, ctx.extend({ [symbols.shadow]: origin }));\n}\n__name(createShadow, \"createShadow\");\nfunction createShadowMethod(ctx, value, outer, shadow) {\n  return new Proxy(value, {\n    apply: /* @__PURE__ */ __name((target, thisArg, args) => {\n      if (thisArg === outer) thisArg = shadow;\n      args = args.map((arg) => {\n        if (typeof arg !== \"function\" || arg[symbols.original]) return arg;\n        return new Proxy(arg, {\n          get: /* @__PURE__ */ __name((target2, prop, receiver) => {\n            if (prop === symbols.original) return target2;\n            const value2 = Reflect.get(target2, prop, receiver);\n            if (prop === \"toString\" && value2 === Function.prototype.toString) {\n              return function(...args2) {\n                return Reflect.apply(value2, this === receiver ? target2 : this, args2);\n              };\n            }\n            return value2;\n          }, \"get\"),\n          apply: /* @__PURE__ */ __name((target2, thisArg2, args2) => {\n            return Reflect.apply(target2, getTraceable(ctx, thisArg2), args2.map((arg2) => getTraceable(ctx, arg2)));\n          }, \"apply\"),\n          construct: /* @__PURE__ */ __name((target2, args2, newTarget) => {\n            return Reflect.construct(target2, args2.map((arg2) => getTraceable(ctx, arg2)), newTarget);\n          }, \"construct\")\n        });\n      });\n      return getTraceable(ctx, Reflect.apply(target, thisArg, args));\n    }, \"apply\")\n  });\n}\n__name(createShadowMethod, \"createShadowMethod\");\nfunction createTraceable(ctx, value, tracker, noTrap) {\n  if (ctx[symbols.shadow]) {\n    ctx = Object.getPrototypeOf(ctx);\n  }\n  const proxy = new Proxy(value, {\n    get: /* @__PURE__ */ __name((target, prop, receiver) => {\n      if (prop === symbols.original) return target;\n      if (prop === tracker.property) return ctx;\n      if (typeof prop === \"symbol\") {\n        return Reflect.get(target, prop, receiver);\n      }\n      if (tracker.associate && ctx[symbols.internal][`${tracker.associate}.${prop}`]) {\n        return Reflect.get(ctx, `${tracker.associate}.${prop}`, withProp(ctx, symbols.receiver, receiver));\n      }\n      const shadow = createShadow(ctx, target, tracker.property, receiver);\n      const innerValue = Reflect.get(target, prop, shadow);\n      const innerTracker = innerValue?.[symbols.tracker];\n      if (innerTracker) {\n        return createTraceable(ctx, innerValue, innerTracker);\n      } else if (!noTrap && typeof innerValue === \"function\") {\n        return createShadowMethod(ctx, innerValue, receiver, shadow);\n      } else {\n        return innerValue;\n      }\n    }, \"get\"),\n    set: /* @__PURE__ */ __name((target, prop, value2, receiver) => {\n      if (prop === symbols.original) return false;\n      if (prop === tracker.property) return false;\n      if (typeof prop === \"symbol\") {\n        return Reflect.set(target, prop, value2, receiver);\n      }\n      if (tracker.associate && ctx[symbols.internal][`${tracker.associate}.${prop}`]) {\n        return Reflect.set(ctx, `${tracker.associate}.${prop}`, value2, withProp(ctx, symbols.receiver, receiver));\n      }\n      const shadow = createShadow(ctx, target, tracker.property, receiver);\n      return Reflect.set(target, prop, value2, shadow);\n    }, \"set\"),\n    apply: /* @__PURE__ */ __name((target, thisArg, args) => {\n      return applyTraceable(proxy, target, thisArg, args);\n    }, \"apply\")\n  });\n  return proxy;\n}\n__name(createTraceable, \"createTraceable\");\nfunction applyTraceable(proxy, value, thisArg, args) {\n  if (!value[symbols.invoke]) return Reflect.apply(value, thisArg, args);\n  return value[symbols.invoke].apply(proxy, args);\n}\n__name(applyTraceable, \"applyTraceable\");\nfunction createCallable(name, proto, tracker) {\n  const self = /* @__PURE__ */ __name(function(...args) {\n    const proxy = createTraceable(self[\"ctx\"], self, tracker);\n    return applyTraceable(proxy, self, this, args);\n  }, \"self\");\n  defineProperty(self, \"name\", name);\n  return Object.setPrototypeOf(self, proto);\n}\n__name(createCallable, \"createCallable\");\n\n// src/reflect.ts\nvar ReflectService = class _ReflectService {\n  constructor(ctx) {\n    this.ctx = ctx;\n    defineProperty2(this, symbols.tracker, {\n      associate: \"reflect\",\n      property: \"ctx\"\n    });\n    this._mixin(\"reflect\", [\"get\", \"set\", \"provide\", \"accessor\", \"mixin\", \"alias\"]);\n    this._mixin(\"scope\", [\"config\", \"runtime\", \"effect\", \"collect\", \"accept\", \"decline\"]);\n    this._mixin(\"registry\", [\"using\", \"inject\", \"plugin\"]);\n    this._mixin(\"lifecycle\", [\"on\", \"once\", \"parallel\", \"emit\", \"serial\", \"bail\", \"start\", \"stop\"]);\n  }\n  static {\n    __name(this, \"ReflectService\");\n  }\n  static resolveInject(ctx, name) {\n    let internal = ctx[symbols.internal][name];\n    while (internal?.type === \"alias\") {\n      name = internal.name;\n      internal = ctx[symbols.internal][name];\n    }\n    return [name, internal];\n  }\n  static checkInject(ctx, name, error) {\n    ctx = ctx[symbols.shadow] ?? ctx;\n    if ([\"prototype\", \"then\", \"registry\", \"lifecycle\"].includes(name)) return;\n    if (name[0] === \"$\" || name[0] === \"_\") return;\n    if (!ctx.runtime.plugin) return;\n    if (ctx.bail(ctx, \"internal/inject\", name)) return;\n    const lines = error.stack.split(\"\\n\");\n    lines.splice(1, 1);\n    error.stack = lines.join(\"\\n\");\n    ctx.emit(ctx, \"internal/warning\", error);\n  }\n  static handler = {\n    get: /* @__PURE__ */ __name((target, prop, ctx) => {\n      if (typeof prop !== \"string\") return Reflect.get(target, prop, ctx);\n      if (Reflect.has(target, prop)) {\n        return getTraceable(ctx, Reflect.get(target, prop, ctx), true);\n      }\n      const [name, internal] = _ReflectService.resolveInject(target, prop);\n      const error = new Error(`property ${name} is not registered, declare it as \\`inject\\` to suppress this warning`);\n      if (!internal) {\n        _ReflectService.checkInject(ctx, name, error);\n        return Reflect.get(target, name, ctx);\n      } else if (internal.type === \"accessor\") {\n        return internal.get.call(ctx, ctx[symbols.receiver]);\n      } else {\n        if (!internal.builtin) _ReflectService.checkInject(ctx, name, error);\n        return ctx.reflect.get(name);\n      }\n    }, \"get\"),\n    set: /* @__PURE__ */ __name((target, prop, value, ctx) => {\n      if (typeof prop !== \"string\") return Reflect.set(target, prop, value, ctx);\n      const [name, internal] = _ReflectService.resolveInject(target, prop);\n      if (!internal) {\n        return Reflect.set(target, name, value, ctx);\n      }\n      if (internal.type === \"accessor\") {\n        if (!internal.set) return false;\n        return internal.set.call(ctx, value, ctx[symbols.receiver]);\n      } else {\n        ctx.reflect.set(name, value);\n        return true;\n      }\n    }, \"set\"),\n    has: /* @__PURE__ */ __name((target, prop) => {\n      if (typeof prop !== \"string\") return Reflect.has(target, prop);\n      if (Reflect.has(target, prop)) return true;\n      const [, internal] = _ReflectService.resolveInject(target, prop);\n      return !!internal;\n    }, \"has\")\n  };\n  get(name) {\n    const internal = this.ctx[symbols.internal][name];\n    if (internal?.type !== \"service\") return;\n    const key = this.ctx[symbols.isolate][name];\n    const value = this.ctx[symbols.store][key]?.value;\n    return getTraceable(this.ctx, value);\n  }\n  set(name, value) {\n    this.provide(name);\n    const key = this.ctx[symbols.isolate][name];\n    const oldValue = this.ctx[symbols.store][key]?.value;\n    value ??= void 0;\n    let dispose = /* @__PURE__ */ __name(() => {\n    }, \"dispose\");\n    if (oldValue === value) return dispose;\n    if (!isNullable(value) && !isNullable(oldValue)) {\n      throw new Error(`service ${name} has been registered`);\n    }\n    const ctx = this.ctx;\n    if (!isNullable(value)) {\n      dispose = ctx.effect(() => () => {\n        ctx.set(name, void 0);\n      });\n    }\n    if (isUnproxyable(value)) {\n      ctx.emit(ctx, \"internal/warning\", new Error(`service ${name} is an unproxyable object, which may lead to unexpected behavior`));\n    }\n    const self = Object.create(ctx);\n    self[symbols.filter] = (ctx2) => {\n      return ctx[symbols.isolate][name] === ctx2[symbols.isolate][name];\n    };\n    ctx.emit(self, \"internal/before-service\", name, value);\n    ctx[symbols.store][key] = { value, source: ctx };\n    ctx.emit(self, \"internal/service\", name, oldValue);\n    return dispose;\n  }\n  provide(name, value, builtin) {\n    const internal = this.ctx.root[symbols.internal];\n    if (name in internal) return;\n    const key = Symbol(name);\n    internal[name] = { type: \"service\", builtin };\n    this.ctx.root[symbols.isolate][name] = key;\n    if (!isObject(value)) return;\n    this.ctx[symbols.store][key] = { value, source: null };\n    defineProperty2(value, symbols.tracker, {\n      associate: name,\n      property: \"ctx\"\n    });\n  }\n  _accessor(name, options) {\n    const internal = this.ctx.root[symbols.internal];\n    if (name in internal) return () => {\n    };\n    internal[name] = { type: \"accessor\", ...options };\n    return () => delete this.ctx.root[symbols.isolate][name];\n  }\n  accessor(name, options) {\n    this.ctx.scope.effect(() => {\n      return this._accessor(name, options);\n    });\n  }\n  alias(name, aliases) {\n    const internal = this.ctx.root[symbols.internal];\n    if (name in internal) return;\n    for (const key of aliases) {\n      internal[key] ||= { type: \"alias\", name };\n    }\n  }\n  _mixin(source, mixins) {\n    const entries = Array.isArray(mixins) ? mixins.map((key) => [key, key]) : Object.entries(mixins);\n    const getTarget = typeof source === \"string\" ? (ctx) => ctx[source] : () => source;\n    const disposables = entries.map(([key, value]) => {\n      return this._accessor(value, {\n        get(receiver) {\n          const service = getTarget(this);\n          if (isNullable(service)) return service;\n          const mixin = receiver ? withProps(receiver, service) : service;\n          const value2 = Reflect.get(service, key, mixin);\n          if (typeof value2 !== \"function\") return value2;\n          return value2.bind(mixin ?? service);\n        },\n        set(value2, receiver) {\n          const service = getTarget(this);\n          const mixin = receiver ? withProps(receiver, service) : service;\n          return Reflect.set(service, key, value2, mixin);\n        }\n      });\n    });\n    return () => disposables.forEach((dispose) => dispose());\n  }\n  mixin(source, mixins) {\n    this.ctx.scope.effect(() => {\n      return this._mixin(source, mixins);\n    });\n  }\n  trace(value) {\n    return getTraceable(this.ctx, value);\n  }\n  bind(callback) {\n    return new Proxy(callback, {\n      apply: /* @__PURE__ */ __name((target, thisArg, args) => {\n        return target.apply(this.trace(thisArg), args.map((arg) => this.trace(arg)));\n      }, \"apply\")\n    });\n  }\n};\nvar reflect_default = ReflectService;\n\n// src/events.ts\nfunction isBailed(value) {\n  return value !== null && value !== false && value !== void 0;\n}\n__name(isBailed, \"isBailed\");\nvar Lifecycle = class {\n  constructor(ctx) {\n    this.ctx = ctx;\n    defineProperty3(this, symbols.tracker, {\n      associate: \"lifecycle\",\n      property: \"ctx\"\n    });\n    defineProperty3(this.on(\"internal/listener\", function(name, listener, options) {\n      const method = options.prepend ? \"unshift\" : \"push\";\n      if (name === \"ready\") {\n        if (!this.lifecycle.isActive) return;\n        this.scope.ensure(async () => listener());\n        return () => false;\n      } else if (name === \"dispose\") {\n        this.scope.disposables[method](listener);\n        defineProperty3(listener, \"name\", \"event <dispose>\");\n        return () => remove(this.scope.disposables, listener);\n      } else if (name === \"fork\") {\n        this.scope.runtime.forkables[method](listener);\n        return this.scope.collect(\"event <fork>\", () => remove(this.scope.runtime.forkables, listener));\n      }\n    }), Context.static, ctx.scope);\n    for (const level of [\"info\", \"error\", \"warning\"]) {\n      defineProperty3(this.on(`internal/${level}`, (format, ...param) => {\n        if (this._hooks[`internal/${level}`].length > 1) return;\n        console.info(format, ...param);\n      }), Context.static, ctx.scope);\n    }\n    defineProperty3(this.on(\"internal/before-service\", function(name) {\n      for (const runtime of this.registry.values()) {\n        if (!runtime.inject[name]?.required) continue;\n        const scopes = runtime.isReusable ? runtime.children : [runtime];\n        for (const scope of scopes) {\n          if (!this[symbols.filter](scope.ctx)) continue;\n          scope.updateStatus();\n          scope.reset();\n        }\n      }\n    }, { global: true }), Context.static, ctx.scope);\n    defineProperty3(this.on(\"internal/service\", function(name) {\n      for (const runtime of this.registry.values()) {\n        if (!runtime.inject[name]?.required) continue;\n        const scopes = runtime.isReusable ? runtime.children : [runtime];\n        for (const scope of scopes) {\n          if (!this[symbols.filter](scope.ctx)) continue;\n          scope.start();\n        }\n      }\n    }, { global: true }), Context.static, ctx.scope);\n    const checkInject = /* @__PURE__ */ __name((scope, name) => {\n      if (!scope.runtime.plugin) return false;\n      for (const key in scope.runtime.inject) {\n        if (name === reflect_default.resolveInject(scope.ctx, key)[0]) return true;\n      }\n      return checkInject(scope.parent.scope, name);\n    }, \"checkInject\");\n    defineProperty3(this.on(\"internal/inject\", function(name) {\n      return checkInject(this.scope, name);\n    }, { global: true }), Context.static, ctx.scope);\n  }\n  static {\n    __name(this, \"Lifecycle\");\n  }\n  isActive = false;\n  _tasks = /* @__PURE__ */ new Set();\n  _hooks = {};\n  async flush() {\n    while (this._tasks.size) {\n      await Promise.all(Array.from(this._tasks));\n    }\n  }\n  filterHooks(hooks, thisArg) {\n    thisArg = getTraceable(this.ctx, thisArg);\n    return hooks.slice().filter((hook) => {\n      const filter = thisArg?.[Context.filter];\n      return hook.global || !filter || filter.call(thisArg, hook.ctx);\n    });\n  }\n  *dispatch(type, args) {\n    const thisArg = typeof args[0] === \"object\" || typeof args[0] === \"function\" ? args.shift() : null;\n    const name = args.shift();\n    if (name !== \"internal/event\") {\n      this.emit(\"internal/event\", type, name, args, thisArg);\n    }\n    for (const hook of this.filterHooks(this._hooks[name] || [], thisArg)) {\n      yield hook.callback.apply(thisArg, args);\n    }\n  }\n  async parallel(...args) {\n    await Promise.all(this.dispatch(\"emit\", args));\n  }\n  emit(...args) {\n    Array.from(this.dispatch(\"emit\", args));\n  }\n  async serial(...args) {\n    for await (const result of this.dispatch(\"serial\", args)) {\n      if (isBailed(result)) return result;\n    }\n  }\n  bail(...args) {\n    for (const result of this.dispatch(\"bail\", args)) {\n      if (isBailed(result)) return result;\n    }\n  }\n  register(label, hooks, callback, options) {\n    const method = options.prepend ? \"unshift\" : \"push\";\n    hooks[method]({ ctx: this.ctx, callback, ...options });\n    return this.ctx.state.collect(label, () => this.unregister(hooks, callback));\n  }\n  unregister(hooks, callback) {\n    const index = hooks.findIndex((hook) => hook.callback === callback);\n    if (index >= 0) {\n      hooks.splice(index, 1);\n      return true;\n    }\n  }\n  on(name, listener, options) {\n    if (typeof options !== \"object\") {\n      options = { prepend: options };\n    }\n    this.ctx.scope.assertActive();\n    listener = this.ctx.reflect.bind(listener);\n    const result = this.bail(this.ctx, \"internal/listener\", name, listener, options);\n    if (result) return result;\n    const hooks = this._hooks[name] ||= [];\n    const label = typeof name === \"string\" ? `event <${name}>` : \"event (Symbol)\";\n    return this.register(label, hooks, listener, options);\n  }\n  once(name, listener, options) {\n    const dispose = this.on(name, function(...args) {\n      dispose();\n      return listener.apply(this, args);\n    }, options);\n    return dispose;\n  }\n  async start() {\n    this.isActive = true;\n    const hooks = this._hooks.ready || [];\n    while (hooks.length) {\n      const { ctx, callback } = hooks.shift();\n      ctx.scope.ensure(async () => callback());\n    }\n    await this.flush();\n  }\n  async stop() {\n    this.isActive = false;\n    this.ctx.scope.reset();\n  }\n};\nvar events_default = Lifecycle;\n\n// src/registry.ts\nimport { defineProperty as defineProperty5 } from \"cosmokit\";\n\n// src/scope.ts\nimport { deepEqual, defineProperty as defineProperty4, isNullable as isNullable2, remove as remove2 } from \"cosmokit\";\nvar ScopeStatus = /* @__PURE__ */ ((ScopeStatus2) => {\n  ScopeStatus2[ScopeStatus2[\"PENDING\"] = 0] = \"PENDING\";\n  ScopeStatus2[ScopeStatus2[\"LOADING\"] = 1] = \"LOADING\";\n  ScopeStatus2[ScopeStatus2[\"ACTIVE\"] = 2] = \"ACTIVE\";\n  ScopeStatus2[ScopeStatus2[\"FAILED\"] = 3] = \"FAILED\";\n  ScopeStatus2[ScopeStatus2[\"DISPOSED\"] = 4] = \"DISPOSED\";\n  return ScopeStatus2;\n})(ScopeStatus || {});\nvar CordisError = class _CordisError extends Error {\n  constructor(code, message) {\n    super(message ?? _CordisError.Code[code]);\n    this.code = code;\n  }\n  static {\n    __name(this, \"CordisError\");\n  }\n};\n((CordisError2) => {\n  CordisError2.Code = {\n    INACTIVE_EFFECT: \"cannot create effect on inactive context\"\n  };\n})(CordisError || (CordisError = {}));\nvar EffectScope = class {\n  constructor(parent, config) {\n    this.parent = parent;\n    this.config = config;\n    this.uid = parent.registry ? parent.registry.counter : 0;\n    this.ctx = this.context = parent.extend({ scope: this });\n    this.proxy = new Proxy({}, {\n      get: /* @__PURE__ */ __name((target, key) => Reflect.get(this.config, key), \"get\")\n    });\n  }\n  static {\n    __name(this, \"EffectScope\");\n  }\n  uid;\n  ctx;\n  disposables = [];\n  error;\n  status = 0 /* PENDING */;\n  isActive = false;\n  // Same as `this.ctx`, but with a more specific type.\n  context;\n  proxy;\n  acceptors = [];\n  tasks = /* @__PURE__ */ new Set();\n  hasError = false;\n  get _config() {\n    return this.runtime.isReactive ? this.proxy : this.config;\n  }\n  assertActive() {\n    if (this.uid !== null || this.isActive) return;\n    throw new CordisError(\"INACTIVE_EFFECT\");\n  }\n  effect(callback, config) {\n    this.assertActive();\n    const result = isConstructor(callback) ? new callback(this.ctx, config) : callback(this.ctx, config);\n    let disposed = false;\n    const original = typeof result === \"function\" ? result : result.dispose.bind(result);\n    const wrapped = /* @__PURE__ */ __name((...args) => {\n      if (disposed) return;\n      disposed = true;\n      remove2(this.disposables, wrapped);\n      return original(...args);\n    }, \"wrapped\");\n    this.disposables.push(wrapped);\n    if (typeof result === \"function\") return wrapped;\n    result.dispose = wrapped;\n    return result;\n  }\n  collect(label, callback) {\n    const dispose = defineProperty4(() => {\n      remove2(this.disposables, dispose);\n      return callback();\n    }, \"name\", label);\n    this.disposables.push(dispose);\n    return dispose;\n  }\n  restart() {\n    this.reset();\n    this.error = null;\n    this.hasError = false;\n    this.status = 0 /* PENDING */;\n    this.start();\n  }\n  _getStatus() {\n    if (this.uid === null) return 4 /* DISPOSED */;\n    if (this.hasError) return 3 /* FAILED */;\n    if (this.tasks.size) return 1 /* LOADING */;\n    if (this.ready) return 2 /* ACTIVE */;\n    return 0 /* PENDING */;\n  }\n  updateStatus(callback) {\n    const oldValue = this.status;\n    callback?.();\n    this.status = this._getStatus();\n    if (oldValue !== this.status) {\n      this.context.emit(\"internal/status\", this, oldValue);\n    }\n  }\n  ensure(callback) {\n    const task = callback().catch((reason) => {\n      this.context.emit(this.ctx, \"internal/error\", reason);\n      this.cancel(reason);\n    }).finally(() => {\n      this.updateStatus(() => this.tasks.delete(task));\n      this.context.events._tasks.delete(task);\n    });\n    this.updateStatus(() => this.tasks.add(task));\n    this.context.events._tasks.add(task);\n  }\n  cancel(reason) {\n    this.error = reason;\n    this.updateStatus(() => this.hasError = true);\n    this.reset();\n  }\n  get ready() {\n    return Object.entries(this.runtime.inject).every(([name, inject]) => {\n      return !inject.required || !isNullable2(this.ctx.get(name));\n    });\n  }\n  reset() {\n    this.isActive = false;\n    this.disposables = this.disposables.splice(0).filter((dispose) => {\n      if (this.uid !== null && dispose[Context.static] === this) return true;\n      (async () => dispose())().catch((reason) => {\n        this.context.emit(this.ctx, \"internal/error\", reason);\n      });\n    });\n  }\n  init(error) {\n    if (!this.config) {\n      this.cancel(error);\n    } else {\n      this.start();\n    }\n  }\n  start() {\n    if (!this.ready || this.isActive || this.uid === null) return true;\n    this.isActive = true;\n    this.updateStatus(() => this.hasError = false);\n  }\n  accept(...args) {\n    const keys = Array.isArray(args[0]) ? args.shift() : null;\n    const acceptor = { keys, callback: args[0], ...args[1] };\n    return this.effect(() => {\n      this.acceptors.push(acceptor);\n      if (acceptor.immediate) acceptor.callback?.(this.config);\n      return () => remove2(this.acceptors, acceptor);\n    });\n  }\n  decline(keys) {\n    return this.accept(keys, () => true);\n  }\n  checkUpdate(resolved, forced) {\n    if (forced || !this.config) return [true, true];\n    if (forced === false) return [false, false];\n    const modified = /* @__PURE__ */ Object.create(null);\n    const checkPropertyUpdate = /* @__PURE__ */ __name((key) => {\n      const result = modified[key] ??= !deepEqual(this.config[key], resolved[key]);\n      hasUpdate ||= result;\n      return result;\n    }, \"checkPropertyUpdate\");\n    const ignored = /* @__PURE__ */ new Set();\n    let hasUpdate = false, shouldRestart = false;\n    let fallback = this.runtime.isReactive || null;\n    for (const { keys, callback, passive } of this.acceptors) {\n      if (!keys) {\n        fallback ||= !passive;\n      } else if (passive) {\n        keys?.forEach((key) => ignored.add(key));\n      } else {\n        let hasUpdate2 = false;\n        for (const key of keys) {\n          hasUpdate2 ||= checkPropertyUpdate(key);\n        }\n        if (!hasUpdate2) continue;\n      }\n      const result = callback?.(resolved);\n      if (result) shouldRestart = true;\n    }\n    for (const key in { ...this.config, ...resolved }) {\n      if (fallback === false) continue;\n      if (!(key in modified) && !ignored.has(key)) {\n        const hasUpdate2 = checkPropertyUpdate(key);\n        if (fallback === null) shouldRestart ||= hasUpdate2;\n      }\n    }\n    return [hasUpdate, shouldRestart];\n  }\n};\nvar ForkScope = class extends EffectScope {\n  constructor(parent, runtime, config, error) {\n    super(parent, config);\n    this.runtime = runtime;\n    this.dispose = defineProperty4(parent.scope.collect(`fork <${parent.runtime.name}>`, () => {\n      this.uid = null;\n      this.reset();\n      this.context.emit(\"internal/fork\", this);\n      const result = remove2(runtime.disposables, this.dispose);\n      if (remove2(runtime.children, this) && !runtime.children.length) {\n        parent.registry.delete(runtime.plugin);\n      }\n      return result;\n    }), Context.static, runtime);\n    runtime.children.push(this);\n    runtime.disposables.push(this.dispose);\n    this.context.emit(\"internal/fork\", this);\n    this.init(error);\n  }\n  static {\n    __name(this, \"ForkScope\");\n  }\n  dispose;\n  start() {\n    if (super.start()) return true;\n    for (const fork of this.runtime.forkables) {\n      this.ensure(async () => fork(this.context, this._config));\n    }\n  }\n  update(config, forced) {\n    const oldConfig = this.config;\n    const state = this.runtime.isForkable ? this : this.runtime;\n    if (state.config !== oldConfig) return;\n    let resolved;\n    try {\n      resolved = resolveConfig(this.runtime.plugin, config);\n    } catch (error) {\n      this.context.emit(\"internal/error\", error);\n      return this.cancel(error);\n    }\n    const [hasUpdate, shouldRestart] = state.checkUpdate(resolved, forced);\n    this.context.emit(\"internal/before-update\", this, config);\n    this.config = resolved;\n    state.config = resolved;\n    if (hasUpdate) {\n      this.context.emit(\"internal/update\", this, oldConfig);\n    }\n    if (shouldRestart) state.restart();\n  }\n};\nvar MainScope = class extends EffectScope {\n  constructor(ctx, plugin, config, error) {\n    super(ctx, config);\n    this.plugin = plugin;\n    if (!plugin) {\n      this.name = \"root\";\n      this.isActive = true;\n    } else {\n      this.setup();\n      this.init(error);\n    }\n  }\n  static {\n    __name(this, \"MainScope\");\n  }\n  value;\n  runtime = this;\n  schema;\n  name;\n  inject = /* @__PURE__ */ Object.create(null);\n  forkables = [];\n  children = [];\n  isReusable = false;\n  isReactive = false;\n  get isForkable() {\n    return this.forkables.length > 0;\n  }\n  fork(parent, config, error) {\n    return new ForkScope(parent, this, config, error);\n  }\n  dispose() {\n    this.uid = null;\n    this.reset();\n    this.context.emit(\"internal/runtime\", this);\n    return true;\n  }\n  setup() {\n    const { name } = this.plugin;\n    if (name && name !== \"apply\") this.name = name;\n    this.schema = this.plugin[\"Config\"] || this.plugin[\"schema\"];\n    this.inject = Inject.resolve(this.plugin[\"using\"] || this.plugin[\"inject\"]);\n    this.isReusable = this.plugin[\"reusable\"];\n    this.isReactive = this.plugin[\"reactive\"];\n    this.context.emit(\"internal/runtime\", this);\n    if (this.isReusable) {\n      this.forkables.push(this.apply);\n    }\n  }\n  apply = /* @__PURE__ */ __name((context, config) => {\n    if (typeof this.plugin !== \"function\") {\n      return this.plugin.apply(context, config);\n    } else if (isConstructor(this.plugin)) {\n      const instance = new this.plugin(context, config);\n      const name = instance[Context.expose];\n      if (name) {\n        context.set(name, instance);\n      }\n      if (instance[\"fork\"]) {\n        this.forkables.push(instance[\"fork\"].bind(instance));\n      }\n      return instance;\n    } else {\n      return this.plugin(context, config);\n    }\n  }, \"apply\");\n  reset() {\n    super.reset();\n    for (const fork of this.children) {\n      fork.reset();\n    }\n  }\n  start() {\n    if (super.start()) return true;\n    if (!this.isReusable && this.plugin) {\n      this.ensure(async () => this.value = this.apply(this.ctx, this._config));\n    }\n    for (const fork of this.children) {\n      fork.start();\n    }\n  }\n  update(config, forced) {\n    if (this.isForkable) {\n      const warning = new Error(`attempting to update forkable plugin \"${this.plugin.name}\", which may lead to unexpected behavior`);\n      this.context.emit(this.ctx, \"internal/warning\", warning);\n    }\n    const oldConfig = this.config;\n    let resolved;\n    try {\n      resolved = resolveConfig(this.runtime.plugin || this.context.constructor, config);\n    } catch (error) {\n      this.context.emit(\"internal/error\", error);\n      return this.cancel(error);\n    }\n    const [hasUpdate, shouldRestart] = this.checkUpdate(resolved, forced);\n    const state = this.children.find((fork) => fork.config === oldConfig);\n    this.config = resolved;\n    if (state) {\n      this.context.emit(\"internal/before-update\", state, config);\n      state.config = resolved;\n      if (hasUpdate) {\n        this.context.emit(\"internal/update\", state, oldConfig);\n      }\n    }\n    if (shouldRestart) this.restart();\n  }\n};\n\n// src/registry.ts\nfunction isApplicable(object) {\n  return object && typeof object === \"object\" && typeof object.apply === \"function\";\n}\n__name(isApplicable, \"isApplicable\");\nfunction Inject(inject) {\n  return function(value, ctx) {\n    if (ctx.kind === \"class\") {\n      value.inject = inject;\n    } else if (ctx.kind === \"method\") {\n      ctx.addInitializer(function() {\n        const property = this[symbols.tracker]?.property;\n        if (!property) throw new Error(\"missing context tracker\");\n        this[property].inject(inject, (ctx2) => {\n          value.call(withProps(this, { [property]: ctx2 }));\n        });\n      });\n    } else {\n      throw new Error(\"@Inject can only be used on class or class methods\");\n    }\n  };\n}\n__name(Inject, \"Inject\");\n((Inject2) => {\n  function resolve(inject) {\n    if (!inject) return {};\n    if (Array.isArray(inject)) {\n      return Object.fromEntries(inject.map((name) => [name, { required: true }]));\n    }\n    const { required, optional, ...rest } = inject;\n    if (Array.isArray(required)) {\n      Object.assign(rest, Object.fromEntries(required.map((name) => [name, { required: true }])));\n    }\n    if (Array.isArray(optional)) {\n      Object.assign(rest, Object.fromEntries(optional.map((name) => [name, { required: false }])));\n    }\n    return rest;\n  }\n  Inject2.resolve = resolve;\n  __name(resolve, \"resolve\");\n})(Inject || (Inject = {}));\nvar Registry = class {\n  constructor(ctx, config) {\n    this.ctx = ctx;\n    defineProperty5(this, symbols.tracker, {\n      associate: \"registry\",\n      property: \"ctx\"\n    });\n    this.context = ctx;\n    const runtime = new MainScope(ctx, null, config);\n    ctx.scope = runtime;\n    runtime.ctx = ctx;\n    this.set(null, runtime);\n  }\n  static {\n    __name(this, \"Registry\");\n  }\n  _counter = 0;\n  _internal = /* @__PURE__ */ new Map();\n  context;\n  get counter() {\n    return ++this._counter;\n  }\n  get size() {\n    return this._internal.size;\n  }\n  resolve(plugin, assert = false) {\n    if (plugin === null) return plugin;\n    if (typeof plugin === \"function\") return plugin;\n    if (isApplicable(plugin)) return plugin.apply;\n    if (assert) throw new Error('invalid plugin, expect function or object with an \"apply\" method, received ' + typeof plugin);\n  }\n  get(plugin) {\n    const key = this.resolve(plugin);\n    return key && this._internal.get(key);\n  }\n  has(plugin) {\n    const key = this.resolve(plugin);\n    return !!key && this._internal.has(key);\n  }\n  set(plugin, state) {\n    const key = this.resolve(plugin);\n    this._internal.set(key, state);\n  }\n  delete(plugin) {\n    const key = this.resolve(plugin);\n    const runtime = key && this._internal.get(key);\n    if (!runtime) return;\n    this._internal.delete(key);\n    runtime.dispose();\n    return runtime;\n  }\n  keys() {\n    return this._internal.keys();\n  }\n  values() {\n    return this._internal.values();\n  }\n  entries() {\n    return this._internal.entries();\n  }\n  forEach(callback) {\n    return this._internal.forEach(callback);\n  }\n  using(inject, callback) {\n    return this.inject(inject, callback);\n  }\n  inject(inject, callback) {\n    return this.plugin({ inject, apply: callback, name: callback.name });\n  }\n  plugin(plugin, config, error) {\n    this.resolve(plugin, true);\n    this.ctx.scope.assertActive();\n    if (!error) {\n      try {\n        config = resolveConfig(plugin, config);\n      } catch (reason) {\n        this.context.emit(this.ctx, \"internal/error\", reason);\n        error = reason;\n        config = null;\n      }\n    }\n    let runtime = this.get(plugin);\n    if (runtime) {\n      if (!runtime.isForkable) {\n        this.context.emit(this.ctx, \"internal/warning\", new Error(`duplicate plugin detected: ${plugin.name}`));\n      }\n      return runtime.fork(this.ctx, config, error);\n    }\n    runtime = new MainScope(this.ctx, plugin, config, error);\n    this.set(plugin, runtime);\n    return runtime.fork(this.ctx, config, error);\n  }\n};\nvar registry_default = Registry;\n\n// src/context.ts\nvar Context = class _Context {\n  static {\n    __name(this, \"Context\");\n  }\n  static store = symbols.store;\n  static events = symbols.events;\n  static static = symbols.static;\n  static filter = symbols.filter;\n  static expose = symbols.expose;\n  static isolate = symbols.isolate;\n  static internal = symbols.internal;\n  static intercept = symbols.intercept;\n  static origin = \"ctx\";\n  static current = \"ctx\";\n  static is(value) {\n    return !!value?.[_Context.is];\n  }\n  static {\n    _Context.is[Symbol.toPrimitive] = () => Symbol.for(\"cordis.is\");\n    _Context.prototype[_Context.is] = true;\n  }\n  /** @deprecated use `Service.traceable` instead */\n  static associate(object, name) {\n    return object;\n  }\n  constructor(config) {\n    config = resolveConfig(this.constructor, config);\n    this[symbols.store] = /* @__PURE__ */ Object.create(null);\n    this[symbols.isolate] = /* @__PURE__ */ Object.create(null);\n    this[symbols.internal] = /* @__PURE__ */ Object.create(null);\n    this[symbols.intercept] = /* @__PURE__ */ Object.create(null);\n    const self = new Proxy(this, reflect_default.handler);\n    self.root = self;\n    self.reflect = new reflect_default(self);\n    self.registry = new registry_default(self, config);\n    self.lifecycle = new events_default(self);\n    const attach = /* @__PURE__ */ __name((internal) => {\n      if (!internal) return;\n      attach(Object.getPrototypeOf(internal));\n      for (const key of Object.getOwnPropertyNames(internal)) {\n        const constructor = internal[key][\"prototype\"]?.constructor;\n        if (!constructor) continue;\n        self[internal[key][\"key\"]] = new constructor(self, config);\n        defineProperty6(self[internal[key][\"key\"]], \"ctx\", self);\n      }\n    }, \"attach\");\n    attach(this[symbols.internal]);\n    return self;\n  }\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    return `Context <${this.name}>`;\n  }\n  get name() {\n    let runtime = this.runtime;\n    while (runtime && !runtime.name) {\n      runtime = runtime.parent.runtime;\n    }\n    return runtime?.name;\n  }\n  get events() {\n    return this.lifecycle;\n  }\n  /** @deprecated */\n  get state() {\n    return this.scope;\n  }\n  extend(meta = {}) {\n    const source = Reflect.getOwnPropertyDescriptor(this, symbols.shadow)?.value;\n    const self = Object.assign(Object.create(getTraceable(this, this)), meta);\n    if (!source) return self;\n    return Object.assign(Object.create(self), { [symbols.shadow]: source });\n  }\n  isolate(name, label) {\n    const shadow = Object.create(this[symbols.isolate]);\n    shadow[name] = label ?? Symbol(name);\n    return this.extend({ [symbols.isolate]: shadow });\n  }\n  intercept(name, config) {\n    const intercept = Object.create(this[symbols.intercept]);\n    intercept[name] = config;\n    return this.extend({ [symbols.intercept]: intercept });\n  }\n};\nContext.prototype[Context.internal] = /* @__PURE__ */ Object.create(null);\n\n// src/service.ts\nimport { defineProperty as defineProperty7 } from \"cosmokit\";\nvar Service = class _Service {\n  static {\n    __name(this, \"Service\");\n  }\n  static setup = symbols.setup;\n  static invoke = symbols.invoke;\n  static extend = symbols.extend;\n  static tracker = symbols.tracker;\n  static provide = symbols.provide;\n  static immediate = symbols.immediate;\n  start() {\n  }\n  stop() {\n  }\n  ctx;\n  name;\n  config;\n  constructor(...args) {\n    let _ctx, name, immediate, config;\n    if (Context.is(args[0])) {\n      _ctx = args[0];\n      if (typeof args[1] === \"string\") {\n        name = args[1];\n        immediate = args[2];\n      } else {\n        config = args[1];\n      }\n    } else {\n      config = args[0];\n    }\n    name ??= this.constructor[symbols.provide];\n    immediate ??= this.constructor[symbols.immediate];\n    let self = this;\n    const tracker = {\n      associate: name,\n      property: \"ctx\"\n    };\n    if (self[symbols.invoke]) {\n      self = createCallable(name, joinPrototype(Object.getPrototypeOf(this), Function.prototype), tracker);\n    }\n    if (_ctx) {\n      self.ctx = _ctx;\n    } else {\n      self[symbols.setup]();\n    }\n    self.name = name;\n    self.config = config;\n    defineProperty7(self, symbols.tracker, tracker);\n    self.ctx.provide(name);\n    self.ctx.runtime.name = name;\n    if (immediate) {\n      if (_ctx) self[symbols.expose] = name;\n      else self.ctx.set(name, self);\n    }\n    self.ctx.on(\"ready\", async () => {\n      await Promise.resolve();\n      await self.start();\n      if (!immediate) self.ctx.set(name, self);\n    });\n    self.ctx.on(\"dispose\", () => self.stop());\n    return self;\n  }\n  [symbols.filter](ctx) {\n    return ctx[symbols.isolate][this.name] === this.ctx[symbols.isolate][this.name];\n  }\n  [symbols.setup]() {\n    this.ctx = new Context();\n  }\n  [symbols.extend](props) {\n    let self;\n    if (this[_Service.invoke]) {\n      self = createCallable(this.name, this, this[symbols.tracker]);\n    } else {\n      self = Object.create(this);\n    }\n    return Object.assign(self, props);\n  }\n  static [Symbol.hasInstance](instance) {\n    let constructor = instance.constructor;\n    while (constructor) {\n      constructor = constructor.prototype?.constructor;\n      if (constructor === this) return true;\n      constructor = Object.getPrototypeOf(constructor);\n    }\n    return false;\n  }\n};\nexport {\n  Context,\n  CordisError,\n  EffectScope,\n  ForkScope,\n  Inject,\n  events_default as Lifecycle,\n  MainScope,\n  reflect_default as ReflectService,\n  registry_default as Registry,\n  ScopeStatus,\n  Service,\n  createCallable,\n  getTraceable,\n  isBailed,\n  isConstructor,\n  isObject,\n  isUnproxyable,\n  joinPrototype,\n  resolveConfig,\n  symbols,\n  withProps\n};\n//# sourceMappingURL=index.mjs.map\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","export default {}","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\n\n// src/shared.ts\nimport { stdout } from \"supports-color\";\nimport { Time } from \"cosmokit\";\nvar require_shared = __commonJS({\n  \"src/shared.ts\"(exports, module) {\n    \"use strict\";\n    var c16 = [6, 2, 3, 4, 5, 1];\n    var c256 = [\n      20,\n      21,\n      26,\n      27,\n      32,\n      33,\n      38,\n      39,\n      40,\n      41,\n      42,\n      43,\n      44,\n      45,\n      56,\n      57,\n      62,\n      63,\n      68,\n      69,\n      74,\n      75,\n      76,\n      77,\n      78,\n      79,\n      80,\n      81,\n      92,\n      93,\n      98,\n      99,\n      112,\n      113,\n      129,\n      134,\n      135,\n      148,\n      149,\n      160,\n      161,\n      162,\n      163,\n      164,\n      165,\n      166,\n      167,\n      168,\n      169,\n      170,\n      171,\n      172,\n      173,\n      178,\n      179,\n      184,\n      185,\n      196,\n      197,\n      198,\n      199,\n      200,\n      201,\n      202,\n      203,\n      204,\n      205,\n      206,\n      207,\n      208,\n      209,\n      214,\n      215,\n      220,\n      221\n    ];\n    function isAggregateError(error) {\n      return error instanceof Error && Array.isArray(error[\"errors\"]);\n    }\n    __name(isAggregateError, \"isAggregateError\");\n    var Logger = class _Logger {\n      constructor(name, meta) {\n        this.name = name;\n        this.meta = meta;\n        this.createMethod(\"success\", _Logger.SUCCESS);\n        this.createMethod(\"error\", _Logger.ERROR);\n        this.createMethod(\"info\", _Logger.INFO);\n        this.createMethod(\"warn\", _Logger.WARN);\n        this.createMethod(\"debug\", _Logger.DEBUG);\n      }\n      static {\n        __name(this, \"Logger\");\n      }\n      // log levels\n      static SILENT = 0;\n      static SUCCESS = 1;\n      static ERROR = 1;\n      static INFO = 2;\n      static WARN = 2;\n      static DEBUG = 3;\n      // global config\n      static id = 0;\n      static targets = [{\n        colors: stdout && stdout.level,\n        print(text) {\n          console.log(text);\n        }\n      }];\n      // global registry\n      static formatters = /* @__PURE__ */ Object.create(null);\n      static format(name, formatter) {\n        this.formatters[name] = formatter;\n      }\n      static levels = {\n        base: 2\n      };\n      static color(target, code, value, decoration = \"\") {\n        if (!target.colors) return \"\" + value;\n        return `\\x1B[3${code < 8 ? code : \"8;5;\" + code}${target.colors >= 2 ? decoration : \"\"}m${value}\\x1B[0m`;\n      }\n      static code(name, target) {\n        let hash = 0;\n        for (let i = 0; i < name.length; i++) {\n          hash = (hash << 3) - hash + name.charCodeAt(i) + 13;\n          hash |= 0;\n        }\n        const colors = !target.colors ? [] : target.colors >= 2 ? c256 : c16;\n        return colors[Math.abs(hash) % colors.length];\n      }\n      static render(target, record) {\n        const prefix = `[${record.type[0].toUpperCase()}]`;\n        const space = \" \".repeat(target.label?.margin ?? 1);\n        let indent = 3 + space.length, output = \"\";\n        if (target.showTime) {\n          indent += target.showTime.length + space.length;\n          output += _Logger.color(target, 8, Time.template(target.showTime)) + space;\n        }\n        const code = _Logger.code(record.name, target);\n        const label = _Logger.color(target, code, record.name, \";1\");\n        const padLength = (target.label?.width ?? 0) + label.length - record.name.length;\n        if (target.label?.align === \"right\") {\n          output += label.padStart(padLength) + space + prefix + space;\n          indent += (target.label.width ?? 0) + space.length;\n        } else {\n          output += prefix + space + label.padEnd(padLength) + space;\n        }\n        output += record.content.replace(/\\n/g, \"\\n\" + \" \".repeat(indent));\n        if (target.showDiff && target.timestamp) {\n          const diff = record.timestamp - target.timestamp;\n          output += _Logger.color(target, code, \" +\" + Time.format(diff));\n        }\n        return output;\n      }\n      extend = /* @__PURE__ */ __name((namespace) => {\n        return new _Logger(`${this.name}:${namespace}`, this.meta);\n      }, \"extend\");\n      warning = /* @__PURE__ */ __name((format, ...args) => {\n        this.warn(format, ...args);\n      }, \"warning\");\n      createMethod(type, level) {\n        this[type] = (...args) => {\n          if (args.length === 1 && args[0] instanceof Error) {\n            if (args[0].cause) {\n              this[type](args[0].cause);\n            } else if (isAggregateError(args[0])) {\n              args[0].errors.forEach((error) => this[type](error));\n              return;\n            }\n          }\n          const id = ++_Logger.id;\n          const timestamp = Date.now();\n          for (const target of _Logger.targets) {\n            if (this.getLevel(target) < level) continue;\n            const content = this.format(target, ...args);\n            const record = { id, type, level, name: this.name, meta: this.meta, content, timestamp };\n            if (target.record) {\n              target.record(record);\n            } else {\n              const { print = console.log } = target;\n              print(_Logger.render(target, record));\n            }\n            target.timestamp = timestamp;\n          }\n        };\n      }\n      format(target, ...args) {\n        if (args[0] instanceof Error) {\n          args[0] = args[0].stack || args[0].message;\n          args.unshift(\"%s\");\n        } else if (typeof args[0] !== \"string\") {\n          args.unshift(\"%o\");\n        }\n        let format = args.shift();\n        format = format.replace(/%([a-zA-Z%])/g, (match, char) => {\n          if (match === \"%%\") return \"%\";\n          const formatter = _Logger.formatters[char];\n          if (typeof formatter === \"function\") {\n            const value = args.shift();\n            return formatter(value, target, this);\n          }\n          return match;\n        });\n        for (let arg of args) {\n          if (typeof arg === \"object\" && arg) {\n            arg = _Logger.formatters[\"o\"](arg, target, this);\n          }\n          format += \" \" + arg;\n        }\n        const { maxLength = 10240 } = target;\n        return format.split(/\\r?\\n/g).map((line) => {\n          return line.slice(0, maxLength) + (line.length > maxLength ? \"...\" : \"\");\n        }).join(\"\\n\");\n      }\n      getLevel(target) {\n        const paths = this.name.split(\":\");\n        let config = target?.levels || _Logger.levels;\n        do {\n          config = config[paths.shift()] ?? config[\"base\"];\n        } while (paths.length && typeof config === \"object\");\n        return config;\n      }\n      get level() {\n        return this.getLevel();\n      }\n      set level(value) {\n        const paths = this.name.split(\":\");\n        let config = _Logger.levels;\n        while (paths.length > 1) {\n          const name = paths.shift();\n          const value2 = config[name];\n          if (typeof value2 === \"object\") {\n            config = value2;\n          } else {\n            config = config[name] = { base: value2 ?? config.base };\n          }\n        }\n        config[paths[0]] = value;\n      }\n    };\n    Logger.format(\"s\", (value) => value);\n    Logger.format(\"d\", (value) => +value);\n    Logger.format(\"j\", (value) => JSON.stringify(value));\n    Logger.format(\"c\", (value, target, logger) => {\n      return Logger.color(target, Logger.code(logger.name, target), value);\n    });\n    Logger.format(\"C\", (value, target) => {\n      return Logger.color(target, 15, value, \";1\");\n    });\n    module.exports = Logger;\n  }\n});\n\n// src/browser.ts\nimport inspect from \"object-inspect\";\nvar require_browser = __commonJS({\n  \"src/browser.ts\"(exports, module) {\n    var import_shared = __toESM(require_shared());\n    import_shared.default.format(\"o\", (value, target) => {\n      return inspect(value, { depth: Infinity }).replace(/\\s*\\n\\s*/g, \" \");\n    });\n    module.exports = import_shared.default;\n  }\n});\nexport default require_browser();\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport { Service } from \"@cordisjs/core\";\nimport { defineProperty } from \"cosmokit\";\nimport Logger from \"reggol\";\nvar LoggerService = class _LoggerService extends Service {\n  static {\n    __name(this, \"LoggerService\");\n  }\n  constructor(ctx) {\n    super(ctx, \"logger\", true);\n    ctx.on(\"internal/info\", function(format, ...args) {\n      this.logger(\"app\").info(format, ...args);\n    });\n    ctx.on(\"internal/error\", function(format, ...args) {\n      this.logger(\"app\").error(format, ...args);\n    });\n    ctx.on(\"internal/warning\", function(format, ...args) {\n      this.logger(\"app\").warn(format, ...args);\n    });\n  }\n  [Service.invoke](name) {\n    return new Logger(name, defineProperty({}, \"ctx\", this.ctx));\n  }\n  static {\n    for (const type of [\"success\", \"error\", \"info\", \"warn\", \"debug\", \"extend\"]) {\n      _LoggerService.prototype[type] = function(...args) {\n        return this(this.ctx.name)[type](...args);\n      };\n    }\n  }\n};\nvar src_default = LoggerService;\nexport {\n  Logger,\n  LoggerService,\n  src_default as default\n};\n//# sourceMappingURL=index.mjs.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\n\n// src/index.ts\nimport { Binary, clone, deepEqual, filterKeys, isNullable, isPlainObject, pick, valueMap } from \"cosmokit\";\nvar require_src = __commonJS({\n  \"src/index.ts\"(exports, module) {\n    var kSchema = Symbol.for(\"schemastery\");\n    var kValidationError = Symbol.for(\"ValidationError\");\n    globalThis.__schemastery_index__ ??= 0;\n    var ValidationError = class extends TypeError {\n      constructor(message, options) {\n        let prefix = \"$\";\n        for (const segment of options.path || []) {\n          if (typeof segment === \"string\") {\n            prefix += \".\" + segment;\n          } else if (typeof segment === \"number\") {\n            prefix += \"[\" + segment + \"]\";\n          } else if (typeof segment === \"symbol\") {\n            prefix += `[Symbol(${segment.toString()})]`;\n          }\n        }\n        if (prefix.startsWith(\".\")) prefix = prefix.slice(1);\n        super((prefix === \"$\" ? \"\" : `${prefix} `) + message);\n        this.options = options;\n      }\n      static {\n        __name(this, \"ValidationError\");\n      }\n      name = \"ValidationError\";\n      static is(error) {\n        return !!error?.[kValidationError];\n      }\n    };\n    Object.defineProperty(ValidationError.prototype, kValidationError, {\n      value: true\n    });\n    var Schema = /* @__PURE__ */ __name(function(options) {\n      const schema = /* @__PURE__ */ __name(function(data, options2 = {}) {\n        return Schema.resolve(data, schema, options2)[0];\n      }, \"schema\");\n      if (options.refs) {\n        const refs2 = valueMap(options.refs, (options2) => new Schema(options2));\n        const getRef = /* @__PURE__ */ __name((uid) => refs2[uid], \"getRef\");\n        for (const key in refs2) {\n          const options2 = refs2[key];\n          options2.sKey = getRef(options2.sKey);\n          options2.inner = getRef(options2.inner);\n          options2.list = options2.list && options2.list.map(getRef);\n          options2.dict = options2.dict && valueMap(options2.dict, getRef);\n        }\n        return refs2[options.uid];\n      }\n      Object.assign(schema, options);\n      if (typeof schema.callback === \"string\") {\n        try {\n          schema.callback = new Function(\"return \" + schema.callback)();\n        } catch {\n        }\n      }\n      Object.defineProperty(schema, \"uid\", { value: globalThis.__schemastery_index__++ });\n      Object.setPrototypeOf(schema, Schema.prototype);\n      schema.meta ||= {};\n      schema.toString = schema.toString.bind(schema);\n      return schema;\n    }, \"Schema\");\n    Schema.prototype = Object.create(Function.prototype);\n    Schema.prototype[kSchema] = true;\n    Schema.ValidationError = ValidationError;\n    var refs;\n    Schema.prototype.toJSON = /* @__PURE__ */ __name(function toJSON() {\n      if (refs) {\n        refs[this.uid] ??= JSON.parse(JSON.stringify({ ...this }));\n        return this.uid;\n      }\n      refs = { [this.uid]: { ...this } };\n      refs[this.uid] = JSON.parse(JSON.stringify({ ...this }));\n      const result = { uid: this.uid, refs };\n      refs = void 0;\n      return result;\n    }, \"toJSON\");\n    Schema.prototype.set = /* @__PURE__ */ __name(function set(key, value) {\n      this.dict[key] = value;\n      return this;\n    }, \"set\");\n    Schema.prototype.push = /* @__PURE__ */ __name(function push(value) {\n      this.list.push(value);\n      return this;\n    }, \"push\");\n    function mergeDesc(original, messages) {\n      const result = typeof original === \"string\" ? { \"\": original } : { ...original };\n      for (const locale in messages) {\n        const value = messages[locale];\n        if (value?.$description || value?.$desc) {\n          result[locale] = value.$description || value.$desc;\n        } else if (typeof value === \"string\") {\n          result[locale] = value;\n        }\n      }\n      return result;\n    }\n    __name(mergeDesc, \"mergeDesc\");\n    function getInner(value) {\n      return value?.$value ?? value?.$inner;\n    }\n    __name(getInner, \"getInner\");\n    function extractKeys(data) {\n      return filterKeys(data ?? {}, (key) => !key.startsWith(\"$\"));\n    }\n    __name(extractKeys, \"extractKeys\");\n    Schema.prototype.i18n = /* @__PURE__ */ __name(function i18n(messages) {\n      const schema = Schema(this);\n      const desc = mergeDesc(schema.meta.description, messages);\n      if (Object.keys(desc).length) schema.meta.description = desc;\n      if (schema.dict) {\n        schema.dict = valueMap(schema.dict, (inner, key) => {\n          return inner.i18n(valueMap(messages, (data) => getInner(data)?.[key] ?? data?.[key]));\n        });\n      }\n      if (schema.list) {\n        schema.list = schema.list.map((inner, index) => {\n          return inner.i18n(valueMap(messages, (data = {}) => {\n            if (Array.isArray(getInner(data))) return getInner(data)[index];\n            if (Array.isArray(data)) return data[index];\n            return extractKeys(data);\n          }));\n        });\n      }\n      if (schema.inner) {\n        schema.inner = schema.inner.i18n(valueMap(messages, (data) => {\n          if (getInner(data)) return getInner(data);\n          return extractKeys(data);\n        }));\n      }\n      if (schema.sKey) {\n        schema.sKey = schema.sKey.i18n(valueMap(messages, (data) => data?.$key));\n      }\n      return schema;\n    }, \"i18n\");\n    Schema.prototype.extra = /* @__PURE__ */ __name(function extra(key, value) {\n      const schema = Schema(this);\n      schema.meta = { ...schema.meta, [key]: value };\n      return schema;\n    }, \"extra\");\n    for (const key of [\"required\", \"disabled\", \"collapse\", \"hidden\", \"loose\"]) {\n      Object.assign(Schema.prototype, {\n        [key](value = true) {\n          const schema = Schema(this);\n          schema.meta = { ...schema.meta, [key]: value };\n          return schema;\n        }\n      });\n    }\n    Schema.prototype.deprecated = /* @__PURE__ */ __name(function deprecated() {\n      const schema = Schema(this);\n      schema.meta.badges ||= [];\n      schema.meta.badges.push({ text: \"deprecated\", type: \"danger\" });\n      return schema;\n    }, \"deprecated\");\n    Schema.prototype.experimental = /* @__PURE__ */ __name(function experimental() {\n      const schema = Schema(this);\n      schema.meta.badges ||= [];\n      schema.meta.badges.push({ text: \"experimental\", type: \"warning\" });\n      return schema;\n    }, \"experimental\");\n    Schema.prototype.pattern = /* @__PURE__ */ __name(function pattern(regexp) {\n      const schema = Schema(this);\n      const pattern2 = pick(regexp, [\"source\", \"flags\"]);\n      schema.meta = { ...schema.meta, pattern: pattern2 };\n      return schema;\n    }, \"pattern\");\n    Schema.prototype.simplify = /* @__PURE__ */ __name(function simplify(value) {\n      if (deepEqual(value, this.meta.default, this.type === \"dict\")) return null;\n      if (isNullable(value)) return value;\n      if (this.type === \"object\" || this.type === \"dict\") {\n        const result = {};\n        for (const key in value) {\n          const schema = this.type === \"object\" ? this.dict[key] : this.inner;\n          const item = schema?.simplify(value[key]);\n          if (this.type === \"dict\" || !isNullable(item)) result[key] = item;\n        }\n        if (deepEqual(result, this.meta.default, this.type === \"dict\")) return null;\n        return result;\n      } else if (this.type === \"array\" || this.type === \"tuple\") {\n        const result = [];\n        value.forEach((value2, index) => {\n          const schema = this.type === \"array\" ? this.inner : this.list[index];\n          const item = schema ? schema.simplify(value2) : value2;\n          result.push(item);\n        });\n        return result;\n      } else if (this.type === \"intersect\") {\n        const result = {};\n        for (const item of this.list) {\n          Object.assign(result, item.simplify(value));\n        }\n        return result;\n      } else if (this.type === \"union\") {\n        for (const schema of this.list) {\n          try {\n            Schema.resolve(value, schema, {});\n            return schema.simplify(value);\n          } catch {\n          }\n        }\n      }\n      return value;\n    }, \"simplify\");\n    Schema.prototype.toString = /* @__PURE__ */ __name(function toString(inline) {\n      return formatters[this.type]?.(this, inline) ?? `Schema<${this.type}>`;\n    }, \"toString\");\n    Schema.prototype.role = /* @__PURE__ */ __name(function role(role, extra) {\n      const schema = Schema(this);\n      schema.meta = { ...schema.meta, role, extra };\n      return schema;\n    }, \"role\");\n    for (const key of [\"default\", \"link\", \"comment\", \"description\", \"max\", \"min\", \"step\"]) {\n      Object.assign(Schema.prototype, {\n        [key](value) {\n          const schema = Schema(this);\n          schema.meta = { ...schema.meta, [key]: value };\n          return schema;\n        }\n      });\n    }\n    var resolvers = {};\n    Schema.extend = /* @__PURE__ */ __name(function extend(type, resolve) {\n      resolvers[type] = resolve;\n    }, \"extend\");\n    Schema.resolve = /* @__PURE__ */ __name(function resolve(data, schema, options = {}, strict = false) {\n      if (!schema) return [data];\n      if (options.ignore?.(data, schema)) return [data];\n      if (isNullable(data) && schema.type !== \"lazy\") {\n        if (schema.meta.required) throw new ValidationError(`missing required value`, options);\n        let current = schema;\n        let fallback = schema.meta.default;\n        while (current?.type === \"intersect\" && isNullable(fallback)) {\n          current = current.list[0];\n          fallback = current?.meta.default;\n        }\n        if (isNullable(fallback)) return [data];\n        data = clone(fallback);\n      }\n      const callback = resolvers[schema.type];\n      if (!callback) throw new ValidationError(`unsupported type \"${schema.type}\"`, options);\n      try {\n        return callback(data, schema, options, strict);\n      } catch (error) {\n        if (!schema.meta.loose) throw error;\n        return [schema.meta.default];\n      }\n    }, \"resolve\");\n    Schema.from = /* @__PURE__ */ __name(function from(source) {\n      if (isNullable(source)) {\n        return Schema.any();\n      } else if ([\"string\", \"number\", \"boolean\"].includes(typeof source)) {\n        return Schema.const(source).required();\n      } else if (source[kSchema]) {\n        return source;\n      } else if (typeof source === \"function\") {\n        switch (source) {\n          case String:\n            return Schema.string().required();\n          case Number:\n            return Schema.number().required();\n          case Boolean:\n            return Schema.boolean().required();\n          case Function:\n            return Schema.function().required();\n          default:\n            return Schema.is(source).required();\n        }\n      } else {\n        throw new TypeError(`cannot infer schema from ${source}`);\n      }\n    }, \"from\");\n    Schema.lazy = /* @__PURE__ */ __name(function lazy(builder) {\n      const toJSON = /* @__PURE__ */ __name(() => {\n        if (!schema.inner[kSchema]) {\n          schema.inner = schema.builder();\n          schema.inner.meta = { ...schema.meta, ...schema.inner.meta };\n        }\n        return schema.inner.toJSON();\n      }, \"toJSON\");\n      const schema = new Schema({ type: \"lazy\", builder, inner: { toJSON } });\n      return schema;\n    }, \"lazy\");\n    Schema.natural = /* @__PURE__ */ __name(function natural() {\n      return Schema.number().step(1).min(0);\n    }, \"natural\");\n    Schema.percent = /* @__PURE__ */ __name(function percent() {\n      return Schema.number().step(0.01).min(0).max(1).role(\"slider\");\n    }, \"percent\");\n    Schema.date = /* @__PURE__ */ __name(function date() {\n      return Schema.union([\n        Schema.is(Date),\n        Schema.transform(Schema.string().role(\"datetime\"), (value, options) => {\n          const date2 = new Date(value);\n          if (isNaN(+date2)) throw new ValidationError(`invalid date \"${value}\"`, options);\n          return date2;\n        }, true)\n      ]);\n    }, \"date\");\n    Schema.regExp = /* @__PURE__ */ __name(function regExp(flag = \"\") {\n      return Schema.union([\n        Schema.is(RegExp),\n        Schema.transform(Schema.string().role(\"regexp\", { flag }), (value, options) => {\n          try {\n            return new RegExp(value, flag);\n          } catch (e) {\n            throw new ValidationError(e.message, options);\n          }\n        }, true)\n      ]);\n    }, \"regExp\");\n    Schema.arrayBuffer = /* @__PURE__ */ __name(function arrayBuffer(encoding) {\n      return Schema.union([\n        Schema.is(ArrayBuffer),\n        Schema.is(SharedArrayBuffer),\n        Schema.transform(Schema.any(), (value, options) => {\n          if (Binary.isSource(value)) return Binary.fromSource(value);\n          throw new ValidationError(`expected ArrayBufferSource but got ${value}`, options);\n        }, true),\n        ...encoding ? [Schema.transform(Schema.string(), (value, options) => {\n          try {\n            return encoding === \"base64\" ? Binary.fromBase64(value) : Binary.fromHex(value);\n          } catch (e) {\n            throw new ValidationError(e.message, options);\n          }\n        }, true)] : []\n      ]);\n    }, \"arrayBuffer\");\n    Schema.extend(\"lazy\", (data, schema, options, strict) => {\n      if (!schema.inner[kSchema]) {\n        schema.inner = schema.builder();\n        schema.inner.meta = { ...schema.meta, ...schema.inner.meta };\n      }\n      return Schema.resolve(data, schema.inner, options, strict);\n    });\n    Schema.extend(\"any\", (data) => {\n      return [data];\n    });\n    Schema.extend(\"never\", (data, _, options) => {\n      throw new ValidationError(`expected nullable but got ${data}`, options);\n    });\n    Schema.extend(\"const\", (data, { value }, options) => {\n      if (deepEqual(data, value)) return [value];\n      throw new ValidationError(`expected ${value} but got ${data}`, options);\n    });\n    function checkWithinRange(data, meta, description, options, skipMin = false) {\n      const { max = Infinity, min = -Infinity } = meta;\n      if (data > max) throw new ValidationError(`expected ${description} <= ${max} but got ${data}`, options);\n      if (data < min && !skipMin) throw new ValidationError(`expected ${description} >= ${min} but got ${data}`, options);\n    }\n    __name(checkWithinRange, \"checkWithinRange\");\n    Schema.extend(\"string\", (data, { meta }, options) => {\n      if (typeof data !== \"string\") throw new ValidationError(`expected string but got ${data}`, options);\n      if (meta.pattern) {\n        const regexp = new RegExp(meta.pattern.source, meta.pattern.flags);\n        if (!regexp.test(data)) throw new ValidationError(`expect string to match regexp ${regexp}`, options);\n      }\n      checkWithinRange(data.length, meta, \"string length\", options);\n      return [data];\n    });\n    function decimalShift(data, digits) {\n      const str = data.toString();\n      if (str.includes(\"e\")) return data * Math.pow(10, digits);\n      const index = str.indexOf(\".\");\n      if (index === -1) return data * Math.pow(10, digits);\n      const frac = str.slice(index + 1);\n      const integer = str.slice(0, index);\n      if (frac.length <= digits) return +(integer + frac.padEnd(digits, \"0\"));\n      return +(integer + frac.slice(0, digits) + \".\" + frac.slice(digits));\n    }\n    __name(decimalShift, \"decimalShift\");\n    function isMultipleOf(data, min, step) {\n      step = Math.abs(step);\n      if (!/^\\d+\\.\\d+$/.test(step.toString())) {\n        return (data - min) % step === 0;\n      }\n      const index = step.toString().indexOf(\".\");\n      const digits = step.toString().slice(index + 1).length;\n      return Math.abs(decimalShift(data, digits) - decimalShift(min, digits)) % decimalShift(step, digits) === 0;\n    }\n    __name(isMultipleOf, \"isMultipleOf\");\n    Schema.extend(\"number\", (data, { meta }, options) => {\n      if (typeof data !== \"number\") throw new ValidationError(`expected number but got ${data}`, options);\n      checkWithinRange(data, meta, \"number\", options);\n      const { step } = meta;\n      if (step && !isMultipleOf(data, meta.min ?? 0, step)) {\n        throw new ValidationError(`expected number multiple of ${step} but got ${data}`, options);\n      }\n      return [data];\n    });\n    Schema.extend(\"boolean\", (data, _, options) => {\n      if (typeof data === \"boolean\") return [data];\n      throw new ValidationError(`expected boolean but got ${data}`, options);\n    });\n    Schema.extend(\"bitset\", (data, { bits, meta }, options) => {\n      let value = 0, keys = [];\n      if (typeof data === \"number\") {\n        value = data;\n        for (const key in bits) {\n          if (data & bits[key]) {\n            keys.push(key);\n          }\n        }\n      } else if (Array.isArray(data)) {\n        keys = data;\n        for (const key of keys) {\n          if (typeof key !== \"string\") throw new ValidationError(`expected string but got ${key}`, options);\n          if (key in bits) value |= bits[key];\n        }\n      } else {\n        throw new ValidationError(`expected number or array but got ${data}`, options);\n      }\n      if (value === meta.default) return [value];\n      return [value, keys];\n    });\n    Schema.extend(\"function\", (data, _, options) => {\n      if (typeof data === \"function\") return [data];\n      throw new ValidationError(`expected function but got ${data}`, options);\n    });\n    Schema.extend(\"is\", (data, { callback }, options) => {\n      if (data instanceof callback) return [data];\n      throw new ValidationError(`expected ${callback.name} but got ${data}`, options);\n    });\n    function property(data, key, schema, options) {\n      try {\n        const [value, adapted] = Schema.resolve(data[key], schema, {\n          ...options,\n          path: [...options.path || [], key]\n        });\n        if (adapted !== void 0) data[key] = adapted;\n        return value;\n      } catch (e) {\n        if (!options?.autofix) throw e;\n        delete data[key];\n        return schema.meta.default;\n      }\n    }\n    __name(property, \"property\");\n    Schema.extend(\"array\", (data, { inner, meta }, options) => {\n      if (!Array.isArray(data)) throw new ValidationError(`expected array but got ${data}`, options);\n      checkWithinRange(data.length, meta, \"array length\", options, !isNullable(inner.meta.default));\n      return [data.map((_, index) => property(data, index, inner, options))];\n    });\n    Schema.extend(\"dict\", (data, { inner, sKey }, options, strict) => {\n      if (!isPlainObject(data)) throw new ValidationError(`expected object but got ${data}`, options);\n      const result = {};\n      for (const key in data) {\n        let rKey;\n        try {\n          rKey = Schema.resolve(key, sKey, options)[0];\n        } catch (error) {\n          if (strict) continue;\n          throw error;\n        }\n        result[rKey] = property(data, key, inner, options);\n        data[rKey] = data[key];\n        if (key !== rKey) delete data[key];\n      }\n      return [result];\n    });\n    Schema.extend(\"tuple\", (data, { list }, options, strict) => {\n      if (!Array.isArray(data)) throw new ValidationError(`expected array but got ${data}`, options);\n      const result = list.map((inner, index) => property(data, index, inner, options));\n      if (strict) return [result];\n      result.push(...data.slice(list.length));\n      return [result];\n    });\n    function merge(result, data) {\n      for (const key in data) {\n        if (key in result) continue;\n        result[key] = data[key];\n      }\n    }\n    __name(merge, \"merge\");\n    Schema.extend(\"object\", (data, { dict }, options, strict) => {\n      if (!isPlainObject(data)) throw new ValidationError(`expected object but got ${data}`, options);\n      const result = {};\n      for (const key in dict) {\n        const value = property(data, key, dict[key], options);\n        if (!isNullable(value) || key in data) {\n          result[key] = value;\n        }\n      }\n      if (!strict) merge(result, data);\n      return [result];\n    });\n    Schema.extend(\"union\", (data, { list, toString }, options, strict) => {\n      const messages = [];\n      for (const inner of list) {\n        try {\n          return Schema.resolve(data, inner, options, strict);\n        } catch (error) {\n          messages.push(error);\n        }\n      }\n      throw new ValidationError(`expected ${toString()} but got ${JSON.stringify(data)}`, options);\n    });\n    Schema.extend(\"intersect\", (data, { list, toString }, options, strict) => {\n      let result;\n      for (const inner of list) {\n        const value = Schema.resolve(data, inner, options, true)[0];\n        if (isNullable(value)) continue;\n        if (isNullable(result)) {\n          result = value;\n        } else if (typeof result !== typeof value) {\n          throw new ValidationError(`expected ${toString()} but got ${JSON.stringify(data)}`, options);\n        } else if (typeof value === \"object\") {\n          merge(result ??= {}, value);\n        } else if (result !== value) {\n          throw new ValidationError(`expected ${toString()} but got ${JSON.stringify(data)}`, options);\n        }\n      }\n      if (!strict && isPlainObject(data)) merge(result, data);\n      return [result];\n    });\n    Schema.extend(\"transform\", (data, { inner, callback, preserve }, options) => {\n      const [result, adapted = data] = Schema.resolve(data, inner, options, true);\n      if (preserve) {\n        return [callback(result)];\n      } else {\n        return [callback(result), callback(adapted)];\n      }\n    });\n    var formatters = {};\n    function defineMethod(name, keys, format) {\n      formatters[name] = format;\n      Object.assign(Schema, {\n        [name](...args) {\n          const schema = new Schema({ type: name });\n          keys.forEach((key, index) => {\n            switch (key) {\n              case \"sKey\":\n                schema.sKey = args[index] ?? Schema.string();\n                break;\n              case \"inner\":\n                schema.inner = Schema.from(args[index]);\n                break;\n              case \"list\":\n                schema.list = args[index].map(Schema.from);\n                break;\n              case \"dict\":\n                schema.dict = valueMap(args[index], Schema.from);\n                break;\n              case \"bits\": {\n                schema.bits = {};\n                for (const key2 in args[index]) {\n                  if (typeof args[index][key2] !== \"number\") continue;\n                  schema.bits[key2] = args[index][key2];\n                }\n                break;\n              }\n              case \"callback\": {\n                schema.callback = args[index];\n                schema.callback[\"toJSON\"] ||= () => schema.callback.toString();\n                break;\n              }\n              default:\n                schema[key] = args[index];\n            }\n          });\n          if (name === \"object\" || name === \"dict\") {\n            schema.meta.default = {};\n          } else if (name === \"array\" || name === \"tuple\") {\n            schema.meta.default = [];\n          } else if (name === \"bitset\") {\n            schema.meta.default = 0;\n          }\n          return schema;\n        }\n      });\n    }\n    __name(defineMethod, \"defineMethod\");\n    defineMethod(\"is\", [\"callback\"], ({ callback }) => callback.name);\n    defineMethod(\"any\", [], () => \"any\");\n    defineMethod(\"never\", [], () => \"never\");\n    defineMethod(\"const\", [\"value\"], ({ value }) => typeof value === \"string\" ? JSON.stringify(value) : value);\n    defineMethod(\"string\", [], () => \"string\");\n    defineMethod(\"number\", [], () => \"number\");\n    defineMethod(\"boolean\", [], () => \"boolean\");\n    defineMethod(\"bitset\", [\"bits\"], () => \"bitset\");\n    defineMethod(\"function\", [], () => \"function\");\n    defineMethod(\"array\", [\"inner\"], ({ inner }) => `${inner.toString(true)}[]`);\n    defineMethod(\"dict\", [\"inner\", \"sKey\"], ({ inner, sKey }) => `{ [key: ${sKey.toString()}]: ${inner.toString()} }`);\n    defineMethod(\"tuple\", [\"list\"], ({ list }) => `[${list.map((inner) => inner.toString()).join(\", \")}]`);\n    defineMethod(\"object\", [\"dict\"], ({ dict }) => {\n      if (Object.keys(dict).length === 0) return \"{}\";\n      return `{ ${Object.entries(dict).map(([key, inner]) => {\n        return `${key}${inner.meta.required ? \"\" : \"?\"}: ${inner.toString()}`;\n      }).join(\", \")} }`;\n    });\n    defineMethod(\"union\", [\"list\"], ({ list }, inline) => {\n      const result = list.map(({ toString: format }) => format()).join(\" | \");\n      return inline ? `(${result})` : result;\n    });\n    defineMethod(\"intersect\", [\"list\"], ({ list }) => {\n      return `${list.map((inner) => inner.toString(true)).join(\" & \")}`;\n    });\n    defineMethod(\"transform\", [\"inner\", \"callback\", \"preserve\"], ({ inner }, isInner) => inner.toString(isInner));\n    module.exports = Schema;\n  }\n});\nexport default require_src();\n//# sourceMappingURL=index.mjs.map\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport { defineProperty, remove } from \"cosmokit\";\nimport { Service } from \"@cordisjs/core\";\nimport Schema from \"schemastery\";\nimport { default as default2, default as default3 } from \"schemastery\";\nvar kSchemaOrder = Symbol(\"cordis.schema.order\");\nvar SchemaService = class {\n  constructor(ctx) {\n    this.ctx = ctx;\n    defineProperty(this, Service.tracker, {\n      property: \"ctx\"\n    });\n  }\n  static {\n    __name(this, \"SchemaService\");\n  }\n  _data = Schema.intersect([]);\n  extend(schema, order = 0) {\n    const index = this._data.list.findIndex((a) => a[kSchemaOrder] < order);\n    schema[kSchemaOrder] = order;\n    return this.ctx.effect(() => {\n      if (index >= 0) {\n        this._data.list.splice(index, 0, schema);\n      } else {\n        this._data.list.push(schema);\n      }\n      this.ctx.emit(\"internal/service-schema\");\n      return () => {\n        remove(this._data.list, schema);\n        this.ctx.emit(\"internal/service-schema\");\n      };\n    });\n  }\n  toJSON() {\n    return this._data.toJSON();\n  }\n};\nvar src_default = SchemaService;\nexport {\n  default2 as Schema,\n  SchemaService,\n  src_default as default,\n  default3 as z\n};\n//# sourceMappingURL=index.mjs.map\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport { Context, Service } from \"@cordisjs/core\";\nimport { remove } from \"cosmokit\";\nvar TimerService = class extends Service {\n  static {\n    __name(this, \"TimerService\");\n  }\n  constructor(ctx) {\n    super(ctx, \"timer\", true);\n    ctx.mixin(\"timer\", [\"setTimeout\", \"setInterval\", \"sleep\", \"throttle\", \"debounce\"]);\n  }\n  setTimeout(callback, delay) {\n    const dispose = this[Context.current].effect(() => {\n      const timer = setTimeout(() => {\n        dispose();\n        callback();\n      }, delay);\n      return () => clearTimeout(timer);\n    });\n    return dispose;\n  }\n  setInterval(callback, delay) {\n    return this[Context.current].effect(() => {\n      const timer = setInterval(callback, delay);\n      return () => clearInterval(timer);\n    });\n  }\n  sleep(delay) {\n    const caller = this[Context.current];\n    return new Promise((resolve, reject) => {\n      const dispose1 = this.setTimeout(() => {\n        dispose1();\n        dispose2();\n        resolve();\n      }, delay);\n      const dispose2 = caller.on(\"dispose\", () => {\n        dispose1();\n        dispose2();\n        reject(new Error(\"Context has been disposed\"));\n      });\n    });\n  }\n  createWrapper(callback, isDisposed = false) {\n    const caller = this[Context.current];\n    caller.scope.assertActive();\n    let timer;\n    const dispose = /* @__PURE__ */ __name(() => {\n      isDisposed = true;\n      remove(caller.scope.disposables, dispose);\n      clearTimeout(timer);\n    }, \"dispose\");\n    const wrapper = /* @__PURE__ */ __name((...args) => {\n      clearTimeout(timer);\n      timer = callback(args, () => !isDisposed && caller.scope.isActive);\n    }, \"wrapper\");\n    wrapper.dispose = dispose;\n    caller.scope.disposables.push(dispose);\n    return wrapper;\n  }\n  throttle(callback, delay, noTrailing) {\n    let lastCall = -Infinity;\n    const execute = /* @__PURE__ */ __name((...args) => {\n      lastCall = Date.now();\n      callback(...args);\n    }, \"execute\");\n    return this.createWrapper((args, isActive) => {\n      const now = Date.now();\n      const remaining = delay - (now - lastCall);\n      if (remaining <= 0) {\n        execute(...args);\n      } else if (isActive()) {\n        return setTimeout(execute, remaining, ...args);\n      }\n    }, noTrailing);\n  }\n  debounce(callback, delay) {\n    return this.createWrapper((args, isActive) => {\n      if (!isActive())\n        return;\n      return setTimeout(callback, delay, ...args);\n    });\n  }\n};\nvar src_default = TimerService;\nexport {\n  TimerService,\n  src_default as default\n};\n//# sourceMappingURL=index.mjs.map\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport * as core from \"@cordisjs/core\";\nimport { LoggerService } from \"@cordisjs/logger\";\nimport { SchemaService } from \"@cordisjs/schema\";\nimport { TimerService } from \"@cordisjs/timer\";\nexport * from \"@cordisjs/core\";\nimport { Schema, z } from \"@cordisjs/schema\";\nimport { Logger as Logger2 } from \"@cordisjs/logger\";\nimport { TimerService as TimerService2 } from \"@cordisjs/timer\";\nvar Context2 = class extends core.Context {\n  static {\n    __name(this, \"Context\");\n  }\n  baseDir;\n  constructor(config) {\n    super(config);\n    this.baseDir = globalThis.process?.cwd?.() || \"\";\n    this.provide(\"logger\", void 0, true);\n    this.provide(\"timer\", void 0, true);\n    this.plugin(LoggerService);\n    this.plugin(TimerService);\n  }\n};\nvar Service2 = class extends core.Service {\n  static {\n    __name(this, \"Service\");\n  }\n  /** @deprecated use `this.ctx.logger` instead */\n  logger;\n  schema;\n  constructor(...args) {\n    super(...args);\n    this.logger = this.ctx.logger(this.name);\n    this.schema = new SchemaService(this.ctx);\n  }\n  [core.Service.setup]() {\n    this.ctx = new Context2();\n  }\n};\nfunction src_default() {\n}\n__name(src_default, \"default\");\nexport {\n  Context2 as Context,\n  Logger2 as Logger,\n  Schema,\n  Service2 as Service,\n  TimerService2 as TimerService,\n  src_default as default,\n  z\n};\n//# sourceMappingURL=index.mjs.map\n","import { LLOneBotError } from './types'\nimport { SelfInfo } from '../ntqqapi/types'\nimport path from 'node:path'\nimport * as os from 'node:os'\nimport fs from 'fs'\n\nexport const llonebotError: LLOneBotError = {\n  ffmpegError: '',\n  httpServerError: '',\n  wsServerError: '',\n  otherError: 'LLOneBot 未能正常启动，请检查日志查看错误',\n}\n\nexport const DATA_DIR: string = path.resolve('data')\nexport const TEMP_DIR: string = path.join(DATA_DIR, 'temp')\nexport const LOG_DIR = path.join(DATA_DIR, 'logs')\n\nexport function getFixedDataDir() {\n  let dataDir: string = ''\n  if (process.platform === 'win32') {\n    dataDir = path.join(process.env['LOCALAPPDATA']!!, 'llonebot')\n  }\n  else {\n    dataDir = path.join(os.homedir(), '.llonebot')\n  }\n  if (!fs.existsSync(dataDir)) {\n    try {\n      fs.mkdirSync(dataDir)\n    }catch (e) {\n\n    }\n  }\n  return dataDir\n}\n\nexport const selfInfo: SelfInfo = {\n  uid: '',\n  uin: '',\n  nick: '',\n  online: true,\n}\n\n","import path from 'node:path'\nimport { Context, Logger } from 'cordis'\nimport { appendFile } from 'node:fs'\nimport { LOG_DIR, selfInfo } from '@/common/globalVars'\nimport { noop } from 'cosmokit'\n\ninterface Config {\n  enable: boolean\n  filename: string\n}\n\nexport default class Log {\n  static name = 'logger'\n\n  constructor(ctx: Context, cfg: Config) {\n    Logger.targets.splice(0, Logger.targets.length)\n    let enable = cfg.enable\n    const file = path.join(LOG_DIR, cfg.filename)\n    const target: Logger.Target = {\n      colors: 0,\n      record: (record: Logger.Record) => {\n        const dateTime = new Date(record.timestamp)\n        const dateTimeStr = `${dateTime.getFullYear()}-${(dateTime.getMonth() + 1).toString().padStart(2, '0')}-${dateTime.getDate().toString().padStart(2, '0')} ${dateTime.getHours().toString().padStart(2, '0')}:${dateTime.getMinutes().toString().padStart(2, '0')}:${dateTime.getSeconds().toString().padStart(2, '0')}`\n        let content = `${dateTimeStr} | ${record.content}\\n\\n`\n        console.log(content)\n        if (!enable) {\n          return\n        }\n        content = `[${record.type}] | ${content}`\n        appendFile(file, content, noop)\n      },\n    }\n    Logger.targets.push(target)\n    ctx.on('llob/config-updated', input => {\n      enable = input.log!\n    })\n  }\n}\n","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n","\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    CustomError.prototype = Object.create(Error.prototype, {\n        constructor: {\n            value: CustomError,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n        name: {\n            get: function get() { return name; },\n            set: undefined,\n            enumerable: false,\n            // configurable: false would accurately preserve the behavior of\n            // the original, but I'm guessing that was not intentional.\n            // For an actual error subclass, this property would\n            // be configurable.\n            configurable: true,\n        },\n        toString: {\n            value: function value() { return this.name + \": \" + this.message; },\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n    });\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n","\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n","\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n","\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n\n    if (start === end) { // fix for IE 10/Win8 and others' subarray returning array of size 1\n        var nativeBuffer = util.Buffer;\n        return nativeBuffer\n            ? nativeBuffer.alloc(0)\n            : new this.buf.constructor(0);\n    }\n    return this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n","\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n","\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n","\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n","\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available across modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n","\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n","// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n","/*eslint-disable block-scoped-var, id-length, no-control-regex, no-magic-numbers, no-prototype-builtins, no-redeclare, no-shadow, no-var, sort-vars*/\nimport $protobuf from \"protobufjs/minimal\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const SysMsg = $root.SysMsg = (() => {\n\n    /**\n     * Namespace SysMsg.\n     * @exports SysMsg\n     * @namespace\n     */\n    const SysMsg = {};\n\n    SysMsg.LikeDetail = (function() {\n\n        /**\n         * Properties of a LikeDetail.\n         * @memberof SysMsg\n         * @interface ILikeDetail\n         * @property {string|null} [txt] LikeDetail txt\n         * @property {number|null} [uin] LikeDetail uin\n         * @property {string|null} [nickname] LikeDetail nickname\n         */\n\n        /**\n         * Constructs a new LikeDetail.\n         * @memberof SysMsg\n         * @classdesc Represents a LikeDetail.\n         * @implements ILikeDetail\n         * @constructor\n         * @param {SysMsg.ILikeDetail=} [properties] Properties to set\n         */\n        function LikeDetail(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * LikeDetail txt.\n         * @member {string} txt\n         * @memberof SysMsg.LikeDetail\n         * @instance\n         */\n        LikeDetail.prototype.txt = \"\";\n\n        /**\n         * LikeDetail uin.\n         * @member {number} uin\n         * @memberof SysMsg.LikeDetail\n         * @instance\n         */\n        LikeDetail.prototype.uin = 0;\n\n        /**\n         * LikeDetail nickname.\n         * @member {string} nickname\n         * @memberof SysMsg.LikeDetail\n         * @instance\n         */\n        LikeDetail.prototype.nickname = \"\";\n\n        /**\n         * Encodes the specified LikeDetail message. Does not implicitly {@link SysMsg.LikeDetail.verify|verify} messages.\n         * @function encode\n         * @memberof SysMsg.LikeDetail\n         * @static\n         * @param {SysMsg.ILikeDetail} message LikeDetail message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        LikeDetail.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.txt != null && Object.hasOwnProperty.call(message, \"txt\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.txt);\n            if (message.uin != null && Object.hasOwnProperty.call(message, \"uin\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.uin);\n            if (message.nickname != null && Object.hasOwnProperty.call(message, \"nickname\"))\n                writer.uint32(/* id 5, wireType 2 =*/42).string(message.nickname);\n            return writer;\n        };\n\n        /**\n         * Decodes a LikeDetail message from the specified reader or buffer.\n         * @function decode\n         * @memberof SysMsg.LikeDetail\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {SysMsg.LikeDetail} LikeDetail\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        LikeDetail.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.SysMsg.LikeDetail();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.txt = reader.string();\n                        break;\n                    }\n                case 3: {\n                        message.uin = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.nickname = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for LikeDetail\n         * @function getTypeUrl\n         * @memberof SysMsg.LikeDetail\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        LikeDetail.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/SysMsg.LikeDetail\";\n        };\n\n        return LikeDetail;\n    })();\n\n    SysMsg.LikeMsg = (function() {\n\n        /**\n         * Properties of a LikeMsg.\n         * @memberof SysMsg\n         * @interface ILikeMsg\n         * @property {number|null} [count] LikeMsg count\n         * @property {number|null} [time] LikeMsg time\n         * @property {SysMsg.ILikeDetail|null} [detail] LikeMsg detail\n         */\n\n        /**\n         * Constructs a new LikeMsg.\n         * @memberof SysMsg\n         * @classdesc Represents a LikeMsg.\n         * @implements ILikeMsg\n         * @constructor\n         * @param {SysMsg.ILikeMsg=} [properties] Properties to set\n         */\n        function LikeMsg(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * LikeMsg count.\n         * @member {number} count\n         * @memberof SysMsg.LikeMsg\n         * @instance\n         */\n        LikeMsg.prototype.count = 0;\n\n        /**\n         * LikeMsg time.\n         * @member {number} time\n         * @memberof SysMsg.LikeMsg\n         * @instance\n         */\n        LikeMsg.prototype.time = 0;\n\n        /**\n         * LikeMsg detail.\n         * @member {SysMsg.ILikeDetail|null|undefined} detail\n         * @memberof SysMsg.LikeMsg\n         * @instance\n         */\n        LikeMsg.prototype.detail = null;\n\n        /**\n         * Encodes the specified LikeMsg message. Does not implicitly {@link SysMsg.LikeMsg.verify|verify} messages.\n         * @function encode\n         * @memberof SysMsg.LikeMsg\n         * @static\n         * @param {SysMsg.ILikeMsg} message LikeMsg message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        LikeMsg.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.count != null && Object.hasOwnProperty.call(message, \"count\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.count);\n            if (message.time != null && Object.hasOwnProperty.call(message, \"time\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.time);\n            if (message.detail != null && Object.hasOwnProperty.call(message, \"detail\"))\n                $root.SysMsg.LikeDetail.encode(message.detail, writer.uint32(/* id 3, wireType 2 =*/26).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a LikeMsg message from the specified reader or buffer.\n         * @function decode\n         * @memberof SysMsg.LikeMsg\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {SysMsg.LikeMsg} LikeMsg\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        LikeMsg.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.SysMsg.LikeMsg();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.count = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.time = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.detail = $root.SysMsg.LikeDetail.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for LikeMsg\n         * @function getTypeUrl\n         * @memberof SysMsg.LikeMsg\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        LikeMsg.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/SysMsg.LikeMsg\";\n        };\n\n        return LikeMsg;\n    })();\n\n    SysMsg.ProfileLikeSubTip = (function() {\n\n        /**\n         * Properties of a ProfileLikeSubTip.\n         * @memberof SysMsg\n         * @interface IProfileLikeSubTip\n         * @property {SysMsg.ILikeMsg|null} [msg] ProfileLikeSubTip msg\n         */\n\n        /**\n         * Constructs a new ProfileLikeSubTip.\n         * @memberof SysMsg\n         * @classdesc Represents a ProfileLikeSubTip.\n         * @implements IProfileLikeSubTip\n         * @constructor\n         * @param {SysMsg.IProfileLikeSubTip=} [properties] Properties to set\n         */\n        function ProfileLikeSubTip(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * ProfileLikeSubTip msg.\n         * @member {SysMsg.ILikeMsg|null|undefined} msg\n         * @memberof SysMsg.ProfileLikeSubTip\n         * @instance\n         */\n        ProfileLikeSubTip.prototype.msg = null;\n\n        /**\n         * Encodes the specified ProfileLikeSubTip message. Does not implicitly {@link SysMsg.ProfileLikeSubTip.verify|verify} messages.\n         * @function encode\n         * @memberof SysMsg.ProfileLikeSubTip\n         * @static\n         * @param {SysMsg.IProfileLikeSubTip} message ProfileLikeSubTip message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        ProfileLikeSubTip.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.msg != null && Object.hasOwnProperty.call(message, \"msg\"))\n                $root.SysMsg.LikeMsg.encode(message.msg, writer.uint32(/* id 14, wireType 2 =*/114).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a ProfileLikeSubTip message from the specified reader or buffer.\n         * @function decode\n         * @memberof SysMsg.ProfileLikeSubTip\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {SysMsg.ProfileLikeSubTip} ProfileLikeSubTip\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        ProfileLikeSubTip.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.SysMsg.ProfileLikeSubTip();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 14: {\n                        message.msg = $root.SysMsg.LikeMsg.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for ProfileLikeSubTip\n         * @function getTypeUrl\n         * @memberof SysMsg.ProfileLikeSubTip\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        ProfileLikeSubTip.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/SysMsg.ProfileLikeSubTip\";\n        };\n\n        return ProfileLikeSubTip;\n    })();\n\n    SysMsg.ProfileLikeTip = (function() {\n\n        /**\n         * Properties of a ProfileLikeTip.\n         * @memberof SysMsg\n         * @interface IProfileLikeTip\n         * @property {number|null} [msgType] ProfileLikeTip msgType\n         * @property {number|null} [subType] ProfileLikeTip subType\n         * @property {SysMsg.IProfileLikeSubTip|null} [content] ProfileLikeTip content\n         */\n\n        /**\n         * Constructs a new ProfileLikeTip.\n         * @memberof SysMsg\n         * @classdesc Represents a ProfileLikeTip.\n         * @implements IProfileLikeTip\n         * @constructor\n         * @param {SysMsg.IProfileLikeTip=} [properties] Properties to set\n         */\n        function ProfileLikeTip(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * ProfileLikeTip msgType.\n         * @member {number} msgType\n         * @memberof SysMsg.ProfileLikeTip\n         * @instance\n         */\n        ProfileLikeTip.prototype.msgType = 0;\n\n        /**\n         * ProfileLikeTip subType.\n         * @member {number} subType\n         * @memberof SysMsg.ProfileLikeTip\n         * @instance\n         */\n        ProfileLikeTip.prototype.subType = 0;\n\n        /**\n         * ProfileLikeTip content.\n         * @member {SysMsg.IProfileLikeSubTip|null|undefined} content\n         * @memberof SysMsg.ProfileLikeTip\n         * @instance\n         */\n        ProfileLikeTip.prototype.content = null;\n\n        /**\n         * Encodes the specified ProfileLikeTip message. Does not implicitly {@link SysMsg.ProfileLikeTip.verify|verify} messages.\n         * @function encode\n         * @memberof SysMsg.ProfileLikeTip\n         * @static\n         * @param {SysMsg.IProfileLikeTip} message ProfileLikeTip message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        ProfileLikeTip.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.msgType != null && Object.hasOwnProperty.call(message, \"msgType\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.msgType);\n            if (message.subType != null && Object.hasOwnProperty.call(message, \"subType\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.subType);\n            if (message.content != null && Object.hasOwnProperty.call(message, \"content\"))\n                $root.SysMsg.ProfileLikeSubTip.encode(message.content, writer.uint32(/* id 203, wireType 2 =*/1626).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a ProfileLikeTip message from the specified reader or buffer.\n         * @function decode\n         * @memberof SysMsg.ProfileLikeTip\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {SysMsg.ProfileLikeTip} ProfileLikeTip\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        ProfileLikeTip.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.SysMsg.ProfileLikeTip();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.msgType = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.subType = reader.uint32();\n                        break;\n                    }\n                case 203: {\n                        message.content = $root.SysMsg.ProfileLikeSubTip.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for ProfileLikeTip\n         * @function getTypeUrl\n         * @memberof SysMsg.ProfileLikeTip\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        ProfileLikeTip.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/SysMsg.ProfileLikeTip\";\n        };\n\n        return ProfileLikeTip;\n    })();\n\n    SysMsg.GroupMemberChange = (function() {\n\n        /**\n         * Properties of a GroupMemberChange.\n         * @memberof SysMsg\n         * @interface IGroupMemberChange\n         * @property {number|null} [groupCode] GroupMemberChange groupCode\n         * @property {string|null} [memberUid] GroupMemberChange memberUid\n         * @property {number|null} [type] GroupMemberChange type\n         * @property {string|null} [adminUid] GroupMemberChange adminUid\n         */\n\n        /**\n         * Constructs a new GroupMemberChange.\n         * @memberof SysMsg\n         * @classdesc Represents a GroupMemberChange.\n         * @implements IGroupMemberChange\n         * @constructor\n         * @param {SysMsg.IGroupMemberChange=} [properties] Properties to set\n         */\n        function GroupMemberChange(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * GroupMemberChange groupCode.\n         * @member {number} groupCode\n         * @memberof SysMsg.GroupMemberChange\n         * @instance\n         */\n        GroupMemberChange.prototype.groupCode = 0;\n\n        /**\n         * GroupMemberChange memberUid.\n         * @member {string} memberUid\n         * @memberof SysMsg.GroupMemberChange\n         * @instance\n         */\n        GroupMemberChange.prototype.memberUid = \"\";\n\n        /**\n         * GroupMemberChange type.\n         * @member {number} type\n         * @memberof SysMsg.GroupMemberChange\n         * @instance\n         */\n        GroupMemberChange.prototype.type = 0;\n\n        /**\n         * GroupMemberChange adminUid.\n         * @member {string} adminUid\n         * @memberof SysMsg.GroupMemberChange\n         * @instance\n         */\n        GroupMemberChange.prototype.adminUid = \"\";\n\n        /**\n         * Encodes the specified GroupMemberChange message. Does not implicitly {@link SysMsg.GroupMemberChange.verify|verify} messages.\n         * @function encode\n         * @memberof SysMsg.GroupMemberChange\n         * @static\n         * @param {SysMsg.IGroupMemberChange} message GroupMemberChange message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        GroupMemberChange.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.groupCode != null && Object.hasOwnProperty.call(message, \"groupCode\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.groupCode);\n            if (message.memberUid != null && Object.hasOwnProperty.call(message, \"memberUid\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).string(message.memberUid);\n            if (message.type != null && Object.hasOwnProperty.call(message, \"type\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.type);\n            if (message.adminUid != null && Object.hasOwnProperty.call(message, \"adminUid\"))\n                writer.uint32(/* id 5, wireType 2 =*/42).string(message.adminUid);\n            return writer;\n        };\n\n        /**\n         * Decodes a GroupMemberChange message from the specified reader or buffer.\n         * @function decode\n         * @memberof SysMsg.GroupMemberChange\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {SysMsg.GroupMemberChange} GroupMemberChange\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        GroupMemberChange.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.SysMsg.GroupMemberChange();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.groupCode = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.memberUid = reader.string();\n                        break;\n                    }\n                case 4: {\n                        message.type = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.adminUid = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for GroupMemberChange\n         * @function getTypeUrl\n         * @memberof SysMsg.GroupMemberChange\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        GroupMemberChange.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/SysMsg.GroupMemberChange\";\n        };\n\n        return GroupMemberChange;\n    })();\n\n    SysMsg.GroupInvite = (function() {\n\n        /**\n         * Properties of a GroupInvite.\n         * @memberof SysMsg\n         * @interface IGroupInvite\n         * @property {number|null} [groupCode] GroupInvite groupCode\n         * @property {string|null} [operatorUid] GroupInvite operatorUid\n         */\n\n        /**\n         * Constructs a new GroupInvite.\n         * @memberof SysMsg\n         * @classdesc Represents a GroupInvite.\n         * @implements IGroupInvite\n         * @constructor\n         * @param {SysMsg.IGroupInvite=} [properties] Properties to set\n         */\n        function GroupInvite(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * GroupInvite groupCode.\n         * @member {number} groupCode\n         * @memberof SysMsg.GroupInvite\n         * @instance\n         */\n        GroupInvite.prototype.groupCode = 0;\n\n        /**\n         * GroupInvite operatorUid.\n         * @member {string} operatorUid\n         * @memberof SysMsg.GroupInvite\n         * @instance\n         */\n        GroupInvite.prototype.operatorUid = \"\";\n\n        /**\n         * Encodes the specified GroupInvite message. Does not implicitly {@link SysMsg.GroupInvite.verify|verify} messages.\n         * @function encode\n         * @memberof SysMsg.GroupInvite\n         * @static\n         * @param {SysMsg.IGroupInvite} message GroupInvite message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        GroupInvite.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.groupCode != null && Object.hasOwnProperty.call(message, \"groupCode\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.groupCode);\n            if (message.operatorUid != null && Object.hasOwnProperty.call(message, \"operatorUid\"))\n                writer.uint32(/* id 5, wireType 2 =*/42).string(message.operatorUid);\n            return writer;\n        };\n\n        /**\n         * Decodes a GroupInvite message from the specified reader or buffer.\n         * @function decode\n         * @memberof SysMsg.GroupInvite\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {SysMsg.GroupInvite} GroupInvite\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        GroupInvite.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.SysMsg.GroupInvite();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.groupCode = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.operatorUid = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for GroupInvite\n         * @function getTypeUrl\n         * @memberof SysMsg.GroupInvite\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        GroupInvite.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/SysMsg.GroupInvite\";\n        };\n\n        return GroupInvite;\n    })();\n\n    return SysMsg;\n})();\n\nexport const Msg = $root.Msg = (() => {\n\n    /**\n     * Namespace Msg.\n     * @exports Msg\n     * @namespace\n     */\n    const Msg = {};\n\n    Msg.RoutingHead = (function() {\n\n        /**\n         * Properties of a RoutingHead.\n         * @memberof Msg\n         * @interface IRoutingHead\n         * @property {number|Long|null} [fromUin] RoutingHead fromUin\n         * @property {string|null} [fromUid] RoutingHead fromUid\n         * @property {number|null} [fromAppid] RoutingHead fromAppid\n         * @property {number|null} [fromInstid] RoutingHead fromInstid\n         * @property {number|Long|null} [toUin] RoutingHead toUin\n         * @property {string|null} [toUid] RoutingHead toUid\n         * @property {Msg.IC2c|null} [c2c] RoutingHead c2c\n         * @property {Msg.IGroup|null} [group] RoutingHead group\n         */\n\n        /**\n         * Constructs a new RoutingHead.\n         * @memberof Msg\n         * @classdesc Represents a RoutingHead.\n         * @implements IRoutingHead\n         * @constructor\n         * @param {Msg.IRoutingHead=} [properties] Properties to set\n         */\n        function RoutingHead(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * RoutingHead fromUin.\n         * @member {number|Long|null|undefined} fromUin\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.fromUin = null;\n\n        /**\n         * RoutingHead fromUid.\n         * @member {string|null|undefined} fromUid\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.fromUid = null;\n\n        /**\n         * RoutingHead fromAppid.\n         * @member {number|null|undefined} fromAppid\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.fromAppid = null;\n\n        /**\n         * RoutingHead fromInstid.\n         * @member {number|null|undefined} fromInstid\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.fromInstid = null;\n\n        /**\n         * RoutingHead toUin.\n         * @member {number|Long|null|undefined} toUin\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.toUin = null;\n\n        /**\n         * RoutingHead toUid.\n         * @member {string|null|undefined} toUid\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.toUid = null;\n\n        /**\n         * RoutingHead c2c.\n         * @member {Msg.IC2c|null|undefined} c2c\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.c2c = null;\n\n        /**\n         * RoutingHead group.\n         * @member {Msg.IGroup|null|undefined} group\n         * @memberof Msg.RoutingHead\n         * @instance\n         */\n        RoutingHead.prototype.group = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_fromUin\", {\n            get: $util.oneOfGetter($oneOfFields = [\"fromUin\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_fromUid\", {\n            get: $util.oneOfGetter($oneOfFields = [\"fromUid\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_fromAppid\", {\n            get: $util.oneOfGetter($oneOfFields = [\"fromAppid\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_fromInstid\", {\n            get: $util.oneOfGetter($oneOfFields = [\"fromInstid\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_toUin\", {\n            get: $util.oneOfGetter($oneOfFields = [\"toUin\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_toUid\", {\n            get: $util.oneOfGetter($oneOfFields = [\"toUid\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_c2c\", {\n            get: $util.oneOfGetter($oneOfFields = [\"c2c\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RoutingHead.prototype, \"_group\", {\n            get: $util.oneOfGetter($oneOfFields = [\"group\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified RoutingHead message. Does not implicitly {@link Msg.RoutingHead.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.RoutingHead\n         * @static\n         * @param {Msg.IRoutingHead} message RoutingHead message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        RoutingHead.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.fromUin != null && Object.hasOwnProperty.call(message, \"fromUin\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint64(message.fromUin);\n            if (message.fromUid != null && Object.hasOwnProperty.call(message, \"fromUid\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.fromUid);\n            if (message.fromAppid != null && Object.hasOwnProperty.call(message, \"fromAppid\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.fromAppid);\n            if (message.fromInstid != null && Object.hasOwnProperty.call(message, \"fromInstid\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.fromInstid);\n            if (message.toUin != null && Object.hasOwnProperty.call(message, \"toUin\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).uint64(message.toUin);\n            if (message.toUid != null && Object.hasOwnProperty.call(message, \"toUid\"))\n                writer.uint32(/* id 6, wireType 2 =*/50).string(message.toUid);\n            if (message.c2c != null && Object.hasOwnProperty.call(message, \"c2c\"))\n                $root.Msg.C2c.encode(message.c2c, writer.uint32(/* id 7, wireType 2 =*/58).fork()).ldelim();\n            if (message.group != null && Object.hasOwnProperty.call(message, \"group\"))\n                $root.Msg.Group.encode(message.group, writer.uint32(/* id 8, wireType 2 =*/66).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a RoutingHead message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.RoutingHead\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.RoutingHead} RoutingHead\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        RoutingHead.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.RoutingHead();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.fromUin = reader.uint64();\n                        break;\n                    }\n                case 2: {\n                        message.fromUid = reader.string();\n                        break;\n                    }\n                case 3: {\n                        message.fromAppid = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.fromInstid = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.toUin = reader.uint64();\n                        break;\n                    }\n                case 6: {\n                        message.toUid = reader.string();\n                        break;\n                    }\n                case 7: {\n                        message.c2c = $root.Msg.C2c.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 8: {\n                        message.group = $root.Msg.Group.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for RoutingHead\n         * @function getTypeUrl\n         * @memberof Msg.RoutingHead\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        RoutingHead.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.RoutingHead\";\n        };\n\n        return RoutingHead;\n    })();\n\n    Msg.C2c = (function() {\n\n        /**\n         * Properties of a C2c.\n         * @memberof Msg\n         * @interface IC2c\n         * @property {string|null} [friendName] C2c friendName\n         */\n\n        /**\n         * Constructs a new C2c.\n         * @memberof Msg\n         * @classdesc Represents a C2c.\n         * @implements IC2c\n         * @constructor\n         * @param {Msg.IC2c=} [properties] Properties to set\n         */\n        function C2c(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * C2c friendName.\n         * @member {string|null|undefined} friendName\n         * @memberof Msg.C2c\n         * @instance\n         */\n        C2c.prototype.friendName = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(C2c.prototype, \"_friendName\", {\n            get: $util.oneOfGetter($oneOfFields = [\"friendName\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified C2c message. Does not implicitly {@link Msg.C2c.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.C2c\n         * @static\n         * @param {Msg.IC2c} message C2c message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        C2c.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.friendName != null && Object.hasOwnProperty.call(message, \"friendName\"))\n                writer.uint32(/* id 6, wireType 2 =*/50).string(message.friendName);\n            return writer;\n        };\n\n        /**\n         * Decodes a C2c message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.C2c\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.C2c} C2c\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        C2c.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.C2c();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 6: {\n                        message.friendName = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for C2c\n         * @function getTypeUrl\n         * @memberof Msg.C2c\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        C2c.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.C2c\";\n        };\n\n        return C2c;\n    })();\n\n    Msg.Group = (function() {\n\n        /**\n         * Properties of a Group.\n         * @memberof Msg\n         * @interface IGroup\n         * @property {number|Long|null} [groupCode] Group groupCode\n         * @property {number|null} [groupType] Group groupType\n         * @property {number|Long|null} [groupInfoSeq] Group groupInfoSeq\n         * @property {string|null} [groupCard] Group groupCard\n         * @property {number|null} [groupCardType] Group groupCardType\n         * @property {number|null} [groupLevel] Group groupLevel\n         * @property {string|null} [groupName] Group groupName\n         * @property {string|null} [extGroupKeyInfo] Group extGroupKeyInfo\n         * @property {number|null} [msgFlag] Group msgFlag\n         */\n\n        /**\n         * Constructs a new Group.\n         * @memberof Msg\n         * @classdesc Represents a Group.\n         * @implements IGroup\n         * @constructor\n         * @param {Msg.IGroup=} [properties] Properties to set\n         */\n        function Group(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Group groupCode.\n         * @member {number|Long|null|undefined} groupCode\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupCode = null;\n\n        /**\n         * Group groupType.\n         * @member {number|null|undefined} groupType\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupType = null;\n\n        /**\n         * Group groupInfoSeq.\n         * @member {number|Long|null|undefined} groupInfoSeq\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupInfoSeq = null;\n\n        /**\n         * Group groupCard.\n         * @member {string|null|undefined} groupCard\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupCard = null;\n\n        /**\n         * Group groupCardType.\n         * @member {number|null|undefined} groupCardType\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupCardType = null;\n\n        /**\n         * Group groupLevel.\n         * @member {number|null|undefined} groupLevel\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupLevel = null;\n\n        /**\n         * Group groupName.\n         * @member {string|null|undefined} groupName\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.groupName = null;\n\n        /**\n         * Group extGroupKeyInfo.\n         * @member {string|null|undefined} extGroupKeyInfo\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.extGroupKeyInfo = null;\n\n        /**\n         * Group msgFlag.\n         * @member {number|null|undefined} msgFlag\n         * @memberof Msg.Group\n         * @instance\n         */\n        Group.prototype.msgFlag = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupCode\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupCode\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupType\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupType\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupInfoSeq\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupInfoSeq\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupCard\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupCard\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupCardType\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupCardType\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupLevel\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupLevel\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_groupName\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupName\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_extGroupKeyInfo\", {\n            get: $util.oneOfGetter($oneOfFields = [\"extGroupKeyInfo\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Group.prototype, \"_msgFlag\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgFlag\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Group message. Does not implicitly {@link Msg.Group.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.Group\n         * @static\n         * @param {Msg.IGroup} message Group message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Group.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.groupCode != null && Object.hasOwnProperty.call(message, \"groupCode\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint64(message.groupCode);\n            if (message.groupType != null && Object.hasOwnProperty.call(message, \"groupType\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.groupType);\n            if (message.groupInfoSeq != null && Object.hasOwnProperty.call(message, \"groupInfoSeq\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint64(message.groupInfoSeq);\n            if (message.groupCard != null && Object.hasOwnProperty.call(message, \"groupCard\"))\n                writer.uint32(/* id 4, wireType 2 =*/34).string(message.groupCard);\n            if (message.groupCardType != null && Object.hasOwnProperty.call(message, \"groupCardType\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).uint32(message.groupCardType);\n            if (message.groupLevel != null && Object.hasOwnProperty.call(message, \"groupLevel\"))\n                writer.uint32(/* id 6, wireType 0 =*/48).uint32(message.groupLevel);\n            if (message.groupName != null && Object.hasOwnProperty.call(message, \"groupName\"))\n                writer.uint32(/* id 7, wireType 2 =*/58).string(message.groupName);\n            if (message.extGroupKeyInfo != null && Object.hasOwnProperty.call(message, \"extGroupKeyInfo\"))\n                writer.uint32(/* id 8, wireType 2 =*/66).string(message.extGroupKeyInfo);\n            if (message.msgFlag != null && Object.hasOwnProperty.call(message, \"msgFlag\"))\n                writer.uint32(/* id 9, wireType 0 =*/72).uint32(message.msgFlag);\n            return writer;\n        };\n\n        /**\n         * Decodes a Group message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.Group\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.Group} Group\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Group.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.Group();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.groupCode = reader.uint64();\n                        break;\n                    }\n                case 2: {\n                        message.groupType = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.groupInfoSeq = reader.uint64();\n                        break;\n                    }\n                case 4: {\n                        message.groupCard = reader.string();\n                        break;\n                    }\n                case 5: {\n                        message.groupCardType = reader.uint32();\n                        break;\n                    }\n                case 6: {\n                        message.groupLevel = reader.uint32();\n                        break;\n                    }\n                case 7: {\n                        message.groupName = reader.string();\n                        break;\n                    }\n                case 8: {\n                        message.extGroupKeyInfo = reader.string();\n                        break;\n                    }\n                case 9: {\n                        message.msgFlag = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Group\n         * @function getTypeUrl\n         * @memberof Msg.Group\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Group.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.Group\";\n        };\n\n        return Group;\n    })();\n\n    Msg.ContentHead = (function() {\n\n        /**\n         * Properties of a ContentHead.\n         * @memberof Msg\n         * @interface IContentHead\n         * @property {number|Long|null} [msgType] ContentHead msgType\n         * @property {number|Long|null} [subType] ContentHead subType\n         * @property {number|null} [c2cCmd] ContentHead c2cCmd\n         * @property {number|Long|null} [random] ContentHead random\n         * @property {number|Long|null} [msgSeq] ContentHead msgSeq\n         * @property {number|Long|null} [msgTime] ContentHead msgTime\n         * @property {number|null} [pkgNum] ContentHead pkgNum\n         * @property {number|null} [pkgIndex] ContentHead pkgIndex\n         * @property {number|null} [divSeq] ContentHead divSeq\n         * @property {number|null} [autoReply] ContentHead autoReply\n         * @property {number|Long|null} [ntMsgSeq] ContentHead ntMsgSeq\n         * @property {number|Long|null} [msgUid] ContentHead msgUid\n         * @property {Msg.IContentHeadField15|null} [field15] ContentHead field15\n         */\n\n        /**\n         * Constructs a new ContentHead.\n         * @memberof Msg\n         * @classdesc Represents a ContentHead.\n         * @implements IContentHead\n         * @constructor\n         * @param {Msg.IContentHead=} [properties] Properties to set\n         */\n        function ContentHead(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * ContentHead msgType.\n         * @member {number|Long|null|undefined} msgType\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.msgType = null;\n\n        /**\n         * ContentHead subType.\n         * @member {number|Long|null|undefined} subType\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.subType = null;\n\n        /**\n         * ContentHead c2cCmd.\n         * @member {number|null|undefined} c2cCmd\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.c2cCmd = null;\n\n        /**\n         * ContentHead random.\n         * @member {number|Long|null|undefined} random\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.random = null;\n\n        /**\n         * ContentHead msgSeq.\n         * @member {number|Long|null|undefined} msgSeq\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.msgSeq = null;\n\n        /**\n         * ContentHead msgTime.\n         * @member {number|Long|null|undefined} msgTime\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.msgTime = null;\n\n        /**\n         * ContentHead pkgNum.\n         * @member {number|null|undefined} pkgNum\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.pkgNum = null;\n\n        /**\n         * ContentHead pkgIndex.\n         * @member {number|null|undefined} pkgIndex\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.pkgIndex = null;\n\n        /**\n         * ContentHead divSeq.\n         * @member {number|null|undefined} divSeq\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.divSeq = null;\n\n        /**\n         * ContentHead autoReply.\n         * @member {number|null|undefined} autoReply\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.autoReply = null;\n\n        /**\n         * ContentHead ntMsgSeq.\n         * @member {number|Long|null|undefined} ntMsgSeq\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.ntMsgSeq = null;\n\n        /**\n         * ContentHead msgUid.\n         * @member {number|Long|null|undefined} msgUid\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.msgUid = null;\n\n        /**\n         * ContentHead field15.\n         * @member {Msg.IContentHeadField15|null|undefined} field15\n         * @memberof Msg.ContentHead\n         * @instance\n         */\n        ContentHead.prototype.field15 = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_msgType\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgType\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_subType\", {\n            get: $util.oneOfGetter($oneOfFields = [\"subType\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_c2cCmd\", {\n            get: $util.oneOfGetter($oneOfFields = [\"c2cCmd\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_random\", {\n            get: $util.oneOfGetter($oneOfFields = [\"random\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_msgSeq\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgSeq\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_msgTime\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgTime\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_pkgNum\", {\n            get: $util.oneOfGetter($oneOfFields = [\"pkgNum\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_pkgIndex\", {\n            get: $util.oneOfGetter($oneOfFields = [\"pkgIndex\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_divSeq\", {\n            get: $util.oneOfGetter($oneOfFields = [\"divSeq\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_autoReply\", {\n            get: $util.oneOfGetter($oneOfFields = [\"autoReply\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_ntMsgSeq\", {\n            get: $util.oneOfGetter($oneOfFields = [\"ntMsgSeq\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_msgUid\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgUid\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHead.prototype, \"_field15\", {\n            get: $util.oneOfGetter($oneOfFields = [\"field15\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified ContentHead message. Does not implicitly {@link Msg.ContentHead.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.ContentHead\n         * @static\n         * @param {Msg.IContentHead} message ContentHead message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        ContentHead.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.msgType != null && Object.hasOwnProperty.call(message, \"msgType\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint64(message.msgType);\n            if (message.subType != null && Object.hasOwnProperty.call(message, \"subType\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint64(message.subType);\n            if (message.c2cCmd != null && Object.hasOwnProperty.call(message, \"c2cCmd\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.c2cCmd);\n            if (message.random != null && Object.hasOwnProperty.call(message, \"random\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint64(message.random);\n            if (message.msgSeq != null && Object.hasOwnProperty.call(message, \"msgSeq\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).uint64(message.msgSeq);\n            if (message.msgTime != null && Object.hasOwnProperty.call(message, \"msgTime\"))\n                writer.uint32(/* id 6, wireType 0 =*/48).uint64(message.msgTime);\n            if (message.pkgNum != null && Object.hasOwnProperty.call(message, \"pkgNum\"))\n                writer.uint32(/* id 7, wireType 0 =*/56).uint32(message.pkgNum);\n            if (message.pkgIndex != null && Object.hasOwnProperty.call(message, \"pkgIndex\"))\n                writer.uint32(/* id 8, wireType 0 =*/64).uint32(message.pkgIndex);\n            if (message.divSeq != null && Object.hasOwnProperty.call(message, \"divSeq\"))\n                writer.uint32(/* id 9, wireType 0 =*/72).uint32(message.divSeq);\n            if (message.autoReply != null && Object.hasOwnProperty.call(message, \"autoReply\"))\n                writer.uint32(/* id 10, wireType 0 =*/80).uint32(message.autoReply);\n            if (message.ntMsgSeq != null && Object.hasOwnProperty.call(message, \"ntMsgSeq\"))\n                writer.uint32(/* id 11, wireType 0 =*/88).uint64(message.ntMsgSeq);\n            if (message.msgUid != null && Object.hasOwnProperty.call(message, \"msgUid\"))\n                writer.uint32(/* id 12, wireType 0 =*/96).uint64(message.msgUid);\n            if (message.field15 != null && Object.hasOwnProperty.call(message, \"field15\"))\n                $root.Msg.ContentHeadField15.encode(message.field15, writer.uint32(/* id 15, wireType 2 =*/122).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a ContentHead message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.ContentHead\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.ContentHead} ContentHead\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        ContentHead.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.ContentHead();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.msgType = reader.uint64();\n                        break;\n                    }\n                case 2: {\n                        message.subType = reader.uint64();\n                        break;\n                    }\n                case 3: {\n                        message.c2cCmd = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.random = reader.uint64();\n                        break;\n                    }\n                case 5: {\n                        message.msgSeq = reader.uint64();\n                        break;\n                    }\n                case 6: {\n                        message.msgTime = reader.uint64();\n                        break;\n                    }\n                case 7: {\n                        message.pkgNum = reader.uint32();\n                        break;\n                    }\n                case 8: {\n                        message.pkgIndex = reader.uint32();\n                        break;\n                    }\n                case 9: {\n                        message.divSeq = reader.uint32();\n                        break;\n                    }\n                case 10: {\n                        message.autoReply = reader.uint32();\n                        break;\n                    }\n                case 11: {\n                        message.ntMsgSeq = reader.uint64();\n                        break;\n                    }\n                case 12: {\n                        message.msgUid = reader.uint64();\n                        break;\n                    }\n                case 15: {\n                        message.field15 = $root.Msg.ContentHeadField15.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for ContentHead\n         * @function getTypeUrl\n         * @memberof Msg.ContentHead\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        ContentHead.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.ContentHead\";\n        };\n\n        return ContentHead;\n    })();\n\n    Msg.ContentHeadField15 = (function() {\n\n        /**\n         * Properties of a ContentHeadField15.\n         * @memberof Msg\n         * @interface IContentHeadField15\n         * @property {number|null} [field1] ContentHeadField15 field1\n         * @property {number|null} [field2] ContentHeadField15 field2\n         * @property {number|null} [field3] ContentHeadField15 field3\n         * @property {string|null} [field4] ContentHeadField15 field4\n         * @property {string|null} [field5] ContentHeadField15 field5\n         */\n\n        /**\n         * Constructs a new ContentHeadField15.\n         * @memberof Msg\n         * @classdesc Represents a ContentHeadField15.\n         * @implements IContentHeadField15\n         * @constructor\n         * @param {Msg.IContentHeadField15=} [properties] Properties to set\n         */\n        function ContentHeadField15(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * ContentHeadField15 field1.\n         * @member {number|null|undefined} field1\n         * @memberof Msg.ContentHeadField15\n         * @instance\n         */\n        ContentHeadField15.prototype.field1 = null;\n\n        /**\n         * ContentHeadField15 field2.\n         * @member {number|null|undefined} field2\n         * @memberof Msg.ContentHeadField15\n         * @instance\n         */\n        ContentHeadField15.prototype.field2 = null;\n\n        /**\n         * ContentHeadField15 field3.\n         * @member {number|null|undefined} field3\n         * @memberof Msg.ContentHeadField15\n         * @instance\n         */\n        ContentHeadField15.prototype.field3 = null;\n\n        /**\n         * ContentHeadField15 field4.\n         * @member {string|null|undefined} field4\n         * @memberof Msg.ContentHeadField15\n         * @instance\n         */\n        ContentHeadField15.prototype.field4 = null;\n\n        /**\n         * ContentHeadField15 field5.\n         * @member {string|null|undefined} field5\n         * @memberof Msg.ContentHeadField15\n         * @instance\n         */\n        ContentHeadField15.prototype.field5 = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHeadField15.prototype, \"_field1\", {\n            get: $util.oneOfGetter($oneOfFields = [\"field1\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHeadField15.prototype, \"_field2\", {\n            get: $util.oneOfGetter($oneOfFields = [\"field2\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHeadField15.prototype, \"_field3\", {\n            get: $util.oneOfGetter($oneOfFields = [\"field3\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHeadField15.prototype, \"_field4\", {\n            get: $util.oneOfGetter($oneOfFields = [\"field4\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(ContentHeadField15.prototype, \"_field5\", {\n            get: $util.oneOfGetter($oneOfFields = [\"field5\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified ContentHeadField15 message. Does not implicitly {@link Msg.ContentHeadField15.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.ContentHeadField15\n         * @static\n         * @param {Msg.IContentHeadField15} message ContentHeadField15 message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        ContentHeadField15.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.field1 != null && Object.hasOwnProperty.call(message, \"field1\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.field1);\n            if (message.field2 != null && Object.hasOwnProperty.call(message, \"field2\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.field2);\n            if (message.field3 != null && Object.hasOwnProperty.call(message, \"field3\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.field3);\n            if (message.field4 != null && Object.hasOwnProperty.call(message, \"field4\"))\n                writer.uint32(/* id 4, wireType 2 =*/34).string(message.field4);\n            if (message.field5 != null && Object.hasOwnProperty.call(message, \"field5\"))\n                writer.uint32(/* id 5, wireType 2 =*/42).string(message.field5);\n            return writer;\n        };\n\n        /**\n         * Decodes a ContentHeadField15 message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.ContentHeadField15\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.ContentHeadField15} ContentHeadField15\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        ContentHeadField15.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.ContentHeadField15();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.field1 = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.field2 = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.field3 = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.field4 = reader.string();\n                        break;\n                    }\n                case 5: {\n                        message.field5 = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for ContentHeadField15\n         * @function getTypeUrl\n         * @memberof Msg.ContentHeadField15\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        ContentHeadField15.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.ContentHeadField15\";\n        };\n\n        return ContentHeadField15;\n    })();\n\n    Msg.Message = (function() {\n\n        /**\n         * Properties of a Message.\n         * @memberof Msg\n         * @interface IMessage\n         * @property {Msg.IRoutingHead|null} [routingHead] Message routingHead\n         * @property {Msg.IContentHead|null} [contentHead] Message contentHead\n         * @property {Msg.IMessageBody|null} [body] Message body\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof Msg\n         * @classdesc Represents a Message.\n         * @implements IMessage\n         * @constructor\n         * @param {Msg.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Message routingHead.\n         * @member {Msg.IRoutingHead|null|undefined} routingHead\n         * @memberof Msg.Message\n         * @instance\n         */\n        Message.prototype.routingHead = null;\n\n        /**\n         * Message contentHead.\n         * @member {Msg.IContentHead|null|undefined} contentHead\n         * @memberof Msg.Message\n         * @instance\n         */\n        Message.prototype.contentHead = null;\n\n        /**\n         * Message body.\n         * @member {Msg.IMessageBody|null|undefined} body\n         * @memberof Msg.Message\n         * @instance\n         */\n        Message.prototype.body = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Message.prototype, \"_routingHead\", {\n            get: $util.oneOfGetter($oneOfFields = [\"routingHead\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Message.prototype, \"_contentHead\", {\n            get: $util.oneOfGetter($oneOfFields = [\"contentHead\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Message.prototype, \"_body\", {\n            get: $util.oneOfGetter($oneOfFields = [\"body\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link Msg.Message.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.Message\n         * @static\n         * @param {Msg.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.routingHead != null && Object.hasOwnProperty.call(message, \"routingHead\"))\n                $root.Msg.RoutingHead.encode(message.routingHead, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.contentHead != null && Object.hasOwnProperty.call(message, \"contentHead\"))\n                $root.Msg.ContentHead.encode(message.contentHead, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.body != null && Object.hasOwnProperty.call(message, \"body\"))\n                $root.Msg.MessageBody.encode(message.body, writer.uint32(/* id 3, wireType 2 =*/26).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.Message();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.routingHead = $root.Msg.RoutingHead.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        message.contentHead = $root.Msg.ContentHead.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 3: {\n                        message.body = $root.Msg.MessageBody.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Message\n         * @function getTypeUrl\n         * @memberof Msg.Message\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Message.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.Message\";\n        };\n\n        return Message;\n    })();\n\n    Msg.MessageBody = (function() {\n\n        /**\n         * Properties of a MessageBody.\n         * @memberof Msg\n         * @interface IMessageBody\n         * @property {Msg.IRichText|null} [richText] MessageBody richText\n         * @property {Uint8Array|null} [msgContent] MessageBody msgContent\n         * @property {Uint8Array|null} [msgEncryptContent] MessageBody msgEncryptContent\n         */\n\n        /**\n         * Constructs a new MessageBody.\n         * @memberof Msg\n         * @classdesc Represents a MessageBody.\n         * @implements IMessageBody\n         * @constructor\n         * @param {Msg.IMessageBody=} [properties] Properties to set\n         */\n        function MessageBody(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * MessageBody richText.\n         * @member {Msg.IRichText|null|undefined} richText\n         * @memberof Msg.MessageBody\n         * @instance\n         */\n        MessageBody.prototype.richText = null;\n\n        /**\n         * MessageBody msgContent.\n         * @member {Uint8Array|null|undefined} msgContent\n         * @memberof Msg.MessageBody\n         * @instance\n         */\n        MessageBody.prototype.msgContent = null;\n\n        /**\n         * MessageBody msgEncryptContent.\n         * @member {Uint8Array|null|undefined} msgEncryptContent\n         * @memberof Msg.MessageBody\n         * @instance\n         */\n        MessageBody.prototype.msgEncryptContent = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(MessageBody.prototype, \"_richText\", {\n            get: $util.oneOfGetter($oneOfFields = [\"richText\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(MessageBody.prototype, \"_msgContent\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgContent\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(MessageBody.prototype, \"_msgEncryptContent\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgEncryptContent\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified MessageBody message. Does not implicitly {@link Msg.MessageBody.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.MessageBody\n         * @static\n         * @param {Msg.IMessageBody} message MessageBody message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        MessageBody.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.richText != null && Object.hasOwnProperty.call(message, \"richText\"))\n                $root.Msg.RichText.encode(message.richText, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.msgContent != null && Object.hasOwnProperty.call(message, \"msgContent\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).bytes(message.msgContent);\n            if (message.msgEncryptContent != null && Object.hasOwnProperty.call(message, \"msgEncryptContent\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).bytes(message.msgEncryptContent);\n            return writer;\n        };\n\n        /**\n         * Decodes a MessageBody message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.MessageBody\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.MessageBody} MessageBody\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        MessageBody.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.MessageBody();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.richText = $root.Msg.RichText.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        message.msgContent = reader.bytes();\n                        break;\n                    }\n                case 3: {\n                        message.msgEncryptContent = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for MessageBody\n         * @function getTypeUrl\n         * @memberof Msg.MessageBody\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        MessageBody.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.MessageBody\";\n        };\n\n        return MessageBody;\n    })();\n\n    Msg.RichText = (function() {\n\n        /**\n         * Properties of a RichText.\n         * @memberof Msg\n         * @interface IRichText\n         * @property {Msg.IAttr|null} [attr] RichText attr\n         * @property {Array.<Msg.IElem>|null} [elems] RichText elems\n         */\n\n        /**\n         * Constructs a new RichText.\n         * @memberof Msg\n         * @classdesc Represents a RichText.\n         * @implements IRichText\n         * @constructor\n         * @param {Msg.IRichText=} [properties] Properties to set\n         */\n        function RichText(properties) {\n            this.elems = [];\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * RichText attr.\n         * @member {Msg.IAttr|null|undefined} attr\n         * @memberof Msg.RichText\n         * @instance\n         */\n        RichText.prototype.attr = null;\n\n        /**\n         * RichText elems.\n         * @member {Array.<Msg.IElem>} elems\n         * @memberof Msg.RichText\n         * @instance\n         */\n        RichText.prototype.elems = $util.emptyArray;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(RichText.prototype, \"_attr\", {\n            get: $util.oneOfGetter($oneOfFields = [\"attr\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified RichText message. Does not implicitly {@link Msg.RichText.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.RichText\n         * @static\n         * @param {Msg.IRichText} message RichText message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        RichText.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.attr != null && Object.hasOwnProperty.call(message, \"attr\"))\n                $root.Msg.Attr.encode(message.attr, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.elems != null && message.elems.length)\n                for (let i = 0; i < message.elems.length; ++i)\n                    $root.Msg.Elem.encode(message.elems[i], writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a RichText message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.RichText\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.RichText} RichText\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        RichText.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.RichText();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.attr = $root.Msg.Attr.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        if (!(message.elems && message.elems.length))\n                            message.elems = [];\n                        message.elems.push($root.Msg.Elem.decode(reader, reader.uint32()));\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for RichText\n         * @function getTypeUrl\n         * @memberof Msg.RichText\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        RichText.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.RichText\";\n        };\n\n        return RichText;\n    })();\n\n    Msg.Elem = (function() {\n\n        /**\n         * Properties of an Elem.\n         * @memberof Msg\n         * @interface IElem\n         * @property {Msg.IText|null} [text] Elem text\n         * @property {Msg.IFace|null} [face] Elem face\n         * @property {Msg.ILightAppElem|null} [lightApp] Elem lightApp\n         * @property {Msg.ICommonElem|null} [commonElem] Elem commonElem\n         */\n\n        /**\n         * Constructs a new Elem.\n         * @memberof Msg\n         * @classdesc Represents an Elem.\n         * @implements IElem\n         * @constructor\n         * @param {Msg.IElem=} [properties] Properties to set\n         */\n        function Elem(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Elem text.\n         * @member {Msg.IText|null|undefined} text\n         * @memberof Msg.Elem\n         * @instance\n         */\n        Elem.prototype.text = null;\n\n        /**\n         * Elem face.\n         * @member {Msg.IFace|null|undefined} face\n         * @memberof Msg.Elem\n         * @instance\n         */\n        Elem.prototype.face = null;\n\n        /**\n         * Elem lightApp.\n         * @member {Msg.ILightAppElem|null|undefined} lightApp\n         * @memberof Msg.Elem\n         * @instance\n         */\n        Elem.prototype.lightApp = null;\n\n        /**\n         * Elem commonElem.\n         * @member {Msg.ICommonElem|null|undefined} commonElem\n         * @memberof Msg.Elem\n         * @instance\n         */\n        Elem.prototype.commonElem = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Elem.prototype, \"_text\", {\n            get: $util.oneOfGetter($oneOfFields = [\"text\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Elem.prototype, \"_face\", {\n            get: $util.oneOfGetter($oneOfFields = [\"face\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Elem.prototype, \"_lightApp\", {\n            get: $util.oneOfGetter($oneOfFields = [\"lightApp\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Elem.prototype, \"_commonElem\", {\n            get: $util.oneOfGetter($oneOfFields = [\"commonElem\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Elem message. Does not implicitly {@link Msg.Elem.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.Elem\n         * @static\n         * @param {Msg.IElem} message Elem message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Elem.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.text != null && Object.hasOwnProperty.call(message, \"text\"))\n                $root.Msg.Text.encode(message.text, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.face != null && Object.hasOwnProperty.call(message, \"face\"))\n                $root.Msg.Face.encode(message.face, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.lightApp != null && Object.hasOwnProperty.call(message, \"lightApp\"))\n                $root.Msg.LightAppElem.encode(message.lightApp, writer.uint32(/* id 51, wireType 2 =*/410).fork()).ldelim();\n            if (message.commonElem != null && Object.hasOwnProperty.call(message, \"commonElem\"))\n                $root.Msg.CommonElem.encode(message.commonElem, writer.uint32(/* id 53, wireType 2 =*/426).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes an Elem message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.Elem\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.Elem} Elem\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Elem.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.Elem();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.text = $root.Msg.Text.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        message.face = $root.Msg.Face.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 51: {\n                        message.lightApp = $root.Msg.LightAppElem.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 53: {\n                        message.commonElem = $root.Msg.CommonElem.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Elem\n         * @function getTypeUrl\n         * @memberof Msg.Elem\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Elem.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.Elem\";\n        };\n\n        return Elem;\n    })();\n\n    Msg.Text = (function() {\n\n        /**\n         * Properties of a Text.\n         * @memberof Msg\n         * @interface IText\n         * @property {string|null} [str] Text str\n         * @property {string|null} [link] Text link\n         * @property {Uint8Array|null} [attr6Buf] Text attr6Buf\n         * @property {Uint8Array|null} [attr7Buf] Text attr7Buf\n         * @property {Uint8Array|null} [buf] Text buf\n         * @property {Uint8Array|null} [pbReserve] Text pbReserve\n         */\n\n        /**\n         * Constructs a new Text.\n         * @memberof Msg\n         * @classdesc Represents a Text.\n         * @implements IText\n         * @constructor\n         * @param {Msg.IText=} [properties] Properties to set\n         */\n        function Text(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Text str.\n         * @member {string|null|undefined} str\n         * @memberof Msg.Text\n         * @instance\n         */\n        Text.prototype.str = null;\n\n        /**\n         * Text link.\n         * @member {string|null|undefined} link\n         * @memberof Msg.Text\n         * @instance\n         */\n        Text.prototype.link = null;\n\n        /**\n         * Text attr6Buf.\n         * @member {Uint8Array|null|undefined} attr6Buf\n         * @memberof Msg.Text\n         * @instance\n         */\n        Text.prototype.attr6Buf = null;\n\n        /**\n         * Text attr7Buf.\n         * @member {Uint8Array|null|undefined} attr7Buf\n         * @memberof Msg.Text\n         * @instance\n         */\n        Text.prototype.attr7Buf = null;\n\n        /**\n         * Text buf.\n         * @member {Uint8Array|null|undefined} buf\n         * @memberof Msg.Text\n         * @instance\n         */\n        Text.prototype.buf = null;\n\n        /**\n         * Text pbReserve.\n         * @member {Uint8Array|null|undefined} pbReserve\n         * @memberof Msg.Text\n         * @instance\n         */\n        Text.prototype.pbReserve = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Text.prototype, \"_str\", {\n            get: $util.oneOfGetter($oneOfFields = [\"str\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Text.prototype, \"_link\", {\n            get: $util.oneOfGetter($oneOfFields = [\"link\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Text.prototype, \"_attr6Buf\", {\n            get: $util.oneOfGetter($oneOfFields = [\"attr6Buf\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Text.prototype, \"_attr7Buf\", {\n            get: $util.oneOfGetter($oneOfFields = [\"attr7Buf\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Text.prototype, \"_buf\", {\n            get: $util.oneOfGetter($oneOfFields = [\"buf\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Text.prototype, \"_pbReserve\", {\n            get: $util.oneOfGetter($oneOfFields = [\"pbReserve\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Text message. Does not implicitly {@link Msg.Text.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.Text\n         * @static\n         * @param {Msg.IText} message Text message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Text.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.str != null && Object.hasOwnProperty.call(message, \"str\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.str);\n            if (message.link != null && Object.hasOwnProperty.call(message, \"link\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.link);\n            if (message.attr6Buf != null && Object.hasOwnProperty.call(message, \"attr6Buf\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).bytes(message.attr6Buf);\n            if (message.attr7Buf != null && Object.hasOwnProperty.call(message, \"attr7Buf\"))\n                writer.uint32(/* id 4, wireType 2 =*/34).bytes(message.attr7Buf);\n            if (message.buf != null && Object.hasOwnProperty.call(message, \"buf\"))\n                writer.uint32(/* id 11, wireType 2 =*/90).bytes(message.buf);\n            if (message.pbReserve != null && Object.hasOwnProperty.call(message, \"pbReserve\"))\n                writer.uint32(/* id 12, wireType 2 =*/98).bytes(message.pbReserve);\n            return writer;\n        };\n\n        /**\n         * Decodes a Text message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.Text\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.Text} Text\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Text.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.Text();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.str = reader.string();\n                        break;\n                    }\n                case 2: {\n                        message.link = reader.string();\n                        break;\n                    }\n                case 3: {\n                        message.attr6Buf = reader.bytes();\n                        break;\n                    }\n                case 4: {\n                        message.attr7Buf = reader.bytes();\n                        break;\n                    }\n                case 11: {\n                        message.buf = reader.bytes();\n                        break;\n                    }\n                case 12: {\n                        message.pbReserve = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Text\n         * @function getTypeUrl\n         * @memberof Msg.Text\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Text.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.Text\";\n        };\n\n        return Text;\n    })();\n\n    Msg.Face = (function() {\n\n        /**\n         * Properties of a Face.\n         * @memberof Msg\n         * @interface IFace\n         * @property {number|null} [index] Face index\n         * @property {Uint8Array|null} [old] Face old\n         * @property {Uint8Array|null} [buf] Face buf\n         */\n\n        /**\n         * Constructs a new Face.\n         * @memberof Msg\n         * @classdesc Represents a Face.\n         * @implements IFace\n         * @constructor\n         * @param {Msg.IFace=} [properties] Properties to set\n         */\n        function Face(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Face index.\n         * @member {number|null|undefined} index\n         * @memberof Msg.Face\n         * @instance\n         */\n        Face.prototype.index = null;\n\n        /**\n         * Face old.\n         * @member {Uint8Array|null|undefined} old\n         * @memberof Msg.Face\n         * @instance\n         */\n        Face.prototype.old = null;\n\n        /**\n         * Face buf.\n         * @member {Uint8Array|null|undefined} buf\n         * @memberof Msg.Face\n         * @instance\n         */\n        Face.prototype.buf = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Face.prototype, \"_index\", {\n            get: $util.oneOfGetter($oneOfFields = [\"index\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Face.prototype, \"_old\", {\n            get: $util.oneOfGetter($oneOfFields = [\"old\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Face.prototype, \"_buf\", {\n            get: $util.oneOfGetter($oneOfFields = [\"buf\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Face message. Does not implicitly {@link Msg.Face.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.Face\n         * @static\n         * @param {Msg.IFace} message Face message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Face.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.index != null && Object.hasOwnProperty.call(message, \"index\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.index);\n            if (message.old != null && Object.hasOwnProperty.call(message, \"old\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).bytes(message.old);\n            if (message.buf != null && Object.hasOwnProperty.call(message, \"buf\"))\n                writer.uint32(/* id 11, wireType 2 =*/90).bytes(message.buf);\n            return writer;\n        };\n\n        /**\n         * Decodes a Face message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.Face\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.Face} Face\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Face.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.Face();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.index = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.old = reader.bytes();\n                        break;\n                    }\n                case 11: {\n                        message.buf = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Face\n         * @function getTypeUrl\n         * @memberof Msg.Face\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Face.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.Face\";\n        };\n\n        return Face;\n    })();\n\n    Msg.LightAppElem = (function() {\n\n        /**\n         * Properties of a LightAppElem.\n         * @memberof Msg\n         * @interface ILightAppElem\n         * @property {Uint8Array|null} [data] LightAppElem data\n         * @property {Uint8Array|null} [msgResid] LightAppElem msgResid\n         */\n\n        /**\n         * Constructs a new LightAppElem.\n         * @memberof Msg\n         * @classdesc Represents a LightAppElem.\n         * @implements ILightAppElem\n         * @constructor\n         * @param {Msg.ILightAppElem=} [properties] Properties to set\n         */\n        function LightAppElem(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * LightAppElem data.\n         * @member {Uint8Array|null|undefined} data\n         * @memberof Msg.LightAppElem\n         * @instance\n         */\n        LightAppElem.prototype.data = null;\n\n        /**\n         * LightAppElem msgResid.\n         * @member {Uint8Array|null|undefined} msgResid\n         * @memberof Msg.LightAppElem\n         * @instance\n         */\n        LightAppElem.prototype.msgResid = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(LightAppElem.prototype, \"_data\", {\n            get: $util.oneOfGetter($oneOfFields = [\"data\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(LightAppElem.prototype, \"_msgResid\", {\n            get: $util.oneOfGetter($oneOfFields = [\"msgResid\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified LightAppElem message. Does not implicitly {@link Msg.LightAppElem.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.LightAppElem\n         * @static\n         * @param {Msg.ILightAppElem} message LightAppElem message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        LightAppElem.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.data != null && Object.hasOwnProperty.call(message, \"data\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).bytes(message.data);\n            if (message.msgResid != null && Object.hasOwnProperty.call(message, \"msgResid\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).bytes(message.msgResid);\n            return writer;\n        };\n\n        /**\n         * Decodes a LightAppElem message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.LightAppElem\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.LightAppElem} LightAppElem\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        LightAppElem.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.LightAppElem();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.data = reader.bytes();\n                        break;\n                    }\n                case 2: {\n                        message.msgResid = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for LightAppElem\n         * @function getTypeUrl\n         * @memberof Msg.LightAppElem\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        LightAppElem.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.LightAppElem\";\n        };\n\n        return LightAppElem;\n    })();\n\n    Msg.CommonElem = (function() {\n\n        /**\n         * Properties of a CommonElem.\n         * @memberof Msg\n         * @interface ICommonElem\n         * @property {number|null} [serviceType] CommonElem serviceType\n         * @property {Uint8Array|null} [pbElem] CommonElem pbElem\n         * @property {number|null} [businessType] CommonElem businessType\n         */\n\n        /**\n         * Constructs a new CommonElem.\n         * @memberof Msg\n         * @classdesc Represents a CommonElem.\n         * @implements ICommonElem\n         * @constructor\n         * @param {Msg.ICommonElem=} [properties] Properties to set\n         */\n        function CommonElem(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * CommonElem serviceType.\n         * @member {number} serviceType\n         * @memberof Msg.CommonElem\n         * @instance\n         */\n        CommonElem.prototype.serviceType = 0;\n\n        /**\n         * CommonElem pbElem.\n         * @member {Uint8Array|null|undefined} pbElem\n         * @memberof Msg.CommonElem\n         * @instance\n         */\n        CommonElem.prototype.pbElem = null;\n\n        /**\n         * CommonElem businessType.\n         * @member {number|null|undefined} businessType\n         * @memberof Msg.CommonElem\n         * @instance\n         */\n        CommonElem.prototype.businessType = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(CommonElem.prototype, \"_pbElem\", {\n            get: $util.oneOfGetter($oneOfFields = [\"pbElem\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(CommonElem.prototype, \"_businessType\", {\n            get: $util.oneOfGetter($oneOfFields = [\"businessType\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified CommonElem message. Does not implicitly {@link Msg.CommonElem.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.CommonElem\n         * @static\n         * @param {Msg.ICommonElem} message CommonElem message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        CommonElem.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.serviceType != null && Object.hasOwnProperty.call(message, \"serviceType\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.serviceType);\n            if (message.pbElem != null && Object.hasOwnProperty.call(message, \"pbElem\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).bytes(message.pbElem);\n            if (message.businessType != null && Object.hasOwnProperty.call(message, \"businessType\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.businessType);\n            return writer;\n        };\n\n        /**\n         * Decodes a CommonElem message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.CommonElem\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.CommonElem} CommonElem\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        CommonElem.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.CommonElem();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.serviceType = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.pbElem = reader.bytes();\n                        break;\n                    }\n                case 3: {\n                        message.businessType = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for CommonElem\n         * @function getTypeUrl\n         * @memberof Msg.CommonElem\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        CommonElem.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.CommonElem\";\n        };\n\n        return CommonElem;\n    })();\n\n    Msg.Attr = (function() {\n\n        /**\n         * Properties of an Attr.\n         * @memberof Msg\n         * @interface IAttr\n         * @property {number|null} [codePage] Attr codePage\n         * @property {number|null} [time] Attr time\n         * @property {number|null} [random] Attr random\n         * @property {number|null} [color] Attr color\n         * @property {number|null} [size] Attr size\n         * @property {number|null} [effect] Attr effect\n         * @property {number|null} [charSet] Attr charSet\n         * @property {number|null} [pitchAndFamily] Attr pitchAndFamily\n         * @property {string|null} [fontName] Attr fontName\n         * @property {Uint8Array|null} [reserveData] Attr reserveData\n         */\n\n        /**\n         * Constructs a new Attr.\n         * @memberof Msg\n         * @classdesc Represents an Attr.\n         * @implements IAttr\n         * @constructor\n         * @param {Msg.IAttr=} [properties] Properties to set\n         */\n        function Attr(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Attr codePage.\n         * @member {number|null|undefined} codePage\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.codePage = null;\n\n        /**\n         * Attr time.\n         * @member {number|null|undefined} time\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.time = null;\n\n        /**\n         * Attr random.\n         * @member {number|null|undefined} random\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.random = null;\n\n        /**\n         * Attr color.\n         * @member {number|null|undefined} color\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.color = null;\n\n        /**\n         * Attr size.\n         * @member {number|null|undefined} size\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.size = null;\n\n        /**\n         * Attr effect.\n         * @member {number|null|undefined} effect\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.effect = null;\n\n        /**\n         * Attr charSet.\n         * @member {number|null|undefined} charSet\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.charSet = null;\n\n        /**\n         * Attr pitchAndFamily.\n         * @member {number|null|undefined} pitchAndFamily\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.pitchAndFamily = null;\n\n        /**\n         * Attr fontName.\n         * @member {string|null|undefined} fontName\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.fontName = null;\n\n        /**\n         * Attr reserveData.\n         * @member {Uint8Array|null|undefined} reserveData\n         * @memberof Msg.Attr\n         * @instance\n         */\n        Attr.prototype.reserveData = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_codePage\", {\n            get: $util.oneOfGetter($oneOfFields = [\"codePage\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_time\", {\n            get: $util.oneOfGetter($oneOfFields = [\"time\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_random\", {\n            get: $util.oneOfGetter($oneOfFields = [\"random\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_color\", {\n            get: $util.oneOfGetter($oneOfFields = [\"color\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_size\", {\n            get: $util.oneOfGetter($oneOfFields = [\"size\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_effect\", {\n            get: $util.oneOfGetter($oneOfFields = [\"effect\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_charSet\", {\n            get: $util.oneOfGetter($oneOfFields = [\"charSet\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_pitchAndFamily\", {\n            get: $util.oneOfGetter($oneOfFields = [\"pitchAndFamily\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_fontName\", {\n            get: $util.oneOfGetter($oneOfFields = [\"fontName\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(Attr.prototype, \"_reserveData\", {\n            get: $util.oneOfGetter($oneOfFields = [\"reserveData\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Attr message. Does not implicitly {@link Msg.Attr.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.Attr\n         * @static\n         * @param {Msg.IAttr} message Attr message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Attr.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.codePage != null && Object.hasOwnProperty.call(message, \"codePage\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).int32(message.codePage);\n            if (message.time != null && Object.hasOwnProperty.call(message, \"time\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).int32(message.time);\n            if (message.random != null && Object.hasOwnProperty.call(message, \"random\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).int32(message.random);\n            if (message.color != null && Object.hasOwnProperty.call(message, \"color\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).int32(message.color);\n            if (message.size != null && Object.hasOwnProperty.call(message, \"size\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).int32(message.size);\n            if (message.effect != null && Object.hasOwnProperty.call(message, \"effect\"))\n                writer.uint32(/* id 6, wireType 0 =*/48).int32(message.effect);\n            if (message.charSet != null && Object.hasOwnProperty.call(message, \"charSet\"))\n                writer.uint32(/* id 7, wireType 0 =*/56).int32(message.charSet);\n            if (message.pitchAndFamily != null && Object.hasOwnProperty.call(message, \"pitchAndFamily\"))\n                writer.uint32(/* id 8, wireType 0 =*/64).int32(message.pitchAndFamily);\n            if (message.fontName != null && Object.hasOwnProperty.call(message, \"fontName\"))\n                writer.uint32(/* id 9, wireType 2 =*/74).string(message.fontName);\n            if (message.reserveData != null && Object.hasOwnProperty.call(message, \"reserveData\"))\n                writer.uint32(/* id 10, wireType 2 =*/82).bytes(message.reserveData);\n            return writer;\n        };\n\n        /**\n         * Decodes an Attr message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.Attr\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.Attr} Attr\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Attr.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.Attr();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.codePage = reader.int32();\n                        break;\n                    }\n                case 2: {\n                        message.time = reader.int32();\n                        break;\n                    }\n                case 3: {\n                        message.random = reader.int32();\n                        break;\n                    }\n                case 4: {\n                        message.color = reader.int32();\n                        break;\n                    }\n                case 5: {\n                        message.size = reader.int32();\n                        break;\n                    }\n                case 6: {\n                        message.effect = reader.int32();\n                        break;\n                    }\n                case 7: {\n                        message.charSet = reader.int32();\n                        break;\n                    }\n                case 8: {\n                        message.pitchAndFamily = reader.int32();\n                        break;\n                    }\n                case 9: {\n                        message.fontName = reader.string();\n                        break;\n                    }\n                case 10: {\n                        message.reserveData = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Attr\n         * @function getTypeUrl\n         * @memberof Msg.Attr\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Attr.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.Attr\";\n        };\n\n        return Attr;\n    })();\n\n    Msg.MarkdownElem = (function() {\n\n        /**\n         * Properties of a MarkdownElem.\n         * @memberof Msg\n         * @interface IMarkdownElem\n         * @property {string|null} [content] MarkdownElem content\n         */\n\n        /**\n         * Constructs a new MarkdownElem.\n         * @memberof Msg\n         * @classdesc Represents a MarkdownElem.\n         * @implements IMarkdownElem\n         * @constructor\n         * @param {Msg.IMarkdownElem=} [properties] Properties to set\n         */\n        function MarkdownElem(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * MarkdownElem content.\n         * @member {string} content\n         * @memberof Msg.MarkdownElem\n         * @instance\n         */\n        MarkdownElem.prototype.content = \"\";\n\n        /**\n         * Encodes the specified MarkdownElem message. Does not implicitly {@link Msg.MarkdownElem.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.MarkdownElem\n         * @static\n         * @param {Msg.IMarkdownElem} message MarkdownElem message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        MarkdownElem.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.content != null && Object.hasOwnProperty.call(message, \"content\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.content);\n            return writer;\n        };\n\n        /**\n         * Decodes a MarkdownElem message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.MarkdownElem\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.MarkdownElem} MarkdownElem\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        MarkdownElem.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.MarkdownElem();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.content = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for MarkdownElem\n         * @function getTypeUrl\n         * @memberof Msg.MarkdownElem\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        MarkdownElem.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.MarkdownElem\";\n        };\n\n        return MarkdownElem;\n    })();\n\n    Msg.PbMultiMsgItem = (function() {\n\n        /**\n         * Properties of a PbMultiMsgItem.\n         * @memberof Msg\n         * @interface IPbMultiMsgItem\n         * @property {string|null} [fileName] PbMultiMsgItem fileName\n         * @property {Msg.IPbMultiMsgNew|null} [buffer] PbMultiMsgItem buffer\n         */\n\n        /**\n         * Constructs a new PbMultiMsgItem.\n         * @memberof Msg\n         * @classdesc Represents a PbMultiMsgItem.\n         * @implements IPbMultiMsgItem\n         * @constructor\n         * @param {Msg.IPbMultiMsgItem=} [properties] Properties to set\n         */\n        function PbMultiMsgItem(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PbMultiMsgItem fileName.\n         * @member {string} fileName\n         * @memberof Msg.PbMultiMsgItem\n         * @instance\n         */\n        PbMultiMsgItem.prototype.fileName = \"\";\n\n        /**\n         * PbMultiMsgItem buffer.\n         * @member {Msg.IPbMultiMsgNew|null|undefined} buffer\n         * @memberof Msg.PbMultiMsgItem\n         * @instance\n         */\n        PbMultiMsgItem.prototype.buffer = null;\n\n        /**\n         * Encodes the specified PbMultiMsgItem message. Does not implicitly {@link Msg.PbMultiMsgItem.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.PbMultiMsgItem\n         * @static\n         * @param {Msg.IPbMultiMsgItem} message PbMultiMsgItem message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PbMultiMsgItem.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.fileName != null && Object.hasOwnProperty.call(message, \"fileName\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.fileName);\n            if (message.buffer != null && Object.hasOwnProperty.call(message, \"buffer\"))\n                $root.Msg.PbMultiMsgNew.encode(message.buffer, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a PbMultiMsgItem message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.PbMultiMsgItem\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.PbMultiMsgItem} PbMultiMsgItem\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PbMultiMsgItem.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.PbMultiMsgItem();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.fileName = reader.string();\n                        break;\n                    }\n                case 2: {\n                        message.buffer = $root.Msg.PbMultiMsgNew.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PbMultiMsgItem\n         * @function getTypeUrl\n         * @memberof Msg.PbMultiMsgItem\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PbMultiMsgItem.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.PbMultiMsgItem\";\n        };\n\n        return PbMultiMsgItem;\n    })();\n\n    Msg.PbMultiMsgNew = (function() {\n\n        /**\n         * Properties of a PbMultiMsgNew.\n         * @memberof Msg\n         * @interface IPbMultiMsgNew\n         * @property {Array.<Msg.IMessage>|null} [msg] PbMultiMsgNew msg\n         */\n\n        /**\n         * Constructs a new PbMultiMsgNew.\n         * @memberof Msg\n         * @classdesc Represents a PbMultiMsgNew.\n         * @implements IPbMultiMsgNew\n         * @constructor\n         * @param {Msg.IPbMultiMsgNew=} [properties] Properties to set\n         */\n        function PbMultiMsgNew(properties) {\n            this.msg = [];\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PbMultiMsgNew msg.\n         * @member {Array.<Msg.IMessage>} msg\n         * @memberof Msg.PbMultiMsgNew\n         * @instance\n         */\n        PbMultiMsgNew.prototype.msg = $util.emptyArray;\n\n        /**\n         * Encodes the specified PbMultiMsgNew message. Does not implicitly {@link Msg.PbMultiMsgNew.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.PbMultiMsgNew\n         * @static\n         * @param {Msg.IPbMultiMsgNew} message PbMultiMsgNew message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PbMultiMsgNew.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.msg != null && message.msg.length)\n                for (let i = 0; i < message.msg.length; ++i)\n                    $root.Msg.Message.encode(message.msg[i], writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a PbMultiMsgNew message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.PbMultiMsgNew\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.PbMultiMsgNew} PbMultiMsgNew\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PbMultiMsgNew.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.PbMultiMsgNew();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        if (!(message.msg && message.msg.length))\n                            message.msg = [];\n                        message.msg.push($root.Msg.Message.decode(reader, reader.uint32()));\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PbMultiMsgNew\n         * @function getTypeUrl\n         * @memberof Msg.PbMultiMsgNew\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PbMultiMsgNew.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.PbMultiMsgNew\";\n        };\n\n        return PbMultiMsgNew;\n    })();\n\n    Msg.PbMultiMsgTransmit = (function() {\n\n        /**\n         * Properties of a PbMultiMsgTransmit.\n         * @memberof Msg\n         * @interface IPbMultiMsgTransmit\n         * @property {Array.<Msg.IMessage>|null} [msg] PbMultiMsgTransmit msg\n         * @property {Array.<Msg.IPbMultiMsgItem>|null} [pbItemList] PbMultiMsgTransmit pbItemList\n         */\n\n        /**\n         * Constructs a new PbMultiMsgTransmit.\n         * @memberof Msg\n         * @classdesc Represents a PbMultiMsgTransmit.\n         * @implements IPbMultiMsgTransmit\n         * @constructor\n         * @param {Msg.IPbMultiMsgTransmit=} [properties] Properties to set\n         */\n        function PbMultiMsgTransmit(properties) {\n            this.msg = [];\n            this.pbItemList = [];\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PbMultiMsgTransmit msg.\n         * @member {Array.<Msg.IMessage>} msg\n         * @memberof Msg.PbMultiMsgTransmit\n         * @instance\n         */\n        PbMultiMsgTransmit.prototype.msg = $util.emptyArray;\n\n        /**\n         * PbMultiMsgTransmit pbItemList.\n         * @member {Array.<Msg.IPbMultiMsgItem>} pbItemList\n         * @memberof Msg.PbMultiMsgTransmit\n         * @instance\n         */\n        PbMultiMsgTransmit.prototype.pbItemList = $util.emptyArray;\n\n        /**\n         * Encodes the specified PbMultiMsgTransmit message. Does not implicitly {@link Msg.PbMultiMsgTransmit.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.PbMultiMsgTransmit\n         * @static\n         * @param {Msg.IPbMultiMsgTransmit} message PbMultiMsgTransmit message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PbMultiMsgTransmit.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.msg != null && message.msg.length)\n                for (let i = 0; i < message.msg.length; ++i)\n                    $root.Msg.Message.encode(message.msg[i], writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.pbItemList != null && message.pbItemList.length)\n                for (let i = 0; i < message.pbItemList.length; ++i)\n                    $root.Msg.PbMultiMsgItem.encode(message.pbItemList[i], writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a PbMultiMsgTransmit message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.PbMultiMsgTransmit\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.PbMultiMsgTransmit} PbMultiMsgTransmit\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PbMultiMsgTransmit.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.PbMultiMsgTransmit();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        if (!(message.msg && message.msg.length))\n                            message.msg = [];\n                        message.msg.push($root.Msg.Message.decode(reader, reader.uint32()));\n                        break;\n                    }\n                case 2: {\n                        if (!(message.pbItemList && message.pbItemList.length))\n                            message.pbItemList = [];\n                        message.pbItemList.push($root.Msg.PbMultiMsgItem.decode(reader, reader.uint32()));\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PbMultiMsgTransmit\n         * @function getTypeUrl\n         * @memberof Msg.PbMultiMsgTransmit\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PbMultiMsgTransmit.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.PbMultiMsgTransmit\";\n        };\n\n        return PbMultiMsgTransmit;\n    })();\n\n    Msg.SendMsgRsp = (function() {\n\n        /**\n         * Properties of a SendMsgRsp.\n         * @memberof Msg\n         * @interface ISendMsgRsp\n         * @property {number|null} [retCode] SendMsgRsp retCode\n         * @property {string|null} [errMsg] SendMsgRsp errMsg\n         * @property {number|null} [groupSeq] SendMsgRsp groupSeq\n         * @property {number|null} [timestamp] SendMsgRsp timestamp\n         * @property {number|null} [privateSeq] SendMsgRsp privateSeq\n         */\n\n        /**\n         * Constructs a new SendMsgRsp.\n         * @memberof Msg\n         * @classdesc Represents a SendMsgRsp.\n         * @implements ISendMsgRsp\n         * @constructor\n         * @param {Msg.ISendMsgRsp=} [properties] Properties to set\n         */\n        function SendMsgRsp(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SendMsgRsp retCode.\n         * @member {number} retCode\n         * @memberof Msg.SendMsgRsp\n         * @instance\n         */\n        SendMsgRsp.prototype.retCode = 0;\n\n        /**\n         * SendMsgRsp errMsg.\n         * @member {string|null|undefined} errMsg\n         * @memberof Msg.SendMsgRsp\n         * @instance\n         */\n        SendMsgRsp.prototype.errMsg = null;\n\n        /**\n         * SendMsgRsp groupSeq.\n         * @member {number|null|undefined} groupSeq\n         * @memberof Msg.SendMsgRsp\n         * @instance\n         */\n        SendMsgRsp.prototype.groupSeq = null;\n\n        /**\n         * SendMsgRsp timestamp.\n         * @member {number|null|undefined} timestamp\n         * @memberof Msg.SendMsgRsp\n         * @instance\n         */\n        SendMsgRsp.prototype.timestamp = null;\n\n        /**\n         * SendMsgRsp privateSeq.\n         * @member {number|null|undefined} privateSeq\n         * @memberof Msg.SendMsgRsp\n         * @instance\n         */\n        SendMsgRsp.prototype.privateSeq = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(SendMsgRsp.prototype, \"_errMsg\", {\n            get: $util.oneOfGetter($oneOfFields = [\"errMsg\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(SendMsgRsp.prototype, \"_groupSeq\", {\n            get: $util.oneOfGetter($oneOfFields = [\"groupSeq\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(SendMsgRsp.prototype, \"_timestamp\", {\n            get: $util.oneOfGetter($oneOfFields = [\"timestamp\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        // Virtual OneOf for proto3 optional field\n        Object.defineProperty(SendMsgRsp.prototype, \"_privateSeq\", {\n            get: $util.oneOfGetter($oneOfFields = [\"privateSeq\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified SendMsgRsp message. Does not implicitly {@link Msg.SendMsgRsp.verify|verify} messages.\n         * @function encode\n         * @memberof Msg.SendMsgRsp\n         * @static\n         * @param {Msg.ISendMsgRsp} message SendMsgRsp message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SendMsgRsp.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.retCode != null && Object.hasOwnProperty.call(message, \"retCode\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).int32(message.retCode);\n            if (message.errMsg != null && Object.hasOwnProperty.call(message, \"errMsg\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.errMsg);\n            if (message.groupSeq != null && Object.hasOwnProperty.call(message, \"groupSeq\"))\n                writer.uint32(/* id 11, wireType 0 =*/88).int32(message.groupSeq);\n            if (message.timestamp != null && Object.hasOwnProperty.call(message, \"timestamp\"))\n                writer.uint32(/* id 12, wireType 0 =*/96).uint32(message.timestamp);\n            if (message.privateSeq != null && Object.hasOwnProperty.call(message, \"privateSeq\"))\n                writer.uint32(/* id 14, wireType 0 =*/112).int32(message.privateSeq);\n            return writer;\n        };\n\n        /**\n         * Decodes a SendMsgRsp message from the specified reader or buffer.\n         * @function decode\n         * @memberof Msg.SendMsgRsp\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Msg.SendMsgRsp} SendMsgRsp\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SendMsgRsp.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Msg.SendMsgRsp();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.retCode = reader.int32();\n                        break;\n                    }\n                case 2: {\n                        message.errMsg = reader.string();\n                        break;\n                    }\n                case 11: {\n                        message.groupSeq = reader.int32();\n                        break;\n                    }\n                case 12: {\n                        message.timestamp = reader.uint32();\n                        break;\n                    }\n                case 14: {\n                        message.privateSeq = reader.int32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SendMsgRsp\n         * @function getTypeUrl\n         * @memberof Msg.SendMsgRsp\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SendMsgRsp.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Msg.SendMsgRsp\";\n        };\n\n        return SendMsgRsp;\n    })();\n\n    return Msg;\n})();\n\nexport const RichMedia = $root.RichMedia = (() => {\n\n    /**\n     * Namespace RichMedia.\n     * @exports RichMedia\n     * @namespace\n     */\n    const RichMedia = {};\n\n    RichMedia.MsgInfo = (function() {\n\n        /**\n         * Properties of a MsgInfo.\n         * @memberof RichMedia\n         * @interface IMsgInfo\n         * @property {Array.<RichMedia.IMsgInfoBody>|null} [msgInfoBody] MsgInfo msgInfoBody\n         * @property {RichMedia.IExtBizInfo|null} [extBizInfo] MsgInfo extBizInfo\n         */\n\n        /**\n         * Constructs a new MsgInfo.\n         * @memberof RichMedia\n         * @classdesc Represents a MsgInfo.\n         * @implements IMsgInfo\n         * @constructor\n         * @param {RichMedia.IMsgInfo=} [properties] Properties to set\n         */\n        function MsgInfo(properties) {\n            this.msgInfoBody = [];\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * MsgInfo msgInfoBody.\n         * @member {Array.<RichMedia.IMsgInfoBody>} msgInfoBody\n         * @memberof RichMedia.MsgInfo\n         * @instance\n         */\n        MsgInfo.prototype.msgInfoBody = $util.emptyArray;\n\n        /**\n         * MsgInfo extBizInfo.\n         * @member {RichMedia.IExtBizInfo|null|undefined} extBizInfo\n         * @memberof RichMedia.MsgInfo\n         * @instance\n         */\n        MsgInfo.prototype.extBizInfo = null;\n\n        /**\n         * Encodes the specified MsgInfo message. Does not implicitly {@link RichMedia.MsgInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.MsgInfo\n         * @static\n         * @param {RichMedia.IMsgInfo} message MsgInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        MsgInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.msgInfoBody != null && message.msgInfoBody.length)\n                for (let i = 0; i < message.msgInfoBody.length; ++i)\n                    $root.RichMedia.MsgInfoBody.encode(message.msgInfoBody[i], writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.extBizInfo != null && Object.hasOwnProperty.call(message, \"extBizInfo\"))\n                $root.RichMedia.ExtBizInfo.encode(message.extBizInfo, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a MsgInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.MsgInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.MsgInfo} MsgInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        MsgInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.MsgInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        if (!(message.msgInfoBody && message.msgInfoBody.length))\n                            message.msgInfoBody = [];\n                        message.msgInfoBody.push($root.RichMedia.MsgInfoBody.decode(reader, reader.uint32()));\n                        break;\n                    }\n                case 2: {\n                        message.extBizInfo = $root.RichMedia.ExtBizInfo.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for MsgInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.MsgInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        MsgInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.MsgInfo\";\n        };\n\n        return MsgInfo;\n    })();\n\n    RichMedia.MsgInfoBody = (function() {\n\n        /**\n         * Properties of a MsgInfoBody.\n         * @memberof RichMedia\n         * @interface IMsgInfoBody\n         * @property {RichMedia.IIndexNode|null} [index] MsgInfoBody index\n         * @property {RichMedia.IPicInfo|null} [pic] MsgInfoBody pic\n         * @property {boolean|null} [fileExist] MsgInfoBody fileExist\n         */\n\n        /**\n         * Constructs a new MsgInfoBody.\n         * @memberof RichMedia\n         * @classdesc Represents a MsgInfoBody.\n         * @implements IMsgInfoBody\n         * @constructor\n         * @param {RichMedia.IMsgInfoBody=} [properties] Properties to set\n         */\n        function MsgInfoBody(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * MsgInfoBody index.\n         * @member {RichMedia.IIndexNode|null|undefined} index\n         * @memberof RichMedia.MsgInfoBody\n         * @instance\n         */\n        MsgInfoBody.prototype.index = null;\n\n        /**\n         * MsgInfoBody pic.\n         * @member {RichMedia.IPicInfo|null|undefined} pic\n         * @memberof RichMedia.MsgInfoBody\n         * @instance\n         */\n        MsgInfoBody.prototype.pic = null;\n\n        /**\n         * MsgInfoBody fileExist.\n         * @member {boolean} fileExist\n         * @memberof RichMedia.MsgInfoBody\n         * @instance\n         */\n        MsgInfoBody.prototype.fileExist = false;\n\n        /**\n         * Encodes the specified MsgInfoBody message. Does not implicitly {@link RichMedia.MsgInfoBody.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.MsgInfoBody\n         * @static\n         * @param {RichMedia.IMsgInfoBody} message MsgInfoBody message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        MsgInfoBody.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.index != null && Object.hasOwnProperty.call(message, \"index\"))\n                $root.RichMedia.IndexNode.encode(message.index, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.pic != null && Object.hasOwnProperty.call(message, \"pic\"))\n                $root.RichMedia.PicInfo.encode(message.pic, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.fileExist != null && Object.hasOwnProperty.call(message, \"fileExist\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).bool(message.fileExist);\n            return writer;\n        };\n\n        /**\n         * Decodes a MsgInfoBody message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.MsgInfoBody\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.MsgInfoBody} MsgInfoBody\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        MsgInfoBody.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.MsgInfoBody();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.index = $root.RichMedia.IndexNode.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        message.pic = $root.RichMedia.PicInfo.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 5: {\n                        message.fileExist = reader.bool();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for MsgInfoBody\n         * @function getTypeUrl\n         * @memberof RichMedia.MsgInfoBody\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        MsgInfoBody.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.MsgInfoBody\";\n        };\n\n        return MsgInfoBody;\n    })();\n\n    RichMedia.IndexNode = (function() {\n\n        /**\n         * Properties of an IndexNode.\n         * @memberof RichMedia\n         * @interface IIndexNode\n         * @property {RichMedia.IFileInfo|null} [info] IndexNode info\n         * @property {string|null} [fileUuid] IndexNode fileUuid\n         * @property {number|null} [storeID] IndexNode storeID\n         * @property {number|null} [uploadTime] IndexNode uploadTime\n         * @property {number|null} [expire] IndexNode expire\n         * @property {number|null} [type] IndexNode type\n         */\n\n        /**\n         * Constructs a new IndexNode.\n         * @memberof RichMedia\n         * @classdesc Represents an IndexNode.\n         * @implements IIndexNode\n         * @constructor\n         * @param {RichMedia.IIndexNode=} [properties] Properties to set\n         */\n        function IndexNode(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * IndexNode info.\n         * @member {RichMedia.IFileInfo|null|undefined} info\n         * @memberof RichMedia.IndexNode\n         * @instance\n         */\n        IndexNode.prototype.info = null;\n\n        /**\n         * IndexNode fileUuid.\n         * @member {string} fileUuid\n         * @memberof RichMedia.IndexNode\n         * @instance\n         */\n        IndexNode.prototype.fileUuid = \"\";\n\n        /**\n         * IndexNode storeID.\n         * @member {number} storeID\n         * @memberof RichMedia.IndexNode\n         * @instance\n         */\n        IndexNode.prototype.storeID = 0;\n\n        /**\n         * IndexNode uploadTime.\n         * @member {number} uploadTime\n         * @memberof RichMedia.IndexNode\n         * @instance\n         */\n        IndexNode.prototype.uploadTime = 0;\n\n        /**\n         * IndexNode expire.\n         * @member {number} expire\n         * @memberof RichMedia.IndexNode\n         * @instance\n         */\n        IndexNode.prototype.expire = 0;\n\n        /**\n         * IndexNode type.\n         * @member {number} type\n         * @memberof RichMedia.IndexNode\n         * @instance\n         */\n        IndexNode.prototype.type = 0;\n\n        /**\n         * Encodes the specified IndexNode message. Does not implicitly {@link RichMedia.IndexNode.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.IndexNode\n         * @static\n         * @param {RichMedia.IIndexNode} message IndexNode message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        IndexNode.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.info != null && Object.hasOwnProperty.call(message, \"info\"))\n                $root.RichMedia.FileInfo.encode(message.info, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.fileUuid != null && Object.hasOwnProperty.call(message, \"fileUuid\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.fileUuid);\n            if (message.storeID != null && Object.hasOwnProperty.call(message, \"storeID\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.storeID);\n            if (message.uploadTime != null && Object.hasOwnProperty.call(message, \"uploadTime\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.uploadTime);\n            if (message.expire != null && Object.hasOwnProperty.call(message, \"expire\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).uint32(message.expire);\n            if (message.type != null && Object.hasOwnProperty.call(message, \"type\"))\n                writer.uint32(/* id 6, wireType 0 =*/48).uint32(message.type);\n            return writer;\n        };\n\n        /**\n         * Decodes an IndexNode message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.IndexNode\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.IndexNode} IndexNode\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        IndexNode.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.IndexNode();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.info = $root.RichMedia.FileInfo.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        message.fileUuid = reader.string();\n                        break;\n                    }\n                case 3: {\n                        message.storeID = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.uploadTime = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.expire = reader.uint32();\n                        break;\n                    }\n                case 6: {\n                        message.type = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for IndexNode\n         * @function getTypeUrl\n         * @memberof RichMedia.IndexNode\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        IndexNode.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.IndexNode\";\n        };\n\n        return IndexNode;\n    })();\n\n    RichMedia.FileInfo = (function() {\n\n        /**\n         * Properties of a FileInfo.\n         * @memberof RichMedia\n         * @interface IFileInfo\n         * @property {number|null} [fileSize] FileInfo fileSize\n         * @property {string|null} [md5HexStr] FileInfo md5HexStr\n         * @property {string|null} [sha1HexStr] FileInfo sha1HexStr\n         * @property {string|null} [fileName] FileInfo fileName\n         * @property {RichMedia.IFileType|null} [fileType] FileInfo fileType\n         * @property {number|null} [width] FileInfo width\n         * @property {number|null} [height] FileInfo height\n         * @property {number|null} [time] FileInfo time\n         * @property {number|null} [original] FileInfo original\n         */\n\n        /**\n         * Constructs a new FileInfo.\n         * @memberof RichMedia\n         * @classdesc Represents a FileInfo.\n         * @implements IFileInfo\n         * @constructor\n         * @param {RichMedia.IFileInfo=} [properties] Properties to set\n         */\n        function FileInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * FileInfo fileSize.\n         * @member {number} fileSize\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.fileSize = 0;\n\n        /**\n         * FileInfo md5HexStr.\n         * @member {string} md5HexStr\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.md5HexStr = \"\";\n\n        /**\n         * FileInfo sha1HexStr.\n         * @member {string} sha1HexStr\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.sha1HexStr = \"\";\n\n        /**\n         * FileInfo fileName.\n         * @member {string} fileName\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.fileName = \"\";\n\n        /**\n         * FileInfo fileType.\n         * @member {RichMedia.IFileType|null|undefined} fileType\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.fileType = null;\n\n        /**\n         * FileInfo width.\n         * @member {number} width\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.width = 0;\n\n        /**\n         * FileInfo height.\n         * @member {number} height\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.height = 0;\n\n        /**\n         * FileInfo time.\n         * @member {number} time\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.time = 0;\n\n        /**\n         * FileInfo original.\n         * @member {number} original\n         * @memberof RichMedia.FileInfo\n         * @instance\n         */\n        FileInfo.prototype.original = 0;\n\n        /**\n         * Encodes the specified FileInfo message. Does not implicitly {@link RichMedia.FileInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.FileInfo\n         * @static\n         * @param {RichMedia.IFileInfo} message FileInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        FileInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.fileSize != null && Object.hasOwnProperty.call(message, \"fileSize\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.fileSize);\n            if (message.md5HexStr != null && Object.hasOwnProperty.call(message, \"md5HexStr\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.md5HexStr);\n            if (message.sha1HexStr != null && Object.hasOwnProperty.call(message, \"sha1HexStr\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).string(message.sha1HexStr);\n            if (message.fileName != null && Object.hasOwnProperty.call(message, \"fileName\"))\n                writer.uint32(/* id 4, wireType 2 =*/34).string(message.fileName);\n            if (message.fileType != null && Object.hasOwnProperty.call(message, \"fileType\"))\n                $root.RichMedia.FileType.encode(message.fileType, writer.uint32(/* id 5, wireType 2 =*/42).fork()).ldelim();\n            if (message.width != null && Object.hasOwnProperty.call(message, \"width\"))\n                writer.uint32(/* id 6, wireType 0 =*/48).uint32(message.width);\n            if (message.height != null && Object.hasOwnProperty.call(message, \"height\"))\n                writer.uint32(/* id 7, wireType 0 =*/56).uint32(message.height);\n            if (message.time != null && Object.hasOwnProperty.call(message, \"time\"))\n                writer.uint32(/* id 8, wireType 0 =*/64).uint32(message.time);\n            if (message.original != null && Object.hasOwnProperty.call(message, \"original\"))\n                writer.uint32(/* id 9, wireType 0 =*/72).uint32(message.original);\n            return writer;\n        };\n\n        /**\n         * Decodes a FileInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.FileInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.FileInfo} FileInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        FileInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.FileInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.fileSize = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.md5HexStr = reader.string();\n                        break;\n                    }\n                case 3: {\n                        message.sha1HexStr = reader.string();\n                        break;\n                    }\n                case 4: {\n                        message.fileName = reader.string();\n                        break;\n                    }\n                case 5: {\n                        message.fileType = $root.RichMedia.FileType.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 6: {\n                        message.width = reader.uint32();\n                        break;\n                    }\n                case 7: {\n                        message.height = reader.uint32();\n                        break;\n                    }\n                case 8: {\n                        message.time = reader.uint32();\n                        break;\n                    }\n                case 9: {\n                        message.original = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for FileInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.FileInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        FileInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.FileInfo\";\n        };\n\n        return FileInfo;\n    })();\n\n    RichMedia.FileType = (function() {\n\n        /**\n         * Properties of a FileType.\n         * @memberof RichMedia\n         * @interface IFileType\n         * @property {number|null} [type] FileType type\n         * @property {number|null} [picFormat] FileType picFormat\n         * @property {number|null} [videoFormat] FileType videoFormat\n         * @property {number|null} [pttFormat] FileType pttFormat\n         */\n\n        /**\n         * Constructs a new FileType.\n         * @memberof RichMedia\n         * @classdesc Represents a FileType.\n         * @implements IFileType\n         * @constructor\n         * @param {RichMedia.IFileType=} [properties] Properties to set\n         */\n        function FileType(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * FileType type.\n         * @member {number} type\n         * @memberof RichMedia.FileType\n         * @instance\n         */\n        FileType.prototype.type = 0;\n\n        /**\n         * FileType picFormat.\n         * @member {number} picFormat\n         * @memberof RichMedia.FileType\n         * @instance\n         */\n        FileType.prototype.picFormat = 0;\n\n        /**\n         * FileType videoFormat.\n         * @member {number} videoFormat\n         * @memberof RichMedia.FileType\n         * @instance\n         */\n        FileType.prototype.videoFormat = 0;\n\n        /**\n         * FileType pttFormat.\n         * @member {number} pttFormat\n         * @memberof RichMedia.FileType\n         * @instance\n         */\n        FileType.prototype.pttFormat = 0;\n\n        /**\n         * Encodes the specified FileType message. Does not implicitly {@link RichMedia.FileType.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.FileType\n         * @static\n         * @param {RichMedia.IFileType} message FileType message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        FileType.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.type != null && Object.hasOwnProperty.call(message, \"type\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.type);\n            if (message.picFormat != null && Object.hasOwnProperty.call(message, \"picFormat\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.picFormat);\n            if (message.videoFormat != null && Object.hasOwnProperty.call(message, \"videoFormat\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.videoFormat);\n            if (message.pttFormat != null && Object.hasOwnProperty.call(message, \"pttFormat\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.pttFormat);\n            return writer;\n        };\n\n        /**\n         * Decodes a FileType message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.FileType\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.FileType} FileType\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        FileType.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.FileType();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.type = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.picFormat = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.videoFormat = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.pttFormat = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for FileType\n         * @function getTypeUrl\n         * @memberof RichMedia.FileType\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        FileType.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.FileType\";\n        };\n\n        return FileType;\n    })();\n\n    RichMedia.PicInfo = (function() {\n\n        /**\n         * Properties of a PicInfo.\n         * @memberof RichMedia\n         * @interface IPicInfo\n         * @property {string|null} [urlPath] PicInfo urlPath\n         * @property {RichMedia.IPicUrlExtParams|null} [ext] PicInfo ext\n         * @property {string|null} [domain] PicInfo domain\n         */\n\n        /**\n         * Constructs a new PicInfo.\n         * @memberof RichMedia\n         * @classdesc Represents a PicInfo.\n         * @implements IPicInfo\n         * @constructor\n         * @param {RichMedia.IPicInfo=} [properties] Properties to set\n         */\n        function PicInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PicInfo urlPath.\n         * @member {string} urlPath\n         * @memberof RichMedia.PicInfo\n         * @instance\n         */\n        PicInfo.prototype.urlPath = \"\";\n\n        /**\n         * PicInfo ext.\n         * @member {RichMedia.IPicUrlExtParams|null|undefined} ext\n         * @memberof RichMedia.PicInfo\n         * @instance\n         */\n        PicInfo.prototype.ext = null;\n\n        /**\n         * PicInfo domain.\n         * @member {string} domain\n         * @memberof RichMedia.PicInfo\n         * @instance\n         */\n        PicInfo.prototype.domain = \"\";\n\n        /**\n         * Encodes the specified PicInfo message. Does not implicitly {@link RichMedia.PicInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.PicInfo\n         * @static\n         * @param {RichMedia.IPicInfo} message PicInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PicInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.urlPath != null && Object.hasOwnProperty.call(message, \"urlPath\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.urlPath);\n            if (message.ext != null && Object.hasOwnProperty.call(message, \"ext\"))\n                $root.RichMedia.PicUrlExtParams.encode(message.ext, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.domain != null && Object.hasOwnProperty.call(message, \"domain\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).string(message.domain);\n            return writer;\n        };\n\n        /**\n         * Decodes a PicInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.PicInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.PicInfo} PicInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PicInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.PicInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.urlPath = reader.string();\n                        break;\n                    }\n                case 2: {\n                        message.ext = $root.RichMedia.PicUrlExtParams.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 3: {\n                        message.domain = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PicInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.PicInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PicInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.PicInfo\";\n        };\n\n        return PicInfo;\n    })();\n\n    RichMedia.PicUrlExtParams = (function() {\n\n        /**\n         * Properties of a PicUrlExtParams.\n         * @memberof RichMedia\n         * @interface IPicUrlExtParams\n         * @property {string|null} [originalParam] PicUrlExtParams originalParam\n         * @property {string|null} [bigParam] PicUrlExtParams bigParam\n         * @property {string|null} [thumbParam] PicUrlExtParams thumbParam\n         */\n\n        /**\n         * Constructs a new PicUrlExtParams.\n         * @memberof RichMedia\n         * @classdesc Represents a PicUrlExtParams.\n         * @implements IPicUrlExtParams\n         * @constructor\n         * @param {RichMedia.IPicUrlExtParams=} [properties] Properties to set\n         */\n        function PicUrlExtParams(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PicUrlExtParams originalParam.\n         * @member {string} originalParam\n         * @memberof RichMedia.PicUrlExtParams\n         * @instance\n         */\n        PicUrlExtParams.prototype.originalParam = \"\";\n\n        /**\n         * PicUrlExtParams bigParam.\n         * @member {string} bigParam\n         * @memberof RichMedia.PicUrlExtParams\n         * @instance\n         */\n        PicUrlExtParams.prototype.bigParam = \"\";\n\n        /**\n         * PicUrlExtParams thumbParam.\n         * @member {string} thumbParam\n         * @memberof RichMedia.PicUrlExtParams\n         * @instance\n         */\n        PicUrlExtParams.prototype.thumbParam = \"\";\n\n        /**\n         * Encodes the specified PicUrlExtParams message. Does not implicitly {@link RichMedia.PicUrlExtParams.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.PicUrlExtParams\n         * @static\n         * @param {RichMedia.IPicUrlExtParams} message PicUrlExtParams message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PicUrlExtParams.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.originalParam != null && Object.hasOwnProperty.call(message, \"originalParam\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.originalParam);\n            if (message.bigParam != null && Object.hasOwnProperty.call(message, \"bigParam\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.bigParam);\n            if (message.thumbParam != null && Object.hasOwnProperty.call(message, \"thumbParam\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).string(message.thumbParam);\n            return writer;\n        };\n\n        /**\n         * Decodes a PicUrlExtParams message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.PicUrlExtParams\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.PicUrlExtParams} PicUrlExtParams\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PicUrlExtParams.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.PicUrlExtParams();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.originalParam = reader.string();\n                        break;\n                    }\n                case 2: {\n                        message.bigParam = reader.string();\n                        break;\n                    }\n                case 3: {\n                        message.thumbParam = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PicUrlExtParams\n         * @function getTypeUrl\n         * @memberof RichMedia.PicUrlExtParams\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PicUrlExtParams.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.PicUrlExtParams\";\n        };\n\n        return PicUrlExtParams;\n    })();\n\n    RichMedia.ExtBizInfo = (function() {\n\n        /**\n         * Properties of an ExtBizInfo.\n         * @memberof RichMedia\n         * @interface IExtBizInfo\n         * @property {RichMedia.IPicExtBizInfo|null} [pic] ExtBizInfo pic\n         * @property {RichMedia.IVideoExtBizInfo|null} [video] ExtBizInfo video\n         * @property {number|null} [busiType] ExtBizInfo busiType\n         */\n\n        /**\n         * Constructs a new ExtBizInfo.\n         * @memberof RichMedia\n         * @classdesc Represents an ExtBizInfo.\n         * @implements IExtBizInfo\n         * @constructor\n         * @param {RichMedia.IExtBizInfo=} [properties] Properties to set\n         */\n        function ExtBizInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * ExtBizInfo pic.\n         * @member {RichMedia.IPicExtBizInfo|null|undefined} pic\n         * @memberof RichMedia.ExtBizInfo\n         * @instance\n         */\n        ExtBizInfo.prototype.pic = null;\n\n        /**\n         * ExtBizInfo video.\n         * @member {RichMedia.IVideoExtBizInfo|null|undefined} video\n         * @memberof RichMedia.ExtBizInfo\n         * @instance\n         */\n        ExtBizInfo.prototype.video = null;\n\n        /**\n         * ExtBizInfo busiType.\n         * @member {number} busiType\n         * @memberof RichMedia.ExtBizInfo\n         * @instance\n         */\n        ExtBizInfo.prototype.busiType = 0;\n\n        /**\n         * Encodes the specified ExtBizInfo message. Does not implicitly {@link RichMedia.ExtBizInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.ExtBizInfo\n         * @static\n         * @param {RichMedia.IExtBizInfo} message ExtBizInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        ExtBizInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.pic != null && Object.hasOwnProperty.call(message, \"pic\"))\n                $root.RichMedia.PicExtBizInfo.encode(message.pic, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.video != null && Object.hasOwnProperty.call(message, \"video\"))\n                $root.RichMedia.VideoExtBizInfo.encode(message.video, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.busiType != null && Object.hasOwnProperty.call(message, \"busiType\"))\n                writer.uint32(/* id 10, wireType 0 =*/80).uint32(message.busiType);\n            return writer;\n        };\n\n        /**\n         * Decodes an ExtBizInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.ExtBizInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.ExtBizInfo} ExtBizInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        ExtBizInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.ExtBizInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.pic = $root.RichMedia.PicExtBizInfo.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 2: {\n                        message.video = $root.RichMedia.VideoExtBizInfo.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 10: {\n                        message.busiType = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for ExtBizInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.ExtBizInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        ExtBizInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.ExtBizInfo\";\n        };\n\n        return ExtBizInfo;\n    })();\n\n    RichMedia.PicExtBizInfo = (function() {\n\n        /**\n         * Properties of a PicExtBizInfo.\n         * @memberof RichMedia\n         * @interface IPicExtBizInfo\n         * @property {number|null} [bizType] PicExtBizInfo bizType\n         * @property {string|null} [summary] PicExtBizInfo summary\n         */\n\n        /**\n         * Constructs a new PicExtBizInfo.\n         * @memberof RichMedia\n         * @classdesc Represents a PicExtBizInfo.\n         * @implements IPicExtBizInfo\n         * @constructor\n         * @param {RichMedia.IPicExtBizInfo=} [properties] Properties to set\n         */\n        function PicExtBizInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PicExtBizInfo bizType.\n         * @member {number} bizType\n         * @memberof RichMedia.PicExtBizInfo\n         * @instance\n         */\n        PicExtBizInfo.prototype.bizType = 0;\n\n        /**\n         * PicExtBizInfo summary.\n         * @member {string} summary\n         * @memberof RichMedia.PicExtBizInfo\n         * @instance\n         */\n        PicExtBizInfo.prototype.summary = \"\";\n\n        /**\n         * Encodes the specified PicExtBizInfo message. Does not implicitly {@link RichMedia.PicExtBizInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.PicExtBizInfo\n         * @static\n         * @param {RichMedia.IPicExtBizInfo} message PicExtBizInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PicExtBizInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.bizType != null && Object.hasOwnProperty.call(message, \"bizType\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.bizType);\n            if (message.summary != null && Object.hasOwnProperty.call(message, \"summary\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.summary);\n            return writer;\n        };\n\n        /**\n         * Decodes a PicExtBizInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.PicExtBizInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.PicExtBizInfo} PicExtBizInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PicExtBizInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.PicExtBizInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.bizType = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.summary = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PicExtBizInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.PicExtBizInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PicExtBizInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.PicExtBizInfo\";\n        };\n\n        return PicExtBizInfo;\n    })();\n\n    RichMedia.VideoExtBizInfo = (function() {\n\n        /**\n         * Properties of a VideoExtBizInfo.\n         * @memberof RichMedia\n         * @interface IVideoExtBizInfo\n         * @property {Uint8Array|null} [pbReserve] VideoExtBizInfo pbReserve\n         */\n\n        /**\n         * Constructs a new VideoExtBizInfo.\n         * @memberof RichMedia\n         * @classdesc Represents a VideoExtBizInfo.\n         * @implements IVideoExtBizInfo\n         * @constructor\n         * @param {RichMedia.IVideoExtBizInfo=} [properties] Properties to set\n         */\n        function VideoExtBizInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * VideoExtBizInfo pbReserve.\n         * @member {Uint8Array} pbReserve\n         * @memberof RichMedia.VideoExtBizInfo\n         * @instance\n         */\n        VideoExtBizInfo.prototype.pbReserve = $util.newBuffer([]);\n\n        /**\n         * Encodes the specified VideoExtBizInfo message. Does not implicitly {@link RichMedia.VideoExtBizInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.VideoExtBizInfo\n         * @static\n         * @param {RichMedia.IVideoExtBizInfo} message VideoExtBizInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        VideoExtBizInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.pbReserve != null && Object.hasOwnProperty.call(message, \"pbReserve\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).bytes(message.pbReserve);\n            return writer;\n        };\n\n        /**\n         * Decodes a VideoExtBizInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.VideoExtBizInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.VideoExtBizInfo} VideoExtBizInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        VideoExtBizInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.VideoExtBizInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 3: {\n                        message.pbReserve = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for VideoExtBizInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.VideoExtBizInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        VideoExtBizInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.VideoExtBizInfo\";\n        };\n\n        return VideoExtBizInfo;\n    })();\n\n    RichMedia.PicFileIdInfo = (function() {\n\n        /**\n         * Properties of a PicFileIdInfo.\n         * @memberof RichMedia\n         * @interface IPicFileIdInfo\n         * @property {Uint8Array|null} [sha1] PicFileIdInfo sha1\n         * @property {number|null} [size] PicFileIdInfo size\n         * @property {number|null} [appid] PicFileIdInfo appid\n         * @property {number|null} [time] PicFileIdInfo time\n         * @property {number|null} [expire] PicFileIdInfo expire\n         */\n\n        /**\n         * Constructs a new PicFileIdInfo.\n         * @memberof RichMedia\n         * @classdesc Represents a PicFileIdInfo.\n         * @implements IPicFileIdInfo\n         * @constructor\n         * @param {RichMedia.IPicFileIdInfo=} [properties] Properties to set\n         */\n        function PicFileIdInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * PicFileIdInfo sha1.\n         * @member {Uint8Array} sha1\n         * @memberof RichMedia.PicFileIdInfo\n         * @instance\n         */\n        PicFileIdInfo.prototype.sha1 = $util.newBuffer([]);\n\n        /**\n         * PicFileIdInfo size.\n         * @member {number} size\n         * @memberof RichMedia.PicFileIdInfo\n         * @instance\n         */\n        PicFileIdInfo.prototype.size = 0;\n\n        /**\n         * PicFileIdInfo appid.\n         * @member {number} appid\n         * @memberof RichMedia.PicFileIdInfo\n         * @instance\n         */\n        PicFileIdInfo.prototype.appid = 0;\n\n        /**\n         * PicFileIdInfo time.\n         * @member {number} time\n         * @memberof RichMedia.PicFileIdInfo\n         * @instance\n         */\n        PicFileIdInfo.prototype.time = 0;\n\n        /**\n         * PicFileIdInfo expire.\n         * @member {number} expire\n         * @memberof RichMedia.PicFileIdInfo\n         * @instance\n         */\n        PicFileIdInfo.prototype.expire = 0;\n\n        /**\n         * Encodes the specified PicFileIdInfo message. Does not implicitly {@link RichMedia.PicFileIdInfo.verify|verify} messages.\n         * @function encode\n         * @memberof RichMedia.PicFileIdInfo\n         * @static\n         * @param {RichMedia.IPicFileIdInfo} message PicFileIdInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        PicFileIdInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.sha1 != null && Object.hasOwnProperty.call(message, \"sha1\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).bytes(message.sha1);\n            if (message.size != null && Object.hasOwnProperty.call(message, \"size\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.size);\n            if (message.appid != null && Object.hasOwnProperty.call(message, \"appid\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.appid);\n            if (message.time != null && Object.hasOwnProperty.call(message, \"time\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).uint32(message.time);\n            if (message.expire != null && Object.hasOwnProperty.call(message, \"expire\"))\n                writer.uint32(/* id 10, wireType 0 =*/80).uint32(message.expire);\n            return writer;\n        };\n\n        /**\n         * Decodes a PicFileIdInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof RichMedia.PicFileIdInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {RichMedia.PicFileIdInfo} PicFileIdInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        PicFileIdInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.RichMedia.PicFileIdInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 2: {\n                        message.sha1 = reader.bytes();\n                        break;\n                    }\n                case 3: {\n                        message.size = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.appid = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.time = reader.uint32();\n                        break;\n                    }\n                case 10: {\n                        message.expire = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for PicFileIdInfo\n         * @function getTypeUrl\n         * @memberof RichMedia.PicFileIdInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        PicFileIdInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/RichMedia.PicFileIdInfo\";\n        };\n\n        return PicFileIdInfo;\n    })();\n\n    return RichMedia;\n})();\n\nexport const Oidb = $root.Oidb = (() => {\n\n    /**\n     * Namespace Oidb.\n     * @exports Oidb\n     * @namespace\n     */\n    const Oidb = {};\n\n    Oidb.Base = (function() {\n\n        /**\n         * Properties of a Base.\n         * @memberof Oidb\n         * @interface IBase\n         * @property {number|null} [command] Base command\n         * @property {number|null} [subCommand] Base subCommand\n         * @property {number|null} [errorCode] Base errorCode\n         * @property {Uint8Array|null} [body] Base body\n         * @property {string|null} [errorMsg] Base errorMsg\n         * @property {number|null} [isReserved] Base isReserved\n         */\n\n        /**\n         * Constructs a new Base.\n         * @memberof Oidb\n         * @classdesc Represents a Base.\n         * @implements IBase\n         * @constructor\n         * @param {Oidb.IBase=} [properties] Properties to set\n         */\n        function Base(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * Base command.\n         * @member {number} command\n         * @memberof Oidb.Base\n         * @instance\n         */\n        Base.prototype.command = 0;\n\n        /**\n         * Base subCommand.\n         * @member {number} subCommand\n         * @memberof Oidb.Base\n         * @instance\n         */\n        Base.prototype.subCommand = 0;\n\n        /**\n         * Base errorCode.\n         * @member {number} errorCode\n         * @memberof Oidb.Base\n         * @instance\n         */\n        Base.prototype.errorCode = 0;\n\n        /**\n         * Base body.\n         * @member {Uint8Array} body\n         * @memberof Oidb.Base\n         * @instance\n         */\n        Base.prototype.body = $util.newBuffer([]);\n\n        /**\n         * Base errorMsg.\n         * @member {string} errorMsg\n         * @memberof Oidb.Base\n         * @instance\n         */\n        Base.prototype.errorMsg = \"\";\n\n        /**\n         * Base isReserved.\n         * @member {number} isReserved\n         * @memberof Oidb.Base\n         * @instance\n         */\n        Base.prototype.isReserved = 0;\n\n        /**\n         * Encodes the specified Base message. Does not implicitly {@link Oidb.Base.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.Base\n         * @static\n         * @param {Oidb.IBase} message Base message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Base.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.command != null && Object.hasOwnProperty.call(message, \"command\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.command);\n            if (message.subCommand != null && Object.hasOwnProperty.call(message, \"subCommand\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.subCommand);\n            if (message.errorCode != null && Object.hasOwnProperty.call(message, \"errorCode\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.errorCode);\n            if (message.body != null && Object.hasOwnProperty.call(message, \"body\"))\n                writer.uint32(/* id 4, wireType 2 =*/34).bytes(message.body);\n            if (message.errorMsg != null && Object.hasOwnProperty.call(message, \"errorMsg\"))\n                writer.uint32(/* id 5, wireType 2 =*/42).string(message.errorMsg);\n            if (message.isReserved != null && Object.hasOwnProperty.call(message, \"isReserved\"))\n                writer.uint32(/* id 12, wireType 0 =*/96).uint32(message.isReserved);\n            return writer;\n        };\n\n        /**\n         * Decodes a Base message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.Base\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.Base} Base\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Base.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.Base();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.command = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.subCommand = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.errorCode = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.body = reader.bytes();\n                        break;\n                    }\n                case 5: {\n                        message.errorMsg = reader.string();\n                        break;\n                    }\n                case 12: {\n                        message.isReserved = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for Base\n         * @function getTypeUrl\n         * @memberof Oidb.Base\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        Base.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.Base\";\n        };\n\n        return Base;\n    })();\n\n    Oidb.SendPoke = (function() {\n\n        /**\n         * Properties of a SendPoke.\n         * @memberof Oidb\n         * @interface ISendPoke\n         * @property {number|null} [toUin] SendPoke toUin\n         * @property {number|null} [groupCode] SendPoke groupCode\n         * @property {number|null} [friendUin] SendPoke friendUin\n         */\n\n        /**\n         * Constructs a new SendPoke.\n         * @memberof Oidb\n         * @classdesc Represents a SendPoke.\n         * @implements ISendPoke\n         * @constructor\n         * @param {Oidb.ISendPoke=} [properties] Properties to set\n         */\n        function SendPoke(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SendPoke toUin.\n         * @member {number} toUin\n         * @memberof Oidb.SendPoke\n         * @instance\n         */\n        SendPoke.prototype.toUin = 0;\n\n        /**\n         * SendPoke groupCode.\n         * @member {number} groupCode\n         * @memberof Oidb.SendPoke\n         * @instance\n         */\n        SendPoke.prototype.groupCode = 0;\n\n        /**\n         * SendPoke friendUin.\n         * @member {number} friendUin\n         * @memberof Oidb.SendPoke\n         * @instance\n         */\n        SendPoke.prototype.friendUin = 0;\n\n        /**\n         * Encodes the specified SendPoke message. Does not implicitly {@link Oidb.SendPoke.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.SendPoke\n         * @static\n         * @param {Oidb.ISendPoke} message SendPoke message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SendPoke.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.toUin != null && Object.hasOwnProperty.call(message, \"toUin\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.toUin);\n            if (message.groupCode != null && Object.hasOwnProperty.call(message, \"groupCode\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.groupCode);\n            if (message.friendUin != null && Object.hasOwnProperty.call(message, \"friendUin\"))\n                writer.uint32(/* id 5, wireType 0 =*/40).uint32(message.friendUin);\n            return writer;\n        };\n\n        /**\n         * Decodes a SendPoke message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.SendPoke\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.SendPoke} SendPoke\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SendPoke.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.SendPoke();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.toUin = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.groupCode = reader.uint32();\n                        break;\n                    }\n                case 5: {\n                        message.friendUin = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SendPoke\n         * @function getTypeUrl\n         * @memberof Oidb.SendPoke\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SendPoke.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.SendPoke\";\n        };\n\n        return SendPoke;\n    })();\n\n    Oidb.SetSpecialTitleBody = (function() {\n\n        /**\n         * Properties of a SetSpecialTitleBody.\n         * @memberof Oidb\n         * @interface ISetSpecialTitleBody\n         * @property {string|null} [targetUid] SetSpecialTitleBody targetUid\n         * @property {string|null} [specialTitle] SetSpecialTitleBody specialTitle\n         * @property {number|null} [expireTime] SetSpecialTitleBody expireTime\n         * @property {string|null} [uidName] SetSpecialTitleBody uidName\n         */\n\n        /**\n         * Constructs a new SetSpecialTitleBody.\n         * @memberof Oidb\n         * @classdesc Represents a SetSpecialTitleBody.\n         * @implements ISetSpecialTitleBody\n         * @constructor\n         * @param {Oidb.ISetSpecialTitleBody=} [properties] Properties to set\n         */\n        function SetSpecialTitleBody(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SetSpecialTitleBody targetUid.\n         * @member {string} targetUid\n         * @memberof Oidb.SetSpecialTitleBody\n         * @instance\n         */\n        SetSpecialTitleBody.prototype.targetUid = \"\";\n\n        /**\n         * SetSpecialTitleBody specialTitle.\n         * @member {string} specialTitle\n         * @memberof Oidb.SetSpecialTitleBody\n         * @instance\n         */\n        SetSpecialTitleBody.prototype.specialTitle = \"\";\n\n        /**\n         * SetSpecialTitleBody expireTime.\n         * @member {number} expireTime\n         * @memberof Oidb.SetSpecialTitleBody\n         * @instance\n         */\n        SetSpecialTitleBody.prototype.expireTime = 0;\n\n        /**\n         * SetSpecialTitleBody uidName.\n         * @member {string} uidName\n         * @memberof Oidb.SetSpecialTitleBody\n         * @instance\n         */\n        SetSpecialTitleBody.prototype.uidName = \"\";\n\n        /**\n         * Encodes the specified SetSpecialTitleBody message. Does not implicitly {@link Oidb.SetSpecialTitleBody.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.SetSpecialTitleBody\n         * @static\n         * @param {Oidb.ISetSpecialTitleBody} message SetSpecialTitleBody message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SetSpecialTitleBody.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.targetUid != null && Object.hasOwnProperty.call(message, \"targetUid\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.targetUid);\n            if (message.specialTitle != null && Object.hasOwnProperty.call(message, \"specialTitle\"))\n                writer.uint32(/* id 5, wireType 2 =*/42).string(message.specialTitle);\n            if (message.expireTime != null && Object.hasOwnProperty.call(message, \"expireTime\"))\n                writer.uint32(/* id 6, wireType 0 =*/48).int32(message.expireTime);\n            if (message.uidName != null && Object.hasOwnProperty.call(message, \"uidName\"))\n                writer.uint32(/* id 7, wireType 2 =*/58).string(message.uidName);\n            return writer;\n        };\n\n        /**\n         * Decodes a SetSpecialTitleBody message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.SetSpecialTitleBody\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.SetSpecialTitleBody} SetSpecialTitleBody\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SetSpecialTitleBody.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.SetSpecialTitleBody();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.targetUid = reader.string();\n                        break;\n                    }\n                case 5: {\n                        message.specialTitle = reader.string();\n                        break;\n                    }\n                case 6: {\n                        message.expireTime = reader.int32();\n                        break;\n                    }\n                case 7: {\n                        message.uidName = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SetSpecialTitleBody\n         * @function getTypeUrl\n         * @memberof Oidb.SetSpecialTitleBody\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SetSpecialTitleBody.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.SetSpecialTitleBody\";\n        };\n\n        return SetSpecialTitleBody;\n    })();\n\n    Oidb.SetSpecialTitle = (function() {\n\n        /**\n         * Properties of a SetSpecialTitle.\n         * @memberof Oidb\n         * @interface ISetSpecialTitle\n         * @property {number|null} [groupCode] SetSpecialTitle groupCode\n         * @property {Oidb.ISetSpecialTitleBody|null} [body] SetSpecialTitle body\n         */\n\n        /**\n         * Constructs a new SetSpecialTitle.\n         * @memberof Oidb\n         * @classdesc Represents a SetSpecialTitle.\n         * @implements ISetSpecialTitle\n         * @constructor\n         * @param {Oidb.ISetSpecialTitle=} [properties] Properties to set\n         */\n        function SetSpecialTitle(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SetSpecialTitle groupCode.\n         * @member {number} groupCode\n         * @memberof Oidb.SetSpecialTitle\n         * @instance\n         */\n        SetSpecialTitle.prototype.groupCode = 0;\n\n        /**\n         * SetSpecialTitle body.\n         * @member {Oidb.ISetSpecialTitleBody|null|undefined} body\n         * @memberof Oidb.SetSpecialTitle\n         * @instance\n         */\n        SetSpecialTitle.prototype.body = null;\n\n        /**\n         * Encodes the specified SetSpecialTitle message. Does not implicitly {@link Oidb.SetSpecialTitle.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.SetSpecialTitle\n         * @static\n         * @param {Oidb.ISetSpecialTitle} message SetSpecialTitle message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SetSpecialTitle.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.groupCode != null && Object.hasOwnProperty.call(message, \"groupCode\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.groupCode);\n            if (message.body != null && Object.hasOwnProperty.call(message, \"body\"))\n                $root.Oidb.SetSpecialTitleBody.encode(message.body, writer.uint32(/* id 3, wireType 2 =*/26).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a SetSpecialTitle message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.SetSpecialTitle\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.SetSpecialTitle} SetSpecialTitle\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SetSpecialTitle.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.SetSpecialTitle();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.groupCode = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.body = $root.Oidb.SetSpecialTitleBody.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SetSpecialTitle\n         * @function getTypeUrl\n         * @memberof Oidb.SetSpecialTitle\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SetSpecialTitle.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.SetSpecialTitle\";\n        };\n\n        return SetSpecialTitle;\n    })();\n\n    Oidb.GetRKeyResponseItem = (function() {\n\n        /**\n         * Properties of a GetRKeyResponseItem.\n         * @memberof Oidb\n         * @interface IGetRKeyResponseItem\n         * @property {string|null} [rkey] GetRKeyResponseItem rkey\n         * @property {number|null} [createTime] GetRKeyResponseItem createTime\n         */\n\n        /**\n         * Constructs a new GetRKeyResponseItem.\n         * @memberof Oidb\n         * @classdesc Represents a GetRKeyResponseItem.\n         * @implements IGetRKeyResponseItem\n         * @constructor\n         * @param {Oidb.IGetRKeyResponseItem=} [properties] Properties to set\n         */\n        function GetRKeyResponseItem(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * GetRKeyResponseItem rkey.\n         * @member {string} rkey\n         * @memberof Oidb.GetRKeyResponseItem\n         * @instance\n         */\n        GetRKeyResponseItem.prototype.rkey = \"\";\n\n        /**\n         * GetRKeyResponseItem createTime.\n         * @member {number} createTime\n         * @memberof Oidb.GetRKeyResponseItem\n         * @instance\n         */\n        GetRKeyResponseItem.prototype.createTime = 0;\n\n        /**\n         * Encodes the specified GetRKeyResponseItem message. Does not implicitly {@link Oidb.GetRKeyResponseItem.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.GetRKeyResponseItem\n         * @static\n         * @param {Oidb.IGetRKeyResponseItem} message GetRKeyResponseItem message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        GetRKeyResponseItem.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.rkey != null && Object.hasOwnProperty.call(message, \"rkey\"))\n                writer.uint32(/* id 1, wireType 2 =*/10).string(message.rkey);\n            if (message.createTime != null && Object.hasOwnProperty.call(message, \"createTime\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.createTime);\n            return writer;\n        };\n\n        /**\n         * Decodes a GetRKeyResponseItem message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.GetRKeyResponseItem\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.GetRKeyResponseItem} GetRKeyResponseItem\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        GetRKeyResponseItem.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.GetRKeyResponseItem();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.rkey = reader.string();\n                        break;\n                    }\n                case 4: {\n                        message.createTime = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for GetRKeyResponseItem\n         * @function getTypeUrl\n         * @memberof Oidb.GetRKeyResponseItem\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        GetRKeyResponseItem.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.GetRKeyResponseItem\";\n        };\n\n        return GetRKeyResponseItem;\n    })();\n\n    Oidb.GetRKeyResponseItems = (function() {\n\n        /**\n         * Properties of a GetRKeyResponseItems.\n         * @memberof Oidb\n         * @interface IGetRKeyResponseItems\n         * @property {Array.<Oidb.IGetRKeyResponseItem>|null} [rkeyItems] GetRKeyResponseItems rkeyItems\n         */\n\n        /**\n         * Constructs a new GetRKeyResponseItems.\n         * @memberof Oidb\n         * @classdesc Represents a GetRKeyResponseItems.\n         * @implements IGetRKeyResponseItems\n         * @constructor\n         * @param {Oidb.IGetRKeyResponseItems=} [properties] Properties to set\n         */\n        function GetRKeyResponseItems(properties) {\n            this.rkeyItems = [];\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * GetRKeyResponseItems rkeyItems.\n         * @member {Array.<Oidb.IGetRKeyResponseItem>} rkeyItems\n         * @memberof Oidb.GetRKeyResponseItems\n         * @instance\n         */\n        GetRKeyResponseItems.prototype.rkeyItems = $util.emptyArray;\n\n        /**\n         * Encodes the specified GetRKeyResponseItems message. Does not implicitly {@link Oidb.GetRKeyResponseItems.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.GetRKeyResponseItems\n         * @static\n         * @param {Oidb.IGetRKeyResponseItems} message GetRKeyResponseItems message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        GetRKeyResponseItems.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.rkeyItems != null && message.rkeyItems.length)\n                for (let i = 0; i < message.rkeyItems.length; ++i)\n                    $root.Oidb.GetRKeyResponseItem.encode(message.rkeyItems[i], writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a GetRKeyResponseItems message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.GetRKeyResponseItems\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.GetRKeyResponseItems} GetRKeyResponseItems\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        GetRKeyResponseItems.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.GetRKeyResponseItems();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        if (!(message.rkeyItems && message.rkeyItems.length))\n                            message.rkeyItems = [];\n                        message.rkeyItems.push($root.Oidb.GetRKeyResponseItem.decode(reader, reader.uint32()));\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for GetRKeyResponseItems\n         * @function getTypeUrl\n         * @memberof Oidb.GetRKeyResponseItems\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        GetRKeyResponseItems.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.GetRKeyResponseItems\";\n        };\n\n        return GetRKeyResponseItems;\n    })();\n\n    Oidb.GetRKeyResponseBody = (function() {\n\n        /**\n         * Properties of a GetRKeyResponseBody.\n         * @memberof Oidb\n         * @interface IGetRKeyResponseBody\n         * @property {Oidb.IGetRKeyResponseItems|null} [result] GetRKeyResponseBody result\n         */\n\n        /**\n         * Constructs a new GetRKeyResponseBody.\n         * @memberof Oidb\n         * @classdesc Represents a GetRKeyResponseBody.\n         * @implements IGetRKeyResponseBody\n         * @constructor\n         * @param {Oidb.IGetRKeyResponseBody=} [properties] Properties to set\n         */\n        function GetRKeyResponseBody(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * GetRKeyResponseBody result.\n         * @member {Oidb.IGetRKeyResponseItems|null|undefined} result\n         * @memberof Oidb.GetRKeyResponseBody\n         * @instance\n         */\n        GetRKeyResponseBody.prototype.result = null;\n\n        /**\n         * Encodes the specified GetRKeyResponseBody message. Does not implicitly {@link Oidb.GetRKeyResponseBody.verify|verify} messages.\n         * @function encode\n         * @memberof Oidb.GetRKeyResponseBody\n         * @static\n         * @param {Oidb.IGetRKeyResponseBody} message GetRKeyResponseBody message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        GetRKeyResponseBody.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.result != null && Object.hasOwnProperty.call(message, \"result\"))\n                $root.Oidb.GetRKeyResponseItems.encode(message.result, writer.uint32(/* id 4, wireType 2 =*/34).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a GetRKeyResponseBody message from the specified reader or buffer.\n         * @function decode\n         * @memberof Oidb.GetRKeyResponseBody\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Oidb.GetRKeyResponseBody} GetRKeyResponseBody\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        GetRKeyResponseBody.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Oidb.GetRKeyResponseBody();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 4: {\n                        message.result = $root.Oidb.GetRKeyResponseItems.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for GetRKeyResponseBody\n         * @function getTypeUrl\n         * @memberof Oidb.GetRKeyResponseBody\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        GetRKeyResponseBody.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Oidb.GetRKeyResponseBody\";\n        };\n\n        return GetRKeyResponseBody;\n    })();\n\n    return Oidb;\n})();\n\nexport const Action = $root.Action = (() => {\n\n    /**\n     * Namespace Action.\n     * @exports Action\n     * @namespace\n     */\n    const Action = {};\n\n    Action.SendLongMsgReq = (function() {\n\n        /**\n         * Properties of a SendLongMsgReq.\n         * @memberof Action\n         * @interface ISendLongMsgReq\n         * @property {Action.ISendLongMsgInfo|null} [info] SendLongMsgReq info\n         * @property {Action.ILongMsgSettings|null} [settings] SendLongMsgReq settings\n         */\n\n        /**\n         * Constructs a new SendLongMsgReq.\n         * @memberof Action\n         * @classdesc Represents a SendLongMsgReq.\n         * @implements ISendLongMsgReq\n         * @constructor\n         * @param {Action.ISendLongMsgReq=} [properties] Properties to set\n         */\n        function SendLongMsgReq(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SendLongMsgReq info.\n         * @member {Action.ISendLongMsgInfo|null|undefined} info\n         * @memberof Action.SendLongMsgReq\n         * @instance\n         */\n        SendLongMsgReq.prototype.info = null;\n\n        /**\n         * SendLongMsgReq settings.\n         * @member {Action.ILongMsgSettings|null|undefined} settings\n         * @memberof Action.SendLongMsgReq\n         * @instance\n         */\n        SendLongMsgReq.prototype.settings = null;\n\n        /**\n         * Encodes the specified SendLongMsgReq message. Does not implicitly {@link Action.SendLongMsgReq.verify|verify} messages.\n         * @function encode\n         * @memberof Action.SendLongMsgReq\n         * @static\n         * @param {Action.ISendLongMsgReq} message SendLongMsgReq message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SendLongMsgReq.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.info != null && Object.hasOwnProperty.call(message, \"info\"))\n                $root.Action.SendLongMsgInfo.encode(message.info, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.settings != null && Object.hasOwnProperty.call(message, \"settings\"))\n                $root.Action.LongMsgSettings.encode(message.settings, writer.uint32(/* id 15, wireType 2 =*/122).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a SendLongMsgReq message from the specified reader or buffer.\n         * @function decode\n         * @memberof Action.SendLongMsgReq\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Action.SendLongMsgReq} SendLongMsgReq\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SendLongMsgReq.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Action.SendLongMsgReq();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 2: {\n                        message.info = $root.Action.SendLongMsgInfo.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 15: {\n                        message.settings = $root.Action.LongMsgSettings.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SendLongMsgReq\n         * @function getTypeUrl\n         * @memberof Action.SendLongMsgReq\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SendLongMsgReq.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Action.SendLongMsgReq\";\n        };\n\n        return SendLongMsgReq;\n    })();\n\n    Action.SendLongMsgInfo = (function() {\n\n        /**\n         * Properties of a SendLongMsgInfo.\n         * @memberof Action\n         * @interface ISendLongMsgInfo\n         * @property {number|null} [type] SendLongMsgInfo type\n         * @property {Action.ILongMsgPeer|null} [peer] SendLongMsgInfo peer\n         * @property {number|null} [groupCode] SendLongMsgInfo groupCode\n         * @property {Uint8Array|null} [payload] SendLongMsgInfo payload\n         */\n\n        /**\n         * Constructs a new SendLongMsgInfo.\n         * @memberof Action\n         * @classdesc Represents a SendLongMsgInfo.\n         * @implements ISendLongMsgInfo\n         * @constructor\n         * @param {Action.ISendLongMsgInfo=} [properties] Properties to set\n         */\n        function SendLongMsgInfo(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SendLongMsgInfo type.\n         * @member {number} type\n         * @memberof Action.SendLongMsgInfo\n         * @instance\n         */\n        SendLongMsgInfo.prototype.type = 0;\n\n        /**\n         * SendLongMsgInfo peer.\n         * @member {Action.ILongMsgPeer|null|undefined} peer\n         * @memberof Action.SendLongMsgInfo\n         * @instance\n         */\n        SendLongMsgInfo.prototype.peer = null;\n\n        /**\n         * SendLongMsgInfo groupCode.\n         * @member {number} groupCode\n         * @memberof Action.SendLongMsgInfo\n         * @instance\n         */\n        SendLongMsgInfo.prototype.groupCode = 0;\n\n        /**\n         * SendLongMsgInfo payload.\n         * @member {Uint8Array} payload\n         * @memberof Action.SendLongMsgInfo\n         * @instance\n         */\n        SendLongMsgInfo.prototype.payload = $util.newBuffer([]);\n\n        /**\n         * Encodes the specified SendLongMsgInfo message. Does not implicitly {@link Action.SendLongMsgInfo.verify|verify} messages.\n         * @function encode\n         * @memberof Action.SendLongMsgInfo\n         * @static\n         * @param {Action.ISendLongMsgInfo} message SendLongMsgInfo message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SendLongMsgInfo.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.type != null && Object.hasOwnProperty.call(message, \"type\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.type);\n            if (message.peer != null && Object.hasOwnProperty.call(message, \"peer\"))\n                $root.Action.LongMsgPeer.encode(message.peer, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.groupCode != null && Object.hasOwnProperty.call(message, \"groupCode\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.groupCode);\n            if (message.payload != null && Object.hasOwnProperty.call(message, \"payload\"))\n                writer.uint32(/* id 4, wireType 2 =*/34).bytes(message.payload);\n            return writer;\n        };\n\n        /**\n         * Decodes a SendLongMsgInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof Action.SendLongMsgInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Action.SendLongMsgInfo} SendLongMsgInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SendLongMsgInfo.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Action.SendLongMsgInfo();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.type = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.peer = $root.Action.LongMsgPeer.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 3: {\n                        message.groupCode = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.payload = reader.bytes();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SendLongMsgInfo\n         * @function getTypeUrl\n         * @memberof Action.SendLongMsgInfo\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SendLongMsgInfo.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Action.SendLongMsgInfo\";\n        };\n\n        return SendLongMsgInfo;\n    })();\n\n    Action.LongMsgPeer = (function() {\n\n        /**\n         * Properties of a LongMsgPeer.\n         * @memberof Action\n         * @interface ILongMsgPeer\n         * @property {string|null} [uid] LongMsgPeer uid\n         */\n\n        /**\n         * Constructs a new LongMsgPeer.\n         * @memberof Action\n         * @classdesc Represents a LongMsgPeer.\n         * @implements ILongMsgPeer\n         * @constructor\n         * @param {Action.ILongMsgPeer=} [properties] Properties to set\n         */\n        function LongMsgPeer(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * LongMsgPeer uid.\n         * @member {string} uid\n         * @memberof Action.LongMsgPeer\n         * @instance\n         */\n        LongMsgPeer.prototype.uid = \"\";\n\n        /**\n         * Encodes the specified LongMsgPeer message. Does not implicitly {@link Action.LongMsgPeer.verify|verify} messages.\n         * @function encode\n         * @memberof Action.LongMsgPeer\n         * @static\n         * @param {Action.ILongMsgPeer} message LongMsgPeer message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        LongMsgPeer.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.uid != null && Object.hasOwnProperty.call(message, \"uid\"))\n                writer.uint32(/* id 2, wireType 2 =*/18).string(message.uid);\n            return writer;\n        };\n\n        /**\n         * Decodes a LongMsgPeer message from the specified reader or buffer.\n         * @function decode\n         * @memberof Action.LongMsgPeer\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Action.LongMsgPeer} LongMsgPeer\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        LongMsgPeer.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Action.LongMsgPeer();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 2: {\n                        message.uid = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for LongMsgPeer\n         * @function getTypeUrl\n         * @memberof Action.LongMsgPeer\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        LongMsgPeer.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Action.LongMsgPeer\";\n        };\n\n        return LongMsgPeer;\n    })();\n\n    Action.LongMsgSettings = (function() {\n\n        /**\n         * Properties of a LongMsgSettings.\n         * @memberof Action\n         * @interface ILongMsgSettings\n         * @property {number|null} [field1] LongMsgSettings field1\n         * @property {number|null} [field2] LongMsgSettings field2\n         * @property {number|null} [field3] LongMsgSettings field3\n         * @property {number|null} [field4] LongMsgSettings field4\n         */\n\n        /**\n         * Constructs a new LongMsgSettings.\n         * @memberof Action\n         * @classdesc Represents a LongMsgSettings.\n         * @implements ILongMsgSettings\n         * @constructor\n         * @param {Action.ILongMsgSettings=} [properties] Properties to set\n         */\n        function LongMsgSettings(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * LongMsgSettings field1.\n         * @member {number} field1\n         * @memberof Action.LongMsgSettings\n         * @instance\n         */\n        LongMsgSettings.prototype.field1 = 0;\n\n        /**\n         * LongMsgSettings field2.\n         * @member {number} field2\n         * @memberof Action.LongMsgSettings\n         * @instance\n         */\n        LongMsgSettings.prototype.field2 = 0;\n\n        /**\n         * LongMsgSettings field3.\n         * @member {number} field3\n         * @memberof Action.LongMsgSettings\n         * @instance\n         */\n        LongMsgSettings.prototype.field3 = 0;\n\n        /**\n         * LongMsgSettings field4.\n         * @member {number} field4\n         * @memberof Action.LongMsgSettings\n         * @instance\n         */\n        LongMsgSettings.prototype.field4 = 0;\n\n        /**\n         * Encodes the specified LongMsgSettings message. Does not implicitly {@link Action.LongMsgSettings.verify|verify} messages.\n         * @function encode\n         * @memberof Action.LongMsgSettings\n         * @static\n         * @param {Action.ILongMsgSettings} message LongMsgSettings message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        LongMsgSettings.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.field1 != null && Object.hasOwnProperty.call(message, \"field1\"))\n                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.field1);\n            if (message.field2 != null && Object.hasOwnProperty.call(message, \"field2\"))\n                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.field2);\n            if (message.field3 != null && Object.hasOwnProperty.call(message, \"field3\"))\n                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.field3);\n            if (message.field4 != null && Object.hasOwnProperty.call(message, \"field4\"))\n                writer.uint32(/* id 4, wireType 0 =*/32).uint32(message.field4);\n            return writer;\n        };\n\n        /**\n         * Decodes a LongMsgSettings message from the specified reader or buffer.\n         * @function decode\n         * @memberof Action.LongMsgSettings\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Action.LongMsgSettings} LongMsgSettings\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        LongMsgSettings.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Action.LongMsgSettings();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 1: {\n                        message.field1 = reader.uint32();\n                        break;\n                    }\n                case 2: {\n                        message.field2 = reader.uint32();\n                        break;\n                    }\n                case 3: {\n                        message.field3 = reader.uint32();\n                        break;\n                    }\n                case 4: {\n                        message.field4 = reader.uint32();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for LongMsgSettings\n         * @function getTypeUrl\n         * @memberof Action.LongMsgSettings\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        LongMsgSettings.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Action.LongMsgSettings\";\n        };\n\n        return LongMsgSettings;\n    })();\n\n    Action.SendLongMsgResp = (function() {\n\n        /**\n         * Properties of a SendLongMsgResp.\n         * @memberof Action\n         * @interface ISendLongMsgResp\n         * @property {Action.ISendLongMsgResult|null} [result] SendLongMsgResp result\n         * @property {Action.ILongMsgSettings|null} [settings] SendLongMsgResp settings\n         */\n\n        /**\n         * Constructs a new SendLongMsgResp.\n         * @memberof Action\n         * @classdesc Represents a SendLongMsgResp.\n         * @implements ISendLongMsgResp\n         * @constructor\n         * @param {Action.ISendLongMsgResp=} [properties] Properties to set\n         */\n        function SendLongMsgResp(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SendLongMsgResp result.\n         * @member {Action.ISendLongMsgResult|null|undefined} result\n         * @memberof Action.SendLongMsgResp\n         * @instance\n         */\n        SendLongMsgResp.prototype.result = null;\n\n        /**\n         * SendLongMsgResp settings.\n         * @member {Action.ILongMsgSettings|null|undefined} settings\n         * @memberof Action.SendLongMsgResp\n         * @instance\n         */\n        SendLongMsgResp.prototype.settings = null;\n\n        /**\n         * Encodes the specified SendLongMsgResp message. Does not implicitly {@link Action.SendLongMsgResp.verify|verify} messages.\n         * @function encode\n         * @memberof Action.SendLongMsgResp\n         * @static\n         * @param {Action.ISendLongMsgResp} message SendLongMsgResp message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SendLongMsgResp.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.result != null && Object.hasOwnProperty.call(message, \"result\"))\n                $root.Action.SendLongMsgResult.encode(message.result, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.settings != null && Object.hasOwnProperty.call(message, \"settings\"))\n                $root.Action.LongMsgSettings.encode(message.settings, writer.uint32(/* id 15, wireType 2 =*/122).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a SendLongMsgResp message from the specified reader or buffer.\n         * @function decode\n         * @memberof Action.SendLongMsgResp\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Action.SendLongMsgResp} SendLongMsgResp\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SendLongMsgResp.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Action.SendLongMsgResp();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 2: {\n                        message.result = $root.Action.SendLongMsgResult.decode(reader, reader.uint32());\n                        break;\n                    }\n                case 15: {\n                        message.settings = $root.Action.LongMsgSettings.decode(reader, reader.uint32());\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SendLongMsgResp\n         * @function getTypeUrl\n         * @memberof Action.SendLongMsgResp\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SendLongMsgResp.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Action.SendLongMsgResp\";\n        };\n\n        return SendLongMsgResp;\n    })();\n\n    Action.SendLongMsgResult = (function() {\n\n        /**\n         * Properties of a SendLongMsgResult.\n         * @memberof Action\n         * @interface ISendLongMsgResult\n         * @property {string|null} [resId] SendLongMsgResult resId\n         */\n\n        /**\n         * Constructs a new SendLongMsgResult.\n         * @memberof Action\n         * @classdesc Represents a SendLongMsgResult.\n         * @implements ISendLongMsgResult\n         * @constructor\n         * @param {Action.ISendLongMsgResult=} [properties] Properties to set\n         */\n        function SendLongMsgResult(properties) {\n            if (properties)\n                for (let keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                    if (properties[keys[i]] != null)\n                        this[keys[i]] = properties[keys[i]];\n        }\n\n        /**\n         * SendLongMsgResult resId.\n         * @member {string} resId\n         * @memberof Action.SendLongMsgResult\n         * @instance\n         */\n        SendLongMsgResult.prototype.resId = \"\";\n\n        /**\n         * Encodes the specified SendLongMsgResult message. Does not implicitly {@link Action.SendLongMsgResult.verify|verify} messages.\n         * @function encode\n         * @memberof Action.SendLongMsgResult\n         * @static\n         * @param {Action.ISendLongMsgResult} message SendLongMsgResult message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        SendLongMsgResult.encode = function encode(message, writer) {\n            if (!writer)\n                writer = $Writer.create();\n            if (message.resId != null && Object.hasOwnProperty.call(message, \"resId\"))\n                writer.uint32(/* id 3, wireType 2 =*/26).string(message.resId);\n            return writer;\n        };\n\n        /**\n         * Decodes a SendLongMsgResult message from the specified reader or buffer.\n         * @function decode\n         * @memberof Action.SendLongMsgResult\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {Action.SendLongMsgResult} SendLongMsgResult\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        SendLongMsgResult.decode = function decode(reader, length, error) {\n            if (!(reader instanceof $Reader))\n                reader = $Reader.create(reader);\n            let end = length === undefined ? reader.len : reader.pos + length, message = new $root.Action.SendLongMsgResult();\n            while (reader.pos < end) {\n                let tag = reader.uint32();\n                if (tag === error)\n                    break;\n                switch (tag >>> 3) {\n                case 3: {\n                        message.resId = reader.string();\n                        break;\n                    }\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n                }\n            }\n            return message;\n        };\n\n        /**\n         * Gets the default type url for SendLongMsgResult\n         * @function getTypeUrl\n         * @memberof Action.SendLongMsgResult\n         * @static\n         * @param {string} [typeUrlPrefix] your custom typeUrlPrefix(default \"type.googleapis.com\")\n         * @returns {string} The default type url\n         */\n        SendLongMsgResult.getTypeUrl = function getTypeUrl(typeUrlPrefix) {\n            if (typeUrlPrefix === undefined) {\n                typeUrlPrefix = \"type.googleapis.com\";\n            }\n            return typeUrlPrefix + \"/Action.SendLongMsgResult\";\n        };\n\n        return SendLongMsgResult;\n    })();\n\n    return Action;\n})();\n\nexport { $root as default };\n","type DataWrapper = {\n  __dataType?: string;\n  data?: unknown;\n};\n\nexport function deepStringifyMap(obj: any): any {\n  // 基本类型直接返回\n  if (typeof obj !== 'object' || obj === null) return obj;\n\n  // 处理数组\n  if (Array.isArray(obj)) {\n    return obj.map((item: any) => deepStringifyMap(item));\n  }\n\n  // 处理 Map 对象\n  if (obj instanceof Map) {\n    return {\n      __dataType: 'Map',\n      data: Array.from(obj.entries()).map(([k, v]) => [\n        deepStringifyMap(k),  // 递归处理 key\n        deepStringifyMap(v)   // 递归处理 value\n      ])\n    };\n  }\n\n  // 处理普通对象\n  const convertedObj: any = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      convertedObj[key] = deepStringifyMap(obj[key]);\n    }\n  }\n  return convertedObj;\n}\nexport function deepConvertMap<T>(obj: T): T {\n  // 基本类型直接返回\n  if (typeof obj !== 'object' || obj === null) return obj;\n\n  // 处理数组\n  if (Array.isArray(obj)) {\n    return obj.map(item => deepConvertMap(item)) as T;\n  }\n\n  // 处理 Map 包装对象\n  const potentialMap = obj as DataWrapper;\n  if (potentialMap.__dataType === 'Map' && 'data' in potentialMap) {\n    const entries = Array.isArray(potentialMap.data)\n      ? (potentialMap.data as [any, any][]).map(([k, v]) => [\n        deepConvertMap(k),\n        deepConvertMap(v),\n      ])\n      : [];\n    return new Map(entries as Iterable<any, any>) as T;\n  }\n\n  // 处理普通对象\n  const convertedObj: Record<string, any> = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      convertedObj[key] = deepConvertMap((obj as Record<string, any>)[key]);\n    }\n  }\n  return convertedObj as T;\n}\n","import { GroupMemberRole } from './group'\nimport { GeneralCallResult } from '../services'\n\nexport enum ElementType {\n  Text = 1,\n  Pic = 2,\n  File = 3,\n  Ptt = 4,\n  Video = 5,\n  Face = 6,\n  Reply = 7,\n  GrayTip = 8,\n  Ark = 10,\n  MarketFace = 11,\n  LiveGift = 12,\n  StructLongMsg = 13,\n  Markdown = 14,\n  Giphy = 15,\n  MultiForward = 16,\n  InlineKeyboard = 17,\n  Calendar = 19,\n  YoloGameResult = 20,\n  AvRecord = 21,\n  TofuRecord = 23,\n  FaceBubble = 27,\n  ShareLocation = 28,\n  TaskTopMsg = 29,\n  RecommendedMsg = 43,\n  ActionBar = 44\n}\n\nexport interface SendTextElement {\n  elementType: ElementType.Text\n  elementId: ''\n  textElement: TextElement\n}\n\nexport interface SendPttElement {\n  elementType: ElementType.Ptt\n  elementId: ''\n  pttElement: Partial<PttElement>\n}\n\nexport interface SendPicElement {\n  elementType: ElementType.Pic\n  elementId: ''\n  picElement: Partial<PicElement>\n}\n\nexport interface SendReplyElement {\n  elementType: ElementType.Reply\n  elementId: ''\n  replyElement: Partial<ReplyElement>\n}\n\nexport interface SendFaceElement {\n  elementType: ElementType.Face\n  elementId: ''\n  faceElement: FaceElement\n}\n\nexport interface SendMarketFaceElement {\n  elementType: ElementType.MarketFace\n  elementId: ''\n  marketFaceElement: MarketFaceElement\n}\n\nexport interface SendFileElement {\n  elementType: ElementType.File\n  elementId: ''\n  fileElement: Partial<FileElement>\n}\n\nexport interface SendVideoElement {\n  elementType: ElementType.Video\n  elementId: ''\n  videoElement: VideoElement\n}\n\nexport interface SendArkElement {\n  elementType: ElementType.Ark\n  elementId: ''\n  arkElement: Partial<ArkElement>\n}\n\nexport type SendMessageElement =\n  | SendTextElement\n  | SendPttElement\n  | SendPicElement\n  | SendReplyElement\n  | SendFaceElement\n  | SendMarketFaceElement\n  | SendFileElement\n  | SendVideoElement\n  | SendArkElement\n\nexport enum AtType {\n  Unknown,\n  All,\n  One,\n}\n\nexport interface TextElement {\n  content: string\n  atType: AtType\n  atUid: string\n  atTinyId: string\n  atNtUid: string\n}\n\nexport interface ReplyElement {\n  replayMsgId: string\n  replayMsgSeq: string\n  replayMsgRootSeq: string\n  replayMsgRootMsgId: string\n  replayMsgRootCommentCnt: string\n  sourceMsgIdInRecords: string\n  sourceMsgText: string\n  sourceMsgTextElems: {\n    replyAbsElemType: number\n    textElemContent: string\n    faceElem: unknown\n    picElem: unknown\n  }[]\n  senderUid: string\n  senderUidStr: string\n  replyMsgClientSeq: string\n  replyMsgTime: string\n  replyMsgRevokeType: number\n  sourceMsgIsIncPic: boolean\n  sourceMsgExpired: boolean\n  anonymousNickName: unknown\n  originalMsgState: unknown\n  senderUin?: string\n  senderUinStr?: string\n}\n\nexport interface FileElement {\n  fileMd5?: string\n  fileName: string\n  filePath: string\n  fileSize: string\n  picHeight?: number\n  picWidth?: number\n  folderId?: string\n  picThumbPath?: Map<number, string>\n  file10MMd5?: string\n  fileSha?: string\n  fileSha3?: string\n  fileUuid: string\n  fileSubId?: string\n  thumbFileSize?: number\n  fileBizId?: number\n}\n\nexport interface PttElement {\n  canConvert2Text: boolean\n  duration: number // 秒数\n  fileBizId: null\n  fileId: number // 0\n  fileName: string // \"e4d09c784d5a2abcb2f9980bdc7acfe6.amr\"\n  filePath: string // \"/Users//Library/Containers/com.tencent.qq/Data/Library/Application Support/QQ/nt_qq_a6b15c9820595d25a56c1633ce19ad40/nt_data/Ptt/2023-11/Ori/e4d09c784d5a2abcb2f9980bdc7acfe6.amr\"\n  fileSize: string // \"4261\"\n  fileSubId: string // \"0\"\n  fileUuid: string // \"90j3z7rmRphDPrdVgP9udFBaYar#oK0TWZIV\"\n  formatType: number // 1\n  invalidState: number // 0\n  md5HexStr: string // \"e4d09c784d5a2abcb2f9980bdc7acfe6\"\n  playState: number // 0\n  progress: number // 0\n  text: string // \"\"\n  transferStatus: number // 0\n  translateStatus: number // 0\n  voiceChangeType: number // 0\n  voiceType: number // 0\n  waveAmplitudes: number[]\n  autoConvertText: number\n}\n\nexport interface ArkElement {\n  bytesData: string\n  linkInfo: null\n  subElementType: null\n}\n\nexport const IMAGE_HTTP_HOST = 'https://gchat.qpic.cn'\nexport const IMAGE_HTTP_HOST_NT = 'https://multimedia.nt.qq.com.cn'\n\nexport enum PicType {\n  GIF = 2000,\n  JPEG = 1000,\n}\n\nexport enum PicSubType {\n  Normal = 0, // 普通图片，大图\n  Face = 1, // 表情包小图\n}\n\nexport interface PicElement {\n  picSubType: PicSubType\n  picType: PicType  // 有这玩意儿吗\n  originImageUrl: string // http url, 没有host，host是https://gchat.qpic.cn/, 带download参数的是https://multimedia.nt.qq.com.cn\n  originImageMd5?: string\n  sourcePath: string // 图片本地路径\n  thumbPath: Map<number, string>\n  picWidth: number\n  picHeight: number\n  fileSize: string\n  fileName: string\n  fileUuid: string\n  md5HexStr?: string\n}\n\nexport interface TipAioOpGrayTipElement {\n  operateType: number\n  peerUid: string\n  fromGrpCodeOfTmpChat: string\n}\n\nexport enum TipGroupElementType {\n  MemberIncrease = 1,\n  Kicked = 3, // 被移出群\n  Ban = 8,\n}\n\nexport interface TipGroupElement {\n  type: TipGroupElementType // 1是表示有人加入群, 自己加入群也会收到这个\n  role: number\n  groupName: string // 暂时获取不到\n  memberUid: string\n  memberNick: string\n  memberRemark: string\n  adminUid: string\n  adminNick: string\n  adminRemark: string\n  createGroup: null\n  memberAdd?: {\n    showType: number\n    otherAdd?: {\n      uid: string\n      name: string\n    }\n    otherAddByOtherQRCode?: unknown\n    otherAddByYourQRCode?: unknown\n    youAddByOtherQRCode?: unknown\n    otherInviteOther?: unknown\n    otherInviteYou?: unknown\n    youInviteOther?: unknown\n  }\n  shutUp?: {\n    curTime: string\n    duration: string // 禁言时间，秒\n    admin: {\n      uid: string\n      card: string\n      name: string\n      role: GroupMemberRole\n    }\n    member: {\n      uid: string\n      card: string\n      name: string\n      role: GroupMemberRole\n    }\n  }\n}\n\nexport interface TipXmlElement {\n  templId: string\n  content: string\n  templParam: Map<string, string>\n  members: Map<string, string> // uid -> remark\n}\n\nexport enum GrayTipElementSubType {\n  Revoke = 1,\n  Proclamation = 2,\n  EmojiReply = 3,\n  Group = 4,\n  Buddy = 5,\n  Feed = 6,\n  Essence = 7,\n  GroupNotify = 8,\n  BuddyNotify = 9,\n  File = 10,\n  FeedChannelMsg = 11,\n  XmlMsg = 12,\n  LocalMsg = 13,\n  Block = 14,\n  AioOp = 15,\n  Wallet = 16,\n  JSON = 17,\n}\n\nexport interface GrayTipElement {\n  subElementType: GrayTipElementSubType\n  revokeElement?: {\n    operatorRole: string\n    operatorUid: string\n    operatorNick: string\n    operatorRemark: string\n    operatorMemRemark?: string\n    origMsgSenderUid?: string\n    isSelfOperate?: boolean\n    wording: string // 自定义的撤回提示语\n  }\n  aioOpGrayTipElement?: TipAioOpGrayTipElement\n  groupElement?: TipGroupElement\n  xmlElement?: TipXmlElement\n  jsonGrayTipElement?: {\n    busiId: string\n    jsonStr: string\n    xmlToJsonParam?: {\n      templParam: Map<string, string>\n    }\n  }\n}\n\nexport enum FaceIndex {\n  Dice = 358,\n  RPS = 359, // 石头剪刀布\n}\n\nexport interface FaceElement {\n  faceIndex: number\n  faceType: number\n  faceText?: string\n  packId?: string\n  stickerId?: string\n  sourceType?: number\n  stickerType?: number\n  resultId?: string\n  surpriseId?: string\n  randomType?: number\n  pokeType?: number\n}\n\nexport interface MarketFaceElement {\n  emojiPackageId: number\n  faceName?: string\n  emojiId: string\n  key: string\n  imageWidth?: number\n  imageHeight?: number\n  supportSize?: {\n    width: number\n    height: number\n  }[]\n}\n\nexport interface VideoElement {\n  filePath: string\n  fileName: string\n  videoMd5?: string\n  thumbMd5?: string\n  fileTime?: number // second\n  thumbSize?: number // byte\n  fileFormat?: number // 2表示mp4？\n  fileSize?: string // byte\n  thumbWidth?: number\n  thumbHeight?: number\n  busiType?: 0 // 未知\n  subBusiType?: 0 // 未知\n  thumbPath?: Map<number, string>\n  transferStatus?: 0 // 未知\n  progress?: 0 // 下载进度？\n  invalidState?: 0 // 未知\n  fileUuid?: string // 可以用于下载链接？\n  fileSubId?: ''\n  fileBizId?: null\n  originVideoMd5?: ''\n  import_rich_media_context?: null\n  sourceVideoCodecFormat?: number\n}\n\nexport interface MarkdownElement {\n  content: string\n}\n\nexport interface InlineKeyboardElementRowButton {\n  id: string // 按钮ID：在一个keyboard消息内设置唯一\n  label: string // 按钮上的文字\n  visitedLabel: string // 点击后按钮的上文字\n  style: number // 按钮样式：0 灰色线框，1 蓝色线框\n  type: number // 设置 0 跳转按钮：http 或 小程序 客户端识别 scheme，设置 1 回调按钮：回调后台接口, data 传给后台，设置 2 指令按钮：自动在输入框插入 @bot data\n  clickLimit: number // 【已弃用】可操作点击的次数，默认不限\n  unsupportTips: string // 客户端不支持本action的时候，弹出的toast文案\n  data: string // 操作相关的数据\n  atBotShowChannelList: boolean // \t本字段仅在指令按钮下有效，设置后后会忽略 action.enter 配置。设置为 1 时 ，点击按钮自动唤起启手Q选图器，其他值暂无效果。（仅支持手机端版本 8983+ 的单聊场景，桌面端不支持）\n  permissionType: number // 0 指定用户可操作，1 仅管理者可操作，2 所有人可操作，3 指定身份组可操作（仅频道可用）\n  specifyRoleIds: string[] // 有权限的身份组 id 的列表（仅频道可用）\n  specifyTinyids: string[] // 有权限的用户 id 的列表\n  isReply: boolean // 指令按钮可用，指令是否带引用回复本消息，默认 false。支持版本 8983\n  anchor: number // 本字段仅在指令按钮下有效，设置后后会忽略 action.enter 配置。设置为 1 时 ，点击按钮自动唤起启手Q选图器，其他值暂无效果。（仅支持手机端版本 8983+ 的单聊场景，桌面端不支持）\n  enter: boolean // 指令按钮可用，点击按钮后直接自动发送 data，默认 false。支持版本 8983\n  subscribeDataTemplateIds: [] // 未知\n}\n\nexport interface InlineKeyboardElement {\n  botAppid?: string\n  rows: [\n    {\n      buttons: InlineKeyboardElementRowButton[]\n    },\n  ]\n}\n\nexport interface StructLongMsgElement {\n  xmlContent: string\n  resId: string\n}\n\nexport interface MultiForwardMsgElement {\n  xmlContent: string // xml格式的消息内容\n  resId: string\n  fileName: string\n}\n\nexport enum ChatType {\n  C2C = 1,\n  Group = 2,\n  TempC2CFromGroup = 100,\n}\n\nexport interface RawMessage {\n  msgId: string\n  msgType: ElementType\n  subMsgType: number\n  msgTime: string // 时间戳，秒\n  msgSeq: string\n  msgRandom: string\n  senderUid: string\n  senderUin: string // 发送者QQ号\n  peerUid: string // 群号 或者 QQ uid\n  peerUin: string // 群号 或者 发送者QQ号\n  guildId: string\n  sendNickName: string\n  sendMemberName?: string // 发送者群名片\n  sendRemarkName?: string // 发送者好友备注\n  chatType: ChatType\n  sendStatus?: number // 消息状态，别人发的2是已撤回，自己发的2是已发送\n  recallTime: string // 撤回时间, \"0\"是没有撤回\n  records: RawMessage[]\n  elements: MessageElement[]\n  peerName: string\n  multiTransInfo?: {\n    status: number\n    msgId: number\n    friendFlag: number\n    fromFaceUrl: string\n  }\n  emojiLikesList: {\n    emojiId: string\n    emojiType: string\n    likesCnt: string\n    isClicked: boolean\n  }[]\n  msgAttrs: Map<number, {\n    attrType: number\n    attrId: string\n  }>\n  isOnlineMsg: boolean\n}\n\nexport interface Peer {\n  chatType: ChatType\n  peerUid: string  // 如果是群聊uid为群号，私聊uid就是加密的字符串\n  guildId?: string\n}\n\nexport interface MessageElement {\n  elementType: ElementType\n  elementId: string\n  extBufForUI: string //\"0x\"\n  textElement?: TextElement\n  faceElement?: FaceElement\n  marketFaceElement?: MarketFaceElement\n  replyElement?: ReplyElement\n  picElement?: PicElement\n  pttElement?: PttElement\n  videoElement?: VideoElement\n  grayTipElement?: GrayTipElement\n  arkElement?: ArkElement\n  fileElement?: FileElement\n  liveGiftElement?: unknown\n  markdownElement?: MarkdownElement\n  structLongMsgElement?: StructLongMsgElement\n  multiForwardMsgElement?: MultiForwardMsgElement\n  giphyElement?: unknown\n  inlineKeyboardElement?: InlineKeyboardElement\n  textGiftElement?: unknown\n  calendarElement?: unknown\n  yoloGameResultElement?: unknown\n  avRecordElement?: unknown\n  structMsgElement?: unknown\n  faceBubbleElement?: unknown\n  shareLocationElement?: unknown\n  tofuRecordElement?: unknown\n  taskTopMsgElement?: unknown\n  recommendedMsgElement?: unknown\n  actionBarElement?: unknown\n}\n\nexport interface RichMediaDownloadCompleteNotify {\n  fileModelId: string\n  msgElementId: string\n  msgId: string\n  fileId: string\n  fileProgress: string  // '0'\n  fileSpeed: string  // '0'\n  fileErrCode: string  // '0'\n  fileErrMsg: string\n  fileDownType: number  // 暂时未知\n  thumbSize: number\n  filePath: string\n  totalSize: string\n  trasferStatus: number\n  step: number\n  commonFileInfo: unknown\n  fileSrvErrCode: string\n  clientMsg: string\n  businessId: number\n  userTotalSpacePerDay: unknown\n  userUsedSpacePerDay: unknown\n}\n\nexport interface GroupFileInfo {\n  retCode: number\n  retMsg: string\n  clientWording: string\n  isEnd: boolean\n  item: {\n    peerId: string\n    type: number\n    folderInfo?: {\n      folderId: string\n      parentFolderId: string\n      folderName: string\n      createTime: number\n      modifyTime: number\n      createUin: string\n      creatorName: string\n      totalFileCount: number\n      modifyUin: string\n      modifyName: string\n      usedSpace: string\n    }\n    fileInfo?: {\n      fileModelId: string\n      fileId: string\n      fileName: string\n      fileSize: string\n      busId: number\n      uploadedSize: string\n      uploadTime: number\n      deadTime: number\n      modifyTime: number\n      downloadTimes: number\n      sha: string\n      sha3: string\n      md5: string\n      uploaderLocalPath: string\n      uploaderName: string\n      uploaderUin: string\n      parentFolderId: string\n      localPath: string\n      transStatus: number\n      transType: number\n      elementId: string\n      isFolder: boolean\n    }\n  }[]\n  allFileCount: number\n  nextIndex: number\n  reqId: number\n}\n\nexport interface QueryMsgsParams {\n  chatInfo: Peer\n  filterMsgType: []\n  filterSendersUid: string[]\n  filterMsgFromTime: string\n  filterMsgToTime: string\n  pageLimit: number\n  isReverseOrder: boolean\n  isIncludeCurrent: boolean\n}\n\nexport interface TmpChatInfoApi extends GeneralCallResult {\n  tmpChatInfo?: {\n    chatType: number\n    fromNick: string\n    groupCode: string\n    peerUid: string\n    sessionType: number\n    sig: string\n  }\n}\n\nexport interface GetFileListParam {\n  sortType: number\n  fileCount: number\n  startIndex: number\n  sortOrder: number\n  showOnlinedocFolder: number\n  folderId?: string\n}\n\nexport interface RichMediaUploadCompleteNotify {\n  fileId: string\n  fileDownType: number\n  filePath: string\n  totalSize: string\n  trasferStatus: number\n  commonFileInfo: {\n    uuid: string\n    fileName: string\n    fileSize: string\n    md5: string\n    sha: string\n  }\n}\n\nexport enum RMBizType {\n  Unknown,\n  C2CFile,\n  GroupFile,\n  C2CPic,\n  GroupPic,\n  DiscPic,\n  C2CVideo,\n  GroupVideo,\n  C2CPtt,\n  GroupPtt,\n}\n\n","import { WebSocket } from 'ws'\nimport { Action, Msg, Oidb } from '@/ntqqapi/proto/compiled'\nimport { deepConvertMap, deepStringifyMap } from '@/ntqqapi/native/pmhq/util'\nimport { Peer, ChatType } from '@/ntqqapi/types/msg'\nimport { selfInfo } from '@/common/globalVars'\nimport { randomUUID } from 'node:crypto'\nimport { gzipSync } from 'node:zlib'\n\ninterface PBData {\n  echo?: string\n  cmd: string\n  pb: string\n}\n\ninterface CallResultData {\n  echo?: string\n  result: any\n}\n\ninterface OnListenerData {\n  echo: string | null\n  sub_type: string\n  data: any\n}\n\ninterface PMHQResSendPB {\n  type: 'send'\n  data: PBData\n}\n\ninterface PMHQResRecvPB {\n  type: 'recv',\n  data: PBData\n}\n\ninterface PMHQResOn {\n  type: 'on_message' | 'on_buddy' | 'on_group',\n  data: OnListenerData\n}\n\ninterface PMHQResCall {\n  type: 'call',\n  data: CallResultData\n}\n\ninterface PMHQReqSendPB {\n  type: 'send',\n  data: PBData\n}\n\ninterface PMHQReqCall {\n  type: 'call',\n  data: {\n    echo?: string\n    func: string,\n    args: any[]\n  }\n}\n\nexport type PMHQRes = PMHQResSendPB | PMHQResRecvPB | PMHQResOn | PMHQResCall\n\nexport type PMHQReq = PMHQReqSendPB | PMHQReqCall\n\ninterface ResListener<R extends PMHQRes> {\n  (data: R): void\n}\n\ninterface MultiMsgItem {\n  fileName: string\n  buffer: {\n    msg: Msg.Message[]\n  }\n}\n\nexport class PMHQ {\n  private reconnectTimer: NodeJS.Timeout | undefined\n  private httpUrl: string = 'http://127.0.0.1:13000'\n  private wsUrl: string = 'ws://127.0.0.1:13000/ws'\n  private ws: WebSocket | undefined\n  private resListeners: Map<string, ResListener<any>> = new Map()\n\n  constructor() {\n    console.log(process.argv)\n    const { pmhqHost, pmhqPort } = this.getPMHQHostPort()\n    this.httpUrl = `http://${pmhqHost}:${pmhqPort}/`\n    this.wsUrl = `ws://${pmhqHost}:${pmhqPort}/ws`\n    this.connectWebSocket().then()\n  }\n\n  private getPMHQHostPort() {\n    let pmhqPort = '13000'\n    let pmhqHost: string = '127.0.0.1'\n    for (const pArg of process.argv) {\n      if (pArg.startsWith('--pmhq-port=')) {\n        pmhqPort = pArg.replace('--pmhq-port=', '')\n      }\n      else if (pArg.startsWith('--pmhq-host=')) {\n        pmhqHost = pArg.replace('--pmhq-host=', '')\n      }\n    }\n    return { pmhqPort, pmhqHost }\n  }\n\n  public addResListener<R extends PMHQRes>(listener: ResListener<R>) {\n    const listenerId = randomUUID()\n    this.resListeners.set(listenerId, listener)\n    return listenerId\n  }\n\n  public removeResListener(listenerId: string) {\n    this.resListeners.delete(listenerId)\n  }\n\n  private async connectWebSocket() {\n    const reconnect = () => {\n      this.ws = undefined\n      if (this.reconnectTimer) {\n        clearTimeout(this.reconnectTimer)\n        this.reconnectTimer = undefined\n      }\n      this.reconnectTimer = setTimeout(() => {\n        this.connectWebSocket()\n      }, 999)\n    }\n\n    try {\n      this.ws = new WebSocket(this.wsUrl)\n    } catch (e) {\n      return reconnect()\n    }\n\n    this.ws.onmessage = async event => {\n      let data: PMHQRes\n      try {\n        data = JSON.parse(event.data.toString())\n      } catch (e) {\n        console.error('解析 PMHQ 消息失败', event.data, e)\n        return\n      }\n      data = deepConvertMap(data)\n      for (const func of this.resListeners.values()) {\n        setImmediate(() => {\n          try {\n            func(data)\n          } catch (e) {\n            console.error('PMHQ res listener error', e)\n          }\n        })\n      }\n      // console.info('PMHQ收到数据', data)\n    }\n\n    this.ws.onerror = (error) => {\n      console.error('PMHQ WebSocket 连接错误', '正在重连...')\n      reconnect()\n    }\n\n    this.ws.onclose = () => {\n      console.info('PMHQ WebSocket 连接关闭，准备重连...')\n      reconnect()\n    }\n\n    this.ws.onopen = () => {\n      console.info('PMHQ WebSocket 连接成功')\n    }\n  }\n\n  public async call(func: string, args: any, timeout = 10000): Promise<any> {\n    const payload: PMHQReqCall = {\n      type: 'call',\n      data: {\n        func,\n        args,\n      },\n    }\n    const result = ((await this.wsSend(payload, timeout)) as PMHQResCall).data?.result\n    return result\n  }\n\n  public async waitConnected() {\n    return new Promise((resolve, reject) => {\n      const check = () => {\n        if (this.ws && (this.ws.readyState === WebSocket.OPEN)) {\n          resolve(true)\n        }\n        else {\n          // console.log('recheck')\n          setTimeout(check, 1000)\n        }\n      }\n      check()\n    })\n  }\n\n  public async wsSend<R extends PMHQRes>(data: PMHQReq, timeout = 10000): Promise<R> {\n    await this.waitConnected()\n    let echo = data.data?.echo\n    if (!data.data?.echo) {\n      echo = randomUUID()\n      data.data.echo = echo\n    }\n    const payload = JSON.stringify(deepStringifyMap(data))\n    const p = new Promise<R>((resolve, reject) => {\n      const timeoutId = setTimeout(() => {\n        reject(new Error('pmhq ws send: wait result timeout'))\n        this.removeResListener(listenerId)\n      }, timeout)\n      const listenerId = this.addResListener<R>((res => {\n        if (!res.data) {\n          console.error(`PMHQ WS send error: payload ${data}, response ${res}`)\n        }\n        if (res.data?.echo == echo) {\n          resolve(res)\n          clearTimeout(timeoutId)\n          this.removeResListener(listenerId)\n        }\n      }))\n    })\n    this.ws!.send(payload)\n    return p\n  }\n\n  public async httpSend<R extends PMHQRes>(data: PMHQReq): Promise<R> {\n    const payload = JSON.stringify(deepStringifyMap(data))\n    const response = await fetch(this.httpUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: payload,\n    })\n    // this.ctx.logger.info(`pmhq payload ${payload}`)\n\n    if (!response.ok) {\n      const errorBody = await response.text()\n      throw new Error(`PMHQ请求失败，请检查发包器PMHQ设置 ${response.status} - ${errorBody}`)\n    }\n\n    let result = await response.json()\n    result = deepConvertMap(result)\n    return result\n  }\n\n  private async httpSendPB(cmd: string, pb: Uint8Array): Promise<PBData> {\n    return (await this.httpSend<PMHQResSendPB>({\n      type: 'send',\n      data: {\n        cmd,\n        pb: Buffer.from(pb).toString('hex'),\n      },\n    })).data\n  }\n\n  private async wsSendPB(cmd: string, pb: Uint8Array): Promise<PBData> {\n    return (await this.wsSend<PMHQResSendPB>({\n      type: 'send',\n      data: {\n        cmd,\n        pb: Buffer.from(pb).toString('hex'),\n      },\n    })).data\n  }\n\n  async sendPB(cmd: string, hex: string): Promise<PBData> {\n    return (await this.wsSend<PMHQResSendPB>({\n      type: 'send',\n      data: {\n        cmd,\n        pb: hex,\n      },\n    })).data\n  }\n\n  async sendFriendPoke(uin: number) {\n    const body = Oidb.SendPoke.encode({\n      toUin: uin,\n      friendUin: uin,\n    }).finish()\n    const data = Oidb.Base.encode({\n      command: 0xed3,\n      subCommand: 1,\n      body,\n    }).finish()\n    return await this.wsSendPB('OidbSvcTrpcTcp.0xed3_1', data)\n  }\n\n  async sendGroupPoke(groupCode: number, memberUin: number) {\n    const body = Oidb.SendPoke.encode({\n      toUin: memberUin,\n      groupCode,\n    }).finish()\n    const data = Oidb.Base.encode({\n      command: 0xed3,\n      subCommand: 1,\n      body,\n    }).finish()\n    return await this.wsSendPB('OidbSvcTrpcTcp.0xed3_1', data)\n  }\n\n  async setSpecialTitle(groupCode: number, memberUid: string, title: string) {\n    const body = Oidb.SetSpecialTitle.encode({\n      groupCode,\n      body: {\n        targetUid: memberUid,\n        uidName: title,\n        specialTitle: title,\n        expireTime: -1,\n      },\n    }).finish()\n    const data = Oidb.Base.encode({\n      command: 0x8fc,\n      subCommand: 2,\n      body,\n    }).finish()\n    return await this.httpSendPB('OidbSvcTrpcTcp.0x8fc_2', data)\n  }\n\n  async getRKey() {\n    const hexStr = '08e7a00210ca01221c0a130a05080110ca011206a80602b006011a02080122050a030a1400'\n    const data = Buffer.from(hexStr, 'hex')\n    const resp = await this.wsSendPB('OidbSvcTrpcTcp.0xed3_1', data)\n    const rkeyBody = Oidb.Base.decode(Buffer.from(resp.pb, 'hex')).body\n    const rkeyItems = Oidb.GetRKeyResponseBody.decode(rkeyBody).result?.rkeyItems!\n    return {\n      privateRKey: rkeyItems[0]?.rkey,\n      groupRKey: rkeyItems[1]?.rkey,\n    }\n  }\n\n  async uploadForward(peer: Peer, items: MultiMsgItem[]) {\n    const transmit = Msg.PbMultiMsgTransmit.encode({ pbItemList: items }).finish()\n    const isGroup = peer.chatType === ChatType.Group\n    const data = Action.SendLongMsgReq.encode({\n      info: {\n        type: isGroup ? 3 : 1,\n        peer: {\n          uid: isGroup ? peer.peerUid : selfInfo.uid\n        },\n        groupCode: isGroup ? +peer.peerUid : 0,\n        payload: gzipSync(transmit)\n      },\n      settings: {\n        field1: 4,\n        field2: 1,\n        field3: 7,\n        field4: 0\n      }\n    }).finish()\n    const res = await this.httpSendPB('trpc.group.long_msg_interface.MsgService.SsoSendLongMsg', data)\n    return Action.SendLongMsgResp.decode(Buffer.from(res.pb, 'hex')).result!.resId!\n  }\n}\n\nexport const pmhq = new PMHQ()\n","import { log } from '@/common/utils'\nimport { randomUUID } from 'node:crypto'\nimport { Awaitable, Dict } from 'cosmokit'\nimport { NTMethod } from './ntcall'\nimport { pmhq } from '@/ntqqapi/native/pmhq'\n\nexport const hookApiCallbacks: Map<string, (res: any) => void> = new Map()\n\nexport enum ReceiveCmdS {\n  RECENT_CONTACT = 'nodeIKernelRecentContactListener/onRecentContactListChangedVer2',\n  UPDATE_MSG = 'nodeIKernelMsgListener/onMsgInfoListUpdate',\n  UPDATE_ACTIVE_MSG = 'nodeIKernelMsgListener/onActiveMsgInfoUpdate',\n  NEW_MSG = 'nodeIKernelMsgListener/onRecvMsg',\n  NEW_ACTIVE_MSG = 'nodeIKernelMsgListener/onRecvActiveMsg',\n  SELF_SEND_MSG = 'nodeIKernelMsgListener/onAddSendMsg',\n  USER_INFO = 'nodeIKernelProfileListener/onProfileSimpleChanged',\n  USER_DETAIL_INFO = 'nodeIKernelProfileListener/onProfileDetailInfoChanged',\n  GROUPS = 'nodeIKernelGroupListener/onGroupListUpdate',\n  GROUPS_STORE = 'onGroupListUpdate',\n  GROUP_MEMBER_INFO_UPDATE = 'nodeIKernelGroupListener/onMemberInfoChange',\n  FRIENDS = 'nodeIKernelBuddyListener/onBuddyListChange',\n  MEDIA_DOWNLOAD_COMPLETE = 'nodeIKernelMsgListener/onRichMediaDownloadComplete',\n  UNREAD_GROUP_NOTIFY = 'nodeIKernelGroupListener/onGroupNotifiesUnreadCountUpdated',\n  GROUP_NOTIFY = 'nodeIKernelGroupListener/onGroupSingleScreenNotifies',\n  FRIEND_REQUEST = 'nodeIKernelBuddyListener/onBuddyReqChange',\n  SELF_STATUS = 'nodeIKernelProfileListener/onSelfStatusChanged',\n  CACHE_SCAN_FINISH = 'nodeIKernelStorageCleanListener/onFinishScan',\n  MEDIA_UPLOAD_COMPLETE = 'nodeIKernelMsgListener/onRichMediaUploadComplete',\n  FLASH_FILE_DOWNLOAD_STATUS = 'nodeIKernelFlashTransferListener/onFileSetDownloadTaskStatusChange',\n  FLASH_FILE_DOWNLOADING = 'nodeIKernelFlashTransferListener/onFileSetDownloadTaskProgressChanged',\n  FLASH_FILE_UPLOAD_STATUS = 'nodeIKernelFlashTransferListener/onFileSetUploadStatusChanged',\n  FLASH_FILE_UPLOADING = 'nodeIKernelFlashTransferListener/onFileSetUploadProgressChanged',\n}\n\nconst logHook = false\n\nconst receiveHooks: Map<string, {\n  method: ReceiveCmdS[]\n  hookFunc: (payload: any) => Awaitable<void>\n}> = new Map()\n\nconst callHooks: Map<\n  NTMethod,\n  (callParams: unknown[]) => Awaitable<void>\n> = new Map()\n\nconst NT_RECV_PMHQ_TYPE_TO_NT_METHOD = {\n  'on_message': 'nodeIKernelMsgListener',\n  'on_group': 'nodeIKernelGroupListener',\n  'on_buddy': 'nodeIKernelBuddyListener',\n  'on_profile': 'nodeIKernelProfileListener',\n  'on_flash_file': 'nodeIKernelFlashTransferListener',\n}\n\nexport function startHook() {\n\n  pmhq.addResListener((data) => {\n    let listenerName = data.type\n    if ('sub_type' in data.data && listenerName in NT_RECV_PMHQ_TYPE_TO_NT_METHOD) {\n      const sub_type = data.data.sub_type\n      const ntCmd: ReceiveCmdS = (NT_RECV_PMHQ_TYPE_TO_NT_METHOD[listenerName as keyof typeof NT_RECV_PMHQ_TYPE_TO_NT_METHOD] + '/' + sub_type) as ReceiveCmdS\n      if (logHook){\n        console.info(ntCmd, data.data)\n      }\n      for (const hook of receiveHooks.values()) {\n        if (hook.method.includes(ntCmd)) {\n          Promise.resolve(hook.hookFunc(data.data.data))\n        }\n      }\n    }\n  })\n}\n\n\nexport function registerReceiveHook<PayloadType>(\n  method: string | string[],\n  hookFunc: (payload: PayloadType) => Awaitable<void>,\n): string {\n\n  const id = randomUUID()\n  if (!Array.isArray(method)) {\n    method = [method]\n  }\n  receiveHooks.set(id, {\n    method: method as ReceiveCmdS[],\n    hookFunc,\n  })\n  return id\n}\n\n\nexport function registerCallHook(\n  method: NTMethod,\n  hookFunc: (callParams: unknown[]) => Awaitable<void>,\n): void {\n  callHooks.set(method, hookFunc)\n}\n\nexport function removeReceiveHook(id: string) {\n  receiveHooks.delete(id)\n}\n","export enum Sex {\n  Unknown = 0,\n  Male = 1,\n  Female = 2,\n  Hidden = 255\n}\n\nexport interface QQLevel {\n  crownNum: number\n  sunNum: number\n  moonNum: number\n  starNum: number\n}\n\nexport interface User {\n  uid: string // 加密的字符串\n  uin: string // QQ号\n  nick: string\n  avatarUrl?: string\n  longNick?: string // 签名\n  remark?: string\n  sex?: Sex\n  qqLevel?: QQLevel\n  qid?: string\n  birthday_year?: number\n  birthday_month?: number\n  birthday_day?: number\n  topTime?: string\n  constellation?: number\n  shengXiao?: number\n  kBloodType?: number\n  homeTown?: string //\"0-0-0\",\n  makeFriendCareer?: number\n  pos?: string\n  eMail?: string\n  phoneNum?: string\n  college?: string\n  country?: string\n  province?: string\n  city?: string\n  postCode?: string\n  address?: string\n  isBlock?: boolean\n  isSpecialCareOpen?: boolean\n  isSpecialCareZone?: boolean\n  ringId?: string\n  regTime?: number\n  interest?: string\n  labels?: string[]\n  isHideQQLevel?: number\n  privilegeIcon?: {\n    jumpUrl: string\n    openIconList: unknown[]\n    closeIconList: unknown[]\n  }\n  photoWall?: {\n    picList: unknown[]\n  }\n  vipFlag?: boolean\n  yearVipFlag?: boolean\n  svipFlag?: boolean\n  vipLevel?: number\n  status?: number\n  qidianMasterFlag?: number\n  qidianCrewFlag?: number\n  qidianCrewFlag2?: number\n  extStatus?: number\n  recommendImgFlag?: number\n  disableEmojiShortCuts?: number\n  pendantId?: string\n  age?: number\n}\n\nexport interface SelfInfo extends User {\n  online?: boolean\n}\n\nexport interface Friend extends User {\n}\n\nexport interface CategoryFriend {\n  categoryId: number\n  categorySortId: number\n  categroyName: string\n  categroyMbCount: number\n  onlineCount: number\n  buddyList: SimpleInfo[]\n  buddyUids: string[]\n}\n\nexport interface CoreInfo {\n  uid: string\n  uin: string\n  nick: string\n  remark: string\n}\n\nexport interface BaseInfo {\n  qid: string\n  longNick: string\n  birthday_year: number\n  birthday_month: number\n  birthday_day: number\n  age: number\n  sex: Sex\n  eMail: string\n  phoneNum: string\n  categoryId: number\n  richTime: number\n  richBuffer: Uint8Array\n}\n\ninterface MusicInfo {\n  buf: string\n}\n\ninterface VideoBizInfo {\n  cid: string\n  tvUrl: string\n  synchType: string\n}\n\ninterface VideoInfo {\n  name: string\n}\n\ninterface ExtOnlineBusinessInfo {\n  buf: string\n  customStatus: unknown\n  videoBizInfo: VideoBizInfo\n  videoInfo: VideoInfo\n}\n\ninterface ExtBuffer {\n  buf: string\n}\n\ninterface UserStatus {\n  uid: string\n  uin: string\n  status: number\n  extStatus: number\n  batteryStatus: number\n  termType: number\n  netType: number\n  iconType: number\n  customStatus: unknown\n  setTime: string\n  specialFlag: number\n  abiFlag: number\n  eNetworkType: number\n  showName: string\n  termDesc: string\n  musicInfo: MusicInfo\n  extOnlineBusinessInfo: ExtOnlineBusinessInfo\n  extBuffer: ExtBuffer\n}\n\ninterface PrivilegeIcon {\n  jumpUrl: string\n  openIconList: unknown[]\n  closeIconList: unknown[]\n}\n\ninterface VasInfo {\n  vipFlag: boolean\n  yearVipFlag: boolean\n  svipFlag: boolean\n  vipLevel: number\n  bigClub: boolean\n  bigClubLevel: number\n  nameplateVipType: number\n  grayNameplateFlag: number\n  superVipTemplateId: number\n  diyFontId: number\n  pendantId: number\n  pendantDiyId: number\n  faceId: number\n  vipFont: number\n  vipFontType: number\n  magicFont: number\n  fontEffect: number\n  newLoverDiamondFlag: number\n  extendNameplateId: number\n  diyNameplateIDs: unknown[]\n  vipStartFlag: number\n  vipDataFlag: number\n  gameNameplateId: string\n  gameLastLoginTime: string\n  gameRank: number\n  gameIconShowFlag: boolean\n  gameCardId: string\n  vipNameColorId: string\n  privilegeIcon: PrivilegeIcon\n}\n\nexport interface SimpleInfo {\n  uid?: string\n  uin?: string\n  coreInfo: CoreInfo\n  baseInfo: BaseInfo\n  status: UserStatus | null\n  vasInfo: VasInfo | null\n  relationFlags: RelationFlags | null\n  otherFlags: unknown | null\n  intimate: unknown | null\n}\n\ninterface RelationFlags {\n  topTime: string\n  isBlock: boolean\n  isMsgDisturb: boolean\n  isSpecialCareOpen: boolean\n  isSpecialCareZone: boolean\n  ringId: string\n  isBlocked: boolean\n  recommendImgFlag: number\n  disableEmojiShortCuts: number\n  qidianMasterFlag: number\n  qidianCrewFlag: number\n  qidianCrewFlag2: number\n  isHideQQLevel: number\n  isHidePrivilegeIcon: number\n}\n\ninterface CommonExt {\n  constellation: number\n  shengXiao: number\n  kBloodType: number\n  homeTown: string\n  makeFriendCareer: number\n  pos: string\n  college: string\n  country: string\n  province: string\n  city: string\n  postCode: string\n  address: string\n  regTime: number\n  interest: string\n  labels: string[]\n  qqLevel: QQLevel\n}\n\ninterface Pic {\n  picId: string\n  picTime: number\n  picUrlMap: Record<string, string>\n}\n\ninterface PhotoWall {\n  picList: Pic[]\n}\n\nexport interface UserDetailInfoV2 {\n  uid: string\n  uin: string\n  simpleInfo: SimpleInfo\n  commonExt: CommonExt\n  photoWall: PhotoWall\n}\n\nexport interface UserDetailInfo {\n  uid: string\n  qid: string\n  uin: string\n  nick: string\n  remark: string\n  longNick: string\n  //avatarUrl: string\n  birthday_year: number\n  birthday_month: number\n  birthday_day: number\n  sex: number\n  topTime: string\n  constellation: number\n  shengXiao: number\n  kBloodType: number\n  homeTown: string\n  makeFriendCareer: number\n  pos: string\n  eMail: string\n  phoneNum: string\n  college: string\n  country: string\n  province: string\n  city: string\n  postCode: string\n  address: string\n  isBlock: boolean\n  isSpecialCareOpen: boolean\n  isSpecialCareZone: boolean\n  ringId: string\n  regTime: number\n  interest: string\n  termType: number\n  labels: unknown[]\n  qqLevel: { crownNum: number, sunNum: number, moonNum: number, starNum: number }\n  isHideQQLevel: number\n  privilegeIcon: { jumpUrl: string, openIconList: unknown[], closeIconList: unknown[] }\n  isHidePrivilegeIcon: number\n  photoWall: { picList: unknown[] }\n  vipFlag: boolean\n  yearVipFlag: boolean\n  svipFlag: boolean\n  vipLevel: number\n  status: number\n  qidianMasterFlag: number\n  qidianCrewFlag: number\n  qidianCrewFlag2: number\n  extStatus: number\n  recommendImgFlag: number\n  disableEmojiShortCuts: number\n  pendantId: string\n  vipNameColorId: string\n  age?: number\n}\n\nexport interface BuddyProfileLikeReq {\n  friendUids: string[]\n  basic: number\n  vote: number\n  favorite: number\n  userProfile: number\n  type: number\n  start: number\n  limit: number\n}\n\nexport enum BuddyListReqType {\n  KNOMAL,\n  KLETTER\n}\n\nexport enum UserDetailSource {\n  KDB,\n  KSERVER\n}\n\nexport enum ProfileBizType {\n  KALL,\n  KBASEEXTEND,\n  KVAS,\n  KQZONE,\n  KOTHER\n}\n\nexport interface MiniProfile {\n  nick: string\n  longNick: string\n  sex: number\n  birthday: {\n    birthday_year: number\n    birthday_month: number\n    birthday_day: number\n  }\n  location: {\n    country: string\n    province: string\n    city: string\n    zone: string\n  }\n}\n","export interface GroupSimpleInfo {\n  groupCode: string\n  maxMember: number\n  memberCount: number\n  groupName: string\n  groupStatus: 0\n  memberRole: 2\n  isTop: boolean\n  toppedTimestamp: '0'\n  privilegeFlag: number //65760\n  isConf: boolean\n  hasModifyConfGroupFace: boolean\n  hasModifyConfGroupName: boolean\n  remarkName: string\n  hasMemo: boolean\n  groupShutupExpireTime: string\n  personShutupExpireTime: string\n  discussToGroupUin: string\n  discussToGroupMaxMsgSeq: number\n  discussToGroupTime: number\n  groupFlagExt: number //1073938496,\n  authGroupType: number //0,\n  groupCreditLevel: number //0,\n  groupFlagExt3: number //0,\n  groupOwnerId: {\n    memberUin: string\n    memberUid: string\n  }\n  createTime: string\n}\n\nexport enum GroupMemberRole {\n  Normal = 2,\n  Admin = 3,\n  Owner = 4,\n}\n\nexport interface GroupMember {\n  uid: string\n  qid: string\n  uin: string\n  nick: string\n  remark: string\n  cardType: number\n  cardName: string\n  role: GroupMemberRole\n  avatarPath: string\n  shutUpTime: number\n  isDelete: boolean\n  isSpecialConcerned: boolean\n  isSpecialShield: boolean\n  isRobot: boolean\n  groupHonor: Uint8Array\n  memberRealLevel: number\n  memberLevel: number\n  globalGroupLevel: number\n  globalGroupPoint: number\n  memberTitleId: number\n  memberSpecialTitle: string\n  specialTitleExpireTime: string\n  userShowFlag: number\n  userShowFlagNew: number\n  richFlag: number\n  mssVipType: number\n  bigClubLevel: number\n  bigClubFlag: number\n  autoRemark: string\n  creditLevel: number\n  joinTime: number\n  lastSpeakTime: number\n  memberFlag: number\n  memberFlagExt: number\n  memberMobileFlag: number\n  memberFlagExt2: number\n  isSpecialShielded: boolean\n  cardNameId: number\n}\n\nexport interface PublishGroupBulletinReq {\n  text: string\n  picInfo?: {\n    id: string\n    width: number\n    height: number\n  }\n  oldFeedsId: ''\n  pinned: number\n  confirmRequired: number\n}\n\nexport interface GroupAllInfo {\n  groupCode: string\n  ownerUid: string\n  groupFlag: number\n  groupFlagExt: number\n  maxMemberNum: number\n  memberNum: number\n  groupOption: number\n  classExt: number\n  groupName: string\n  fingerMemo: string\n  groupQuestion: string\n  certType: number\n  shutUpAllTimestamp: number\n  shutUpMeTimestamp: number //解除禁言时间\n  groupTypeFlag: number\n  privilegeFlag: number\n  groupSecLevel: number\n  groupFlagExt3: number\n  isConfGroup: number\n  isModifyConfGroupFace: number\n  isModifyConfGroupName: number\n  noFigerOpenFlag: number\n  noCodeFingerOpenFlag: number\n  groupFlagExt4: number\n  groupMemo: string\n  cmdUinMsgSeq: number\n  cmdUinJoinTime: number\n  cmdUinUinFlag: number\n  cmdUinMsgMask: number\n  groupSecLevelInfo: number\n  cmdUinPrivilege: number\n  cmdUinFlagEx2: number\n  appealDeadline: number\n  remarkName: string\n  isTop: boolean\n  richFingerMemo: string\n  groupAnswer: string\n  joinGroupAuth: string\n  isAllowModifyConfGroupName: number\n}\n\nexport interface GroupBulletinListResult {\n  groupCode: string\n  srvCode: number\n  readOnly: number\n  role: number\n  inst: unknown[]\n  feeds: {\n    uin: string\n    feedId: string\n    publishTime: string\n    msg: {\n      text: string\n      textFace: string\n      pics: {\n        id: string\n        width: number\n        height: number\n      }[]\n      title: string\n    }\n    type: number\n    fn: number\n    cn: number\n    vn: number\n    settings: {\n      isShowEditCard: number\n      remindTs: number\n      tipWindowType: number\n      confirmRequired: number\n    }\n    pinned: number\n    readNum: number\n    is_read: number\n    is_all_confirm: number\n  }[]\n  groupInfo: {\n    groupCode: string\n    classId: number\n  }\n  gln: number\n  tst: number\n  publisherInfos: {\n    uin: string\n    nick: string\n    avatar: string\n  }[]\n  server_time: string\n  svrt: string\n  nextIndex: number\n  jointime: string\n}\n\nexport enum GroupMsgMask {\n  AllowNotify = 1,  // 允许提醒\n  AllowNotNotify = 4,  // 接受消息不提醒\n  BoxNotNotify = 2,  // 收进群助手不提醒\n  NotAllow = 3,  // 屏蔽\n}\n","export enum GroupNotifyType {\n  InvitedByMember = 1,\n  RefuseInvited,\n  RefusedByAdminiStrator,\n  AgreedTojoinDirect, // 有人接受了邀请入群\n  InvitedNeedAdminiStratorPass, // 有人邀请了别人入群\n  AgreedToJoinByAdminiStrator,\n  RequestJoinNeedAdminiStratorPass,\n  SetAdmin,\n  KickMemberNotifyAdmin,\n  KickMemberNotifyKicked,\n  MemberLeaveNotifyAdmin, // 主动退出\n  CancelAdminNotifyCanceled, // 我被取消管理员\n  CancelAdminNotifyAdmin, // 其他人取消管理员\n  TransferGroupNotifyOldowner,\n  TransferGroupNotifyAdmin\n}\n\nexport interface GroupNotifies {\n  doubt: boolean\n  nextStartSeq: string\n  notifies: GroupNotify[]\n}\n\nexport enum GroupNotifyStatus {\n  Init, // 初始化\n  Unhandle, // 未处理\n  Agreed, // 同意\n  Refused, // 拒绝\n  Ignored // 忽略\n}\n\nexport interface GroupNotify {\n  time: number // 自己添加的字段，时间戳，毫秒, 用于判断收到短时间内收到重复的notify\n  seq: string // 唯一标识符，转成数字再除以1000应该就是时间戳？\n  type: GroupNotifyType\n  status: GroupNotifyStatus\n  group: { groupCode: string; groupName: string }\n  user1: { uid: string; nickName: string } // 被设置管理员的人\n  user2: { uid: string; nickName: string } // 操作者\n  actionUser: { uid: string; nickName: string } //未知\n  actionTime: string\n  invitationExt: {\n    srcType: number // 0?未知\n    groupCode: string\n    waitStatus: number\n  }\n  postscript: string // 加群用户填写的验证信息\n  repeatSeqs: []\n  warningTips: string\n}\n\nexport enum GroupRequestOperateTypes {\n  Approve = 1,\n  Reject = 2,\n}\n\nexport enum BuddyReqType {\n  MsgInfo = 12,\n  MeInitiatorWaitPeerConfirm = 13,\n}\n\nexport interface FriendRequest {\n  isInitiator?: boolean\n  isDecide: boolean\n  friendUid: string\n  reqType: BuddyReqType\n  reqTime: string // 时间戳,秒\n  extWords: string // 申请人填写的验证消息\n  isUnread: boolean\n  friendNick: string\n  sourceId: number\n  groupCode: string\n}\n\nexport interface FriendRequestNotify {\n  unreadNums: number\n  buddyReqs: FriendRequest[]\n}\n","import fs from 'fs'\n\nexport const version = '5.3.0'\n\nexport const writeVersion = ()=>{\n  const pkgJsonPath = './package-dist.json'\n  const pkgJson = JSON.parse(fs.readFileSync(pkgJsonPath, 'utf8'))\n  pkgJson.version = version\n  fs.writeFileSync(pkgJsonPath, JSON.stringify(pkgJson), 'utf8')\n}\n","import { Context } from 'cordis'\nimport { selfInfo } from '@/common/globalVars'\nimport { AtType, ChatType, ElementType, RawMessage } from '@/ntqqapi/types'\n\nexport async function logSummaryMessage(ctx: Context, message: RawMessage) {\n  const direction = message.senderUid == selfInfo.uid ? '发' : '收'\n  let sender = message.sendMemberName || message.sendRemarkName || message.sendNickName\n  const senderUin = message.senderUin\n  let summary = ''\n  for (const msgEle of message.elements) {\n    switch (msgEle.elementType) {\n      case ElementType.Text: {\n        // if (msgEle.textElement?.atType === AtType.All) {\n        //   summary += `@全体成员 `\n        // }\n        // else if (msgEle.textElement?.atType == AtType.One) {\n        //   summary += `@${msgEle.textElement.atUid} `\n        // }\n        summary += `${msgEle.textElement?.content}`\n      }\n        break\n      case ElementType.Pic: {\n        summary += `[图片]${msgEle.picElement?.fileName}\\n`\n      }\n        break\n      case ElementType.Face: {\n        summary += `[表情]${msgEle.faceElement?.faceText || '未知表情'}\\n`\n      }\n        break\n      case ElementType.Ptt: {\n        summary += `[语音](${msgEle.pttElement?.fileName})`\n      }\n        break\n      case ElementType.Video: {\n        summary += `[视频]${msgEle.videoElement?.fileName}`\n      }\n        break\n      case ElementType.File: {\n        summary += `[文件]${msgEle.fileElement?.fileName}\\n`\n      }\n        break\n      case ElementType.Ark: {\n        summary += `[卡片]\\n`\n      }\n        break\n      case ElementType.MultiForward: {\n        summary += `[合并转发]\\n`\n      }\n    }\n  }\n  if (!summary){\n    return\n  }\n  const now = new Date(parseInt(message.msgTime) * 1000)\n  let peerName = ''\n  if (message.chatType == ChatType.Group) {\n    peerName = `群] ${message.peerName}(${message.peerUid}) ${sender}(${senderUin})`\n  }\n  else if (message.chatType == ChatType.C2C) {\n    try {\n      const userUid = message.peerUid\n      const userInfo = (await ctx.ntUserApi.getUserDetailInfoWithBizInfo(userUid)).coreInfo\n      sender = userInfo.remark || userInfo.nick\n      peerName = `私] ${sender}(${userInfo.uin})`\n    }catch (e) {\n      return\n    }\n  }\n  else if (message.chatType == ChatType.TempC2CFromGroup) {\n    peerName = `临] ${message.peerName}(${message.peerUin})`\n  }\n  const padTime = (t: number) => t.toString().padStart(2, '0')\n  const logMsg = `[${direction}-${peerName}：\\n${summary}`\n  ctx.logger.info(logMsg)\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n","var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n","module.exports = which\nwhich.sync = whichSync\n\nvar isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nvar path = require('path')\nvar COLON = isWindows ? ';' : ':'\nvar isexe = require('isexe')\n\nfunction getNotFoundError (cmd) {\n  var er = new Error('not found: ' + cmd)\n  er.code = 'ENOENT'\n\n  return er\n}\n\nfunction getPathInfo (cmd, opt) {\n  var colon = opt.colon || COLON\n  var pathEnv = opt.path || process.env.PATH || ''\n  var pathExt = ['']\n\n  pathEnv = pathEnv.split(colon)\n\n  var pathExtExe = ''\n  if (isWindows) {\n    pathEnv.unshift(process.cwd())\n    pathExtExe = (opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM')\n    pathExt = pathExtExe.split(colon)\n\n\n    // Always test the cmd itself first.  isexe will check to make sure\n    // it's found in the pathExt set.\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  if (cmd.match(/\\//) || isWindows && cmd.match(/\\\\/))\n    pathEnv = ['']\n\n  return {\n    env: pathEnv,\n    ext: pathExt,\n    extExe: pathExtExe\n  }\n}\n\nfunction which (cmd, opt, cb) {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  ;(function F (i, l) {\n    if (i === l) {\n      if (opt.all && found.length)\n        return cb(null, found)\n      else\n        return cb(getNotFoundError(cmd))\n    }\n\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && (/^\\.[\\\\\\/]/).test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    ;(function E (ii, ll) {\n      if (ii === ll) return F(i + 1, l)\n      var ext = pathExt[ii]\n      isexe(p + ext, { pathExt: pathExtExe }, function (er, is) {\n        if (!er && is) {\n          if (opt.all)\n            found.push(p + ext)\n          else\n            return cb(null, p + ext)\n        }\n        return E(ii + 1, ll)\n      })\n    })(0, pathExt.length)\n  })(0, pathEnv.length)\n}\n\nfunction whichSync (cmd, opt) {\n  opt = opt || {}\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  for (var i = 0, l = pathEnv.length; i < l; i ++) {\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && /^\\.[\\\\\\/]/.test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    for (var j = 0, ll = pathExt.length; j < ll; j ++) {\n      var cur = p + pathExt[j]\n      var is\n      try {\n        is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n","/*jshint node:true*/\n'use strict';\n\nvar exec = require('child_process').exec;\nvar isWindows = require('os').platform().match(/win(32|64)/);\nvar which = require('which');\n\nvar nlRegexp = /\\r\\n|\\r|\\n/g;\nvar streamRegexp = /^\\[?(.*?)\\]?$/;\nvar filterEscapeRegexp = /[,]/;\nvar whichCache = {};\n\n/**\n * Parse progress line from ffmpeg stderr\n *\n * @param {String} line progress line\n * @return progress object\n * @private\n */\nfunction parseProgressLine(line) {\n  var progress = {};\n\n  // Remove all spaces after = and trim\n  line  = line.replace(/=\\s+/g, '=').trim();\n  var progressParts = line.split(' ');\n\n  // Split every progress part by \"=\" to get key and value\n  for(var i = 0; i < progressParts.length; i++) {\n    var progressSplit = progressParts[i].split('=', 2);\n    var key = progressSplit[0];\n    var value = progressSplit[1];\n\n    // This is not a progress line\n    if(typeof value === 'undefined')\n      return null;\n\n    progress[key] = value;\n  }\n\n  return progress;\n}\n\n\nvar utils = module.exports = {\n  isWindows: isWindows,\n  streamRegexp: streamRegexp,\n\n\n  /**\n   * Copy an object keys into another one\n   *\n   * @param {Object} source source object\n   * @param {Object} dest destination object\n   * @private\n   */\n  copy: function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n      dest[key] = source[key];\n    });\n  },\n\n\n  /**\n   * Create an argument list\n   *\n   * Returns a function that adds new arguments to the list.\n   * It also has the following methods:\n   * - clear() empties the argument list\n   * - get() returns the argument list\n   * - find(arg, count) finds 'arg' in the list and return the following 'count' items, or undefined if not found\n   * - remove(arg, count) remove 'arg' in the list as well as the following 'count' items\n   *\n   * @private\n   */\n  args: function() {\n    var list = [];\n\n    // Append argument(s) to the list\n    var argfunc = function() {\n      if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        list = list.concat(arguments[0]);\n      } else {\n        list = list.concat([].slice.call(arguments));\n      }\n    };\n\n    // Clear argument list\n    argfunc.clear = function() {\n      list = [];\n    };\n\n    // Return argument list\n    argfunc.get = function() {\n      return list;\n    };\n\n    // Find argument 'arg' in list, and if found, return an array of the 'count' items that follow it\n    argfunc.find = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        return list.slice(index + 1, index + 1 + (count || 0));\n      }\n    };\n\n    // Find argument 'arg' in list, and if found, remove it as well as the 'count' items that follow it\n    argfunc.remove = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        list.splice(index, (count || 0) + 1);\n      }\n    };\n\n    // Clone argument list\n    argfunc.clone = function() {\n      var cloned = utils.args();\n      cloned(list);\n      return cloned;\n    };\n\n    return argfunc;\n  },\n\n\n  /**\n   * Generate filter strings\n   *\n   * @param {String[]|Object[]} filters filter specifications. When using objects,\n   *   each must have the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|Array} [filters.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [filters.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [filters.options] filter options, can be omitted to not set any options\n   * @return String[]\n   * @private\n   */\n  makeFilterStrings: function(filters) {\n    return filters.map(function(filterSpec) {\n      if (typeof filterSpec === 'string') {\n        return filterSpec;\n      }\n\n      var filterString = '';\n\n      // Filter string format is:\n      // [input1][input2]...filter[output1][output2]...\n      // The 'filter' part can optionaly have arguments:\n      //   filter=arg1:arg2:arg3\n      //   filter=arg1=v1:arg2=v2:arg3=v3\n\n      // Add inputs\n      if (Array.isArray(filterSpec.inputs)) {\n        filterString += filterSpec.inputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.inputs === 'string') {\n        filterString += filterSpec.inputs.replace(streamRegexp, '[$1]');\n      }\n\n      // Add filter\n      filterString += filterSpec.filter;\n\n      // Add options\n      if (filterSpec.options) {\n        if (typeof filterSpec.options === 'string' || typeof filterSpec.options === 'number') {\n          // Option string\n          filterString += '=' + filterSpec.options;\n        } else if (Array.isArray(filterSpec.options)) {\n          // Option array (unnamed options)\n          filterString += '=' + filterSpec.options.map(function(option) {\n            if (typeof option === 'string' && option.match(filterEscapeRegexp)) {\n              return '\\'' + option + '\\'';\n            } else {\n              return option;\n            }\n          }).join(':');\n        } else if (Object.keys(filterSpec.options).length) {\n          // Option object (named options)\n          filterString += '=' + Object.keys(filterSpec.options).map(function(option) {\n            var value = filterSpec.options[option];\n\n            if (typeof value === 'string' && value.match(filterEscapeRegexp)) {\n              value = '\\'' + value + '\\'';\n            }\n\n            return option + '=' + value;\n          }).join(':');\n        }\n      }\n\n      // Add outputs\n      if (Array.isArray(filterSpec.outputs)) {\n        filterString += filterSpec.outputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.outputs === 'string') {\n        filterString += filterSpec.outputs.replace(streamRegexp, '[$1]');\n      }\n\n      return filterString;\n    });\n  },\n\n\n  /**\n   * Search for an executable\n   *\n   * Uses 'which' or 'where' depending on platform\n   *\n   * @param {String} name executable name\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  which: function(name, callback) {\n    if (name in whichCache) {\n      return callback(null, whichCache[name]);\n    }\n\n    which(name, function(err, result){\n      if (err) {\n        // Treat errors as not found\n        return callback(null, whichCache[name] = '');\n      }\n      callback(null, whichCache[name] = result);\n    });\n  },\n\n\n  /**\n   * Convert a [[hh:]mm:]ss[.xxx] timemark into seconds\n   *\n   * @param {String} timemark timemark string\n   * @return Number\n   * @private\n   */\n  timemarkToSeconds: function(timemark) {\n    if (typeof timemark === 'number') {\n      return timemark;\n    }\n\n    if (timemark.indexOf(':') === -1 && timemark.indexOf('.') >= 0) {\n      return Number(timemark);\n    }\n\n    var parts = timemark.split(':');\n\n    // add seconds\n    var secs = Number(parts.pop());\n\n    if (parts.length) {\n      // add minutes\n      secs += Number(parts.pop()) * 60;\n    }\n\n    if (parts.length) {\n      // add hours\n      secs += Number(parts.pop()) * 3600;\n    }\n\n    return secs;\n  },\n\n\n  /**\n   * Extract codec data from ffmpeg stderr and emit 'codecData' event if appropriate\n   * Call it with an initially empty codec object once with each line of stderr output until it returns true\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr output line\n   * @param {Object} codecObject object used to accumulate codec data between calls\n   * @return {Boolean} true if codec data is complete (and event was emitted), false otherwise\n   * @private\n   */\n  extractCodecData: function(command, stderrLine, codecsObject) {\n    var inputPattern = /Input #[0-9]+, ([^ ]+),/;\n    var durPattern = /Duration\\: ([^,]+)/;\n    var audioPattern = /Audio\\: (.*)/;\n    var videoPattern = /Video\\: (.*)/;\n\n    if (!('inputStack' in codecsObject)) {\n      codecsObject.inputStack = [];\n      codecsObject.inputIndex = -1;\n      codecsObject.inInput = false;\n    }\n\n    var inputStack = codecsObject.inputStack;\n    var inputIndex = codecsObject.inputIndex;\n    var inInput = codecsObject.inInput;\n\n    var format, dur, audio, video;\n\n    if (format = stderrLine.match(inputPattern)) {\n      inInput = codecsObject.inInput = true;\n      inputIndex = codecsObject.inputIndex = codecsObject.inputIndex + 1;\n\n      inputStack[inputIndex] = { format: format[1], audio: '', video: '', duration: '' };\n    } else if (inInput && (dur = stderrLine.match(durPattern))) {\n      inputStack[inputIndex].duration = dur[1];\n    } else if (inInput && (audio = stderrLine.match(audioPattern))) {\n      audio = audio[1].split(', ');\n      inputStack[inputIndex].audio = audio[0];\n      inputStack[inputIndex].audio_details = audio;\n    } else if (inInput && (video = stderrLine.match(videoPattern))) {\n      video = video[1].split(', ');\n      inputStack[inputIndex].video = video[0];\n      inputStack[inputIndex].video_details = video;\n    } else if (/Output #\\d+/.test(stderrLine)) {\n      inInput = codecsObject.inInput = false;\n    } else if (/Stream mapping:|Press (\\[q\\]|ctrl-c) to stop/.test(stderrLine)) {\n      command.emit.apply(command, ['codecData'].concat(inputStack));\n      return true;\n    }\n\n    return false;\n  },\n\n\n  /**\n   * Extract progress data from ffmpeg stderr and emit 'progress' event if appropriate\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr data\n   * @private\n   */\n  extractProgress: function(command, stderrLine) {\n    var progress = parseProgressLine(stderrLine);\n\n    if (progress) {\n      // build progress report object\n      var ret = {\n        frames: parseInt(progress.frame, 10),\n        currentFps: parseInt(progress.fps, 10),\n        currentKbps: progress.bitrate ? parseFloat(progress.bitrate.replace('kbits/s', '')) : 0,\n        targetSize: parseInt(progress.size || progress.Lsize, 10),\n        timemark: progress.time\n      };\n\n      // calculate percent progress using duration\n      if (command._ffprobeData && command._ffprobeData.format && command._ffprobeData.format.duration) {\n        var duration = Number(command._ffprobeData.format.duration);\n        if (!isNaN(duration))\n          ret.percent = (utils.timemarkToSeconds(ret.timemark) / duration) * 100;\n      }\n      command.emit('progress', ret);\n    }\n  },\n\n\n  /**\n   * Extract error message(s) from ffmpeg stderr\n   *\n   * @param {String} stderr ffmpeg stderr data\n   * @return {String}\n   * @private\n   */\n  extractError: function(stderr) {\n    // Only return the last stderr lines that don't start with a space or a square bracket\n    return stderr.split(nlRegexp).reduce(function(messages, message) {\n      if (message.charAt(0) === ' ' || message.charAt(0) === '[') {\n        return [];\n      } else {\n        messages.push(message);\n        return messages;\n      }\n    }, []).join('\\n');\n  },\n\n\n  /**\n   * Creates a line ring buffer object with the following methods:\n   * - append(str) : appends a string or buffer\n   * - get() : returns the whole string\n   * - close() : prevents further append() calls and does a last call to callbacks\n   * - callback(cb) : calls cb for each line (incl. those already in the ring)\n   *\n   * @param {Number} maxLines maximum number of lines to store (<= 0 for unlimited)\n   */\n  linesRing: function(maxLines) {\n    var cbs = [];\n    var lines = [];\n    var current = null;\n    var closed = false\n    var max = maxLines - 1;\n\n    function emit(line) {\n      cbs.forEach(function(cb) { cb(line); });\n    }\n\n    return {\n      callback: function(cb) {\n        lines.forEach(function(l) { cb(l); });\n        cbs.push(cb);\n      },\n\n      append: function(str) {\n        if (closed) return;\n        if (str instanceof Buffer) str = '' + str;\n        if (!str || str.length === 0) return;\n\n        var newLines = str.split(nlRegexp);\n\n        if (newLines.length === 1) {\n          if (current !== null) {\n            current = current + newLines.shift();\n          } else {\n            current = newLines.shift();\n          }\n        } else {\n          if (current !== null) {\n            current = current + newLines.shift();\n            emit(current);\n            lines.push(current);\n          }\n\n          current = newLines.pop();\n\n          newLines.forEach(function(l) {\n            emit(l);\n            lines.push(l);\n          });\n\n          if (max > -1 && lines.length > max) {\n            lines.splice(0, lines.length - max);\n          }\n        }\n      },\n\n      get: function() {\n        if (current !== null) {\n          return lines.concat([current]).join('\\n');\n        } else {\n          return lines.join('\\n');\n        }\n      },\n\n      close: function() {\n        if (closed) return;\n\n        if (current !== null) {\n          emit(current);\n          lines.push(current);\n\n          if (max > -1 && lines.length > max) {\n            lines.shift();\n          }\n\n          current = null;\n        }\n\n        closed = true;\n      }\n    };\n  }\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n/*\n *! Input-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add an input to command\n   *\n   * Also switches \"current input\", that is the input that will be affected\n   * by subsequent input-related methods.\n   *\n   * Note: only one stream input is supported for now.\n   *\n   * @method FfmpegCommand#input\n   * @category Input\n   * @aliases mergeAdd,addInput\n   *\n   * @param {String|Readable} source input file path or readable stream\n   * @return FfmpegCommand\n   */\n  proto.mergeAdd =\n  proto.addInput =\n  proto.input = function(source) {\n    var isFile = false;\n    var isStream = false;\n\n    if (typeof source !== 'string') {\n      if (!('readable' in source) || !(source.readable)) {\n        throw new Error('Invalid input');\n      }\n\n      var hasInputStream = this._inputs.some(function(input) {\n        return input.isStream;\n      });\n\n      if (hasInputStream) {\n        throw new Error('Only one input stream is supported');\n      }\n\n      isStream = true;\n      source.pause();\n    } else {\n      var protocol = source.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    this._inputs.push(this._currentInput = {\n      source: source,\n      isFile: isFile,\n      isStream: isStream,\n      options: utils.args()\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Specify input format for the last specified input\n   *\n   * @method FfmpegCommand#inputFormat\n   * @category Input\n   * @aliases withInputFormat,fromFormat\n   *\n   * @param {String} format input format\n   * @return FfmpegCommand\n   */\n  proto.withInputFormat =\n  proto.inputFormat =\n  proto.fromFormat = function(format) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Specify input FPS for the last specified input\n   * (only valid for raw video formats)\n   *\n   * @method FfmpegCommand#inputFps\n   * @category Input\n   * @aliases withInputFps,withInputFPS,withFpsInput,withFPSInput,inputFPS,inputFps,fpsInput\n   *\n   * @param {Number} fps input FPS\n   * @return FfmpegCommand\n   */\n  proto.withInputFps =\n  proto.withInputFPS =\n  proto.withFpsInput =\n  proto.withFPSInput =\n  proto.inputFPS =\n  proto.inputFps =\n  proto.fpsInput =\n  proto.FPSInput = function(fps) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Use native framerate for the last specified input\n   *\n   * @method FfmpegCommand#native\n   * @category Input\n   * @aliases nativeFramerate,withNativeFramerate\n   *\n   * @return FfmmegCommand\n   */\n  proto.nativeFramerate =\n  proto.withNativeFramerate =\n  proto.native = function() {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-re');\n    return this;\n  };\n\n\n  /**\n   * Specify input seek time for the last specified input\n   *\n   * @method FfmpegCommand#seekInput\n   * @category Input\n   * @aliases setStartTime,seekTo\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.setStartTime =\n  proto.seekInput = function(seek) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-ss', seek);\n\n    return this;\n  };\n\n\n  /**\n   * Loop over the last specified input\n   *\n   * @method FfmpegCommand#loop\n   * @category Input\n   *\n   * @param {String|Number} [duration] loop duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.loop = function(duration) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-loop', '1');\n\n    if (typeof duration !== 'undefined') {\n      this.duration(duration);\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Audio-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable audio in the output\n   *\n   * @method FfmpegCommand#noAudio\n   * @category Audio\n   * @aliases withNoAudio\n   * @return FfmpegCommand\n   */\n  proto.withNoAudio =\n  proto.noAudio = function() {\n    this._currentOutput.audio.clear();\n    this._currentOutput.audioFilters.clear();\n    this._currentOutput.audio('-an');\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio codec\n   *\n   * @method FfmpegCommand#audioCodec\n   * @category Audio\n   * @aliases withAudioCodec\n   *\n   * @param {String} codec audio codec name\n   * @return FfmpegCommand\n   */\n  proto.withAudioCodec =\n  proto.audioCodec = function(codec) {\n    this._currentOutput.audio('-acodec', codec);\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio bitrate\n   *\n   * @method FfmpegCommand#audioBitrate\n   * @category Audio\n   * @aliases withAudioBitrate\n   *\n   * @param {String|Number} bitrate audio bitrate in kbps (with an optional 'k' suffix)\n   * @return FfmpegCommand\n   */\n  proto.withAudioBitrate =\n  proto.audioBitrate = function(bitrate) {\n    this._currentOutput.audio('-b:a', ('' + bitrate).replace(/k?$/, 'k'));\n    return this;\n  };\n\n\n  /**\n   * Specify audio channel count\n   *\n   * @method FfmpegCommand#audioChannels\n   * @category Audio\n   * @aliases withAudioChannels\n   *\n   * @param {Number} channels channel count\n   * @return FfmpegCommand\n   */\n  proto.withAudioChannels =\n  proto.audioChannels = function(channels) {\n    this._currentOutput.audio('-ac', channels);\n    return this;\n  };\n\n\n  /**\n   * Specify audio frequency\n   *\n   * @method FfmpegCommand#audioFrequency\n   * @category Audio\n   * @aliases withAudioFrequency\n   *\n   * @param {Number} freq audio frequency in Hz\n   * @return FfmpegCommand\n   */\n  proto.withAudioFrequency =\n  proto.audioFrequency = function(freq) {\n    this._currentOutput.audio('-ar', freq);\n    return this;\n  };\n\n\n  /**\n   * Specify audio quality\n   *\n   * @method FfmpegCommand#audioQuality\n   * @category Audio\n   * @aliases withAudioQuality\n   *\n   * @param {Number} quality audio quality factor\n   * @return FfmpegCommand\n   */\n  proto.withAudioQuality =\n  proto.audioQuality = function(quality) {\n    this._currentOutput.audio('-aq', quality);\n    return this;\n  };\n\n\n  /**\n   * Specify custom audio filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.audioFilters('filter1');\n   *\n   * @example\n   * command.audioFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.audioFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.audioFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.audioFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#audioFilters\n   * @aliases withAudioFilter,withAudioFilters,audioFilter\n   * @category Audio\n   *\n   * @param {...String|String[]|Object[]} filters audio filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withAudioFilter =\n  proto.withAudioFilters =\n  proto.audioFilter =\n  proto.audioFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.audioFilters(utils.makeFilterStrings(filters));\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Video-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable video in the output\n   *\n   * @method FfmpegCommand#noVideo\n   * @category Video\n   * @aliases withNoVideo\n   *\n   * @return FfmpegCommand\n   */\n  proto.withNoVideo =\n  proto.noVideo = function() {\n    this._currentOutput.video.clear();\n    this._currentOutput.videoFilters.clear();\n    this._currentOutput.video('-vn');\n\n    return this;\n  };\n\n\n  /**\n   * Specify video codec\n   *\n   * @method FfmpegCommand#videoCodec\n   * @category Video\n   * @aliases withVideoCodec\n   *\n   * @param {String} codec video codec name\n   * @return FfmpegCommand\n   */\n  proto.withVideoCodec =\n  proto.videoCodec = function(codec) {\n    this._currentOutput.video('-vcodec', codec);\n    return this;\n  };\n\n\n  /**\n   * Specify video bitrate\n   *\n   * @method FfmpegCommand#videoBitrate\n   * @category Video\n   * @aliases withVideoBitrate\n   *\n   * @param {String|Number} bitrate video bitrate in kbps (with an optional 'k' suffix)\n   * @param {Boolean} [constant=false] enforce constant bitrate\n   * @return FfmpegCommand\n   */\n  proto.withVideoBitrate =\n  proto.videoBitrate = function(bitrate, constant) {\n    bitrate = ('' + bitrate).replace(/k?$/, 'k');\n\n    this._currentOutput.video('-b:v', bitrate);\n    if (constant) {\n      this._currentOutput.video(\n        '-maxrate', bitrate,\n        '-minrate', bitrate,\n        '-bufsize', '3M'\n      );\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify custom video filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.videoFilters('filter1');\n   *\n   * @example\n   * command.videoFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.videoFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.videoFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.videoFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#videoFilters\n   * @category Video\n   * @aliases withVideoFilter,withVideoFilters,videoFilter\n   *\n   * @param {...String|String[]|Object[]} filters video filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withVideoFilter =\n  proto.withVideoFilters =\n  proto.videoFilter =\n  proto.videoFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.videoFilters(utils.makeFilterStrings(filters));\n\n    return this;\n  };\n\n\n  /**\n   * Specify output FPS\n   *\n   * @method FfmpegCommand#fps\n   * @category Video\n   * @aliases withOutputFps,withOutputFPS,withFpsOutput,withFPSOutput,withFps,withFPS,outputFPS,outputFps,fpsOutput,FPSOutput,FPS\n   *\n   * @param {Number} fps output FPS\n   * @return FfmpegCommand\n   */\n  proto.withOutputFps =\n  proto.withOutputFPS =\n  proto.withFpsOutput =\n  proto.withFPSOutput =\n  proto.withFps =\n  proto.withFPS =\n  proto.outputFPS =\n  proto.outputFps =\n  proto.fpsOutput =\n  proto.FPSOutput =\n  proto.fps =\n  proto.FPS = function(fps) {\n    this._currentOutput.video('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Only transcode a certain number of frames\n   *\n   * @method FfmpegCommand#frames\n   * @category Video\n   * @aliases takeFrames,withFrames\n   *\n   * @param {Number} frames frame count\n   * @return FfmpegCommand\n   */\n  proto.takeFrames =\n  proto.withFrames =\n  proto.frames = function(frames) {\n    this._currentOutput.video('-vframes', frames);\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\n/*\n *! Size helpers\n */\n\n\n/**\n * Return filters to pad video to width*height,\n *\n * @param {Number} width output width\n * @param {Number} height output height\n * @param {Number} aspect video aspect ratio (without padding)\n * @param {Number} color padding color\n * @return scale/pad filters\n * @private\n */\nfunction getScalePadFilters(width, height, aspect, color) {\n  /*\n    let a be the input aspect ratio, A be the requested aspect ratio\n\n    if a > A, padding is done on top and bottom\n    if a < A, padding is done on left and right\n   */\n\n  return [\n    /*\n      In both cases, we first have to scale the input to match the requested size.\n      When using computed width/height, we truncate them to multiples of 2\n     */\n    {\n      filter: 'scale',\n      options: {\n        w: 'if(gt(a,' + aspect + '),' + width + ',trunc(' + height + '*a/2)*2)',\n        h: 'if(lt(a,' + aspect + '),' + height + ',trunc(' + width + '/a/2)*2)'\n      }\n    },\n\n    /*\n      Then we pad the scaled input to match the target size\n      (here iw and ih refer to the padding input, i.e the scaled output)\n     */\n\n    {\n      filter: 'pad',\n      options: {\n        w: width,\n        h: height,\n        x: 'if(gt(a,' + aspect + '),0,(' + width + '-iw)/2)',\n        y: 'if(lt(a,' + aspect + '),0,(' + height + '-ih)/2)',\n        color: color\n      }\n    }\n  ];\n}\n\n\n/**\n * Recompute size filters\n *\n * @param {Object} output\n * @param {String} key newly-added parameter name ('size', 'aspect' or 'pad')\n * @param {String} value newly-added parameter value\n * @return filter string array\n * @private\n */\nfunction createSizeFilters(output, key, value) {\n  // Store parameters\n  var data = output.sizeData = output.sizeData || {};\n  data[key] = value;\n\n  if (!('size' in data)) {\n    // No size requested, keep original size\n    return [];\n  }\n\n  // Try to match the different size string formats\n  var fixedSize = data.size.match(/([0-9]+)x([0-9]+)/);\n  var fixedWidth = data.size.match(/([0-9]+)x\\?/);\n  var fixedHeight = data.size.match(/\\?x([0-9]+)/);\n  var percentRatio = data.size.match(/\\b([0-9]{1,3})%/);\n  var width, height, aspect;\n\n  if (percentRatio) {\n    var ratio = Number(percentRatio[1]) / 100;\n    return [{\n      filter: 'scale',\n      options: {\n        w: 'trunc(iw*' + ratio + '/2)*2',\n        h: 'trunc(ih*' + ratio + '/2)*2'\n      }\n    }];\n  } else if (fixedSize) {\n    // Round target size to multiples of 2\n    width = Math.round(Number(fixedSize[1]) / 2) * 2;\n    height = Math.round(Number(fixedSize[2]) / 2) * 2;\n\n    aspect = width / height;\n\n    if (data.pad) {\n      return getScalePadFilters(width, height, aspect, data.pad);\n    } else {\n      // No autopad requested, rescale to target size\n      return [{ filter: 'scale', options: { w: width, h: height }}];\n    }\n  } else if (fixedWidth || fixedHeight) {\n    if ('aspect' in data) {\n      // Specified aspect ratio\n      width = fixedWidth ? fixedWidth[1] : Math.round(Number(fixedHeight[1]) * data.aspect);\n      height = fixedHeight ? fixedHeight[1] : Math.round(Number(fixedWidth[1]) / data.aspect);\n\n      // Round to multiples of 2\n      width = Math.round(width / 2) * 2;\n      height = Math.round(height / 2) * 2;\n\n      if (data.pad) {\n        return getScalePadFilters(width, height, data.aspect, data.pad);\n      } else {\n        // No autopad requested, rescale to target size\n        return [{ filter: 'scale', options: { w: width, h: height }}];\n      }\n    } else {\n      // Keep input aspect ratio\n\n      if (fixedWidth) {\n        return [{\n          filter: 'scale',\n          options: {\n            w: Math.round(Number(fixedWidth[1]) / 2) * 2,\n            h: 'trunc(ow/a/2)*2'\n          }\n        }];\n      } else {\n        return [{\n          filter: 'scale',\n          options: {\n            w: 'trunc(oh*a/2)*2',\n            h: Math.round(Number(fixedHeight[1]) / 2) * 2\n          }\n        }];\n      }\n    }\n  } else {\n    throw new Error('Invalid size specified: ' + data.size);\n  }\n}\n\n\n/*\n *! Video size-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Keep display aspect ratio\n   *\n   * This method is useful when converting an input with non-square pixels to an output format\n   * that does not support non-square pixels.  It rescales the input so that the display aspect\n   * ratio is the same.\n   *\n   * @method FfmpegCommand#keepDAR\n   * @category Video size\n   * @aliases keepPixelAspect,keepDisplayAspect,keepDisplayAspectRatio\n   *\n   * @return FfmpegCommand\n   */\n  proto.keepPixelAspect = // Only for compatibility, this is not about keeping _pixel_ aspect ratio\n  proto.keepDisplayAspect =\n  proto.keepDisplayAspectRatio =\n  proto.keepDAR = function() {\n    return this.videoFilters([\n      {\n        filter: 'scale',\n        options: {\n          w: 'if(gt(sar,1),iw*sar,iw)',\n          h: 'if(lt(sar,1),ih/sar,ih)'\n        }\n      },\n      {\n        filter: 'setsar',\n        options: '1'\n      }\n    ]);\n  };\n\n\n  /**\n   * Set output size\n   *\n   * The 'size' parameter can have one of 4 forms:\n   * - 'X%': rescale to xx % of the original size\n   * - 'WxH': specify width and height\n   * - 'Wx?': specify width and compute height from input aspect ratio\n   * - '?xH': specify height and compute width from input aspect ratio\n   *\n   * Note: both dimensions will be truncated to multiples of 2.\n   *\n   * @method FfmpegCommand#size\n   * @category Video size\n   * @aliases withSize,setSize\n   *\n   * @param {String} size size string, eg. '33%', '320x240', '320x?', '?x240'\n   * @return FfmpegCommand\n   */\n  proto.withSize =\n  proto.setSize =\n  proto.size = function(size) {\n    var filters = createSizeFilters(this._currentOutput, 'size', size);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Set output aspect ratio\n   *\n   * @method FfmpegCommand#aspect\n   * @category Video size\n   * @aliases withAspect,withAspectRatio,setAspect,setAspectRatio,aspectRatio\n   *\n   * @param {String|Number} aspect aspect ratio (number or 'X:Y' string)\n   * @return FfmpegCommand\n   */\n  proto.withAspect =\n  proto.withAspectRatio =\n  proto.setAspect =\n  proto.setAspectRatio =\n  proto.aspect =\n  proto.aspectRatio = function(aspect) {\n    var a = Number(aspect);\n    if (isNaN(a)) {\n      var match = aspect.match(/^(\\d+):(\\d+)$/);\n      if (match) {\n        a = Number(match[1]) / Number(match[2]);\n      } else {\n        throw new Error('Invalid aspect ratio: ' + aspect);\n      }\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'aspect', a);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Enable auto-padding the output\n   *\n   * @method FfmpegCommand#autopad\n   * @category Video size\n   * @aliases applyAutopadding,applyAutoPadding,applyAutopad,applyAutoPad,withAutopadding,withAutoPadding,withAutopad,withAutoPad,autoPad\n   *\n   * @param {Boolean} [pad=true] enable/disable auto-padding\n   * @param {String} [color='black'] pad color\n   */\n  proto.applyAutopadding =\n  proto.applyAutoPadding =\n  proto.applyAutopad =\n  proto.applyAutoPad =\n  proto.withAutopadding =\n  proto.withAutoPadding =\n  proto.withAutopad =\n  proto.withAutoPad =\n  proto.autoPad =\n  proto.autopad = function(pad, color) {\n    // Allow autopad(color)\n    if (typeof pad === 'string') {\n      color = pad;\n      pad = true;\n    }\n\n    // Allow autopad() and autopad(undefined, color)\n    if (typeof pad === 'undefined') {\n      pad = true;\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'pad', pad ? color || 'black' : false);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Output-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add output\n   *\n   * @method FfmpegCommand#output\n   * @category Output\n   * @aliases addOutput\n   *\n   * @param {String|Writable} target target file path or writable stream\n   * @param {Object} [pipeopts={}] pipe options (only applies to streams)\n   * @return FfmpegCommand\n   */\n  proto.addOutput =\n  proto.output = function(target, pipeopts) {\n    var isFile = false;\n\n    if (!target && this._currentOutput) {\n      // No target is only allowed when called from constructor\n      throw new Error('Invalid output');\n    }\n\n    if (target && typeof target !== 'string') {\n      if (!('writable' in target) || !(target.writable)) {\n        throw new Error('Invalid output');\n      }\n    } else if (typeof target === 'string') {\n      var protocol = target.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    if (target && !('target' in this._currentOutput)) {\n      // For backwards compatibility, set target for first output\n      this._currentOutput.target = target;\n      this._currentOutput.isFile = isFile;\n      this._currentOutput.pipeopts = pipeopts || {};\n    } else {\n      if (target && typeof target !== 'string') {\n        var hasOutputStream = this._outputs.some(function(output) {\n          return typeof output.target !== 'string';\n        });\n\n        if (hasOutputStream) {\n          throw new Error('Only one output stream is supported');\n        }\n      }\n\n      this._outputs.push(this._currentOutput = {\n        target: target,\n        isFile: isFile,\n        flags: {},\n        pipeopts: pipeopts || {}\n      });\n\n      var self = this;\n      ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n        self._currentOutput[key] = utils.args();\n      });\n\n      if (!target) {\n        // Call from constructor: remove target key\n        delete this._currentOutput.target;\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify output seek time\n   *\n   * @method FfmpegCommand#seek\n   * @category Input\n   * @aliases seekOutput\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.seekOutput =\n  proto.seek = function(seek) {\n    this._currentOutput.options('-ss', seek);\n    return this;\n  };\n\n\n  /**\n   * Set output duration\n   *\n   * @method FfmpegCommand#duration\n   * @category Output\n   * @aliases withDuration,setDuration\n   *\n   * @param {String|Number} duration duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.withDuration =\n  proto.setDuration =\n  proto.duration = function(duration) {\n    this._currentOutput.options('-t', duration);\n    return this;\n  };\n\n\n  /**\n   * Set output format\n   *\n   * @method FfmpegCommand#format\n   * @category Output\n   * @aliases toFormat,withOutputFormat,outputFormat\n   *\n   * @param {String} format output format name\n   * @return FfmpegCommand\n   */\n  proto.toFormat =\n  proto.withOutputFormat =\n  proto.outputFormat =\n  proto.format = function(format) {\n    this._currentOutput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Add stream mapping to output\n   *\n   * @method FfmpegCommand#map\n   * @category Output\n   *\n   * @param {String} spec stream specification string, with optional square brackets\n   * @return FfmpegCommand\n   */\n  proto.map = function(spec) {\n    this._currentOutput.options('-map', spec.replace(utils.streamRegexp, '[$1]'));\n    return this;\n  };\n\n\n  /**\n   * Run flvtool2/flvmeta on output\n   *\n   * @method FfmpegCommand#flvmeta\n   * @category Output\n   * @aliases updateFlvMetadata\n   *\n   * @return FfmpegCommand\n   */\n  proto.updateFlvMetadata =\n  proto.flvmeta = function() {\n    this._currentOutput.flags.flvmeta = true;\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Custom options methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add custom input option(s)\n   *\n   * When passing a single string or an array, each string containing two\n   * words is split (eg. inputOptions('-option value') is supported) for\n   * compatibility reasons.  This is not the case when passing more than\n   * one argument.\n   *\n   * @example\n   * command.inputOptions('option1');\n   *\n   * @example\n   * command.inputOptions('option1', 'option2');\n   *\n   * @example\n   * command.inputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#inputOptions\n   * @category Custom options\n   * @aliases addInputOption,addInputOptions,withInputOption,withInputOptions,inputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addInputOption =\n  proto.addInputOptions =\n  proto.withInputOption =\n  proto.withInputOptions =\n  proto.inputOption =\n  proto.inputOptions = function(options) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentInput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Add custom output option(s)\n   *\n   * @example\n   * command.outputOptions('option1');\n   *\n   * @example\n   * command.outputOptions('option1', 'option2');\n   *\n   * @example\n   * command.outputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#outputOptions\n   * @category Custom options\n   * @aliases addOutputOption,addOutputOptions,addOption,addOptions,withOutputOption,withOutputOptions,withOption,withOptions,outputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addOutputOption =\n  proto.addOutputOptions =\n  proto.addOption =\n  proto.addOptions =\n  proto.withOutputOption =\n  proto.withOutputOptions =\n  proto.withOption =\n  proto.withOptions =\n  proto.outputOption =\n  proto.outputOptions = function(options) {\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentOutput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Specify a complex filtergraph\n   *\n   * Calling this method will override any previously set filtergraph, but you can set\n   * as many filters as needed in one call.\n   *\n   * @example <caption>Overlay an image over a video (using a filtergraph string)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter('[0:v][1:v]overlay[out]', ['out']);\n   *\n   * @example <caption>Overlay an image over a video (using a filter array)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter([{\n   *       filter: 'overlay',\n   *       inputs: ['0:v', '1:v'],\n   *       outputs: ['out']\n   *     }], ['out']);\n   *\n   * @example <caption>Split video into RGB channels and output a 3x1 video with channels side to side</caption>\n   *  ffmpeg()\n   *    .input('video.avi')\n   *    .complexFilter([\n   *      // Duplicate video stream 3 times into streams a, b, and c\n   *      { filter: 'split', options: '3', outputs: ['a', 'b', 'c'] },\n   *\n   *      // Create stream 'red' by cancelling green and blue channels from stream 'a'\n   *      { filter: 'lutrgb', options: { g: 0, b: 0 }, inputs: 'a', outputs: 'red' },\n   *\n   *      // Create stream 'green' by cancelling red and blue channels from stream 'b'\n   *      { filter: 'lutrgb', options: { r: 0, b: 0 }, inputs: 'b', outputs: 'green' },\n   *\n   *      // Create stream 'blue' by cancelling red and green channels from stream 'c'\n   *      { filter: 'lutrgb', options: { r: 0, g: 0 }, inputs: 'c', outputs: 'blue' },\n   *\n   *      // Pad stream 'red' to 3x width, keeping the video on the left, and name output 'padded'\n   *      { filter: 'pad', options: { w: 'iw*3', h: 'ih' }, inputs: 'red', outputs: 'padded' },\n   *\n   *      // Overlay 'green' onto 'padded', moving it to the center, and name output 'redgreen'\n   *      { filter: 'overlay', options: { x: 'w', y: 0 }, inputs: ['padded', 'green'], outputs: 'redgreen'},\n   *\n   *      // Overlay 'blue' onto 'redgreen', moving it to the right\n   *      { filter: 'overlay', options: { x: '2*w', y: 0 }, inputs: ['redgreen', 'blue']},\n   *    ]);\n   *\n   * @method FfmpegCommand#complexFilter\n   * @category Custom options\n   * @aliases filterGraph\n   *\n   * @param {String|Array} spec filtergraph string or array of filter specification\n   *   objects, each having the following properties:\n   * @param {String} spec.filter filter name\n   * @param {String|Array} [spec.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [spec.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [spec.options] filter options, can be omitted to not set any options\n   * @param {Array} [map] (array of) stream specifier(s) from the graph to include in\n   *   ffmpeg output, defaults to ffmpeg automatically choosing the first matching streams.\n   * @return FfmpegCommand\n   */\n  proto.filterGraph =\n  proto.complexFilter = function(spec, map) {\n    this._complexFilters.clear();\n\n    if (!Array.isArray(spec)) {\n      spec = [spec];\n    }\n\n    this._complexFilters('-filter_complex', utils.makeFilterStrings(spec).join(';'));\n\n    if (Array.isArray(map)) {\n      var self = this;\n      map.forEach(function(streamSpec) {\n        self._complexFilters('-map', streamSpec.replace(utils.streamRegexp, '[$1]'));\n      });\n    } else if (typeof map === 'string') {\n      this._complexFilters('-map', map.replace(utils.streamRegexp, '[$1]'));\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\n\n/*\n *! Miscellaneous methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Use preset\n   *\n   * @method FfmpegCommand#preset\n   * @category Miscellaneous\n   * @aliases usingPreset\n   *\n   * @param {String|Function} preset preset name or preset function\n   */\n  proto.usingPreset =\n  proto.preset = function(preset) {\n    if (typeof preset === 'function') {\n      preset(this);\n    } else {\n      try {\n        var modulePath = path.join(this.options.presets, preset);\n        var module = require(modulePath);\n\n        if (typeof module.load === 'function') {\n          module.load(this);\n        } else {\n          throw new Error('preset ' + modulePath + ' has no load() function');\n        }\n      } catch (err) {\n        throw new Error('preset ' + modulePath + ' could not be loaded: ' + err.message);\n      }\n    }\n\n    return this;\n  };\n};\n","/*global setImmediate: false, setTimeout: false, console: false */\n(function () {\n\n    var async = {};\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    root = this;\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(root, arguments);\n        }\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _each = function (arr, iterator) {\n        if (arr.forEach) {\n            return arr.forEach(iterator);\n        }\n        for (var i = 0; i < arr.length; i += 1) {\n            iterator(arr[i], i, arr);\n        }\n    };\n\n    var _map = function (arr, iterator) {\n        if (arr.map) {\n            return arr.map(iterator);\n        }\n        var results = [];\n        _each(arr, function (x, i, a) {\n            results.push(iterator(x, i, a));\n        });\n        return results;\n    };\n\n    var _reduce = function (arr, iterator, memo) {\n        if (arr.reduce) {\n            return arr.reduce(iterator, memo);\n        }\n        _each(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    };\n\n    var _keys = function (obj) {\n        if (Object.keys) {\n            return Object.keys(obj);\n        }\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (typeof setImmediate === 'function') {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (typeof setImmediate !== 'undefined') {\n            async.setImmediate = function (fn) {\n              // not a direct alias for IE10 compatibility\n              setImmediate(fn);\n            };\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.each = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        _each(arr, function (x) {\n            iterator(x, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                }\n            }));\n        });\n    };\n    async.forEach = async.each;\n\n    async.eachSeries = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        var iterate = function () {\n            iterator(arr[completed], function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                    else {\n                        iterate();\n                    }\n                }\n            });\n        };\n        iterate();\n    };\n    async.forEachSeries = async.eachSeries;\n\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        var fn = _eachLimit(limit);\n        fn.apply(null, [arr, iterator, callback]);\n    };\n    async.forEachLimit = async.eachLimit;\n\n    var _eachLimit = function (limit) {\n\n        return function (arr, iterator, callback) {\n            callback = callback || function () {};\n            if (!arr.length || limit <= 0) {\n                return callback();\n            }\n            var completed = 0;\n            var started = 0;\n            var running = 0;\n\n            (function replenish () {\n                if (completed >= arr.length) {\n                    return callback();\n                }\n\n                while (running < limit && started < arr.length) {\n                    started += 1;\n                    running += 1;\n                    iterator(arr[started - 1], function (err) {\n                        if (err) {\n                            callback(err);\n                            callback = function () {};\n                        }\n                        else {\n                            completed += 1;\n                            running -= 1;\n                            if (completed >= arr.length) {\n                                callback();\n                            }\n                            else {\n                                replenish();\n                            }\n                        }\n                    });\n                }\n            })();\n        };\n    };\n\n\n    var doParallel = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.each].concat(args));\n        };\n    };\n    var doParallelLimit = function(limit, fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [_eachLimit(limit)].concat(args));\n        };\n    };\n    var doSeries = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.eachSeries].concat(args));\n        };\n    };\n\n\n    var _asyncMap = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (err, v) {\n                results[x.index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    var _mapLimit = function(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    };\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachSeries(arr, function (x, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n    // inject alias\n    async.inject = async.reduce;\n    // foldl alias\n    async.foldl = async.reduce;\n\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n    // foldr alias\n    async.foldr = async.reduceRight;\n\n    var _filter = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.filter = doParallel(_filter);\n    async.filterSeries = doSeries(_filter);\n    // select alias\n    async.select = async.filter;\n    async.selectSeries = async.filterSeries;\n\n    var _reject = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    var _detect = function (eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = function () {};\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            main_callback();\n        });\n    };\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.some = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(false);\n        });\n    };\n    // any alias\n    async.any = async.some;\n\n    async.every = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(true);\n        });\n    };\n    // all alias\n    async.all = async.every;\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                var fn = function (left, right) {\n                    var a = left.criteria, b = right.criteria;\n                    return a < b ? -1 : a > b ? 1 : 0;\n                };\n                callback(null, _map(results.sort(fn), function (x) {\n                    return x.value;\n                }));\n            }\n        });\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = callback || function () {};\n        var keys = _keys(tasks);\n        if (!keys.length) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        var addListener = function (fn) {\n            listeners.unshift(fn);\n        };\n        var removeListener = function (fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        };\n        var taskComplete = function () {\n            _each(listeners.slice(0), function (fn) {\n                fn();\n            });\n        };\n\n        addListener(function () {\n            if (_keys(results).length === keys.length) {\n                callback(null, results);\n                callback = function () {};\n            }\n        });\n\n        _each(keys, function (k) {\n            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n            var taskCallback = function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _each(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                    // stop subsequent errors hitting callback multiple times\n                    callback = function () {};\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            };\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            var ready = function () {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            };\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                var listener = function () {\n                    if (ready()) {\n                        removeListener(listener);\n                        task[task.length - 1](taskCallback, results);\n                    }\n                };\n                addListener(listener);\n            }\n        });\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor !== Array) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        var wrapIterator = function (iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    async.setImmediate(function () {\n                        iterator.apply(null, args);\n                    });\n                }\n            };\n        };\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    var _parallel = function(eachfn, tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            eachfn.map(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            eachfn.each(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.parallel = function (tasks, callback) {\n        _parallel({ map: async.map, each: async.each }, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.mapSeries(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.eachSeries(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.iterator = function (tasks) {\n        var makeCallback = function (index) {\n            var fn = function () {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            };\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        };\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(Array.prototype.slice.call(arguments))\n            );\n        };\n    };\n\n    var _concat = function (eachfn, arr, fn, callback) {\n        var r = [];\n        eachfn(arr, function (x, cb) {\n            fn(x, function (err, y) {\n                r = r.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, r);\n        });\n    };\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (test()) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (!test()) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.queue = function (worker, concurrency) {\n        if (concurrency === undefined) {\n            concurrency = 1;\n        }\n        function _insert(q, data, pos, callback) {\n          if(data.constructor !== Array) {\n              data = [data];\n          }\n          _each(data, function(task) {\n              var item = {\n                  data: task,\n                  callback: typeof callback === 'function' ? callback : null\n              };\n\n              if (pos) {\n                q.tasks.unshift(item);\n              } else {\n                q.tasks.push(item);\n              }\n\n              if (q.saturated && q.tasks.length === concurrency) {\n                  q.saturated();\n              }\n              async.setImmediate(q.process);\n          });\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n              _insert(q, data, false, callback);\n            },\n            unshift: function (data, callback) {\n              _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (workers < q.concurrency && q.tasks.length) {\n                    var task = q.tasks.shift();\n                    if (q.empty && q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    var next = function () {\n                        workers -= 1;\n                        if (task.callback) {\n                            task.callback.apply(task, arguments);\n                        }\n                        if (q.drain && q.tasks.length + workers === 0) {\n                            q.drain();\n                        }\n                        q.process();\n                    };\n                    var cb = only_once(next);\n                    worker(task.data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            }\n        };\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        var working     = false,\n            tasks       = [];\n\n        var cargo = {\n            tasks: tasks,\n            payload: payload,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n                if(data.constructor !== Array) {\n                    data = [data];\n                }\n                _each(data, function(task) {\n                    tasks.push({\n                        data: task,\n                        callback: typeof callback === 'function' ? callback : null\n                    });\n                    if (cargo.saturated && tasks.length === payload) {\n                        cargo.saturated();\n                    }\n                });\n                async.setImmediate(cargo.process);\n            },\n            process: function process() {\n                if (working) return;\n                if (tasks.length === 0) {\n                    if(cargo.drain) cargo.drain();\n                    return;\n                }\n\n                var ts = typeof payload === 'number'\n                            ? tasks.splice(0, payload)\n                            : tasks.splice(0);\n\n                var ds = _map(ts, function (task) {\n                    return task.data;\n                });\n\n                if(cargo.empty) cargo.empty();\n                working = true;\n                worker(ds, function () {\n                    working = false;\n\n                    var args = arguments;\n                    _each(ts, function (data) {\n                        if (data.callback) {\n                            data.callback.apply(null, args);\n                        }\n                    });\n\n                    process();\n                });\n            },\n            length: function () {\n                return tasks.length;\n            },\n            running: function () {\n                return working;\n            }\n        };\n        return cargo;\n    };\n\n    var _console_fn = function (name) {\n        return function (fn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _each(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    };\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        var memoized = function () {\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                callback.apply(null, memo[key]);\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = arguments;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        };\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    async.times = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.map(counter, iterator, callback);\n    };\n\n    async.timesSeries = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.mapSeries(counter, iterator, callback);\n    };\n\n    async.compose = function (/* functions... */) {\n        var fns = Array.prototype.reverse.call(arguments);\n        return function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = Array.prototype.slice.call(arguments, 1);\n                    cb(err, nextargs);\n                }]))\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    var _applyEach = function (eachfn, fns /*args...*/) {\n        var go = function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        };\n        if (arguments.length > 2) {\n            var args = Array.prototype.slice.call(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    };\n    async.applyEach = doParallel(_applyEach);\n    async.applyEachSeries = doSeries(_applyEach);\n\n    async.forever = function (fn, callback) {\n        function next(err) {\n            if (err) {\n                if (callback) {\n                    return callback(err);\n                }\n                throw err;\n            }\n            fn(next);\n        }\n        next();\n    };\n\n    // AMD / RequireJS\n    if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // Node.js\n    else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","/*jshint node:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\nvar path = require('path');\nvar fs = require('fs');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Processor methods\n */\n\n\n/**\n * Run ffprobe asynchronously and store data in command\n *\n * @param {FfmpegCommand} command\n * @private\n */\nfunction runFfprobe(command) {\n  const inputProbeIndex = 0;\n  if (command._inputs[inputProbeIndex].isStream) {\n    // Don't probe input streams as this will consume them\n    return;\n  }\n  command.ffprobe(inputProbeIndex, function(err, data) {\n    command._ffprobeData = data;\n  });\n}\n\n\nmodule.exports = function(proto) {\n  /**\n   * Emitted just after ffmpeg has been spawned.\n   *\n   * @event FfmpegCommand#start\n   * @param {String} command ffmpeg command line\n   */\n\n  /**\n   * Emitted when ffmpeg reports progress information\n   *\n   * @event FfmpegCommand#progress\n   * @param {Object} progress progress object\n   * @param {Number} progress.frames number of frames transcoded\n   * @param {Number} progress.currentFps current processing speed in frames per second\n   * @param {Number} progress.currentKbps current output generation speed in kilobytes per second\n   * @param {Number} progress.targetSize current output file size\n   * @param {String} progress.timemark current video timemark\n   * @param {Number} [progress.percent] processing progress (may not be available depending on input)\n   */\n\n  /**\n   * Emitted when ffmpeg outputs to stderr\n   *\n   * @event FfmpegCommand#stderr\n   * @param {String} line stderr output line\n   */\n\n  /**\n   * Emitted when ffmpeg reports input codec data\n   *\n   * @event FfmpegCommand#codecData\n   * @param {Object} codecData codec data object\n   * @param {String} codecData.format input format name\n   * @param {String} codecData.audio input audio codec name\n   * @param {String} codecData.audio_details input audio codec parameters\n   * @param {String} codecData.video input video codec name\n   * @param {String} codecData.video_details input video codec parameters\n   */\n\n  /**\n   * Emitted when an error happens when preparing or running a command\n   *\n   * @event FfmpegCommand#error\n   * @param {Error} error error object, with optional properties 'inputStreamError' / 'outputStreamError' for errors on their respective streams\n   * @param {String|null} stdout ffmpeg stdout, unless outputting to a stream\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n  /**\n   * Emitted when a command finishes processing\n   *\n   * @event FfmpegCommand#end\n   * @param {Array|String|null} [filenames|stdout] generated filenames when taking screenshots, ffmpeg stdout when not outputting to a stream, null otherwise\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n\n  /**\n   * Spawn an ffmpeg process\n   *\n   * The 'options' argument may contain the following keys:\n   * - 'niceness': specify process niceness, ignored on Windows (default: 0)\n   * - `cwd`: change working directory\n   * - 'captureStdout': capture stdout and pass it to 'endCB' as its 2nd argument (default: false)\n   * - 'stdoutLines': override command limit (default: use command limit)\n   *\n   * The 'processCB' callback, if present, is called as soon as the process is created and\n   * receives a nodejs ChildProcess object.  It may not be called at all if an error happens\n   * before spawning the process.\n   *\n   * The 'endCB' callback is called either when an error occurs or when the ffmpeg process finishes.\n   *\n   * @method FfmpegCommand#_spawnFfmpeg\n   * @param {Array} args ffmpeg command line argument list\n   * @param {Object} [options] spawn options (see above)\n   * @param {Function} [processCB] callback called with process object and stdout/stderr ring buffers when process has been created\n   * @param {Function} endCB callback called with error (if applicable) and stdout/stderr ring buffers when process finished\n   * @private\n   */\n  proto._spawnFfmpeg = function(args, options, processCB, endCB) {\n    // Enable omitting options\n    if (typeof options === 'function') {\n      endCB = processCB;\n      processCB = options;\n      options = {};\n    }\n\n    // Enable omitting processCB\n    if (typeof endCB === 'undefined') {\n      endCB = processCB;\n      processCB = function() {};\n    }\n\n    var maxLines = 'stdoutLines' in options ? options.stdoutLines : this.options.stdoutLines;\n\n    // Find ffmpeg\n    this._getFfmpegPath(function(err, command) {\n      if (err) {\n        return endCB(err);\n      } else if (!command || command.length === 0) {\n        return endCB(new Error('Cannot find ffmpeg'));\n      }\n\n      // Apply niceness\n      if (options.niceness && options.niceness !== 0 && !utils.isWindows) {\n        args.unshift('-n', options.niceness, command);\n        command = 'nice';\n      }\n\n      var stdoutRing = utils.linesRing(maxLines);\n      var stdoutClosed = false;\n\n      var stderrRing = utils.linesRing(maxLines);\n      var stderrClosed = false;\n\n      // Spawn process\n      var ffmpegProc = spawn(command, args, options);\n\n      if (ffmpegProc.stderr) {\n        ffmpegProc.stderr.setEncoding('utf8');\n      }\n\n      ffmpegProc.on('error', function(err) {\n        endCB(err);\n      });\n\n      // Ensure we wait for captured streams to end before calling endCB\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && (stdoutClosed || !options.captureStdout) && stderrClosed) {\n          endCB(exitError, stdoutRing, stderrRing);\n        }\n      }\n\n      // Handle process exit\n      var processExited = false;\n      ffmpegProc.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (signal) {\n          handleExit(new Error('ffmpeg was killed with signal ' + signal));\n        } else if (code) {\n          handleExit(new Error('ffmpeg exited with code ' + code));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Capture stdout if specified\n      if (options.captureStdout) {\n        ffmpegProc.stdout.on('data', function(data) {\n          stdoutRing.append(data);\n        });\n\n        ffmpegProc.stdout.on('close', function() {\n          stdoutRing.close();\n          stdoutClosed = true;\n          handleExit();\n        });\n      }\n\n      // Capture stderr if specified\n      ffmpegProc.stderr.on('data', function(data) {\n        stderrRing.append(data);\n      });\n\n      ffmpegProc.stderr.on('close', function() {\n        stderrRing.close();\n        stderrClosed = true;\n        handleExit();\n      });\n\n      // Call process callback\n      processCB(ffmpegProc, stdoutRing, stderrRing);\n    });\n  };\n\n\n  /**\n   * Build the argument list for an ffmpeg command\n   *\n   * @method FfmpegCommand#_getArguments\n   * @return argument list\n   * @private\n   */\n  proto._getArguments = function() {\n    var complexFilters = this._complexFilters.get();\n\n    var fileOutput = this._outputs.some(function(output) {\n      return output.isFile;\n    });\n\n    return [].concat(\n        // Inputs and input options\n        this._inputs.reduce(function(args, input) {\n          var source = (typeof input.source === 'string') ? input.source : 'pipe:0';\n\n          // For each input, add input options, then '-i <source>'\n          return args.concat(\n            input.options.get(),\n            ['-i', source]\n          );\n        }, []),\n\n        // Global options\n        this._global.get(),\n\n        // Overwrite if we have file outputs\n        fileOutput ? ['-y'] : [],\n\n        // Complex filters\n        complexFilters,\n\n        // Outputs, filters and output options\n        this._outputs.reduce(function(args, output) {\n          var sizeFilters = utils.makeFilterStrings(output.sizeFilters.get());\n          var audioFilters = output.audioFilters.get();\n          var videoFilters = output.videoFilters.get().concat(sizeFilters);\n          var outputArg;\n\n          if (!output.target) {\n            outputArg = [];\n          } else if (typeof output.target === 'string') {\n            outputArg = [output.target];\n          } else {\n            outputArg = ['pipe:1'];\n          }\n\n          return args.concat(\n            output.audio.get(),\n            audioFilters.length ? ['-filter:a', audioFilters.join(',')] : [],\n            output.video.get(),\n            videoFilters.length ? ['-filter:v', videoFilters.join(',')] : [],\n            output.options.get(),\n            outputArg\n          );\n        }, [])\n      );\n  };\n\n\n  /**\n   * Prepare execution of an ffmpeg command\n   *\n   * Checks prerequisites for the execution of the command (codec/format availability, flvtool...),\n   * then builds the argument list for ffmpeg and pass them to 'callback'.\n   *\n   * @method FfmpegCommand#_prepare\n   * @param {Function} callback callback with signature (err, args)\n   * @param {Boolean} [readMetadata=false] read metadata before processing\n   * @private\n   */\n  proto._prepare = function(callback, readMetadata) {\n    var self = this;\n\n    async.waterfall([\n      // Check codecs and formats\n      function(cb) {\n        self._checkCapabilities(cb);\n      },\n\n      // Read metadata if required\n      function(cb) {\n        if (!readMetadata) {\n          return cb();\n        }\n\n        self.ffprobe(0, function(err, data) {\n          if (!err) {\n            self._ffprobeData = data;\n          }\n\n          cb();\n        });\n      },\n\n      // Check for flvtool2/flvmeta if necessary\n      function(cb) {\n        var flvmeta = self._outputs.some(function(output) {\n          // Remove flvmeta flag on non-file output\n          if (output.flags.flvmeta && !output.isFile) {\n            self.logger.warn('Updating flv metadata is only supported for files');\n            output.flags.flvmeta = false;\n          }\n\n          return output.flags.flvmeta;\n        });\n\n        if (flvmeta) {\n          self._getFlvtoolPath(function(err) {\n            cb(err);\n          });\n        } else {\n          cb();\n        }\n      },\n\n      // Build argument list\n      function(cb) {\n        var args;\n        try {\n          args = self._getArguments();\n        } catch(e) {\n          return cb(e);\n        }\n\n        cb(null, args);\n      },\n\n      // Add \"-strict experimental\" option where needed\n      function(args, cb) {\n        self.availableEncoders(function(err, encoders) {\n          for (var i = 0; i < args.length; i++) {\n            if (args[i] === '-acodec' || args[i] === '-vcodec') {\n              i++;\n\n              if ((args[i] in encoders) && encoders[args[i]].experimental) {\n                args.splice(i + 1, 0, '-strict', 'experimental');\n                i += 2;\n              }\n            }\n          }\n\n          cb(null, args);\n        });\n      }\n    ], callback);\n\n    if (!readMetadata) {\n      // Read metadata as soon as 'progress' listeners are added\n\n      if (this.listeners('progress').length > 0) {\n        // Read metadata in parallel\n        runFfprobe(this);\n      } else {\n        // Read metadata as soon as the first 'progress' listener is added\n        this.once('newListener', function(event) {\n          if (event === 'progress') {\n            runFfprobe(this);\n          }\n        });\n      }\n    }\n  };\n\n\n  /**\n   * Run ffmpeg command\n   *\n   * @method FfmpegCommand#run\n   * @category Processing\n   * @aliases exec,execute\n   */\n  proto.exec =\n  proto.execute =\n  proto.run = function() {\n    var self = this;\n\n    // Check if at least one output is present\n    var outputPresent = this._outputs.some(function(output) {\n      return 'target' in output;\n    });\n\n    if (!outputPresent) {\n      throw new Error('No output specified');\n    }\n\n    // Get output stream if any\n    var outputStream = this._outputs.filter(function(output) {\n      return typeof output.target !== 'string';\n    })[0];\n\n    // Get input stream if any\n    var inputStream = this._inputs.filter(function(input) {\n      return typeof input.source !== 'string';\n    })[0];\n\n    // Ensure we send 'end' or 'error' only once\n    var ended = false;\n    function emitEnd(err, stdout, stderr) {\n      if (!ended) {\n        ended = true;\n\n        if (err) {\n          self.emit('error', err, stdout, stderr);\n        } else {\n          self.emit('end', stdout, stderr);\n        }\n      }\n    }\n\n    self._prepare(function(err, args) {\n      if (err) {\n        return emitEnd(err);\n      }\n\n      // Run ffmpeg\n      self._spawnFfmpeg(\n        args,\n        {\n          captureStdout: !outputStream,\n          niceness: self.options.niceness,\n          cwd: self.options.cwd,\n          windowsHide: true\n        }, \n\n        function processCB(ffmpegProc, stdoutRing, stderrRing) {\n          self.ffmpegProc = ffmpegProc;\n          self.emit('start', 'ffmpeg ' + args.join(' '));\n\n          // Pipe input stream if any\n          if (inputStream) {\n            inputStream.source.on('error', function(err) {\n              var reportingErr = new Error('Input stream error: ' + err.message);\n              reportingErr.inputStreamError = err;\n              emitEnd(reportingErr);\n              ffmpegProc.kill();\n            });\n\n            inputStream.source.resume();\n            inputStream.source.pipe(ffmpegProc.stdin);\n\n            // Set stdin error handler on ffmpeg (prevents nodejs catching the error, but\n            // ffmpeg will fail anyway, so no need to actually handle anything)\n            ffmpegProc.stdin.on('error', function() {});\n          }\n\n          // Setup timeout if requested\n          if (self.options.timeout) {\n            self.processTimer = setTimeout(function() {\n              var msg = 'process ran into a timeout (' + self.options.timeout + 's)';\n\n              emitEnd(new Error(msg), stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill();\n            }, self.options.timeout * 1000);\n          }\n\n\n          if (outputStream) {\n            // Pipe ffmpeg stdout to output stream\n            ffmpegProc.stdout.pipe(outputStream.target, outputStream.pipeopts);\n\n            // Handle output stream events\n            outputStream.target.on('close', function() {\n              self.logger.debug('Output stream closed, scheduling kill for ffmpeg process');\n\n              // Don't kill process yet, to give a chance to ffmpeg to\n              // terminate successfully first  This is necessary because\n              // under load, the process 'exit' event sometimes happens\n              // after the output stream 'close' event.\n              setTimeout(function() {\n                emitEnd(new Error('Output stream closed'));\n                ffmpegProc.kill();\n              }, 20);\n            });\n\n            outputStream.target.on('error', function(err) {\n              self.logger.debug('Output stream error, killing ffmpeg process');\n              var reportingErr = new Error('Output stream error: ' + err.message);\n              reportingErr.outputStreamError = err;\n              emitEnd(reportingErr, stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill('SIGKILL');\n            });\n          }\n\n          // Setup stderr handling\n          if (stderrRing) {\n\n            // 'stderr' event\n            if (self.listeners('stderr').length) {\n              stderrRing.callback(function(line) {\n                self.emit('stderr', line);\n              });\n            }\n\n            // 'codecData' event\n            if (self.listeners('codecData').length) {\n              var codecDataSent = false;\n              var codecObject = {};\n\n              stderrRing.callback(function(line) {\n                if (!codecDataSent)\n                  codecDataSent = utils.extractCodecData(self, line, codecObject);\n              });\n            }\n\n            // 'progress' event\n            if (self.listeners('progress').length) {\n              stderrRing.callback(function(line) {\n                utils.extractProgress(self, line);\n              });\n            }\n          }\n        },\n\n        function endCB(err, stdoutRing, stderrRing) {\n          clearTimeout(self.processTimer);\n          delete self.ffmpegProc;\n\n          if (err) {\n            if (err.message.match(/ffmpeg exited with code/)) {\n              // Add ffmpeg error message\n              err.message += ': ' + utils.extractError(stderrRing.get());\n            }\n\n            emitEnd(err, stdoutRing.get(), stderrRing.get());\n          } else {\n            // Find out which outputs need flv metadata\n            var flvmeta = self._outputs.filter(function(output) {\n              return output.flags.flvmeta;\n            });\n\n            if (flvmeta.length) {\n              self._getFlvtoolPath(function(err, flvtool) {\n                if (err) {\n                  return emitEnd(err);\n                }\n\n                async.each(\n                  flvmeta,\n                  function(output, cb) {\n                    spawn(flvtool, ['-U', output.target], {windowsHide: true})\n                      .on('error', function(err) {\n                        cb(new Error('Error running ' + flvtool + ' on ' + output.target + ': ' + err.message));\n                      })\n                      .on('exit', function(code, signal) {\n                        if (code !== 0 || signal) {\n                          cb(\n                            new Error(flvtool + ' ' +\n                              (signal ? 'received signal ' + signal\n                                      : 'exited with code ' + code)) +\n                              ' when running on ' + output.target\n                          );\n                        } else {\n                          cb();\n                        }\n                      });\n                  },\n                  function(err) {\n                    if (err) {\n                      emitEnd(err);\n                    } else {\n                      emitEnd(null, stdoutRing.get(), stderrRing.get());\n                    }\n                  }\n                );\n              });\n            } else {\n              emitEnd(null, stdoutRing.get(), stderrRing.get());\n            }\n          }\n        }\n      );\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Renice current and/or future ffmpeg processes\n   *\n   * Ignored on Windows platforms.\n   *\n   * @method FfmpegCommand#renice\n   * @category Processing\n   *\n   * @param {Number} [niceness=0] niceness value between -20 (highest priority) and 20 (lowest priority)\n   * @return FfmpegCommand\n   */\n  proto.renice = function(niceness) {\n    if (!utils.isWindows) {\n      niceness = niceness || 0;\n\n      if (niceness < -20 || niceness > 20) {\n        this.logger.warn('Invalid niceness value: ' + niceness + ', must be between -20 and 20');\n      }\n\n      niceness = Math.min(20, Math.max(-20, niceness));\n      this.options.niceness = niceness;\n\n      if (this.ffmpegProc) {\n        var logger = this.logger;\n        var pid = this.ffmpegProc.pid;\n        var renice = spawn('renice', [niceness, '-p', pid], {windowsHide: true});\n\n        renice.on('error', function(err) {\n          logger.warn('could not renice process ' + pid + ': ' + err.message);\n        });\n\n        renice.on('exit', function(code, signal) {\n          if (signal) {\n            logger.warn('could not renice process ' + pid + ': renice was killed by signal ' + signal);\n          } else if (code) {\n            logger.warn('could not renice process ' + pid + ': renice exited with ' + code);\n          } else {\n            logger.info('successfully reniced process ' + pid + ' to ' + niceness + ' niceness');\n          }\n        });\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Kill current ffmpeg process, if any\n   *\n   * @method FfmpegCommand#kill\n   * @category Processing\n   *\n   * @param {String} [signal=SIGKILL] signal name\n   * @return FfmpegCommand\n   */\n  proto.kill = function(signal) {\n    if (!this.ffmpegProc) {\n      this.logger.warn('No running ffmpeg process, cannot send signal');\n    } else {\n      this.ffmpegProc.kill(signal || 'SIGKILL');\n    }\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Capability helpers\n */\n\nvar avCodecRegexp = /^\\s*([D ])([E ])([VAS])([S ])([D ])([T ]) ([^ ]+) +(.*)$/;\nvar ffCodecRegexp = /^\\s*([D\\.])([E\\.])([VAS])([I\\.])([L\\.])([S\\.]) ([^ ]+) +(.*)$/;\nvar ffEncodersRegexp = /\\(encoders:([^\\)]+)\\)/;\nvar ffDecodersRegexp = /\\(decoders:([^\\)]+)\\)/;\nvar encodersRegexp = /^\\s*([VAS\\.])([F\\.])([S\\.])([X\\.])([B\\.])([D\\.]) ([^ ]+) +(.*)$/;\nvar formatRegexp = /^\\s*([D ])([E ])\\s+([^ ]+)\\s+(.*)$/;\nvar lineBreakRegexp = /\\r\\n|\\r|\\n/;\nvar filterRegexp = /^(?: [T\\.][S\\.][C\\.] )?([^ ]+) +(AA?|VV?|\\|)->(AA?|VV?|\\|) +(.*)$/;\n\nvar cache = {};\n\nmodule.exports = function(proto) {\n  /**\n   * Manually define the ffmpeg binary full path.\n   *\n   * @method FfmpegCommand#setFfmpegPath\n   *\n   * @param {String} ffmpegPath The full path to the ffmpeg binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfmpegPath = function(ffmpegPath) {\n    cache.ffmpegPath = ffmpegPath;\n    return this;\n  };\n\n  /**\n   * Manually define the ffprobe binary full path.\n   *\n   * @method FfmpegCommand#setFfprobePath\n   *\n   * @param {String} ffprobePath The full path to the ffprobe binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfprobePath = function(ffprobePath) {\n    cache.ffprobePath = ffprobePath;\n    return this;\n  };\n\n  /**\n   * Manually define the flvtool2/flvmeta binary full path.\n   *\n   * @method FfmpegCommand#setFlvtoolPath\n   *\n   * @param {String} flvtool The full path to the flvtool2 or flvmeta binary.\n   * @return FfmpegCommand\n   */\n  proto.setFlvtoolPath = function(flvtool) {\n    cache.flvtoolPath = flvtool;\n    return this;\n  };\n\n  /**\n   * Forget executable paths\n   *\n   * (only used for testing purposes)\n   *\n   * @method FfmpegCommand#_forgetPaths\n   * @private\n   */\n  proto._forgetPaths = function() {\n    delete cache.ffmpegPath;\n    delete cache.ffprobePath;\n    delete cache.flvtoolPath;\n  };\n\n  /**\n   * Check for ffmpeg availability\n   *\n   * If the FFMPEG_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffmpeg in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFfmpegPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfmpegPath = function(callback) {\n    if ('ffmpegPath' in cache) {\n      return callback(null, cache.ffmpegPath);\n    }\n\n    async.waterfall([\n      // Try FFMPEG_PATH\n      function(cb) {\n        if (process.env.FFMPEG_PATH) {\n          fs.exists(process.env.FFMPEG_PATH, function(exists) {\n            if (exists) {\n              cb(null, process.env.FFMPEG_PATH);\n            } else {\n              cb(null, '');\n            }\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffmpeg, cb) {\n        if (ffmpeg.length) {\n          return cb(null, ffmpeg);\n        }\n\n        utils.which('ffmpeg', function(err, ffmpeg) {\n          cb(err, ffmpeg);\n        });\n      }\n    ], function(err, ffmpeg) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffmpegPath = (ffmpeg || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for ffprobe availability\n   *\n   * If the FFPROBE_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffprobe in the PATH instead.\n   * If this still fails, try to find ffprobe in the same directory as ffmpeg.\n   *\n   * @method FfmpegCommand#_getFfprobePath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfprobePath = function(callback) {\n    var self = this;\n\n    if ('ffprobePath' in cache) {\n      return callback(null, cache.ffprobePath);\n    }\n\n    async.waterfall([\n      // Try FFPROBE_PATH\n      function(cb) {\n        if (process.env.FFPROBE_PATH) {\n          fs.exists(process.env.FFPROBE_PATH, function(exists) {\n            cb(null, exists ? process.env.FFPROBE_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        utils.which('ffprobe', function(err, ffprobe) {\n          cb(err, ffprobe);\n        });\n      },\n\n      // Search in the same directory as ffmpeg\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        self._getFfmpegPath(function(err, ffmpeg) {\n          if (err) {\n            cb(err);\n          } else if (ffmpeg.length) {\n            var name = utils.isWindows ? 'ffprobe.exe' : 'ffprobe';\n            var ffprobe = path.join(path.dirname(ffmpeg), name);\n            fs.exists(ffprobe, function(exists) {\n              cb(null, exists ? ffprobe : '');\n            });\n          } else {\n            cb(null, '');\n          }\n        });\n      }\n    ], function(err, ffprobe) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffprobePath = (ffprobe || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for flvtool2/flvmeta availability\n   *\n   * If the FLVTOOL2_PATH or FLVMETA_PATH environment variable are set, try to use them.\n   * If both are either unset or incorrect, try to find flvtool2 or flvmeta in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFlvtoolPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n   proto._getFlvtoolPath = function(callback) {\n    if ('flvtoolPath' in cache) {\n      return callback(null, cache.flvtoolPath);\n    }\n\n    async.waterfall([\n      // Try FLVMETA_PATH\n      function(cb) {\n        if (process.env.FLVMETA_PATH) {\n          fs.exists(process.env.FLVMETA_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVMETA_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Try FLVTOOL2_PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        if (process.env.FLVTOOL2_PATH) {\n          fs.exists(process.env.FLVTOOL2_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVTOOL2_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search for flvmeta in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvmeta', function(err, flvmeta) {\n          cb(err, flvmeta);\n        });\n      },\n\n      // Search for flvtool2 in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvtool2', function(err, flvtool2) {\n          cb(err, flvtool2);\n        });\n      },\n    ], function(err, flvtool) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.flvtoolPath = (flvtool || ''));\n      }\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFilters}.\n   *\n   * @callback FfmpegCommand~filterCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} filters filter object with filter names as keys and the following\n   *   properties for each filter:\n   * @param {String} filters.description filter description\n   * @param {String} filters.input input type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleInputs whether the filter supports multiple inputs\n   * @param {String} filters.output output type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleOutputs whether the filter supports multiple outputs\n   */\n\n  /**\n   * Query ffmpeg for available filters\n   *\n   * @method FfmpegCommand#availableFilters\n   * @category Capabilities\n   * @aliases getAvailableFilters\n   *\n   * @param {FfmpegCommand~filterCallback} callback callback function\n   */\n  proto.availableFilters =\n  proto.getAvailableFilters = function(callback) {\n    if ('filters' in cache) {\n      return callback(null, cache.filters);\n    }\n\n    this._spawnFfmpeg(['-filters'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split('\\n');\n      var data = {};\n      var types = { A: 'audio', V: 'video', '|': 'none' };\n\n      lines.forEach(function(line) {\n        var match = line.match(filterRegexp);\n        if (match) {\n          data[match[1]] = {\n            description: match[4],\n            input: types[match[2].charAt(0)],\n            multipleInputs: match[2].length > 1,\n            output: types[match[3].charAt(0)],\n            multipleOutputs: match[3].length > 1\n          };\n        }\n      });\n\n      callback(null, cache.filters = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableCodecs}.\n   *\n   * @callback FfmpegCommand~codecCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} codecs codec object with codec names as keys and the following\n   *   properties for each codec (more properties may be available depending on the\n   *   ffmpeg version used):\n   * @param {String} codecs.description codec description\n   * @param {Boolean} codecs.canDecode whether the codec is able to decode streams\n   * @param {Boolean} codecs.canEncode whether the codec is able to encode streams\n   */\n\n  /**\n   * Query ffmpeg for available codecs\n   *\n   * @method FfmpegCommand#availableCodecs\n   * @category Capabilities\n   * @aliases getAvailableCodecs\n   *\n   * @param {FfmpegCommand~codecCallback} callback callback function\n   */\n  proto.availableCodecs =\n  proto.getAvailableCodecs = function(callback) {\n    if ('codecs' in cache) {\n      return callback(null, cache.codecs);\n    }\n\n    this._spawnFfmpeg(['-codecs'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(avCodecRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            drawHorizBand: match[4] === 'S',\n            directRendering: match[5] === 'D',\n            weirdFrameTruncation: match[6] === 'T'\n          };\n        }\n\n        match = line.match(ffCodecRegexp);\n        if (match && match[7] !== '=') {\n          var codecData = data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            intraFrameOnly: match[4] === 'I',\n            isLossy: match[5] === 'L',\n            isLossless: match[6] === 'S'\n          };\n\n          var encoders = codecData.description.match(ffEncodersRegexp);\n          encoders = encoders ? encoders[1].trim().split(' ') : [];\n\n          var decoders = codecData.description.match(ffDecodersRegexp);\n          decoders = decoders ? decoders[1].trim().split(' ') : [];\n\n          if (encoders.length || decoders.length) {\n            var coderData = {};\n            utils.copy(codecData, coderData);\n            delete coderData.canEncode;\n            delete coderData.canDecode;\n\n            encoders.forEach(function(name) {\n              data[name] = {};\n              utils.copy(coderData, data[name]);\n              data[name].canEncode = true;\n            });\n\n            decoders.forEach(function(name) {\n              if (name in data) {\n                data[name].canDecode = true;\n              } else {\n                data[name] = {};\n                utils.copy(coderData, data[name]);\n                data[name].canDecode = true;\n              }\n            });\n          }\n        }\n      });\n\n      callback(null, cache.codecs = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableEncoders}.\n   *\n   * @callback FfmpegCommand~encodersCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} encoders encoders object with encoder names as keys and the following\n   *   properties for each encoder:\n   * @param {String} encoders.description codec description\n   * @param {Boolean} encoders.type \"audio\", \"video\" or \"subtitle\"\n   * @param {Boolean} encoders.frameMT whether the encoder is able to do frame-level multithreading\n   * @param {Boolean} encoders.sliceMT whether the encoder is able to do slice-level multithreading\n   * @param {Boolean} encoders.experimental whether the encoder is experimental\n   * @param {Boolean} encoders.drawHorizBand whether the encoder supports draw_horiz_band\n   * @param {Boolean} encoders.directRendering whether the encoder supports direct encoding method 1\n   */\n\n  /**\n   * Query ffmpeg for available encoders\n   *\n   * @method FfmpegCommand#availableEncoders\n   * @category Capabilities\n   * @aliases getAvailableEncoders\n   *\n   * @param {FfmpegCommand~encodersCallback} callback callback function\n   */\n  proto.availableEncoders =\n  proto.getAvailableEncoders = function(callback) {\n    if ('encoders' in cache) {\n      return callback(null, cache.encoders);\n    }\n\n    this._spawnFfmpeg(['-encoders'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(encodersRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[1]],\n            description: match[8],\n            frameMT: match[2] === 'F',\n            sliceMT: match[3] === 'S',\n            experimental: match[4] === 'X',\n            drawHorizBand: match[5] === 'B',\n            directRendering: match[6] === 'D'\n          };\n        }\n      });\n\n      callback(null, cache.encoders = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFormats}.\n   *\n   * @callback FfmpegCommand~formatCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} formats format object with format names as keys and the following\n   *   properties for each format:\n   * @param {String} formats.description format description\n   * @param {Boolean} formats.canDemux whether the format is able to demux streams from an input file\n   * @param {Boolean} formats.canMux whether the format is able to mux streams into an output file\n   */\n\n  /**\n   * Query ffmpeg for available formats\n   *\n   * @method FfmpegCommand#availableFormats\n   * @category Capabilities\n   * @aliases getAvailableFormats\n   *\n   * @param {FfmpegCommand~formatCallback} callback callback function\n   */\n  proto.availableFormats =\n  proto.getAvailableFormats = function(callback) {\n    if ('formats' in cache) {\n      return callback(null, cache.formats);\n    }\n\n    // Run ffmpeg -formats\n    this._spawnFfmpeg(['-formats'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      // Parse output\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(formatRegexp);\n        if (match) {\n          match[3].split(',').forEach(function(format) {\n            if (!(format in data)) {\n              data[format] = {\n                description: match[4],\n                canDemux: false,\n                canMux: false\n              };\n            }\n\n            if (match[1] === 'D') {\n              data[format].canDemux = true;\n            }\n            if (match[2] === 'E') {\n              data[format].canMux = true;\n            }\n          });\n        }\n      });\n\n      callback(null, cache.formats = data);\n    });\n  };\n\n\n  /**\n   * Check capabilities before executing a command\n   *\n   * Checks whether all used codecs and formats are indeed available\n   *\n   * @method FfmpegCommand#_checkCapabilities\n   * @param {Function} callback callback with signature (err)\n   * @private\n   */\n  proto._checkCapabilities = function(callback) {\n    var self = this;\n    async.waterfall([\n      // Get available formats\n      function(cb) {\n        self.availableFormats(cb);\n      },\n\n      // Check whether specified formats are available\n      function(formats, cb) {\n        var unavailable;\n\n        // Output format(s)\n        unavailable = self._outputs\n          .reduce(function(fmts, output) {\n            var format = output.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canMux)) {\n                fmts.push(format);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Output format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Output formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Input format(s)\n        unavailable = self._inputs\n          .reduce(function(fmts, input) {\n            var format = input.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canDemux)) {\n                fmts.push(format[0]);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Input format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Input formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      },\n\n      // Get available codecs\n      function(cb) {\n        self.availableEncoders(cb);\n      },\n\n      // Check whether specified codecs are available and add strict experimental options if needed\n      function(encoders, cb) {\n        var unavailable;\n\n        // Audio codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var acodec = output.audio.find('-acodec', 1);\n          if (acodec && acodec[0] !== 'copy') {\n            if (!(acodec[0] in encoders) || encoders[acodec[0]].type !== 'audio') {\n              cdcs.push(acodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Audio codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Audio codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Video codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var vcodec = output.video.find('-vcodec', 1);\n          if (vcodec && vcodec[0] !== 'copy') {\n            if (!(vcodec[0] in encoders) || encoders[vcodec[0]].type !== 'video') {\n              cdcs.push(vcodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Video codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Video codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      }\n    ], callback);\n  };\n};\n","/*jshint node:true, laxcomma:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\n\n\nfunction legacyTag(key) { return key.match(/^TAG:/); }\nfunction legacyDisposition(key) { return key.match(/^DISPOSITION:/); }\n\nfunction parseFfprobeOutput(out) {\n  var lines = out.split(/\\r\\n|\\r|\\n/);\n\n  lines = lines.filter(function (line) {\n    return line.length > 0;\n  });\n\n  var data = {\n    streams: [],\n    format: {},\n    chapters: []\n  };\n\n  function parseBlock(name) {\n    var data = {};\n\n    var line = lines.shift();\n    while (typeof line !== 'undefined') {\n      if (line.toLowerCase() == '[/'+name+']') {\n        return data;\n      } else if (line.match(/^\\[/)) {\n        line = lines.shift();\n        continue;\n      }\n\n      var kv = line.match(/^([^=]+)=(.*)$/);\n      if (kv) {\n        if (!(kv[1].match(/^TAG:/)) && kv[2].match(/^[0-9]+(\\.[0-9]+)?$/)) {\n          data[kv[1]] = Number(kv[2]);\n        } else {\n          data[kv[1]] = kv[2];\n        }\n      }\n\n      line = lines.shift();\n    }\n\n    return data;\n  }\n\n  var line = lines.shift();\n  while (typeof line !== 'undefined') {\n    if (line.match(/^\\[stream/i)) {\n      var stream = parseBlock('stream');\n      data.streams.push(stream);\n    } else if (line.match(/^\\[chapter/i)) {\n      var chapter = parseBlock('chapter');\n      data.chapters.push(chapter);\n    } else if (line.toLowerCase() === '[format]') {\n      data.format = parseBlock('format');\n    }\n\n    line = lines.shift();\n  }\n\n  return data;\n}\n\n\n\nmodule.exports = function(proto) {\n  /**\n   * A callback passed to the {@link FfmpegCommand#ffprobe} method.\n   *\n   * @callback FfmpegCommand~ffprobeCallback\n   *\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} ffprobeData ffprobe output data; this object\n   *   has the same format as what the following command returns:\n   *\n   *     `ffprobe -print_format json -show_streams -show_format INPUTFILE`\n   * @param {Array} ffprobeData.streams stream information\n   * @param {Object} ffprobeData.format format information\n   */\n\n  /**\n   * Run ffprobe on last specified input\n   *\n   * @method FfmpegCommand#ffprobe\n   * @category Metadata\n   *\n   * @param {?Number} [index] 0-based index of input to probe (defaults to last input)\n   * @param {?String[]} [options] array of output options to return\n   * @param {FfmpegCommand~ffprobeCallback} callback callback function\n   *\n   */\n  proto.ffprobe = function() {\n    var input, index = null, options = [], callback;\n\n    // the last argument should be the callback\n    var callback = arguments[arguments.length - 1];\n\n    var ended = false\n    function handleCallback(err, data) {\n      if (!ended) {\n        ended = true;\n        callback(err, data);\n      }\n    };\n\n    // map the arguments to the correct variable names\n    switch (arguments.length) {\n      case 3:\n        index = arguments[0];\n        options = arguments[1];\n        break;\n      case 2:\n        if (typeof arguments[0] === 'number') {\n          index = arguments[0];\n        } else if (Array.isArray(arguments[0])) {\n          options = arguments[0];\n        }\n        break;\n    }\n\n\n    if (index === null) {\n      if (!this._currentInput) {\n        return handleCallback(new Error('No input specified'));\n      }\n\n      input = this._currentInput;\n    } else {\n      input = this._inputs[index];\n\n      if (!input) {\n        return handleCallback(new Error('Invalid input index'));\n      }\n    }\n\n    // Find ffprobe\n    this._getFfprobePath(function(err, path) {\n      if (err) {\n        return handleCallback(err);\n      } else if (!path) {\n        return handleCallback(new Error('Cannot find ffprobe'));\n      }\n\n      var stdout = '';\n      var stdoutClosed = false;\n      var stderr = '';\n      var stderrClosed = false;\n\n      // Spawn ffprobe\n      var src = input.isStream ? 'pipe:0' : input.source;\n      var ffprobe = spawn(path, ['-show_streams', '-show_format'].concat(options, src), {windowsHide: true});\n\n      if (input.isStream) {\n        // Skip errors on stdin. These get thrown when ffprobe is complete and\n        // there seems to be no way hook in and close stdin before it throws.\n        ffprobe.stdin.on('error', function(err) {\n          if (['ECONNRESET', 'EPIPE', 'EOF'].indexOf(err.code) >= 0) { return; }\n          handleCallback(err);\n        });\n\n        // Once ffprobe's input stream closes, we need no more data from the\n        // input\n        ffprobe.stdin.on('close', function() {\n            input.source.pause();\n            input.source.unpipe(ffprobe.stdin);\n        });\n\n        input.source.pipe(ffprobe.stdin);\n      }\n\n      ffprobe.on('error', callback);\n\n      // Ensure we wait for captured streams to end before calling callback\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && stdoutClosed && stderrClosed) {\n          if (exitError) {\n            if (stderr) {\n              exitError.message += '\\n' + stderr;\n            }\n\n            return handleCallback(exitError);\n          }\n\n          // Process output\n          var data = parseFfprobeOutput(stdout);\n\n          // Handle legacy output with \"TAG:x\" and \"DISPOSITION:x\" keys\n          [data.format].concat(data.streams).forEach(function(target) {\n            if (target) {\n              var legacyTagKeys = Object.keys(target).filter(legacyTag);\n\n              if (legacyTagKeys.length) {\n                target.tags = target.tags || {};\n\n                legacyTagKeys.forEach(function(tagKey) {\n                  target.tags[tagKey.substr(4)] = target[tagKey];\n                  delete target[tagKey];\n                });\n              }\n\n              var legacyDispositionKeys = Object.keys(target).filter(legacyDisposition);\n\n              if (legacyDispositionKeys.length) {\n                target.disposition = target.disposition || {};\n\n                legacyDispositionKeys.forEach(function(dispositionKey) {\n                  target.disposition[dispositionKey.substr(12)] = target[dispositionKey];\n                  delete target[dispositionKey];\n                });\n              }\n            }\n          });\n\n          handleCallback(null, data);\n        }\n      }\n\n      // Handle ffprobe exit\n      var processExited = false;\n      ffprobe.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (code) {\n          handleExit(new Error('ffprobe exited with code ' + code));\n        } else if (signal) {\n          handleExit(new Error('ffprobe was killed with signal ' + signal));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Handle stdout/stderr streams\n      ffprobe.stdout.on('data', function(data) {\n        stdout += data;\n      });\n\n      ffprobe.stdout.on('close', function() {\n        stdoutClosed = true;\n        handleExit();\n      });\n\n      ffprobe.stderr.on('data', function(data) {\n        stderr += data;\n      });\n\n      ffprobe.stderr.on('close', function() {\n        stderrClosed = true;\n        handleExit();\n      });\n    });\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar PassThrough = require('stream').PassThrough;\nvar async = require('async');\nvar utils = require('./utils');\n\n\n/*\n * Useful recipes for commands\n */\n\nmodule.exports = function recipes(proto) {\n  /**\n   * Execute ffmpeg command and save output to a file\n   *\n   * @method FfmpegCommand#save\n   * @category Processing\n   * @aliases saveToFile\n   *\n   * @param {String} output file path\n   * @return FfmpegCommand\n   */\n  proto.saveToFile =\n  proto.save = function(output) {\n    this.output(output).run();\n    return this;\n  };\n\n\n  /**\n   * Execute ffmpeg command and save output to a stream\n   *\n   * If 'stream' is not specified, a PassThrough stream is created and returned.\n   * 'options' will be used when piping ffmpeg output to the output stream\n   * (@see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options)\n   *\n   * @method FfmpegCommand#pipe\n   * @category Processing\n   * @aliases stream,writeToStream\n   *\n   * @param {stream.Writable} [stream] output stream\n   * @param {Object} [options={}] pipe options\n   * @return Output stream\n   */\n  proto.writeToStream =\n  proto.pipe =\n  proto.stream = function(stream, options) {\n    if (stream && !('writable' in stream)) {\n      options = stream;\n      stream = undefined;\n    }\n\n    if (!stream) {\n      if (process.version.match(/v0\\.8\\./)) {\n        throw new Error('PassThrough stream is not supported on node v0.8');\n      }\n\n      stream = new PassThrough();\n    }\n\n    this.output(stream, options).run();\n    return stream;\n  };\n\n\n  /**\n   * Generate images from a video\n   *\n   * Note: this method makes the command emit a 'filenames' event with an array of\n   * the generated image filenames.\n   *\n   * @method FfmpegCommand#screenshots\n   * @category Processing\n   * @aliases takeScreenshots,thumbnail,thumbnails,screenshot\n   *\n   * @param {Number|Object} [config=1] screenshot count or configuration object with\n   *   the following keys:\n   * @param {Number} [config.count] number of screenshots to take; using this option\n   *   takes screenshots at regular intervals (eg. count=4 would take screens at 20%, 40%,\n   *   60% and 80% of the video length).\n   * @param {String} [config.folder='.'] output folder\n   * @param {String} [config.filename='tn.png'] output filename pattern, may contain the following\n   *   tokens:\n   *   - '%s': offset in seconds\n   *   - '%w': screenshot width\n   *   - '%h': screenshot height\n   *   - '%r': screenshot resolution (same as '%wx%h')\n   *   - '%f': input filename\n   *   - '%b': input basename (filename w/o extension)\n   *   - '%i': index of screenshot in timemark array (can be zero-padded by using it like `%000i`)\n   * @param {Number[]|String[]} [config.timemarks] array of timemarks to take screenshots\n   *   at; each timemark may be a number of seconds, a '[[hh:]mm:]ss[.xxx]' string or a\n   *   'XX%' string.  Overrides 'count' if present.\n   * @param {Number[]|String[]} [config.timestamps] alias for 'timemarks'\n   * @param {Boolean} [config.fastSeek] use fast seek (less accurate)\n   * @param {String} [config.size] screenshot size, with the same syntax as {@link FfmpegCommand#size}\n   * @param {String} [folder] output folder (legacy alias for 'config.folder')\n   * @return FfmpegCommand\n   */\n  proto.takeScreenshots =\n  proto.thumbnail =\n  proto.thumbnails =\n  proto.screenshot =\n  proto.screenshots = function(config, folder) {\n    var self = this;\n    var source = this._currentInput.source;\n    config = config || { count: 1 };\n\n    // Accept a number of screenshots instead of a config object\n    if (typeof config === 'number') {\n      config = {\n        count: config\n      };\n    }\n\n    // Accept a second 'folder' parameter instead of config.folder\n    if (!('folder' in config)) {\n      config.folder = folder || '.';\n    }\n\n    // Accept 'timestamps' instead of 'timemarks'\n    if ('timestamps' in config) {\n      config.timemarks = config.timestamps;\n    }\n\n    // Compute timemarks from count if not present\n    if (!('timemarks' in config)) {\n      if (!config.count) {\n        throw new Error('Cannot take screenshots: neither a count nor a timemark list are specified');\n      }\n\n      var interval = 100 / (1 + config.count);\n      config.timemarks = [];\n      for (var i = 0; i < config.count; i++) {\n        config.timemarks.push((interval * (i + 1)) + '%');\n      }\n    }\n\n    // Parse size option\n    if ('size' in config) {\n      var fixedSize = config.size.match(/^(\\d+)x(\\d+)$/);\n      var fixedWidth = config.size.match(/^(\\d+)x\\?$/);\n      var fixedHeight = config.size.match(/^\\?x(\\d+)$/);\n      var percentSize = config.size.match(/^(\\d+)%$/);\n\n      if (!fixedSize && !fixedWidth && !fixedHeight && !percentSize) {\n        throw new Error('Invalid size parameter: ' + config.size);\n      }\n    }\n\n    // Metadata helper\n    var metadata;\n    function getMetadata(cb) {\n      if (metadata) {\n        cb(null, metadata);\n      } else {\n        self.ffprobe(function(err, meta) {\n          metadata = meta;\n          cb(err, meta);\n        });\n      }\n    }\n\n    async.waterfall([\n      // Compute percent timemarks if any\n      function computeTimemarks(next) {\n        if (config.timemarks.some(function(t) { return ('' + t).match(/^[\\d.]+%$/); })) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot compute screenshot timemarks with an input stream, please specify fixed timemarks'));\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              next(err);\n            } else {\n              // Select video stream with the highest resolution\n              var vstream = meta.streams.reduce(function(biggest, stream) {\n                if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                  return stream;\n                } else {\n                  return biggest;\n                }\n              }, { width: 0, height: 0 });\n\n              if (vstream.width === 0) {\n                return next(new Error('No video stream in input, cannot take screenshots'));\n              }\n\n              var duration = Number(vstream.duration);\n              if (isNaN(duration)) {\n                duration = Number(meta.format.duration);\n              }\n\n              if (isNaN(duration)) {\n                return next(new Error('Could not get input duration, please specify fixed timemarks'));\n              }\n\n              config.timemarks = config.timemarks.map(function(mark) {\n                if (('' + mark).match(/^([\\d.]+)%$/)) {\n                  return duration * parseFloat(mark) / 100;\n                } else {\n                  return mark;\n                }\n              });\n\n              next();\n            }\n          });\n        } else {\n          next();\n        }\n      },\n\n      // Turn all timemarks into numbers and sort them\n      function normalizeTimemarks(next) {\n        config.timemarks = config.timemarks.map(function(mark) {\n          return utils.timemarkToSeconds(mark);\n        }).sort(function(a, b) { return a - b; });\n\n        next();\n      },\n\n      // Add '_%i' to pattern when requesting multiple screenshots and no variable token is present\n      function fixPattern(next) {\n        var pattern = config.filename || 'tn.png';\n\n        if (pattern.indexOf('.') === -1) {\n          pattern += '.png';\n        }\n\n        if (config.timemarks.length > 1 && !pattern.match(/%(s|0*i)/)) {\n          var ext = path.extname(pattern);\n          pattern = path.join(path.dirname(pattern), path.basename(pattern, ext) + '_%i' + ext);\n        }\n\n        next(null, pattern);\n      },\n\n      // Replace filename tokens (%f, %b) in pattern\n      function replaceFilenameTokens(pattern, next) {\n        if (pattern.match(/%[bf]/)) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot replace %f or %b when using an input stream'));\n          }\n\n          pattern = pattern\n            .replace(/%f/g, path.basename(source))\n            .replace(/%b/g, path.basename(source, path.extname(source)));\n        }\n\n        next(null, pattern);\n      },\n\n      // Compute size if needed\n      function getSize(pattern, next) {\n        if (pattern.match(/%[whr]/)) {\n          if (fixedSize) {\n            return next(null, pattern, fixedSize[1], fixedSize[2]);\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              return next(new Error('Could not determine video resolution to replace %w, %h or %r'));\n            }\n\n            var vstream = meta.streams.reduce(function(biggest, stream) {\n              if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                return stream;\n              } else {\n                return biggest;\n              }\n            }, { width: 0, height: 0 });\n\n            if (vstream.width === 0) {\n              return next(new Error('No video stream in input, cannot replace %w, %h or %r'));\n            }\n\n            var width = vstream.width;\n            var height = vstream.height;\n\n            if (fixedWidth) {\n              height = height * Number(fixedWidth[1]) / width;\n              width = Number(fixedWidth[1]);\n            } else if (fixedHeight) {\n              width = width * Number(fixedHeight[1]) / height;\n              height = Number(fixedHeight[1]);\n            } else if (percentSize) {\n              width = width * Number(percentSize[1]) / 100;\n              height = height * Number(percentSize[1]) / 100;\n            }\n\n            next(null, pattern, Math.round(width / 2) * 2, Math.round(height / 2) * 2);\n          });\n        } else {\n          next(null, pattern, -1, -1);\n        }\n      },\n\n      // Replace size tokens (%w, %h, %r) in pattern\n      function replaceSizeTokens(pattern, width, height, next) {\n        pattern = pattern\n          .replace(/%r/g, '%wx%h')\n          .replace(/%w/g, width)\n          .replace(/%h/g, height);\n\n        next(null, pattern);\n      },\n\n      // Replace variable tokens in pattern (%s, %i) and generate filename list\n      function replaceVariableTokens(pattern, next) {\n        var filenames = config.timemarks.map(function(t, i) {\n          return pattern\n            .replace(/%s/g, utils.timemarkToSeconds(t))\n            .replace(/%(0*)i/g, function(match, padding) {\n              var idx = '' + (i + 1);\n              return padding.substr(0, Math.max(0, padding.length + 1 - idx.length)) + idx;\n            });\n        });\n\n        self.emit('filenames', filenames);\n        next(null, filenames);\n      },\n\n      // Create output directory\n      function createDirectory(filenames, next) {\n        fs.exists(config.folder, function(exists) {\n          if (!exists) {\n            fs.mkdir(config.folder, function(err) {\n              if (err) {\n                next(err);\n              } else {\n                next(null, filenames);\n              }\n            });\n          } else {\n            next(null, filenames);\n          }\n        });\n      }\n    ], function runCommand(err, filenames) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var count = config.timemarks.length;\n      var split;\n      var filters = [split = {\n        filter: 'split',\n        options: count,\n        outputs: []\n      }];\n\n      if ('size' in config) {\n        // Set size to generate size filters\n        self.size(config.size);\n\n        // Get size filters and chain them with 'sizeN' stream names\n        var sizeFilters =  self._currentOutput.sizeFilters.get().map(function(f, i) {\n          if (i > 0) {\n            f.inputs = 'size' + (i - 1);\n          }\n\n          f.outputs = 'size' + i;\n\n          return f;\n        });\n\n        // Input last size filter output into split filter\n        split.inputs = 'size' + (sizeFilters.length - 1);\n\n        // Add size filters in front of split filter\n        filters = sizeFilters.concat(filters);\n\n        // Remove size filters\n        self._currentOutput.sizeFilters.clear();\n      }\n\n      var first = 0;\n      for (var i = 0; i < count; i++) {\n        var stream = 'screen' + i;\n        split.outputs.push(stream);\n\n        if (i === 0) {\n          first = config.timemarks[i];\n          self.seekInput(first);\n        }\n\n        self.output(path.join(config.folder, filenames[i]))\n          .frames(1)\n          .map(stream);\n\n        if (i > 0) {\n          self.seek(config.timemarks[i] - first);\n        }\n      }\n\n      self.complexFilter(filters);\n      self.run();\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Merge (concatenate) inputs to a single file\n   *\n   * @method FfmpegCommand#concat\n   * @category Processing\n   * @aliases concatenate,mergeToFile\n   *\n   * @param {String|Writable} target output file or writable stream\n   * @param {Object} [options] pipe options (only used when outputting to a writable stream)\n   * @return FfmpegCommand\n   */\n  proto.mergeToFile =\n  proto.concatenate =\n  proto.concat = function(target, options) {\n    // Find out which streams are present in the first non-stream input\n    var fileInput = this._inputs.filter(function(input) {\n      return !input.isStream;\n    })[0];\n\n    var self = this;\n    this.ffprobe(this._inputs.indexOf(fileInput), function(err, data) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var hasAudioStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'audio';\n      });\n\n      var hasVideoStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'video';\n      });\n\n      // Setup concat filter and start processing\n      self.output(target, options)\n        .complexFilter({\n          filter: 'concat',\n          options: {\n            n: self._inputs.length,\n            v: hasVideoStreams ? 1 : 0,\n            a: hasAudioStreams ? 1 : 0\n          }\n        })\n        .run();\n    });\n\n    return this;\n  };\n};\n","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nvar utils = require('./utils');\nvar ARGLISTS = ['_global', '_audio', '_audioFilters', '_video', '_videoFilters', '_sizeFilters', '_complexFilters'];\n\n\n/**\n * Create an ffmpeg command\n *\n * Can be called with or without the 'new' operator, and the 'input' parameter\n * may be specified as 'options.source' instead (or passed later with the\n * addInput method).\n *\n * @constructor\n * @param {String|ReadableStream} [input] input file path or readable stream\n * @param {Object} [options] command options\n * @param {Object} [options.logger=<no logging>] logger object with 'error', 'warning', 'info' and 'debug' methods\n * @param {Number} [options.niceness=0] ffmpeg process niceness, ignored on Windows\n * @param {Number} [options.priority=0] alias for `niceness`\n * @param {String} [options.presets=\"fluent-ffmpeg/lib/presets\"] directory to load presets from\n * @param {String} [options.preset=\"fluent-ffmpeg/lib/presets\"] alias for `presets`\n * @param {String} [options.stdoutLines=100] maximum lines of ffmpeg output to keep in memory, use 0 for unlimited\n * @param {Number} [options.timeout=<no timeout>] ffmpeg processing timeout in seconds\n * @param {String|ReadableStream} [options.source=<no input>] alias for the `input` parameter\n */\nfunction FfmpegCommand(input, options) {\n  // Make 'new' optional\n  if (!(this instanceof FfmpegCommand)) {\n    return new FfmpegCommand(input, options);\n  }\n\n  EventEmitter.call(this);\n\n  if (typeof input === 'object' && !('readable' in input)) {\n    // Options object passed directly\n    options = input;\n  } else {\n    // Input passed first\n    options = options || {};\n    options.source = input;\n  }\n\n  // Add input if present\n  this._inputs = [];\n  if (options.source) {\n    this.input(options.source);\n  }\n\n  // Add target-less output for backwards compatibility\n  this._outputs = [];\n  this.output();\n\n  // Create argument lists\n  var self = this;\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    self[prop] = utils.args();\n  });\n\n  // Set default option values\n  options.stdoutLines = 'stdoutLines' in options ? options.stdoutLines : 100;\n  options.presets = options.presets || options.preset || path.join(__dirname, 'presets');\n  options.niceness = options.niceness || options.priority || 0;\n\n  // Save options\n  this.options = options;\n\n  // Setup logger\n  this.logger = options.logger || {\n    debug: function() {},\n    info: function() {},\n    warn: function() {},\n    error: function() {}\n  };\n}\nutil.inherits(FfmpegCommand, EventEmitter);\nmodule.exports = FfmpegCommand;\n\n\n/**\n * Clone an ffmpeg command\n *\n * This method is useful when you want to process the same input multiple times.\n * It returns a new FfmpegCommand instance with the exact same options.\n *\n * All options set _after_ the clone() call will only be applied to the instance\n * it has been called on.\n *\n * @example\n *   var command = ffmpeg('/path/to/source.avi')\n *     .audioCodec('libfaac')\n *     .videoCodec('libx264')\n *     .format('mp4');\n *\n *   command.clone()\n *     .size('320x200')\n *     .save('/path/to/output-small.mp4');\n *\n *   command.clone()\n *     .size('640x400')\n *     .save('/path/to/output-medium.mp4');\n *\n *   command.save('/path/to/output-original-size.mp4');\n *\n * @method FfmpegCommand#clone\n * @return FfmpegCommand\n */\nFfmpegCommand.prototype.clone = function() {\n  var clone = new FfmpegCommand();\n  var self = this;\n\n  // Clone options and logger\n  clone.options = this.options;\n  clone.logger = this.logger;\n\n  // Clone inputs\n  clone._inputs = this._inputs.map(function(input) {\n    return {\n      source: input.source,\n      options: input.options.clone()\n    };\n  });\n\n  // Create first output\n  if ('target' in this._outputs[0]) {\n    // We have outputs set, don't clone them and create first output\n    clone._outputs = [];\n    clone.output();\n  } else {\n    // No outputs set, clone first output options\n    clone._outputs = [\n      clone._currentOutput = {\n        flags: {}\n      }\n    ];\n\n    ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n      clone._currentOutput[key] = self._currentOutput[key].clone();\n    });\n\n    if (this._currentOutput.sizeData) {\n      clone._currentOutput.sizeData = {};\n      utils.copy(this._currentOutput.sizeData, clone._currentOutput.sizeData);\n    }\n\n    utils.copy(this._currentOutput.flags, clone._currentOutput.flags);\n  }\n\n  // Clone argument lists\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    clone[prop] = self[prop].clone();\n  });\n\n  return clone;\n};\n\n\n/* Add methods from options submodules */\n\nrequire('./options/inputs')(FfmpegCommand.prototype);\nrequire('./options/audio')(FfmpegCommand.prototype);\nrequire('./options/video')(FfmpegCommand.prototype);\nrequire('./options/videosize')(FfmpegCommand.prototype);\nrequire('./options/output')(FfmpegCommand.prototype);\nrequire('./options/custom')(FfmpegCommand.prototype);\nrequire('./options/misc')(FfmpegCommand.prototype);\n\n\n/* Add processor methods */\n\nrequire('./processor')(FfmpegCommand.prototype);\n\n\n/* Add capabilities methods */\n\nrequire('./capabilities')(FfmpegCommand.prototype);\n\nFfmpegCommand.setFfmpegPath = function(path) {\n  (new FfmpegCommand()).setFfmpegPath(path);\n};\n\nFfmpegCommand.setFfprobePath = function(path) {\n  (new FfmpegCommand()).setFfprobePath(path);\n};\n\nFfmpegCommand.setFlvtoolPath = function(path) {\n  (new FfmpegCommand()).setFlvtoolPath(path);\n};\n\nFfmpegCommand.availableFilters =\nFfmpegCommand.getAvailableFilters = function(callback) {\n  (new FfmpegCommand()).availableFilters(callback);\n};\n\nFfmpegCommand.availableCodecs =\nFfmpegCommand.getAvailableCodecs = function(callback) {\n  (new FfmpegCommand()).availableCodecs(callback);\n};\n\nFfmpegCommand.availableFormats =\nFfmpegCommand.getAvailableFormats = function(callback) {\n  (new FfmpegCommand()).availableFormats(callback);\n};\n\nFfmpegCommand.availableEncoders =\nFfmpegCommand.getAvailableEncoders = function(callback) {\n  (new FfmpegCommand()).availableEncoders(callback);\n};\n\n\n/* Add ffprobe methods */\n\nrequire('./ffprobe')(FfmpegCommand.prototype);\n\nFfmpegCommand.ffprobe = function(file) {\n  var instance = new FfmpegCommand(file);\n  instance.ffprobe.apply(instance, Array.prototype.slice.call(arguments, 1));\n};\n\n/* Add processing recipes */\n\nrequire('./recipes')(FfmpegCommand.prototype);\n","module.exports = require('./lib/fluent-ffmpeg');\n","import ffmpeg from 'fluent-ffmpeg'\nimport path from 'node:path'\nimport { fileURLToPath } from 'node:url'\nimport fs from 'node:fs'\nimport * as os from 'node:os'\nimport { execSync } from 'node:child_process'\n\n\nexport function setFFMpegPath(ffmpegPath: string) {\n  const platform = os.platform()\n  const executableName = platform === 'win32' ? 'ffmpeg.exe' : 'ffmpeg'\n\n  // const pathEnv = process.env.PATH || ''\n  // const pathDirs = pathEnv.split(path.delimiter)\n  // const envPaths = pathDirs.map(dir => path.join(dir, executableName))\n\n  const paths: string[] = [\n    ffmpegPath,\n    path.join(path.dirname(fileURLToPath(import.meta.url)), 'ffmpeg.exe'),\n    process.env['FFMPEG_PATH'] || '',\n    // ...envPaths,\n  ]\n  // try {\n  //   const cmd = platform === 'win32' ? 'where ffmpeg' : 'which ffmpeg'\n  //   const result = execSync(cmd).toString().trim()\n  //   if (result && fs.existsSync(result)) {\n  //     paths.push(result.trim())\n  //   }\n  // } catch (e) {\n  // }\n  for (const p of paths) {\n    if (fs.existsSync(p)) {\n      ffmpeg.setFfmpegPath(p)\n      console.log('set ffmpeg successfully', p)\n      break\n    }\n  }\n}\n","import { unlink } from 'node:fs/promises'\nimport { statSync } from 'node:fs'\nimport { Service, Context } from 'cordis'\nimport { registerReceiveHook, ReceiveCmdS, registerCallHook } from './hook'\nimport { Config as LLOBConfig } from '../common/types'\nimport {\n  RawMessage,\n  GroupNotify,\n  FriendRequestNotify,\n  FriendRequest,\n  GroupMember,\n  BuddyReqType,\n  GrayTipElementSubType,\n  CategoryFriend,\n  SimpleInfo,\n  ChatType,\n  Peer,\n  SendMessageElement,\n  ElementType,\n} from './types'\nimport { selfInfo } from '../common/globalVars'\nimport { version } from '../version'\nimport { pmhq } from './native/pmhq'\nimport {\n  FlashFileDownloadingInfo,\n  FlashFileDownloadStatus,\n  FlashFileSetInfo,\n  FlashFileUploadingInfo,\n} from '@/ntqqapi/types/flashfile'\nimport { logSummaryMessage } from '@/ntqqapi/log'\nimport { setFfmpegPath } from 'fluent-ffmpeg'\nimport { setFFMpegPath } from '@/common/utils/ffmpeg'\n\ndeclare module 'cordis' {\n  interface Context {\n    app: Core\n  }\n\n  interface Events {\n    'nt/message-created': (input: RawMessage) => void\n    'nt/message-deleted': (input: RawMessage) => void\n    'nt/message-sent': (input: RawMessage) => void\n    'nt/group-notify': (input: { notify: GroupNotify, doubt: boolean }) => void\n    'nt/friend-request': (input: FriendRequest) => void\n    'nt/group-member-info-updated': (input: { groupCode: string, members: GroupMember[] }) => void\n    'nt/system-message-created': (input: Uint8Array) => void\n    'nt/flash-file-uploading': (input: {fileSet: FlashFileSetInfo} & FlashFileUploadingInfo) => void\n    'nt/flash-file-upload-status': (input: FlashFileSetInfo) => void\n    'nt/flash-file-download-status': (input: {status: FlashFileDownloadStatus, info: FlashFileSetInfo}) => void\n    'nt/flash-file-downloading': (input: [fileSetId: string, info: FlashFileDownloadingInfo]) => void\n  }\n}\n\nclass Core extends Service {\n  static inject = ['ntMsgApi', 'ntFriendApi', 'ntGroupApi', 'store', 'ntUserApi', 'ntFileApi']\n  public startupTime = 0\n  public messageReceivedCount = 0\n  public messageSentCount = 0\n  public lastMessageTime = 0\n  public pmhq\n\n  constructor(protected ctx: Context, public config: Core.Config) {\n    super(ctx, 'app', true)\n    this.pmhq = pmhq\n  }\n\n  public start() {\n    this.startupTime = Math.trunc(Date.now() / 1000)\n    this.registerListener()\n    this.ctx.logger.info(`LLOneBot/${version}`)\n    this.ctx.on('llob/config-updated', input => {\n      Object.assign(this.config, input)\n      setFFMpegPath(input.ffmpeg || '')\n    })\n  }\n\n  public async sendMessage(\n    ctx: Context,\n    peer: Peer,\n    sendElements: SendMessageElement[],\n    deleteAfterSentFiles: string[],\n  ) {\n    if (peer.chatType === ChatType.Group) {\n      const info = await ctx.ntGroupApi.getGroupAllInfo(peer.peerUid)\n        .catch(() => undefined)\n      const shutUpMeTimestamp = info?.shutUpMeTimestamp\n      if (shutUpMeTimestamp && shutUpMeTimestamp * 1000 > Date.now()) {\n        throw new Error('当前处于被禁言状态')\n      }\n    }\n    if (!sendElements.length) {\n      throw new Error('消息体无法解析，请检查是否发送了不支持的消息类型')\n    }\n    // 计算发送的文件大小\n    let totalSize = 0\n    for (const fileElement of sendElements) {\n      try {\n        if (fileElement.elementType === ElementType.Ptt) {\n          totalSize += statSync(fileElement.pttElement.filePath!).size\n        }\n        else if (fileElement.elementType === ElementType.File) {\n          totalSize += statSync(fileElement.fileElement.filePath!).size\n        }\n        else if (fileElement.elementType === ElementType.Video) {\n          totalSize += statSync(fileElement.videoElement.filePath).size\n        }\n        else if (fileElement.elementType === ElementType.Pic) {\n          totalSize += statSync(fileElement.picElement.sourcePath!).size\n        }\n      } catch (e) {\n        ctx.logger.warn('文件大小计算失败', e, fileElement)\n      }\n    }\n    const timeout = 10000 + (totalSize / 1024 / 256 * 1000)  // 10s Basic Timeout + PredictTime( For File 512kb/s )\n    const returnMsg = await ctx.ntMsgApi.sendMsg(peer, sendElements, timeout)\n    if (returnMsg) {\n      this.messageSentCount++\n      ctx.logger.info('消息发送', peer)\n      deleteAfterSentFiles.map(path => {\n          unlink(path).then().catch(e=>{})\n      })\n      return returnMsg\n    }\n  }\n\n  private handleMessage(msgList: RawMessage[]) {\n    for (const message of msgList) {\n      const msgTime = parseInt(message.msgTime)\n      // 过滤启动之前的消息\n      if (msgTime < this.startupTime) {\n        continue\n      }\n      if (message.senderUin && message.senderUin !== '0') {\n        this.ctx.store.addMsgCache(message)\n      }\n      this.lastMessageTime = msgTime\n      this.messageReceivedCount++\n      logSummaryMessage(this.ctx, message).then()\n      this.ctx.parallel('nt/message-created', message)\n    }\n\n    // 自动清理新消息文件\n    if (!this.config.autoDeleteFile) {\n      return\n    }\n\n    // 使用一个定时器处理所有文件，而不是为每个元素创建定时器\n    const allPaths: string[] = []\n    for (const message of msgList) {\n      for (const msgElement of message.elements) {\n        const picPath = msgElement.picElement?.sourcePath\n        const picThumbPath = [...(msgElement.picElement?.thumbPath ?? []).values()]\n        const pttPath = msgElement.pttElement?.filePath\n        const filePath = msgElement.fileElement?.filePath\n        const videoPath = msgElement.videoElement?.filePath\n        const videoThumbPath = [...(msgElement.videoElement?.thumbPath ?? []).values()]\n        const pathList = [picPath, ...picThumbPath, pttPath, filePath, videoPath, ...videoThumbPath]\n        if (msgElement.picElement) {\n          pathList.push(...Object.values(msgElement.picElement.thumbPath))\n        }\n        allPaths.push(...pathList.filter((path): path is string => path !== undefined && path !== null))\n      }\n    }\n\n    if (allPaths.length > 0) {\n      setTimeout(() => {\n        for (const path of allPaths) {\n          if (path) {\n            unlink(path).then(() => this.ctx.logger.info('删除文件成功', path)).catch(e=>{})\n          }\n        }\n      }, this.config.autoDeleteFileSecond! * 1000)\n    }\n  }\n\n  private registerListener() {\n    registerReceiveHook<{ status: number }>(ReceiveCmdS.SELF_STATUS, (info) => {\n      Object.assign(selfInfo, { online: info.status !== 20 })\n    })\n\n    registerReceiveHook<[\n      groupCode: string,\n      dataSource: number,\n      members: Set<GroupMember>\n    ]>(ReceiveCmdS.GROUP_MEMBER_INFO_UPDATE, async (payload) => {\n      const groupCode = payload[0]\n      const members = Array.from(payload[2].values())\n      this.ctx.parallel('nt/group-member-info-updated', { groupCode, members })\n    })\n\n\n    registerReceiveHook<RawMessage[]>(ReceiveCmdS.NEW_MSG, payload => {\n      this.handleMessage(payload)\n    })\n\n    const sentMsgIds = new Map<string, boolean>()\n    const recallMsgIds: string[] = [] // 避免重复上报\n\n    registerReceiveHook<RawMessage[]>([ReceiveCmdS.UPDATE_MSG], payload => {\n      for (const msg of payload) {\n        if (\n          msg.recallTime !== '0' &&\n          msg.msgType === 5 &&\n          msg.subMsgType === 4 &&\n          msg.elements[0]?.grayTipElement?.subElementType === GrayTipElementSubType.Revoke &&\n          !recallMsgIds.includes(msg.msgId)\n        ) {\n\n          recallMsgIds.push(msg.msgId)\n          this.ctx.parallel('nt/message-deleted', msg)\n        }\n        else if (sentMsgIds.get(msg.msgId)) {\n          if (msg.sendStatus === 2) {\n            sentMsgIds.delete(msg.msgId)\n            logSummaryMessage(this.ctx, msg).then()\n            this.ctx.parallel('nt/message-sent', msg)\n          }\n        }\n      }\n\n      if (recallMsgIds.length > 1000) {\n        recallMsgIds.shift()\n      }\n\n      // 限制Map大小，防止内存泄露\n      if (sentMsgIds.size > 1000) {\n        const firstKey = sentMsgIds.keys().next().value\n        if (firstKey) {\n          sentMsgIds.delete(firstKey)\n        }\n      }\n    })\n\n    registerReceiveHook<RawMessage>(ReceiveCmdS.SELF_SEND_MSG, payload => {\n      sentMsgIds.set(payload.msgId, true)\n    })\n\n    const groupNotifyIgnore: string[] = []\n    registerReceiveHook<[\n      doubt: boolean,\n      oldestUnreadSeq: string,\n      unreadCount: number,\n    ]>(ReceiveCmdS.UNREAD_GROUP_NOTIFY, async (payload) => {\n      const [doubt, oldestUnreadSeq, unreadCount] = payload\n      if (unreadCount) {\n        let notifies: GroupNotify[]\n        try {\n          notifies = await this.ctx.ntGroupApi.getSingleScreenNotifies(doubt, unreadCount)\n        } catch (e) {\n          return\n        }\n        for (const notify of notifies) {\n          const notifyTime = Math.trunc(+notify.seq / 1000 / 1000)\n          if (groupNotifyIgnore.includes(notify.seq) || notifyTime < this.startupTime) {\n            continue\n          }\n          groupNotifyIgnore.push(notify.seq)\n          if (groupNotifyIgnore.length > 1000) {\n            groupNotifyIgnore.shift()\n          }\n          this.ctx.parallel('nt/group-notify', { notify, doubt: doubt })\n        }\n      }\n    })\n\n    registerReceiveHook<FriendRequestNotify>(ReceiveCmdS.FRIEND_REQUEST, payload => {\n      for (const req of payload.buddyReqs) {\n        if (!!req.isInitiator || (req.isDecide && req.reqType !== BuddyReqType.MeInitiatorWaitPeerConfirm)) {\n          continue\n        }\n        if (+req.reqTime < this.startupTime) {\n          continue\n        }\n        this.ctx.parallel('nt/friend-request', req)\n      }\n    })\n\n\n    registerReceiveHook<number[]>('nodeIKernelMsgListener/onRecvSysMsg', payload => {\n      this.ctx.parallel('nt/system-message-created', Uint8Array.from(payload))\n    })\n\n    registerReceiveHook<[status: number, errCode: number, fileSetId: string]>(ReceiveCmdS.FLASH_FILE_DOWNLOAD_STATUS, payload => {\n      const [status, errCode, fileSetId] = payload\n      this.ctx.ntFileApi.getFlashFileInfo(fileSetId).then(info => {\n        this.ctx.parallel('nt/flash-file-download-status', {\n          status,\n          info\n        })\n      }).catch(err => {\n        this.ctx.logger.error(err, { fileSetId })\n      })\n    })\n\n    registerReceiveHook<FlashFileSetInfo>(ReceiveCmdS.FLASH_FILE_UPLOAD_STATUS, payload => {\n      this.ctx.parallel('nt/flash-file-upload-status', payload)\n    })\n\n    registerReceiveHook<[fileSetId: string, info: FlashFileDownloadingInfo]>(ReceiveCmdS.FLASH_FILE_DOWNLOADING, payload => {\n      const [fileSetId, info] = payload\n      this.ctx.parallel('nt/flash-file-downloading', [fileSetId, info])\n    })\n\n    registerReceiveHook<{fileSet: FlashFileSetInfo} & FlashFileUploadingInfo>(ReceiveCmdS.FLASH_FILE_UPLOADING, payload => {\n      this.ctx.parallel('nt/flash-file-uploading', payload)\n    })\n  }\n}\n\nnamespace Core {\n  export interface Config extends LLOBConfig {\n  }\n}\n\nexport default Core\n","import { PicSubType, RawMessage } from '../ntqqapi/types'\nimport { EventType } from './event/OB11BaseEvent'\nimport { IdMusicSignPostData, CustomMusicSignPostData } from '../common/utils/sign'\n\nexport interface OB11User {\n  user_id: number\n  nickname: string\n  remark?: string\n  sex?: OB11UserSex\n  level?: number\n  age?: number\n  qid?: string\n  login_days?: number\n}\n\nexport enum OB11UserSex {\n  Male = 'male',\n  Female = 'female',\n  Unknown = 'unknown',\n}\n\nexport enum OB11GroupMemberRole {\n  Owner = 'owner',\n  Admin = 'admin',\n  Member = 'member',\n}\n\nexport interface OB11GroupMember {\n  group_id: number\n  user_id: number\n  nickname: string\n  card: string\n  sex: OB11UserSex\n  age: number\n  join_time: number\n  last_sent_time: number\n  level: string\n  qq_level?: number\n  role: OB11GroupMemberRole\n  title: string\n  area: string\n  unfriendly: boolean\n  title_expire_time: number\n  card_changeable: boolean\n  // 以下为gocq字段\n  shut_up_timestamp: number\n  // 以下为扩展字段\n  is_robot?: boolean\n  qage?: number\n}\n\nexport interface OB11Group {\n  group_id: number\n  group_name: string\n  group_memo: string // 群介绍\n  group_create_time: number\n  member_count: number\n  max_member_count: number\n  remark_name: string\n}\n\ninterface OB11Sender {\n  user_id: number\n  nickname: string\n  sex?: OB11UserSex\n  age?: number\n  card?: string // 群名片\n  level?: string // 群等级\n  role?: OB11GroupMemberRole\n  group_id?: number // 当私聊 sub_type 为 group 时\n  title?: string // 群聊专属头衔\n}\n\nexport enum OB11MessageType {\n  private = 'private',\n  group = 'group',\n}\n\nexport interface OB11Message {\n  target_id?: number // 自己发送的消息才有此字段\n  self_id: number\n  time: number\n  message_id: number\n  message_seq: number\n  real_id?: number // 仅在 get_msg 接口存在\n  user_id: number\n  group_id?: number\n  message_type: 'private' | 'group'\n  sub_type?: 'friend' | 'group' | 'normal'\n  sender: OB11Sender\n  message: OB11MessageData[] | string\n  message_format: 'array' | 'string'\n  raw_message: string\n  font: number\n  post_type: EventType\n  raw?: RawMessage\n  temp_source?: 0 | 1 | 2 | 3 | 4 | 6 | 7 | 8 | 9\n}\n\nexport interface OB11ForwardMessage {\n  content: OB11MessageData[] | string\n  sender: {\n    nickname: string\n    user_id: number\n  }\n  time: number\n  message_format: string //扩展\n  message_type: string //扩展\n}\n\nexport interface OB11Return<DataType> {\n  status: string\n  retcode: number\n  data: DataType\n  message: string\n  echo?: unknown // ws调用api才有此字段\n  wording?: string // go-cqhttp字段，错误信息\n}\n\nexport enum OB11MessageDataType {\n  Text = 'text',\n  Image = 'image',\n  Music = 'music',\n  Video = 'video',\n  Record = 'record',\n  File = 'file',\n  FlashFile = 'flash_file', // 闪传\n  At = 'at',\n  Reply = 'reply',\n  Json = 'json',\n  Face = 'face',\n  Mface = 'mface', // 商城表情\n  Markdown = 'markdown',\n  Node = 'node', // 合并转发消息节点\n  Forward = 'forward', // 合并转发消息，用于上报\n  Xml = 'xml',\n  Poke = 'poke',\n  Dice = 'dice',\n  Rps = 'rps',\n  Contact = 'contact',\n  Shake = 'shake',\n  Keyboard = \"keyboard\",\n}\n\nexport interface OB11MessageMFace {\n  type: OB11MessageDataType.Mface\n  data: {\n    emoji_package_id: number\n    emoji_id: string\n    key: string\n    summary?: string\n    url?: string\n  }\n}\n\nexport interface OB11MessageKeyboard {\n  type: OB11MessageDataType.Keyboard\n  data: {\n    rows: {\n    buttons: {\n      id: string;\n      render_data: {\n        label: string;\n        visited_label: string;\n        style: number;\n      };\n      action: {\n        type: number;\n        permission: {\n          type: number;\n          specify_role_ids: string[];\n          specify_user_ids: string[];\n        };\n        unsupport_tips: string;\n        data: string;\n        reply: boolean;\n        enter: boolean;\n      };\n      }[];\n    }[];\n  }\n}\n\n\nexport interface OB11MessageDice {\n  type: OB11MessageDataType.Dice\n  data: {\n    result: number /* intended */ | string /* in fact */\n  }\n}\nexport interface OB11MessageRPS {\n  type: OB11MessageDataType.Rps\n  data: {\n    result: number | string\n  }\n}\n\nexport interface OB11MessageText {\n  type: OB11MessageDataType.Text\n  data: {\n    text: string // 纯文本\n  }\n}\n\nexport interface OB11MessagePoke {\n  type: OB11MessageDataType.Poke\n  data: {\n    qq?: number\n    id?: number\n  }\n}\n\nexport interface OB11MessageFileBase {\n  data: {\n    thumb?: string\n    name?: string\n    file: string\n    url?: string\n    file_size?: string //扩展\n  }\n}\n\nexport interface OB11MessageImage extends OB11MessageFileBase {\n  type: OB11MessageDataType.Image\n  data: OB11MessageFileBase['data'] & {\n    summary?: string // 图片摘要\n    subType?: PicSubType\n    type?: 'flash' | 'show'\n  }\n}\n\nexport interface OB11MessageRecord extends OB11MessageFileBase {\n  type: OB11MessageDataType.Record\n  data: OB11MessageFileBase['data'] & {\n    path?: string //扩展\n  }\n}\n\nexport interface OB11MessageFile extends OB11MessageFileBase {\n  type: OB11MessageDataType.File\n  data: OB11MessageFileBase['data'] & {\n    file_id?: string\n    path?: string\n  }\n}\n\nexport interface OB11MessageFlashFile {\n  type: OB11MessageDataType.FlashFile\n  data: {\n    title: string\n    file_set_id: string\n    scene_type: number\n  }\n}\n\nexport interface OB11MessageVideo extends OB11MessageFileBase {\n  type: OB11MessageDataType.Video\n  data: OB11MessageFileBase['data'] & {\n    path?: string //扩展\n  }\n}\n\nexport interface OB11MessageAt {\n  type: OB11MessageDataType.At\n  data: {\n    qq: string | 'all'\n    name?: string\n  }\n}\n\nexport interface OB11MessageReply {\n  type: OB11MessageDataType.Reply\n  data: {\n    id: string\n  }\n}\n\nexport interface OB11MessageFace {\n  type: OB11MessageDataType.Face\n  data: {\n    id: string\n  }\n}\n\nexport type OB11MessageMixType = OB11MessageData[] | string | OB11MessageData\n\nexport interface OB11MessageNode {\n  type: OB11MessageDataType.Node\n  data: {\n    id?: number | string\n    content?: OB11MessageMixType\n    user_id?: number // ob11\n    nickname?: string // ob11\n    name?: string // gocq\n    uin?: number | string // gocq\n  }\n}\n\nexport interface OB11MessageIdMusic {\n  type: OB11MessageDataType.Music\n  data: IdMusicSignPostData\n}\n\nexport interface OB11MessageCustomMusic {\n  type: OB11MessageDataType.Music\n  data: Omit<CustomMusicSignPostData, 'singer'> & { content?: string }\n}\n\nexport type OB11MessageMusic = OB11MessageIdMusic | OB11MessageCustomMusic\n\nexport interface OB11MessageJson {\n  type: OB11MessageDataType.Json\n  data: { data: string /* , config: { token: string } */ }\n}\n\nexport interface OB11MessageMarkdown {\n  type: OB11MessageDataType.Markdown\n  data: {\n    content: string\n  }\n}\n\nexport interface OB11MessageForward {\n  type: OB11MessageDataType.Forward\n  data: {\n    id: string\n  }\n}\n\nexport interface OB11MessageContact {\n  type: OB11MessageDataType.Contact\n  data: {\n    type: 'qq' | 'group'\n    id: string\n  }\n}\n\nexport interface OB11MessageShake {\n  type: OB11MessageDataType.Shake\n  data: Record<string, never>\n}\n\nexport type OB11MessageData =\n  | OB11MessageText\n  | OB11MessageFace\n  | OB11MessageMFace\n  | OB11MessageAt\n  | OB11MessageReply\n  | OB11MessageImage\n  | OB11MessageRecord\n  | OB11MessageFile\n  | OB11MessageFlashFile\n  | OB11MessageVideo\n  | OB11MessageNode\n  | OB11MessageIdMusic\n  | OB11MessageCustomMusic\n  | OB11MessageJson\n  | OB11MessagePoke\n  | OB11MessageDice\n  | OB11MessageRPS\n  | OB11MessageMarkdown\n  | OB11MessageForward\n  | OB11MessageContact\n  | OB11MessageShake\n  | OB11MessageKeyboard\n\nexport interface OB11PostSendMsg {\n  message_type?: 'private' | 'group'\n  user_id?: string | number\n  group_id?: string | number\n  message: OB11MessageMixType\n  messages?: OB11MessageMixType // 兼容 go-cqhttp\n  auto_escape?: boolean | string\n}\n\nexport interface OB11Version {\n  app_name: 'LLOneBot'\n  app_version: string\n  protocol_version: 'v11'\n}\n\nexport interface OB11Status {\n  online: boolean | null\n  good: boolean\n  stat: {\n    message_received: number\n    message_sent: number\n    last_message_time: number\n    startup_time: number\n  }\n}\n\nexport interface OB11GroupFile {\n  group_id: number\n  file_id: string\n  file_name: string\n  busid: number\n  file_size: number\n  upload_time: number\n  dead_time: number\n  modify_time: number\n  download_times: number\n  uploader: number\n  uploader_name: string\n}\n\nexport interface OB11GroupFileFolder {\n  group_id: number\n  folder_id: string\n  folder_name: string\n  create_time: number\n  creator: number\n  creator_name: string\n  total_file_count: number\n}\n","import { selfInfo } from '@/common/globalVars'\n\nexport enum EventType {\n  META = 'meta_event',\n  REQUEST = 'request',\n  NOTICE = 'notice',\n  MESSAGE = 'message',\n  MESSAGE_SENT = 'message_sent',\n}\n\nexport abstract class OB11BaseEvent {\n  [index: string]: any\n  time = Math.floor(Date.now() / 1000)\n  self_id = parseInt(selfInfo.uin)\n  abstract post_type: EventType\n}\n","import { OB11MessageData } from './types'\n\nconst pattern = /\\[CQ:(\\w+)((,\\w+=[^,\\]]*)*)\\]/\n\nfunction unescape(source: string) {\n  return String(source).replace(/&#91;/g, '[').replace(/&#93;/g, ']').replace(/&#44;/g, ',').replace(/&amp;/g, '&')\n}\n\nfunction from(source: string) {\n  const capture = pattern.exec(source)\n  if (!capture) return null\n  const [, type, attrs] = capture\n  const data: Record<string, unknown> = {}\n  if (attrs) {\n    attrs\n      .slice(1)\n      .split(',')\n      .forEach((str) => {\n        const index = str.indexOf('=')\n        data[str.slice(0, index)] = unescape(str.slice(index + 1))\n      })\n  }\n  return { type, data, capture }\n}\n\nfunction h(type: string, data: unknown) {\n  return {\n    type,\n    data,\n  }\n}\n\nexport function decodeCQCode(source: string): OB11MessageData[] {\n  const elements: unknown[] = []\n  let result: ReturnType<typeof from>\n  while ((result = from(source))) {\n    const { type, data, capture } = result\n    if (capture.index) {\n      elements.push(h('text', { text: unescape(source.slice(0, capture.index)) }))\n    }\n    elements.push(h(type, data))\n    source = source.slice(capture.index + capture[0].length)\n  }\n  if (source) elements.push(h('text', { text: unescape(source) }))\n  return elements as OB11MessageData[]\n}\n\nexport function encodeCQCode(input: OB11MessageData) {\n  const CQCodeEscapeText = (text: string) => {\n    return text.replace(/\\&/g, '&amp;').replace(/\\[/g, '&#91;').replace(/\\]/g, '&#93;')\n  }\n\n  const CQCodeEscape = (text: string) => {\n    return text.replace(/\\&/g, '&amp;').replace(/\\[/g, '&#91;').replace(/\\]/g, '&#93;').replace(/,/g, '&#44;')\n  }\n\n  if (input.type === 'text') {\n    return CQCodeEscapeText(input.data.text)\n  }\n\n  let result = '[CQ:' + input.type\n  for (const [key, value] of Object.entries(input.data)) {\n    if (value === undefined) {\n      continue\n    }\n    try {\n      const text = value.toString()\n      result += `,${key}=${CQCodeEscape(text)}`\n    } catch (error) {\n      // If it can't be converted, skip this key-value pair\n    }\n  }\n  result += ']'\n  return result\n}\n","import { EventType, OB11BaseEvent } from '../OB11BaseEvent'\n\nexport abstract class OB11BaseNoticeEvent extends OB11BaseEvent {\n  post_type = EventType.NOTICE\n}\n","import { OB11BaseNoticeEvent } from './OB11BaseNoticeEvent'\n\nexport abstract class OB11GroupNoticeEvent extends OB11BaseNoticeEvent {\n  abstract group_id: number\n  abstract user_id: number\n  abstract notice_type: string\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\n\ntype GroupIncreaseSubType = 'approve' | 'invite'\n\nexport class OB11GroupIncreaseEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_increase'\n  operator_id: number\n  sub_type: GroupIncreaseSubType\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, operatorId: number, subType: GroupIncreaseSubType = 'approve') {\n    super()\n    this.group_id = groupId\n    this.operator_id = operatorId\n    this.user_id = userId\n    this.sub_type = subType\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\n\nexport interface GroupUploadFile {\n  id: string\n  name: string\n  size: number\n  busid: number\n}\n\nexport class OB11GroupUploadNoticeEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_upload'\n  file: GroupUploadFile\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, file: GroupUploadFile) {\n    super()\n    this.group_id = groupId\n    this.user_id = userId\n    this.file = file\n  }\n}\n","import { QQLevel } from '@/ntqqapi/types'\nimport { Dict, isNullable } from 'cosmokit'\nimport { defineProperty } from 'cosmokit'\n\nexport function isNumeric(str: string) {\n  return /^\\d+$/.test(str)\n}\n\nexport function calcQQLevel(level: QQLevel) {\n  const { crownNum, sunNum, moonNum, starNum } = level\n  return crownNum * 64 + sunNum * 16 + moonNum * 4 + starNum\n}\n\n\n/** 在保证老对象已有的属性不变化的情况下将新对象的属性复制到老对象 */\nexport function mergeNewProperties(newObj: Dict, oldObj: Dict) {\n  Object.keys(newObj).forEach((key) => {\n    // 如果老对象不存在当前属性，则直接复制\n    if (!oldObj.hasOwnProperty(key)) {\n      oldObj[key] = newObj[key]\n    } else {\n      // 如果老对象和新对象的当前属性都是对象，则递归合并\n      if (typeof oldObj[key] === 'object' && typeof newObj[key] === 'object') {\n        mergeNewProperties(newObj[key], oldObj[key])\n      } else if (typeof oldObj[key] === 'object' || typeof newObj[key] === 'object') {\n        // 属性冲突，有一方不是对象，直接覆盖\n        oldObj[key] = newObj[key]\n      }\n    }\n  })\n}\n\nexport function filterNullable<T>(array: T[]) {\n  return array.filter(e => !isNullable(e)) as NonNullable<T>[]\n}\n\nexport function parseBool(value: string) {\n  if (['', 'true', '1'].includes(value)) {\n    return true\n  }\n  return false\n}\n\nexport class DetailedError<T> extends Error {\n  public data!: T\n\n  constructor(message: string, data: T) {\n    super(message)\n    defineProperty(this, 'data', data)\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\n\nexport class OB11GroupTitleEvent extends OB11GroupNoticeEvent {\n  notice_type = 'notify'\n  sub_type = 'title'\n  title: string\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, title: string) {\n    super()\n    this.group_id = groupId\n    this.user_id = userId\n    this.title = title\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\n\nexport type GroupDecreaseSubType = 'leave' | 'kick' | 'kick_me'\n\nexport class OB11GroupDecreaseEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_decrease'\n  sub_type: GroupDecreaseSubType = 'leave'\n  operator_id: number\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, operatorId: number, subType: GroupDecreaseSubType = 'leave') {\n    super()\n    this.group_id = groupId\n    this.operator_id = operatorId\n    this.user_id = userId\n    this.sub_type = subType\n  }\n}\n","import { OB11BaseNoticeEvent } from './OB11BaseNoticeEvent'\n\nexport class OB11FriendAddNoticeEvent extends OB11BaseNoticeEvent {\n  notice_type = 'friend_add'\n  user_id: number\n\n  public constructor(userId: number) {\n    super()\n    this.user_id = userId\n  }\n}\n","import { OB11BaseNoticeEvent } from './OB11BaseNoticeEvent'\n\nexport class OB11FriendRecallNoticeEvent extends OB11BaseNoticeEvent {\n  notice_type = 'friend_recall'\n  user_id: number\n  message_id: number\n\n  public constructor(userId: number, messageId: number) {\n    super()\n    this.user_id = userId\n    this.message_id = messageId\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\n\nexport class OB11GroupRecallNoticeEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_recall'\n  operator_id: number\n  message_id: number\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, operatorId: number, messageId: number) {\n    super()\n    this.group_id = groupId\n    this.user_id = userId\n    this.operator_id = operatorId\n    this.message_id = messageId\n  }\n}\n","import { OB11BaseNoticeEvent } from './OB11BaseNoticeEvent'\n\nabstract class OB11PokeEvent extends OB11BaseNoticeEvent {\n  notice_type = 'notify'\n  sub_type = 'poke'\n  target_id = 0\n  abstract user_id: number\n}\n\nexport class OB11FriendPokeEvent extends OB11PokeEvent {\n  user_id: number\n  raw_info: unknown\n\n  constructor(user_id: number, target_id: number, raw_message: unknown) {\n    super()\n    this.target_id = target_id\n    this.user_id = user_id\n    // raw_message nb等框架标准为string\n    this.raw_info = raw_message\n  }\n}\n\nexport class OB11GroupPokeEvent extends OB11PokeEvent {\n  user_id: number\n  group_id: number\n  raw_info: unknown\n\n  constructor(group_id: number, user_id: number, target_id: number, raw_message: unknown) {\n    super()\n    this.group_id = group_id\n    this.target_id = target_id\n    this.user_id = user_id\n    this.raw_info = raw_message\n  }\n}\n","import { OB11BaseNoticeEvent } from '../notice/OB11BaseNoticeEvent'\nimport { EventType } from '../OB11BaseEvent'\n\nexport class OB11GroupRequestEvent extends OB11BaseNoticeEvent {\n  post_type = EventType.REQUEST\n  request_type = 'group'\n  sub_type: 'add' | 'invite'  // invite 为邀请 bot 进群\n  comment: string\n  flag: string\n  group_id: number\n  user_id: number  // 当 sub_type 为 invite 的时候， user_id 为邀请人的 QQ 号\n  invitor_id: number // https://github.com/Mrs4s/go-cqhttp/blob/master/coolq/event.go#L566\n\n  constructor(groupId: number, userId: number, flag: string, comment: string, subType: 'add' | 'invite', invitorId: number = 0) {\n    super()\n    this.group_id = groupId\n    this.user_id = userId\n    this.comment = comment\n    this.flag = flag\n    this.sub_type = subType\n    this.invitor_id = invitorId\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\nimport { TipGroupElement } from '@/ntqqapi/types'\nimport { Context } from 'cordis'\n\nexport class GroupBanEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_ban'\n  operator_id: number\n  duration: number\n  sub_type: 'ban' | 'lift_ban'\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, operatorId: number, duration: number, sub_type: 'ban' | 'lift_ban') {\n    super()\n    this.group_id = groupId\n    this.operator_id = operatorId\n    this.user_id = userId\n    this.duration = duration\n    this.sub_type = sub_type\n  }\n\n  static async parse(ctx: Context, groupElement: TipGroupElement, groupCode: string) {\n    const memberUid = groupElement.shutUp?.member.uid\n    const adminUid = groupElement.shutUp?.admin.uid\n    let memberUin = ''\n    let duration = Number(groupElement.shutUp?.duration)\n    if (memberUid) {\n      memberUin = await ctx.ntUserApi.getUinByUid(memberUid)\n    } else {\n      memberUin = '0' // 0表示全员禁言\n      if (duration > 0) {\n        duration = -1\n      }\n    }\n    const adminUin = await ctx.ntUserApi.getUinByUid(adminUid!)\n    const subType = duration > 0 ? 'ban' : 'lift_ban'\n    return new GroupBanEvent(+groupCode, +memberUin, +adminUin, duration, subType)\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\nimport { ChatType, TipXmlElement } from '@/ntqqapi/types'\nimport { Context } from 'cordis'\n\ninterface MsgEmojiLike {\n  emoji_id: string\n  count: number\n}\n\nexport class GroupMsgEmojiLikeEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_msg_emoji_like'\n  message_id: number\n  likes: MsgEmojiLike[]\n  group_id: number\n  user_id: number\n\n  constructor(groupId: number, userId: number, messageId: number, likes: MsgEmojiLike[]) {\n    super()\n    this.group_id = groupId\n    this.user_id = userId // 可为空，表示是对别人的消息操作，如果是对bot自己的消息则不为空\n    this.message_id = messageId\n    this.likes = likes\n  }\n\n  static async parse(ctx: Context, xmlElement: TipXmlElement, groupCode: string) {\n    const senderUin = xmlElement.templParam.get('jp_uin')\n    const msgSeq = xmlElement.templParam.get('msg_seq')\n    const emojiId = xmlElement.templParam.get('face_id')\n    const peer = {\n      chatType: ChatType.Group,\n      guildId: '',\n      peerUid: groupCode,\n    }\n    const replyMsgList = (await ctx.ntMsgApi.queryFirstMsgBySeq(peer, msgSeq!)).msgList\n    if (!replyMsgList?.length) {\n      return\n    }\n    const shortId = ctx.store.createMsgShortId(peer, replyMsgList[0].msgId)\n    return new GroupMsgEmojiLikeEvent(\n      parseInt(groupCode),\n      parseInt(senderUin!),\n      shortId,\n      [{\n        emoji_id: emojiId!,\n        count: 1,\n      }]\n    )\n  }\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\nimport { ChatType } from '@/ntqqapi/types'\nimport { Context } from 'cordis'\n\nexport class GroupEssenceEvent extends OB11GroupNoticeEvent {\n  notice_type = 'essence'\n  message_id: number\n  sender_id: number\n  sub_type: 'add' | 'delete' = 'add'\n  group_id: number\n  user_id: number\n  operator_id: number\n\n  constructor(groupId: number, messageId: number, senderId: number, operatorId: number) {\n    super()\n    this.group_id = groupId\n    this.user_id = senderId\n    this.message_id = messageId\n    this.sender_id = senderId\n    this.operator_id = operatorId\n  }\n\n  static async parse(ctx: Context, url: URL) {\n    const searchParams = url.searchParams\n    const msgSeq = searchParams.get('seq')\n    const groupCode = searchParams.get('gc')\n    const msgRandom = searchParams.get('random')\n    if (!groupCode || !msgSeq || !msgRandom) return\n    const peer = {\n      guildId: '',\n      chatType: ChatType.Group,\n      peerUid: groupCode\n    }\n    const essence = await ctx.ntGroupApi.queryCachedEssenceMsg(groupCode, msgSeq, msgRandom)\n    const { msgList } = await ctx.ntMsgApi.queryMsgsWithFilterExBySeq(peer, msgSeq, '0')\n    const sourceMsg = msgList.find(e => e.msgRandom === msgRandom)\n    if (!sourceMsg) return\n    return new GroupEssenceEvent(\n      parseInt(groupCode),\n      ctx.store.getShortIdByMsgInfo(peer, sourceMsg.msgId)!,\n      parseInt(essence.items[0]?.msgSenderUin ?? sourceMsg.senderUin),\n      parseInt(essence.items[0]?.opUin ?? '0'),\n    )\n  }\n}\n","import {\n  OB11Group,\n  OB11GroupMember,\n  OB11GroupMemberRole,\n  OB11Message,\n  OB11MessageData,\n  OB11MessageDataType,\n  OB11User,\n  OB11UserSex,\n} from './types'\nimport {\n  AtType,\n  ChatType,\n  FaceIndex,\n  GrayTipElementSubType,\n  GroupMember,\n  GroupSimpleInfo,\n  Peer,\n  RawMessage,\n  Sex,\n  SimpleInfo,\n  TipGroupElementType,\n  User,\n} from '../ntqqapi/types'\nimport { EventType } from './event/OB11BaseEvent'\nimport { encodeCQCode } from './cqcode'\nimport { OB11GroupIncreaseEvent } from './event/notice/OB11GroupIncreaseEvent'\nimport { OB11GroupUploadNoticeEvent } from './event/notice/OB11GroupUploadNoticeEvent'\nimport { OB11GroupNoticeEvent } from './event/notice/OB11GroupNoticeEvent'\nimport { calcQQLevel } from '../common/utils/misc'\nimport { OB11GroupTitleEvent } from './event/notice/OB11GroupTitleEvent'\nimport { OB11GroupDecreaseEvent } from './event/notice/OB11GroupDecreaseEvent'\nimport { OB11FriendAddNoticeEvent } from './event/notice/OB11FriendAddNoticeEvent'\nimport { OB11FriendRecallNoticeEvent } from './event/notice/OB11FriendRecallNoticeEvent'\nimport { OB11GroupRecallNoticeEvent } from './event/notice/OB11GroupRecallNoticeEvent'\nimport { OB11FriendPokeEvent, OB11GroupPokeEvent } from './event/notice/OB11PokeEvent'\nimport { OB11BaseNoticeEvent } from './event/notice/OB11BaseNoticeEvent'\nimport { OB11GroupRequestEvent } from './event/request/OB11GroupRequest'\nimport { GroupBanEvent } from './event/notice/OB11GroupBanEvent'\nimport { GroupMsgEmojiLikeEvent } from './event/notice/OB11MsgEmojiLikeEvent'\nimport { GroupEssenceEvent } from './event/notice/OB11GroupEssenceEvent'\nimport { Dict, omit, pick } from 'cosmokit'\nimport { Context } from 'cordis'\nimport { selfInfo } from '@/common/globalVars'\nimport { pathToFileURL } from 'node:url'\nimport OneBot11Adapter from './adapter'\n\nexport namespace OB11Entities {\n  export async function message(\n    ctx: Context,\n    msg: RawMessage,\n    rootMsgID?: string,\n    peer?: Peer,\n  ): Promise<OB11Message | undefined> {\n    if (!msg.senderUin || msg.senderUin === '0' || msg.msgType === 1) return //跳过空消息\n    const {\n      debug,\n      messagePostFormat,\n    } = ctx.config as OneBot11Adapter.Config\n    const selfUin = selfInfo.uin\n    const msgShortId = ctx.store.createMsgShortId({ chatType: msg.chatType, peerUid: msg.peerUid }, msg.msgId)\n    const resMsg: OB11Message = {\n      self_id: Number(selfUin),\n      user_id: Number(msg.senderUin),\n      time: Number(msg.msgTime),\n      message_id: msgShortId,\n      message_seq: Number(msg.msgSeq),\n      message_type: msg.chatType === ChatType.Group ? 'group' : 'private',\n      sender: {\n        user_id: Number(msg.senderUin),\n        nickname: msg.sendNickName,\n        card: msg.sendMemberName ?? '',\n      },\n      raw_message: '',\n      font: 14,\n      sub_type: 'friend',\n      message: messagePostFormat === 'string' ? '' : [],\n      message_format: messagePostFormat === 'string' ? 'string' : 'array',\n      post_type: selfUin === msg.senderUin ? EventType.MESSAGE_SENT : EventType.MESSAGE,\n    }\n    if (debug) {\n      resMsg.raw = msg\n    }\n    if (msg.chatType === ChatType.Group) {\n      resMsg.sub_type = 'normal'\n      resMsg.group_id = parseInt(msg.peerUin)\n      // 284840486: 合并转发内部\n      if (msg.peerUin !== '284840486') {\n        try {\n          const member = await ctx.ntGroupApi.getGroupMember(msg.peerUin, msg.senderUid)\n          resMsg.sender.role = groupMemberRole(member.role)\n          resMsg.sender.nickname = member.nick\n          resMsg.sender.title = member.memberSpecialTitle ?? ''\n        } catch {\n          resMsg.sender.role = OB11GroupMemberRole.Member\n          resMsg.sender.title = ''\n        }\n      }\n    }\n    else if (msg.chatType === ChatType.C2C) {\n      resMsg.sub_type = 'friend'\n      resMsg.sender.nickname = (await ctx.ntUserApi.getUserSimpleInfo(msg.senderUid)).coreInfo.nick\n    }\n    else if (msg.chatType === ChatType.TempC2CFromGroup) {\n      resMsg.sub_type = 'group'\n      resMsg.temp_source = 0 //群聊\n      resMsg.sender.nickname = (await ctx.ntUserApi.getUserSimpleInfo(msg.senderUid)).coreInfo.nick\n      const ret = await ctx.ntMsgApi.getTempChatInfo(ChatType.TempC2CFromGroup, msg.senderUid)\n      if (ret?.result === 0) {\n        resMsg.sender.group_id = Number(ret.tmpChatInfo?.groupCode)\n      } else {\n        resMsg.sender.group_id = 284840486 //兜底数据\n      }\n    }\n\n    for (const element of msg.elements) {\n      let messageSegment: OB11MessageData | undefined\n      if (element.textElement && element.textElement?.atType !== AtType.Unknown) {\n        let qq: string\n        let name: string | undefined\n        if (element.textElement.atType === AtType.All) {\n          qq = 'all'\n        } else {\n          const { atNtUid, atUid, content } = element.textElement\n          if (atUid && atUid !== '0') {\n            qq = atUid\n          } else {\n            qq = await ctx.ntUserApi.getUinByUid(atNtUid, peer?.peerUid)\n          }\n          name = content.replace('@', '')\n        }\n        messageSegment = {\n          type: OB11MessageDataType.At,\n          data: {\n            qq,\n            name\n          }\n        }\n      }\n      else if (element.textElement) {\n        const text = element.textElement.content\n        if (!text) {\n          continue\n        }\n        messageSegment = {\n          type: OB11MessageDataType.Text,\n          data: {\n            text\n          }\n        }\n      }\n      else if (element.replyElement) {\n        const { replyElement } = element\n        const peer = {\n          chatType: msg.chatType,\n          peerUid: msg.peerUid,\n          guildId: ''\n        }\n        try {\n          const { replayMsgSeq, replyMsgTime } = replyElement\n          const record = msg.records.find(msgRecord => msgRecord.msgId === replyElement.sourceMsgIdInRecords)\n          const senderUid = replyElement.senderUidStr || record?.senderUid\n          if (!record || !replyMsgTime || !senderUid) {\n            ctx.logger.error('找不到回复消息')\n            continue\n          }\n          const { msgList } = await ctx.ntMsgApi.getMsgsBySeqAndCount(peer, replayMsgSeq, 1, true, true)\n\n          let replyMsg: RawMessage | undefined\n          if (record.msgRandom !== '0') {\n            replyMsg = msgList.find((msg: RawMessage) => msg.msgRandom === record.msgRandom)\n          } else {\n            ctx.logger.info('msgRandom is missing', replyElement, record)\n            replyMsg = msgList[0]\n          }\n          if (!replyMsg) {\n            ctx.logger.error('获取不到引用的消息', replyElement)\n            continue\n          }\n          // 284840486: 合并消息内侧 消息具体定位不到\n          if (!replyMsg && msg.peerUin !== '284840486') {\n            ctx.logger.error('获取不到引用的消息', replyElement)\n            ctx.logger.warn('queryMsgs', msgList.map(e => pick(e, ['msgSeq', 'msgRandom'])), record.msgRandom)\n            continue\n          }\n\n          messageSegment = {\n            type: OB11MessageDataType.Reply,\n            data: {\n              id: ctx.store.createMsgShortId(peer, replyMsg ? replyMsg.msgId : record.msgId).toString()\n            }\n          }\n        } catch (e) {\n          ctx.logger.error('获取不到引用的消息', e, replyElement, (e as Error).stack)\n          continue\n        }\n      }\n      else if (element.picElement) {\n        const { picElement } = element\n        const fileSize = picElement.fileSize ?? '0'\n        messageSegment = {\n          type: OB11MessageDataType.Image,\n          data: {\n            file: picElement.fileName,\n            subType: picElement.picSubType,\n            url: await ctx.ntFileApi.getImageUrl(picElement),\n            file_size: fileSize,\n          }\n        }\n        ctx.store.addFileCache({\n          peerUid: msg.peerUid,\n          msgId: msg.msgId,\n          msgTime: +msg.msgTime,\n          chatType: msg.chatType,\n          elementId: element.elementId,\n          elementType: element.elementType,\n          fileName: picElement.fileName,\n          fileUuid: picElement.fileUuid,\n          fileSize,\n        }).then()\n      }\n      else if (element.videoElement) {\n        const { videoElement } = element\n        const videoUrl = await ctx.ntFileApi.getVideoUrl(\n          {\n            chatType: msg.chatType,\n            peerUid: peer?.peerUid ?? msg.peerUid,\n          },\n          rootMsgID ?? msg.msgId,\n          element.elementId,\n        )\n        const fileSize = videoElement.fileSize ?? '0'\n        messageSegment = {\n          type: OB11MessageDataType.Video,\n          data: {\n            file: videoElement.fileName,\n            url: videoUrl || pathToFileURL(videoElement.filePath).href,\n            path: videoElement.filePath,\n            file_size: fileSize,\n          }\n        }\n        ctx.store.addFileCache({\n          peerUid: msg.peerUid,\n          msgId: msg.msgId,\n          msgTime: +msg.msgTime,\n          chatType: msg.chatType,\n          elementId: element.elementId,\n          elementType: element.elementType,\n          fileName: videoElement.fileName,\n          fileUuid: videoElement.fileUuid!,\n          fileSize,\n        }).then()\n      }\n      else if (element.fileElement) {\n        const { fileElement } = element\n        const fileSize = fileElement.fileSize ?? '0'\n        messageSegment = {\n          type: OB11MessageDataType.File,\n          data: {\n            file: fileElement.fileName,\n            url: pathToFileURL(fileElement.filePath).href,\n            file_id: fileElement.fileUuid,\n            path: fileElement.filePath,\n            file_size: fileSize,\n          }\n        }\n        ctx.store.addFileCache({\n          peerUid: msg.peerUid,\n          msgId: msg.msgId,\n          msgTime: +msg.msgTime,\n          chatType: msg.chatType,\n          elementId: element.elementId,\n          elementType: element.elementType,\n          fileName: fileElement.fileName,\n          fileUuid: fileElement.fileUuid!,\n          fileSize,\n        }).then()\n      }\n      else if (element.pttElement) {\n        const { pttElement } = element\n        const fileSize = pttElement.fileSize ?? '0'\n        messageSegment = {\n          type: OB11MessageDataType.Record,\n          data: {\n            file: pttElement.fileName,\n            url: pathToFileURL(pttElement.filePath).href,\n            path: pttElement.filePath,\n            file_size: fileSize,\n          }\n        }\n        ctx.store.addFileCache({\n          peerUid: msg.peerUid,\n          msgId: msg.msgId,\n          msgTime: +msg.msgTime,\n          chatType: msg.chatType,\n          elementId: element.elementId,\n          elementType: element.elementType,\n          fileName: pttElement.fileName,\n          fileUuid: pttElement.fileUuid,\n          fileSize,\n        }).then()\n      }\n      else if (element.arkElement) {\n        const { arkElement } = element\n        messageSegment = {\n          type: OB11MessageDataType.Json,\n          data: {\n            data: arkElement.bytesData\n          }\n        }\n      }\n      else if (element.faceElement) {\n        const { faceElement } = element\n        const { faceIndex, pokeType } = faceElement\n        if (faceIndex === FaceIndex.Dice) {\n          messageSegment = {\n            type: OB11MessageDataType.Dice,\n            data: {\n              result: faceElement.resultId!\n            }\n          }\n        } else if (faceIndex === FaceIndex.RPS) {\n          messageSegment = {\n            type: OB11MessageDataType.Rps,\n            data: {\n              result: faceElement.resultId!\n            }\n          }\n          /*} else if (faceIndex === 1 && pokeType === 1) {\n            messageSegment = {\n              type: OB11MessageDataType.shake,\n              data: {}\n            }*/\n        } else {\n          messageSegment = {\n            type: OB11MessageDataType.Face,\n            data: {\n              id: faceIndex.toString()\n            }\n          }\n        }\n      }\n      else if (element.marketFaceElement) {\n        const { marketFaceElement } = element\n        const { emojiId } = marketFaceElement\n        // 取md5的前两位\n        const dir = emojiId.substring(0, 2)\n        // 获取组装url\n        // const url = `https://p.qpic.cn/CDN_STATIC/0/data/imgcache/htdocs/club/item/parcel/item/${dir}/${md5}/300x300.gif?max_age=31536000`\n        const url = `https://gxh.vip.qq.com/club/item/parcel/item/${dir}/${emojiId}/raw300.gif`\n        messageSegment = {\n          type: OB11MessageDataType.Mface,\n          data: {\n            summary: marketFaceElement.faceName!,\n            url,\n            emoji_id: emojiId,\n            emoji_package_id: marketFaceElement.emojiPackageId,\n            key: marketFaceElement.key\n          }\n        }\n      }\n      else if (element.markdownElement) {\n        const { markdownElement } = element\n        // todo: 解析闪传 markdown 获取 fileSetId\n        if (markdownElement?.content.startsWith('[闪传](')){\n          const mqqapiUrl = markdownElement?.content.substring(5, markdownElement?.content.length - 1)\n          const urlJson = new URL(mqqapiUrl).searchParams.get('json')\n          if (urlJson){\n            const jsonData = JSON.parse(urlJson)\n            const busId = jsonData?.busId\n            if (busId === 'FlashTransfer'){\n              const attributes: any[] = jsonData?.attributes?.attributes || []\n              const fileAttribute = attributes.find(a=>a.viewId === 'file')\n              if (fileAttribute) {\n                const urlParams = new URL(fileAttribute.schema).searchParams\n                const fileSetId = urlParams.get('fileset_id') || ''\n                const sceneType = urlParams.get('scene_type') || ''\n                const fileSubAttributes: any[] = fileAttribute?.attributes || []\n                const titleAttribute = fileSubAttributes.find(a=>a.viewId === 'title')\n                const title: string = titleAttribute?.text\n                messageSegment = {\n                  type: OB11MessageDataType.FlashFile,\n                  data: {\n                    title,\n                    file_set_id: fileSetId,\n                    scene_type: parseInt(sceneType)\n                  }\n                }\n              }\n            }\n          }\n        }\n        else {\n          messageSegment = {\n            type: OB11MessageDataType.Markdown,\n            data: {\n              content: markdownElement.content\n            }\n          }\n        }\n      }\n      else if (element.multiForwardMsgElement) {\n        messageSegment = {\n          type: OB11MessageDataType.Forward,\n          data: {\n            id: msg.msgId\n          }\n        }\n      } else if (element.inlineKeyboardElement) {\n        messageSegment = {\n          type: OB11MessageDataType.Keyboard,\n          data: {\n            rows: element.inlineKeyboardElement.rows.map(row => ({\n              buttons: row.buttons.map(button => ({\n                id: button.id,\n                render_data: {\n                  label: button.label,\n                  visited_label: button.visitedLabel,\n                  style: button.style,\n                },\n                action: {\n                  type: button.type,\n                  permission: {\n                    type: button.permissionType,\n                    specify_role_ids: button.specifyRoleIds,\n                    specify_user_ids: button.specifyTinyids,\n                  },\n                  unsupport_tips: button.unsupportTips,\n                  data: button.data,\n                  reply: button.isReply,\n                  enter: button.enter,\n                },\n              }))\n            }))\n          }}\n      }\n      if (messageSegment) {\n        const cqCode = encodeCQCode(messageSegment)\n        if (messagePostFormat === 'array') {\n          (resMsg.message as OB11MessageData[]).push(messageSegment)\n        }\n        resMsg.raw_message += cqCode\n      }\n    }\n    if (messagePostFormat === 'string') {\n      resMsg.message = resMsg.raw_message\n    }\n    return resMsg\n  }\n\n  export async function privateEvent(ctx: Context, msg: RawMessage): Promise<OB11BaseNoticeEvent | void> {\n    if (msg.chatType !== ChatType.C2C) {\n      return\n    }\n    if (msg.msgType !== 5 && msg.msgType !== 11) {\n      return\n    }\n\n    for (const element of msg.elements) {\n      if (element.grayTipElement) {\n        const { grayTipElement } = element\n        if (grayTipElement.jsonGrayTipElement?.busiId === '1061') {\n          const json = JSON.parse(grayTipElement.jsonGrayTipElement.jsonStr)\n          const param = grayTipElement.jsonGrayTipElement.xmlToJsonParam\n          if (param) {\n            return new OB11FriendPokeEvent(\n              Number(param.templParam.get('uin_str1')),\n              Number(param.templParam.get('uin_str2')),\n              json.items\n            )\n          }\n          const pokedetail: Dict[] = json.items\n          //筛选item带有uid的元素\n          const poke_uid = pokedetail.filter(item => item.uid)\n          if (poke_uid.length === 2) {\n            return new OB11FriendPokeEvent(\n              Number(await ctx.ntUserApi.getUinByUid(poke_uid[0].uid)),\n              Number(await ctx.ntUserApi.getUinByUid(poke_uid[1].uid)),\n              pokedetail\n            )\n          }\n        }\n        if (grayTipElement.xmlElement?.templId === '10229' || grayTipElement.jsonGrayTipElement?.busiId === '19324') {\n          ctx.logger.info('收到好友添加消息', msg.peerUid)\n          const uin = +msg.peerUin || +(await ctx.ntUserApi.getUinByUid(msg.peerUid))\n          return new OB11FriendAddNoticeEvent(uin)\n        }\n      } else if (element.arkElement) {\n        const data = JSON.parse(element.arkElement.bytesData)\n        if (data.app === 'com.tencent.qun.invite') {\n          const params = new URLSearchParams(data.meta.news.jumpUrl)\n          const receiverUin = params.get('receiveruin')\n          const senderUin = params.get('senderuin')\n          if (receiverUin !== selfInfo.uin || senderUin !== msg.senderUin) {\n            return\n          }\n          ctx.logger.info('收到邀请我加群消息')\n          const groupCode = params.get('groupcode')\n          const seq = params.get('msgseq')\n          const flag = `${groupCode}|${seq}|1|0`\n          return new OB11GroupRequestEvent(\n            Number(groupCode),\n            Number(senderUin),\n            flag,\n            data.meta.news.desc,\n            'invite',\n          )\n        }\n      }\n    }\n  }\n\n  export async function groupEvent(ctx: Context, msg: RawMessage): Promise<OB11GroupNoticeEvent | void> {\n    if (msg.chatType !== ChatType.Group) {\n      return\n    }\n    if (msg.msgType !== 5 && msg.msgType !== 3) {\n      return\n    }\n\n    for (const element of msg.elements) {\n      if (element.fileElement) {\n        return new OB11GroupUploadNoticeEvent(+msg.peerUid, +msg.senderUin!, {\n          id: element.fileElement.fileUuid!,\n          name: element.fileElement.fileName,\n          size: parseInt(element.fileElement.fileSize),\n          busid: element.fileElement.fileBizId || 0,\n        })\n      } else if (element.grayTipElement) {\n        const grayTipElement = element.grayTipElement\n        if (grayTipElement.subElementType === GrayTipElementSubType.JSON) {\n          const json = JSON.parse(grayTipElement.jsonGrayTipElement!.jsonStr)\n          if (grayTipElement.jsonGrayTipElement?.busiId === '1061') {\n            const param = grayTipElement.jsonGrayTipElement.xmlToJsonParam!\n            return new OB11GroupPokeEvent(\n              Number(msg.peerUid),\n              Number(param.templParam.get('uin_str1')),\n              Number(param.templParam.get('uin_str2')),\n              json.items\n            )\n          } else if (grayTipElement.jsonGrayTipElement?.busiId === '2401' && json.items[2]) {\n            ctx.logger.info('收到群精华消息', json)\n            return await GroupEssenceEvent.parse(ctx, new URL(json.items[2].jp))\n          } else if (grayTipElement.jsonGrayTipElement?.busiId === '2407') {\n            ctx.logger.info('收到群成员新头衔消息', json)\n            const memberUin = json.items[1].param[0]\n            const title = json.items[3].txt\n            return new OB11GroupTitleEvent(parseInt(msg.peerUid), parseInt(memberUin), title)\n          } else if (grayTipElement.jsonGrayTipElement?.busiId === '19217') {\n            ctx.logger.info('收到新人被邀请进群消息', grayTipElement)\n            const userId = new URL(json.items[2].jp).searchParams.get('robot_uin')\n            const operatorId = new URL(json.items[0].jp).searchParams.get('uin')\n            return new OB11GroupIncreaseEvent(Number(msg.peerUid), Number(userId), Number(operatorId), 'invite')\n          }\n        } else if (grayTipElement.subElementType === GrayTipElementSubType.Group) {\n          const groupElement = grayTipElement.groupElement!\n          if (groupElement.type === TipGroupElementType.Ban) {\n            ctx.logger.info('收到群成员禁言提示', groupElement)\n            return await GroupBanEvent.parse(ctx, groupElement, msg.peerUid)\n          } else if (groupElement.type === TipGroupElementType.Kicked) {\n            ctx.logger.info(`收到我被踢出或退群提示, 群${msg.peerUid}`, groupElement)\n            const { adminUid } = groupElement\n            return new OB11GroupDecreaseEvent(\n              Number(msg.peerUid),\n              Number(selfInfo.uin),\n              adminUid ? Number(await ctx.ntUserApi.getUinByUid(adminUid)) : 0,\n              adminUid ? 'kick_me' : 'leave'\n            )\n          } else if (groupElement.type === TipGroupElementType.MemberIncrease) {\n            const { memberUid, adminUid } = groupElement\n            if (memberUid !== selfInfo.uid) return\n            ctx.logger.info('收到群成员增加消息', groupElement)\n            const adminUin = adminUid ? await ctx.ntUserApi.getUinByUid(adminUid) : selfInfo.uin\n            return new OB11GroupIncreaseEvent(+msg.peerUid, +selfInfo.uin, +adminUin)\n          }\n        } else if (grayTipElement.subElementType === GrayTipElementSubType.XmlMsg) {\n          const xmlElement = grayTipElement.xmlElement!\n          if (xmlElement.templId === '10382') {\n            ctx.logger.info('收到表情回应我的消息', xmlElement.templParam)\n            return await GroupMsgEmojiLikeEvent.parse(ctx, xmlElement, msg.peerUid)\n          } else if (xmlElement.templId == '10179') {\n            ctx.logger.info('收到新人被邀请进群消息 templId: 10179', xmlElement)\n            const invitor = xmlElement.templParam.get('invitor')\n            const invitee = xmlElement.templParam.get('invitee')\n            if (invitor && invitee) {\n              return new OB11GroupIncreaseEvent(+msg.peerUid, +invitee, +invitor, 'invite')\n            }\n          }\n        }\n      }\n    }\n  }\n\n  export async function recallEvent(\n    ctx: Context,\n    msg: RawMessage,\n    shortId: number\n  ): Promise<OB11FriendRecallNoticeEvent | OB11GroupRecallNoticeEvent | undefined> {\n    const revokeElement = msg.elements[0].grayTipElement?.revokeElement\n    if (msg.chatType === ChatType.Group) {\n      const operator = await ctx.ntGroupApi.getGroupMember(msg.peerUid, revokeElement!.operatorUid)\n      return new OB11GroupRecallNoticeEvent(\n        parseInt(msg.peerUid),\n        parseInt(msg.senderUin!),\n        parseInt(operator?.uin || msg.senderUin!),\n        shortId,\n      )\n    }\n    else {\n      return new OB11FriendRecallNoticeEvent(parseInt(msg.senderUin!), shortId)\n    }\n  }\n\n  export function friend(friend: User): OB11User {\n    return {\n      user_id: parseInt(friend.uin),\n      nickname: friend.nick,\n      remark: friend.remark,\n      sex: sex(friend.sex!),\n      level: (friend.qqLevel && calcQQLevel(friend.qqLevel)) || 0,\n    }\n  }\n\n  export function friends(friends: User[]): OB11User[] {\n    return friends.map(friend)\n  }\n\n  export function friendV2(raw: SimpleInfo): OB11User {\n    return {\n      ...omit(raw.baseInfo, ['richBuffer', 'phoneNum']),\n      ...omit(raw.coreInfo, ['nick']),\n      user_id: parseInt(raw.coreInfo.uin),\n      nickname: raw.coreInfo.nick,\n      remark: raw.coreInfo.remark || raw.coreInfo.nick,\n      sex: sex(raw.baseInfo.sex),\n      level: 0\n    }\n  }\n\n  export function friendsV2(raw: SimpleInfo[]): OB11User[] {\n    return raw.map(friendV2)\n  }\n\n  export function groupMemberRole(role: number): OB11GroupMemberRole {\n    return {\n      4: OB11GroupMemberRole.Owner,\n      3: OB11GroupMemberRole.Admin,\n      2: OB11GroupMemberRole.Member,\n    }[role] ?? OB11GroupMemberRole.Member\n  }\n\n  export function sex(sex: Sex): OB11UserSex {\n    const sexMap = {\n      [Sex.Unknown]: OB11UserSex.Unknown,\n      [Sex.Male]: OB11UserSex.Male,\n      [Sex.Female]: OB11UserSex.Female,\n      [Sex.Hidden]: OB11UserSex.Unknown\n    }\n    return sexMap[sex] ?? OB11UserSex.Unknown\n  }\n\n  export function groupMember(groupId: number, member: GroupMember): OB11GroupMember {\n    return {\n      group_id: groupId,\n      user_id: parseInt(member.uin),\n      nickname: member.nick,\n      card: member.cardName || member.nick,\n      sex: OB11UserSex.Unknown,\n      age: 0,\n      area: '',\n      level: String(member.memberRealLevel ?? 0),\n      qq_level: 0,\n      join_time: member.joinTime,\n      last_sent_time: member.lastSpeakTime,\n      title_expire_time: 0,\n      unfriendly: false,\n      card_changeable: true,\n      is_robot: member.isRobot,\n      shut_up_timestamp: member.shutUpTime,\n      role: groupMemberRole(member.role),\n      title: member.memberSpecialTitle,\n    }\n  }\n\n  export function group(group: GroupSimpleInfo): OB11Group {\n    return {\n      group_id: parseInt(group.groupCode),\n      group_name: group.groupName,\n      group_memo: '',\n      group_create_time: +group.createTime,\n      member_count: group.memberCount,\n      max_member_count: group.maxMember,\n      remark_name: group.remarkName,\n    }\n  }\n\n  export function groups(groups: GroupSimpleInfo[]): OB11Group[] {\n    return groups.map(group)\n  }\n}\n","import { OB11BaseNoticeEvent } from '../notice/OB11BaseNoticeEvent'\nimport { EventType } from '../OB11BaseEvent'\n\nexport class OB11FriendRequestEvent extends OB11BaseNoticeEvent {\n  post_type = EventType.REQUEST\n  user_id: number\n  request_type: 'friend'\n  comment: string\n  flag: string\n\n  constructor(userId: number, comment: string, flag: string, requestType: 'friend' = 'friend') {\n    super()\n    this.user_id = userId\n    this.comment = comment\n    this.flag = flag\n    this.request_type = requestType\n  }\n}\n","import { OB11Return } from '../types'\nimport { isNullable } from 'cosmokit'\n\nexport class OB11Response {\n  static res<T>(data: T, status: string, retcode: number, message: string = ''): OB11Return<T> {\n    return {\n      status: status,\n      retcode: retcode,\n      data: data,\n      message: message,\n      wording: message,\n      echo: undefined,\n    }\n  }\n\n  static ok<T>(data: T, echo?: unknown) {\n    const res = OB11Response.res<T>(data, 'ok', 0)\n    if (!isNullable(echo)) {\n      res.echo = echo\n    }\n    return res\n  }\n\n  static error(err: string, retcode: number, echo?: unknown) {\n    const res = OB11Response.res(null, 'failed', retcode, err)\n    if (!isNullable(echo)) {\n      res.echo = echo\n    }\n    return res\n  }\n}\n","import { EventType, OB11BaseEvent } from '../OB11BaseEvent'\n\nexport abstract class OB11BaseMetaEvent extends OB11BaseEvent {\n  post_type = EventType.META\n  abstract meta_event_type: string\n}\n","import { OB11BaseMetaEvent } from './OB11BaseMetaEvent'\n\nexport enum LifeCycleSubType {\n  ENABLE = 'enable',\n  DISABLE = 'disable',\n  CONNECT = 'connect',\n}\n\nexport class OB11LifeCycleEvent extends OB11BaseMetaEvent {\n  meta_event_type = 'lifecycle'\n  sub_type: LifeCycleSubType\n\n  public constructor(subType: LifeCycleSubType) {\n    super()\n    this.sub_type = subType\n  }\n}\n","import { OB11BaseMetaEvent } from './OB11BaseMetaEvent'\n\ninterface HeartbeatStatus {\n  online: boolean | null\n  good: boolean\n}\n\nexport class OB11HeartbeatEvent extends OB11BaseMetaEvent {\n  meta_event_type = 'heartbeat'\n  status: HeartbeatStatus\n  interval: number\n\n  public constructor(isOnline: boolean | null, isGood: boolean, interval: number) {\n    super()\n    this.interval = interval\n    this.status = {\n      online: isOnline,\n      good: isGood,\n    }\n  }\n}\n","import { BaseAction } from '../action/BaseAction'\nimport { Context } from 'cordis'\nimport { WebSocket, WebSocketServer } from 'ws'\nimport { llonebotError } from '@/common/globalVars'\nimport { IncomingMessage } from 'node:http'\nimport { OB11Return, OB11Message } from '../types'\nimport { OB11Response } from '../action/OB11Response'\nimport { ActionName } from '../action/types'\nimport { LifeCycleSubType, OB11LifeCycleEvent } from '../event/meta/OB11LifeCycleEvent'\nimport { OB11HeartbeatEvent } from '../event/meta/OB11HeartbeatEvent'\nimport { selfInfo } from '@/common/globalVars'\nimport { OB11BaseEvent } from '../event/OB11BaseEvent'\nimport { version } from '../../version'\n\nclass OB11WebSocket {\n  private wsServer?: WebSocketServer\n  private wsClients: { socket: WebSocket; emitEvent: boolean }[] = []\n\n  constructor(protected ctx: Context, public config: OB11WebSocket.Config) {\n  }\n\n  public start() {\n    if (this.wsServer) return\n    const host = this.config.listenLocalhost ? '127.0.0.1' : ''\n    this.ctx.logger.info(`OneBot V11 WebSocket server started ${host}:${this.config.port}`)\n    this.wsServer = new WebSocketServer({\n      host,\n      port: this.config.port,\n      maxPayload: 1024 * 1024 * 1024\n    })\n    llonebotError.wsServerError = ''\n    this.wsServer.on('error', (err: Error) => {\n      this.ctx.logger.error('OneBot V11 正向 WS 错误', err)\n    })\n    this.wsServer?.on('connection', (socket, req) => {\n      this.authorize(socket, req)\n      this.connect(socket, req)\n    })\n  }\n\n  public stop() {\n    return new Promise<boolean>((resolve) => {\n      llonebotError.wsServerError = ''\n      this.ctx.logger.info('OneBot V11 WebSocket Server closing...')\n      this.wsClients.forEach(({ socket }) => {\n        try {\n          socket.close()\n        } catch (e) {\n          this.ctx.logger.error('关闭 OneBot V11 WebSocket 客户端连接失败', e)\n        }\n      })\n      this.wsClients = []\n      if (this.wsServer) {\n        this.wsServer.close((err) => {\n          if (err) {\n            this.ctx.logger.error(`OneBot V11 WebSocket Server closing ${err}`)\n            return resolve(false)\n          }\n          this.ctx.logger.info('OneBot V11 WebSocket Server closed')\n          resolve(true)\n        })\n        this.wsServer = undefined\n      } else {\n        resolve(true)\n      }\n    })\n  }\n\n  public async emitEvent(event: OB11BaseEvent) {\n    this.wsClients.forEach(({ socket, emitEvent }) => {\n      if (emitEvent && socket.readyState === WebSocket.OPEN) {\n        socket.send(JSON.stringify(event))\n        const eventName = event.post_type + '.' + event[event.post_type + '_type']\n        this.ctx.logger.info('WebSocket 事件上报', socket.url ?? '', eventName)\n      }\n    })\n  }\n\n  public updateConfig(config: Partial<OB11WebSocket.Config>) {\n    Object.assign(this.config, config)\n  }\n\n  private reply(socket: WebSocket, data: OB11Return<unknown> | OB11BaseEvent | OB11Message) {\n    if (socket.readyState !== WebSocket.OPEN) {\n      return\n    }\n    socket.send(JSON.stringify(data))\n    if ('post_type' in data) {\n      this.ctx.logger.info('WebSocket 事件上报', socket.url ?? '', data.post_type)\n    }\n  }\n\n  private authorize(socket: WebSocket, req: IncomingMessage) {\n    const url = req.url?.split('?').shift()\n    this.ctx.logger.info('ws connect', url)\n    let clientToken = ''\n    const authHeader = req.headers['authorization']\n    if (authHeader) {\n      clientToken = authHeader.split('Bearer ').pop()!\n      this.ctx.logger.info('receive ws header token', clientToken)\n    } else {\n      const { searchParams } = new URL(`http://localhost${req.url}`)\n      const urlToken = searchParams.get('access_token')\n      if (urlToken) {\n        if (Array.isArray(urlToken)) {\n          clientToken = urlToken[0]\n        } else {\n          clientToken = urlToken\n        }\n        this.ctx.logger.info('receive ws url token', clientToken)\n      }\n    }\n    if (this.config.token && clientToken !== this.config.token) {\n      this.reply(socket, OB11Response.res(null, 'failed', 1403, 'token验证失败'))\n      return socket.close()\n    }\n  }\n\n  private async handleAction(socket: WebSocket, msg: string) {\n    let receive: { action: ActionName | null; params: unknown; echo?: unknown } = { action: null, params: {} }\n    try {\n      receive = JSON.parse(msg.toString())\n      this.ctx.logger.info('收到正向 Websocket 消息', receive)\n    } catch (e) {\n      return this.reply(socket, OB11Response.error('json解析失败，请检查数据格式', 1400))\n    }\n    const action = this.config.actionMap.get(receive.action!)!\n    if (!action) {\n      return this.reply(socket, OB11Response.error('不支持的api ' + receive.action, 1404, receive.echo))\n    }\n    const handleResult = await action.websocketHandle(receive.params, receive.echo)\n    this.reply(socket, handleResult)\n  }\n\n  private connect(socket: WebSocket, req: IncomingMessage) {\n    const url = req.url?.split('?').shift()\n    if (['/api', '/api/', '/', undefined].includes(url)) {\n      socket.on('message', msg => {\n        this.handleAction(socket, msg.toString())\n      })\n    }\n    if (['/event', '/event/', '/', undefined].includes(url)) {\n      try {\n        this.reply(socket, new OB11LifeCycleEvent(LifeCycleSubType.CONNECT))\n      } catch (e) {\n        this.ctx.logger.error('发送生命周期失败', e)\n      }\n\n      const disposeHeartBeat = this.ctx.setInterval(() => {\n        this.reply(socket, new OB11HeartbeatEvent(selfInfo.online!, true, this.config.heartInterval))\n      }, this.config.heartInterval)\n\n      socket.on('close', () => {\n        disposeHeartBeat()\n        this.ctx.logger.info('有一个 Websocket 连接断开')\n      })\n    }\n\n    socket.on('error', err => this.ctx.logger.error(err.message))\n\n    socket.on('ping', () => {\n      socket.pong()\n    })\n\n    this.wsClients.push({\n      socket,\n      emitEvent: ['/event', '/event/', '/', undefined].includes(url)\n    })\n  }\n}\n\nnamespace OB11WebSocket {\n  export interface Config {\n    port: number\n    heartInterval: number\n    token?: string\n    actionMap: Map<string, BaseAction<unknown, unknown>>\n    listenLocalhost: boolean\n  }\n}\n\nclass OB11WebSocketReverse {\n  private running: boolean = false\n  private wsClient?: WebSocket\n\n  constructor(protected ctx: Context, public config: OB11WebSocketReverse.Config) {\n  }\n\n  public start() {\n    if (!this.running) {\n      this.running = true\n      this.tryConnect()\n    }\n  }\n\n  public stop() {\n    this.running = false\n    this.wsClient?.close()\n  }\n\n  public emitEvent(event: OB11BaseEvent) {\n    if (this.wsClient && this.wsClient.readyState === WebSocket.OPEN) {\n      this.wsClient.send(JSON.stringify(event))\n      const eventName = event.post_type + '.' + event[event.post_type + '_type']\n      this.ctx.logger.info('WebSocket 事件上报', this.wsClient.url ?? '', eventName)\n    }\n  }\n\n  private reply(socket: WebSocket, data: OB11Return<unknown> | OB11BaseEvent | OB11Message) {\n    if (socket.readyState !== WebSocket.OPEN) {\n      return\n    }\n    socket.send(JSON.stringify(data))\n    if ('post_type' in data) {\n      this.ctx.logger.info('WebSocket 事件上报', socket.url ?? '', data.post_type)\n    }\n  }\n\n  private async handleAction(msg: string) {\n    let receive: { action: ActionName | null; params: unknown; echo?: unknown } = { action: null, params: {} }\n    try {\n      receive = JSON.parse(msg.toString())\n      this.ctx.logger.info('收到反向 Websocket 消息', receive)\n    } catch (e) {\n      return this.reply(this.wsClient!, OB11Response.error('json解析失败，请检查数据格式', 1400, receive.echo))\n    }\n    const action = this.config.actionMap.get(receive.action!)!\n    if (!action) {\n      return this.reply(this.wsClient!, OB11Response.error('不支持的api ' + receive.action, 1404, receive.echo))\n    }\n    const handleResult = await action.websocketHandle(receive.params, receive.echo)\n    this.reply(this.wsClient!, handleResult)\n  }\n\n  private tryConnect() {\n    if (this.wsClient && !this.running) {\n      return\n    }\n    this.wsClient = new WebSocket(this.config.url, {\n      maxPayload: 1024 * 1024 * 1024,\n      handshakeTimeout: 2000,\n      perMessageDeflate: false,\n      headers: {\n        'X-Self-ID': selfInfo.uin,\n        'Authorization': `Bearer ${this.config.token}`,\n        'x-client-role': 'Universal', // koishi-adapter-onebot 需要这个字段\n        'User-Agent': `LLOneBot/${version}`,\n      },\n    })\n    this.ctx.logger.info('Trying to connect to the websocket server: ' + this.config.url)\n\n    this.wsClient.on('open', () => {\n      this.ctx.logger.info('Connected to the websocket server: ' + this.config.url)\n      try {\n        this.reply(this.wsClient!, new OB11LifeCycleEvent(LifeCycleSubType.CONNECT))\n      } catch (e) {\n        this.ctx.logger.error('发送生命周期失败', e)\n      }\n    })\n\n    this.wsClient.on('error', err => this.ctx.logger.error(err))\n\n    this.wsClient.on('message', data => {\n      this.handleAction(data.toString())\n    })\n\n    this.wsClient.on('ping', () => {\n      this.wsClient?.pong()\n    })\n\n    const disposeHeartBeat = this.ctx.setInterval(() => {\n      if (this.wsClient) {\n        this.reply(this.wsClient, new OB11HeartbeatEvent(selfInfo.online!, true, this.config.heartInterval))\n      }\n    }, this.config.heartInterval)\n\n    this.wsClient.on('close', () => {\n      disposeHeartBeat()\n      this.ctx.logger.info(`The websocket connection: ${this.config.url} closed${this.running ? ', trying reconnecting...' : ''}`)\n      if (this.running) {\n        this.ctx.setTimeout(() => this.tryConnect(), 3000)\n      }\n    })\n  }\n}\n\nnamespace OB11WebSocketReverse {\n  export interface Config {\n    url: string\n    heartInterval: number\n    token?: string\n    actionMap: Map<string, BaseAction<unknown, unknown>>\n  }\n}\n\nclass OB11WebSocketReverseManager {\n  private list: OB11WebSocketReverse[] = []\n\n  constructor(protected ctx: Context, public config: OB11WebSocketReverseManager.Config) {\n  }\n\n  public async start() {\n    if (this.list.length > 0) {\n      return\n    }\n    for (const url of this.config.hosts) {\n      const ws = new OB11WebSocketReverse(this.ctx, { ...this.config, url })\n      ws.start()\n      this.list.push(ws)\n    }\n  }\n\n  public stop() {\n    for (const ws of this.list) {\n      try {\n        ws.stop()\n      } catch (e) {\n        this.ctx.logger.error('反向 WebSocket 关闭:', (e as Error).stack)\n      }\n    }\n    this.list.length = 0\n  }\n\n  public async emitEvent(event: OB11BaseEvent | OB11Message) {\n    for (const ws of this.list) {\n      ws.emitEvent(event)\n    }\n  }\n\n  public updateConfig(config: Partial<OB11WebSocketReverseManager.Config>) {\n    Object.assign(this.config, config)\n  }\n}\n\nnamespace OB11WebSocketReverseManager {\n  export interface Config {\n    hosts: string[]\n    heartInterval: number\n    token?: string\n    actionMap: Map<string, BaseAction<unknown, unknown>>\n  }\n}\n\nexport { OB11WebSocket, OB11WebSocketReverseManager }\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*!\n * vary\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = vary\nmodule.exports.append = append\n\n/**\n * RegExp to match field-name in RFC 7230 sec 3.2\n *\n * field-name    = token\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n */\n\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/\n\n/**\n * Append a field to a vary header.\n *\n * @param {String} header\n * @param {String|Array} field\n * @return {String}\n * @public\n */\n\nfunction append (header, field) {\n  if (typeof header !== 'string') {\n    throw new TypeError('header argument is required')\n  }\n\n  if (!field) {\n    throw new TypeError('field argument is required')\n  }\n\n  // get fields array\n  var fields = !Array.isArray(field)\n    ? parse(String(field))\n    : field\n\n  // assert on invalid field names\n  for (var j = 0; j < fields.length; j++) {\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\n      throw new TypeError('field argument contains an invalid header name')\n    }\n  }\n\n  // existing, unspecified vary\n  if (header === '*') {\n    return header\n  }\n\n  // enumerate current values\n  var val = header\n  var vals = parse(header.toLowerCase())\n\n  // unspecified vary\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\n    return '*'\n  }\n\n  for (var i = 0; i < fields.length; i++) {\n    var fld = fields[i].toLowerCase()\n\n    // append value (case-preserving)\n    if (vals.indexOf(fld) === -1) {\n      vals.push(fld)\n      val = val\n        ? val + ', ' + fields[i]\n        : fields[i]\n    }\n  }\n\n  return val\n}\n\n/**\n * Parse a vary header into an array.\n *\n * @param {String} header\n * @return {Array}\n * @private\n */\n\nfunction parse (header) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = header.length; i < len; i++) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(header.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(header.substring(start, end))\n\n  return list\n}\n\n/**\n * Mark that a request is varied on a header field.\n *\n * @param {Object} res\n * @param {String|Array} field\n * @public\n */\n\nfunction vary (res, field) {\n  if (!res || !res.getHeader || !res.setHeader) {\n    // quack quack\n    throw new TypeError('res argument is required')\n  }\n\n  // get existing header\n  var val = res.getHeader('Vary') || ''\n  var header = Array.isArray(val)\n    ? val.join(', ')\n    : String(val)\n\n  // set new header\n  if ((val = append(header, field))) {\n    res.setHeader('Vary', val)\n  }\n}\n","(function () {\n\n  'use strict';\n\n  var assign = require('object-assign');\n  var vary = require('vary');\n\n  var defaults = {\n    origin: '*',\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n    preflightContinue: false,\n    optionsSuccessStatus: 204\n  };\n\n  function isString(s) {\n    return typeof s === 'string' || s instanceof String;\n  }\n\n  function isOriginAllowed(origin, allowedOrigin) {\n    if (Array.isArray(allowedOrigin)) {\n      for (var i = 0; i < allowedOrigin.length; ++i) {\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\n          return true;\n        }\n      }\n      return false;\n    } else if (isString(allowedOrigin)) {\n      return origin === allowedOrigin;\n    } else if (allowedOrigin instanceof RegExp) {\n      return allowedOrigin.test(origin);\n    } else {\n      return !!allowedOrigin;\n    }\n  }\n\n  function configureOrigin(options, req) {\n    var requestOrigin = req.headers.origin,\n      headers = [],\n      isAllowed;\n\n    if (!options.origin || options.origin === '*') {\n      // allow any origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: '*'\n      }]);\n    } else if (isString(options.origin)) {\n      // fixed origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: options.origin\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    } else {\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\n      // reflect origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: isAllowed ? requestOrigin : false\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureMethods(options) {\n    var methods = options.methods;\n    if (methods.join) {\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\n    }\n    return {\n      key: 'Access-Control-Allow-Methods',\n      value: methods\n    };\n  }\n\n  function configureCredentials(options) {\n    if (options.credentials === true) {\n      return {\n        key: 'Access-Control-Allow-Credentials',\n        value: 'true'\n      };\n    }\n    return null;\n  }\n\n  function configureAllowedHeaders(options, req) {\n    var allowedHeaders = options.allowedHeaders || options.headers;\n    var headers = [];\n\n    if (!allowedHeaders) {\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\n      headers.push([{\n        key: 'Vary',\n        value: 'Access-Control-Request-Headers'\n      }]);\n    } else if (allowedHeaders.join) {\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\n    }\n    if (allowedHeaders && allowedHeaders.length) {\n      headers.push([{\n        key: 'Access-Control-Allow-Headers',\n        value: allowedHeaders\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureExposedHeaders(options) {\n    var headers = options.exposedHeaders;\n    if (!headers) {\n      return null;\n    } else if (headers.join) {\n      headers = headers.join(','); // .headers is an array, so turn it into a string\n    }\n    if (headers && headers.length) {\n      return {\n        key: 'Access-Control-Expose-Headers',\n        value: headers\n      };\n    }\n    return null;\n  }\n\n  function configureMaxAge(options) {\n    var maxAge = (typeof options.maxAge === 'number' || options.maxAge) && options.maxAge.toString()\n    if (maxAge && maxAge.length) {\n      return {\n        key: 'Access-Control-Max-Age',\n        value: maxAge\n      };\n    }\n    return null;\n  }\n\n  function applyHeaders(headers, res) {\n    for (var i = 0, n = headers.length; i < n; i++) {\n      var header = headers[i];\n      if (header) {\n        if (Array.isArray(header)) {\n          applyHeaders(header, res);\n        } else if (header.key === 'Vary' && header.value) {\n          vary(res, header.value);\n        } else if (header.value) {\n          res.setHeader(header.key, header.value);\n        }\n      }\n    }\n  }\n\n  function cors(options, req, res, next) {\n    var headers = [],\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\n\n    if (method === 'OPTIONS') {\n      // preflight\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureMethods(options, req));\n      headers.push(configureAllowedHeaders(options, req));\n      headers.push(configureMaxAge(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n\n      if (options.preflightContinue) {\n        next();\n      } else {\n        // Safari (and potentially other browsers) need content-length 0,\n        //   for 204 or they just hang waiting for a body\n        res.statusCode = options.optionsSuccessStatus;\n        res.setHeader('Content-Length', '0');\n        res.end();\n      }\n    } else {\n      // actual response\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n      next();\n    }\n  }\n\n  function middlewareWrapper(o) {\n    // if options are static (either via defaults or custom options passed in), wrap in a function\n    var optionsCallback = null;\n    if (typeof o === 'function') {\n      optionsCallback = o;\n    } else {\n      optionsCallback = function (req, cb) {\n        cb(null, o);\n      };\n    }\n\n    return function corsMiddleware(req, res, next) {\n      optionsCallback(req, function (err, options) {\n        if (err) {\n          next(err);\n        } else {\n          var corsOptions = assign({}, defaults, options);\n          var originCallback = null;\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\n            originCallback = corsOptions.origin;\n          } else if (corsOptions.origin) {\n            originCallback = function (origin, cb) {\n              cb(null, corsOptions.origin);\n            };\n          }\n\n          if (originCallback) {\n            originCallback(req.headers.origin, function (err2, origin) {\n              if (err2 || !origin) {\n                next(err2);\n              } else {\n                corsOptions.origin = origin;\n                cors(corsOptions, req, res, next);\n              }\n            });\n          } else {\n            next();\n          }\n        }\n      });\n    };\n  }\n\n  // can pass either an options hash, an options delegate, or nothing\n  module.exports = middlewareWrapper;\n\n}());\n","/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = depd\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  function deprecate (message) {\n    // no-op in browser\n  }\n\n  deprecate._file = undefined\n  deprecate._ignored = true\n  deprecate._namespace = namespace\n  deprecate._traced = false\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  return fn\n}\n\n/**\n * Wrap property in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n}\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    var type = typeof arg\n    if (type === 'object' && arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n    } else if (type === 'number' && i === 0) {\n      status = arg\n    } else if (type === 'string') {\n      msg = arg\n    } else if (type === 'object') {\n      props = arg\n    } else {\n      throw new TypeError('argument #' + (i + 1) + ' unsupported type ' + type)\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses.message[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses.message[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses.message[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","/*!\n * ee-first\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = first\n\n/**\n * Get the first event in a set of event emitters and event pairs.\n *\n * @param {array} stuff\n * @param {function} done\n * @public\n */\n\nfunction first(stuff, done) {\n  if (!Array.isArray(stuff))\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\n\n  var cleanups = []\n\n  for (var i = 0; i < stuff.length; i++) {\n    var arr = stuff[i]\n\n    if (!Array.isArray(arr) || arr.length < 2)\n      throw new TypeError('each array member must be [ee, events...]')\n\n    var ee = arr[0]\n\n    for (var j = 1; j < arr.length; j++) {\n      var event = arr[j]\n      var fn = listener(event, callback)\n\n      // listen to the event\n      ee.on(event, fn)\n      // push this listener to the list of cleanups\n      cleanups.push({\n        ee: ee,\n        event: event,\n        fn: fn,\n      })\n    }\n  }\n\n  function callback() {\n    cleanup()\n    done.apply(null, arguments)\n  }\n\n  function cleanup() {\n    var x\n    for (var i = 0; i < cleanups.length; i++) {\n      x = cleanups[i]\n      x.ee.removeListener(x.event, x.fn)\n    }\n  }\n\n  function thunk(fn) {\n    done = fn\n  }\n\n  thunk.cancel = cleanup\n\n  return thunk\n}\n\n/**\n * Create the event listener.\n * @private\n */\n\nfunction listener(event, done) {\n  return function onevent(arg1) {\n    var args = new Array(arguments.length)\n    var ee = this\n    var err = event === 'error'\n      ? arg1\n      : null\n\n    // copy args to prevent arguments escaping scope\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    done(err, ee, event, args)\n  }\n}\n","/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onFinished\nmodule.exports.isFinished = isFinished\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar first = require('ee-first')\n\n/**\n * Variables.\n * @private\n */\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Invoke callback when the response has finished, useful for\n * cleaning up resources afterwards.\n *\n * @param {object} msg\n * @param {function} listener\n * @return {object}\n * @public\n */\n\nfunction onFinished (msg, listener) {\n  if (isFinished(msg) !== false) {\n    defer(listener, null, msg)\n    return msg\n  }\n\n  // attach the listener to the message\n  attachListener(msg, wrap(listener))\n\n  return msg\n}\n\n/**\n * Determine if message is already finished.\n *\n * @param {object} msg\n * @return {boolean}\n * @public\n */\n\nfunction isFinished (msg) {\n  var socket = msg.socket\n\n  if (typeof msg.finished === 'boolean') {\n    // OutgoingMessage\n    return Boolean(msg.finished || (socket && !socket.writable))\n  }\n\n  if (typeof msg.complete === 'boolean') {\n    // IncomingMessage\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\n  }\n\n  // don't know\n  return undefined\n}\n\n/**\n * Attach a finished listener to the message.\n *\n * @param {object} msg\n * @param {function} callback\n * @private\n */\n\nfunction attachFinishedListener (msg, callback) {\n  var eeMsg\n  var eeSocket\n  var finished = false\n\n  function onFinish (error) {\n    eeMsg.cancel()\n    eeSocket.cancel()\n\n    finished = true\n    callback(error)\n  }\n\n  // finished on first message event\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish)\n\n  function onSocket (socket) {\n    // remove listener\n    msg.removeListener('socket', onSocket)\n\n    if (finished) return\n    if (eeMsg !== eeSocket) return\n\n    // finished on first socket event\n    eeSocket = first([[socket, 'error', 'close']], onFinish)\n  }\n\n  if (msg.socket) {\n    // socket already assigned\n    onSocket(msg.socket)\n    return\n  }\n\n  // wait for socket to be assigned\n  msg.on('socket', onSocket)\n\n  if (msg.socket === undefined) {\n    // istanbul ignore next: node.js 0.8 patch\n    patchAssignSocket(msg, onSocket)\n  }\n}\n\n/**\n * Attach the listener to the message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction attachListener (msg, listener) {\n  var attached = msg.__onFinished\n\n  // create a private single listener with queue\n  if (!attached || !attached.queue) {\n    attached = msg.__onFinished = createListener(msg)\n    attachFinishedListener(msg, attached)\n  }\n\n  attached.queue.push(listener)\n}\n\n/**\n * Create listener on message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction createListener (msg) {\n  function listener (err) {\n    if (msg.__onFinished === listener) msg.__onFinished = null\n    if (!listener.queue) return\n\n    var queue = listener.queue\n    listener.queue = null\n\n    for (var i = 0; i < queue.length; i++) {\n      queue[i](err, msg)\n    }\n  }\n\n  listener.queue = []\n\n  return listener\n}\n\n/**\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\n *\n * @param {ServerResponse} res\n * @param {function} callback\n * @private\n */\n\n// istanbul ignore next: node.js 0.8 patch\nfunction patchAssignSocket (res, callback) {\n  var assignSocket = res.assignSocket\n\n  if (typeof assignSocket !== 'function') return\n\n  // res.on('socket', callback) is broken in 0.8\n  res.assignSocket = function _assignSocket (socket) {\n    assignSocket.call(this, socket)\n    callback(socket)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '💩') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    this.decoder = new StringDecoder(codec.enc);\n}\n\nInternalDecoder.prototype.write = function(buf) {\n    if (!Buffer.isBuffer(buf)) {\n        buf = Buffer.from(buf);\n    }\n\n    return this.decoder.write(buf);\n}\n\nInternalDecoder.prototype.end = function() {\n    return this.decoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","'use strict';\n\nvar Buffer = require('safer-buffer').Buffer;\n\n// == UTF32-LE/BE codec. ==========================================================\n\nexports._utf32 = Utf32Codec;\n\nfunction Utf32Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n    this.bomAware = true;\n    this.isLE = codecOptions.isLE;\n}\n\nexports.utf32le = { type: '_utf32', isLE: true };\nexports.utf32be = { type: '_utf32', isLE: false };\n\n// Aliases\nexports.ucs4le = 'utf32le';\nexports.ucs4be = 'utf32be';\n\nUtf32Codec.prototype.encoder = Utf32Encoder;\nUtf32Codec.prototype.decoder = Utf32Decoder;\n\n// -- Encoding\n\nfunction Utf32Encoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.highSurrogate = 0;\n}\n\nUtf32Encoder.prototype.write = function(str) {\n    var src = Buffer.from(str, 'ucs2');\n    var dst = Buffer.alloc(src.length * 2);\n    var write32 = this.isLE ? dst.writeUInt32LE : dst.writeUInt32BE;\n    var offset = 0;\n\n    for (var i = 0; i < src.length; i += 2) {\n        var code = src.readUInt16LE(i);\n        var isHighSurrogate = (0xD800 <= code && code < 0xDC00);\n        var isLowSurrogate = (0xDC00 <= code && code < 0xE000);\n\n        if (this.highSurrogate) {\n            if (isHighSurrogate || !isLowSurrogate) {\n                // There shouldn't be two high surrogates in a row, nor a high surrogate which isn't followed by a low\n                // surrogate. If this happens, keep the pending high surrogate as a stand-alone semi-invalid character\n                // (technically wrong, but expected by some applications, like Windows file names).\n                write32.call(dst, this.highSurrogate, offset);\n                offset += 4;\n            }\n            else {\n                // Create 32-bit value from high and low surrogates;\n                var codepoint = (((this.highSurrogate - 0xD800) << 10) | (code - 0xDC00)) + 0x10000;\n\n                write32.call(dst, codepoint, offset);\n                offset += 4;\n                this.highSurrogate = 0;\n\n                continue;\n            }\n        }\n\n        if (isHighSurrogate)\n            this.highSurrogate = code;\n        else {\n            // Even if the current character is a low surrogate, with no previous high surrogate, we'll\n            // encode it as a semi-invalid stand-alone character for the same reasons expressed above for\n            // unpaired high surrogates.\n            write32.call(dst, code, offset);\n            offset += 4;\n            this.highSurrogate = 0;\n        }\n    }\n\n    if (offset < dst.length)\n        dst = dst.slice(0, offset);\n\n    return dst;\n};\n\nUtf32Encoder.prototype.end = function() {\n    // Treat any leftover high surrogate as a semi-valid independent character.\n    if (!this.highSurrogate)\n        return;\n\n    var buf = Buffer.alloc(4);\n\n    if (this.isLE)\n        buf.writeUInt32LE(this.highSurrogate, 0);\n    else\n        buf.writeUInt32BE(this.highSurrogate, 0);\n\n    this.highSurrogate = 0;\n\n    return buf;\n};\n\n// -- Decoding\n\nfunction Utf32Decoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.badChar = codec.iconv.defaultCharUnicode.charCodeAt(0);\n    this.overflow = [];\n}\n\nUtf32Decoder.prototype.write = function(src) {\n    if (src.length === 0)\n        return '';\n\n    var i = 0;\n    var codepoint = 0;\n    var dst = Buffer.alloc(src.length + 4);\n    var offset = 0;\n    var isLE = this.isLE;\n    var overflow = this.overflow;\n    var badChar = this.badChar;\n\n    if (overflow.length > 0) {\n        for (; i < src.length && overflow.length < 4; i++)\n            overflow.push(src[i]);\n        \n        if (overflow.length === 4) {\n            // NOTE: codepoint is a signed int32 and can be negative.\n            // NOTE: We copied this block from below to help V8 optimize it (it works with array, not buffer).\n            if (isLE) {\n                codepoint = overflow[i] | (overflow[i+1] << 8) | (overflow[i+2] << 16) | (overflow[i+3] << 24);\n            } else {\n                codepoint = overflow[i+3] | (overflow[i+2] << 8) | (overflow[i+1] << 16) | (overflow[i] << 24);\n            }\n            overflow.length = 0;\n\n            offset = _writeCodepoint(dst, offset, codepoint, badChar);\n        }\n    }\n\n    // Main loop. Should be as optimized as possible.\n    for (; i < src.length - 3; i += 4) {\n        // NOTE: codepoint is a signed int32 and can be negative.\n        if (isLE) {\n            codepoint = src[i] | (src[i+1] << 8) | (src[i+2] << 16) | (src[i+3] << 24);\n        } else {\n            codepoint = src[i+3] | (src[i+2] << 8) | (src[i+1] << 16) | (src[i] << 24);\n        }\n        offset = _writeCodepoint(dst, offset, codepoint, badChar);\n    }\n\n    // Keep overflowing bytes.\n    for (; i < src.length; i++) {\n        overflow.push(src[i]);\n    }\n\n    return dst.slice(0, offset).toString('ucs2');\n};\n\nfunction _writeCodepoint(dst, offset, codepoint, badChar) {\n    // NOTE: codepoint is signed int32 and can be negative. We keep it that way to help V8 with optimizations.\n    if (codepoint < 0 || codepoint > 0x10FFFF) {\n        // Not a valid Unicode codepoint\n        codepoint = badChar;\n    } \n\n    // Ephemeral Planes: Write high surrogate.\n    if (codepoint >= 0x10000) {\n        codepoint -= 0x10000;\n\n        var high = 0xD800 | (codepoint >> 10);\n        dst[offset++] = high & 0xff;\n        dst[offset++] = high >> 8;\n\n        // Low surrogate is written below.\n        var codepoint = 0xDC00 | (codepoint & 0x3FF);\n    }\n\n    // Write BMP char or low surrogate.\n    dst[offset++] = codepoint & 0xff;\n    dst[offset++] = codepoint >> 8;\n\n    return offset;\n};\n\nUtf32Decoder.prototype.end = function() {\n    this.overflow.length = 0;\n};\n\n// == UTF-32 Auto codec =============================================================\n// Decoder chooses automatically from UTF-32LE and UTF-32BE using BOM and space-based heuristic.\n// Defaults to UTF-32LE. http://en.wikipedia.org/wiki/UTF-32\n// Encoder/decoder default can be changed: iconv.decode(buf, 'utf32', {defaultEncoding: 'utf-32be'});\n\n// Encoder prepends BOM (which can be overridden with (addBOM: false}).\n\nexports.utf32 = Utf32AutoCodec;\nexports.ucs4 = 'utf32';\n\nfunction Utf32AutoCodec(options, iconv) {\n    this.iconv = iconv;\n}\n\nUtf32AutoCodec.prototype.encoder = Utf32AutoEncoder;\nUtf32AutoCodec.prototype.decoder = Utf32AutoDecoder;\n\n// -- Encoding\n\nfunction Utf32AutoEncoder(options, codec) {\n    options = options || {};\n\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n\n    this.encoder = codec.iconv.getEncoder(options.defaultEncoding || 'utf-32le', options);\n}\n\nUtf32AutoEncoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n};\n\nUtf32AutoEncoder.prototype.end = function() {\n    return this.encoder.end();\n};\n\n// -- Decoding\n\nfunction Utf32AutoDecoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf32AutoDecoder.prototype.write = function(buf) {\n    if (!this.decoder) { \n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n\n        if (this.initialBufsLen < 32) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n};\n\nUtf32AutoDecoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.end();\n};\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var invalidLE = 0, invalidBE = 0;   // Number of invalid chars when decoded as LE or BE.\n    var bmpCharsLE = 0, bmpCharsBE = 0; // Number of BMP chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 4) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE && b[2] === 0 && b[3] === 0) {\n                        return 'utf-32le';\n                    }\n                    if (b[0] === 0 && b[1] === 0 && b[2] === 0xFE && b[3] === 0xFF) {\n                        return 'utf-32be';\n                    }\n                }\n\n                if (b[0] !== 0 || b[1] > 0x10) invalidBE++;\n                if (b[3] !== 0 || b[2] > 0x10) invalidLE++;\n\n                if (b[0] === 0 && b[1] === 0 && (b[2] !== 0 || b[3] !== 0)) bmpCharsBE++;\n                if ((b[0] !== 0 || b[1] !== 0) && b[2] === 0 && b[3] === 0) bmpCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    if (bmpCharsBE - invalidBE > bmpCharsLE - invalidLE)  return 'utf-32be';\n    if (bmpCharsBE - invalidBE < bmpCharsLE - invalidLE)  return 'utf-32le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-32le';\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n    this.overflowByte = -1;\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n        \n        if (this.initialBufsLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var asciiCharsLE = 0, asciiCharsBE = 0; // Number of ASCII chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 2) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE) return 'utf-16le';\n                    if (b[0] === 0xFE && b[1] === 0xFF) return 'utf-16be';\n                }\n\n                if (b[0] === 0 && b[1] !== 0) asciiCharsBE++;\n                if (b[0] !== 0 && b[1] === 0) asciiCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n    // So, we count ASCII as if it was LE or BE, and decide from that.\n    if (asciiCharsBE > asciiCharsLE) return 'utf-16be';\n    if (asciiCharsBE < asciiCharsLE) return 'utf-16le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-16le';\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\");\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\");\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\").replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\").replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№€■ \"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя└┴┬├─┼╣║╚╔╩╦╠═╬┐░▒▓│┤№§╗╝┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n    },\n\n    \"cp720\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\\x80\\x81éâ\\x84à\\x86çêëèïî\\x8d\\x8e\\x8f\\x90\\u0651\\u0652ô¤ـûùءآأؤ£إئابةتثجحخدذرزسشص«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ضطظعغفµقكلمنهوىي≡\\u064b\\u064c\\u064d\\u064e\\u064f\\u0650≈°∙·√ⁿ²■\\u00a0\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€����…�����������‘’“”•–—�������� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚�„…†‡�‰Š‹ŚŤŽŹ�‘’“”•–—�™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚ƒ„…†‡�‰�‹�����‘’“”•–—�™�›���� ΅Ά£¤¥¦§¨©�«¬­®―°±²³΄µ¶·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚ƒ„…†‡ˆ‰Š‹Œ����‘’“”•–—˜™š›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚ƒ„…†‡ˆ‰�‹�����‘’“”•–—˜™�›���� ¡¢£₪¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾¿ְֱֲֳִֵֶַָֹֺֻּֽ־ֿ׀ׁׂ׃װױײ׳״�������אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚�„…†‡�‰�‹�¨ˇ¸�‘’“”•–—�™�›�¯˛� �¢£¤�¦§Ø©Ŗ«¬­®Æ°±²³´µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž˙\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€�‚ƒ„…†‡ˆ‰�‹Œ����‘’“”•–—˜™�›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" Ą˘Ł¤ĽŚ§¨ŠŞŤŹ­ŽŻ°ą˛ł´ľśˇ¸šşťź˝žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" Ħ˘£¤�Ĥ§¨İŞĞĴ­�Ż°ħ²³´µĥ·¸ışğĵ½�żÀÁÂ�ÄĊĈÇÈÉÊËÌÍÎÏ�ÑÒÓÔĠÖ×ĜÙÚÛÜŬŜßàáâ�äċĉçèéêëìíîï�ñòóôġö÷ĝùúûüŭŝ˙\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ĄĸŖ¤ĨĻ§¨ŠĒĢŦ­Ž¯°ą˛ŗ´ĩļˇ¸šēģŧŊžŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎĪĐŅŌĶÔÕÖ×ØŲÚÛÜŨŪßāáâãäåæįčéęëėíîīđņōķôõö÷øųúûüũū˙\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ЁЂЃЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђѓєѕіїјљњћќ§ўџ\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ���¤�������،­�������������؛���؟�ءآأؤإئابةتثجحخدذرزسشصضطظعغ�����ـفقكلمنهوىيًٌٍَُِّْ�������������\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ‘’£€₯¦§¨©ͺ«¬­�―°±²³΄΅Ά·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" �¢£¤¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾��������������������������������‗אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ĄĒĢĪĨĶ§ĻĐŠŦŽ­ŪŊ°ąēģīĩķ·ļđšŧž―ūŋĀÁÂÃÄÅÆĮČÉĘËĖÍÎÏÐŅŌÓÔÕÖŨØŲÚÛÜÝÞßāáâãäåæįčéęëėíîïðņōóôõöũøųúûüýþĸ\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ”¢£¤„¦§Ø©Ŗ«¬­®Æ°±²³“µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž’\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" Ḃḃ£ĊċḊ§Ẁ©ẂḋỲ­®ŸḞḟĠġṀṁ¶ṖẁṗẃṠỳẄẅṡÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŴÑÒÓÔÕÖṪØÙÚÛÜÝŶßàáâãäåæçèéêëìíîïŵñòóôõöṫøùúûüýŷÿ\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ¡¢£€¥Š§š©ª«¬­®¯°±²³Žµ¶·ž¹º»ŒœŸ¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ĄąŁ€„Š§š©Ș«Ź­źŻ°±ČłŽ”¶·žčș»ŒœŸżÀÁÂĂÄĆÆÇÈÉÊËÌÍÎÏĐŃÒÓÔŐÖŚŰÙÚÛÜĘȚßàáâăäćæçèéêëìíîïđńòóôőöśűùúûüęțÿ\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρσςτυφχψ░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ωάέήϊίόύϋώΆΈΉΊΌΎΏ±≥≤ΪΫ÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ĆüéāäģåćłēŖŗīŹÄÅÉæÆōöĢ¢ŚśÖÜø£Ø×¤ĀĪóŻżź”¦©®¬½¼Ł«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀ÓßŌŃõÕµńĶķĻļņĒŅ’­±“¾¶§÷„°∙·¹³²■ \"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈıÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ \"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ \"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ђЂѓЃёЁєЄѕЅіІїЇјЈљЉњЊћЋќЌўЎџЏюЮъЪаАбБцЦдДеЕфФгГ«»░▒▓│┤хХиИ╣║╗╝йЙ┐└┴┬├─┼кК╚╔╩╦╠═╬¤лЛмМнНоОп┘┌█▄Пя▀ЯрРсСтТуУжЖвВьЬ№­ыЫзЗшШэЭщЩчЧ§■ \"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"אבגדהוזחטיךכלםמןנסעףפץצקרשת�£�×����������®¬½¼�«»░▒▓│┤���©╣║╗╝¢¥┐└┴┬├─┼��╚╔╩╦╠═╬¤���������┘┌█▄¦�▀������µ�������¯´­±‗¾¶§÷¸°¨·¹³²■ \"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜø£ØŞşáíóúñÑĞğ¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ºªÊËÈ�ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµ�×ÚÛÙìÿ¯´­±�¾¶§÷¸°¨·¹³²■ \"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈ€ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ \"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâãàÁçêÊèÍÔìÃÂÉÀÈôõòÚùÌÕÜ¢£Ù₧ÓáíóúñÑªº¿Ò¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäàåçêëèÐðÞÄÅÉæÆôöþûÝýÖÜø£Ø₧ƒáíóúÁÍÓÚ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"אבגדהוזחטיךכלםמןנסעףפץצקרשת¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâÂà¶çêëèïî‗À§ÉÈÊôËÏûù¤ÔÜ¢£ÙÛƒ¦´óú¨¸³¯Î⌐¬½¼¾«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$٪&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~°·∙√▒─│┼┤┬├┴┐┌└┘β∞φ±½¼≈«»ﻷﻸ��ﻻﻼ� ­ﺂ£¤ﺄ��ﺎﺏﺕﺙ،ﺝﺡﺥ٠١٢٣٤٥٦٧٨٩ﻑ؛ﺱﺵﺹ؟¢ﺀﺁﺃﺅﻊﺋﺍﺑﺓﺗﺛﺟﺣﺧﺩﺫﺭﺯﺳﺷﺻﺿﻁﻅﻋﻏ¦¬÷×ﻉـﻓﻗﻛﻟﻣﻧﻫﻭﻯﻳﺽﻌﻎﻍﻡﹽّﻥﻩﻬﻰﻲﻐﻕﻵﻶﻝﻙﻱ■�\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø₧ƒáíóúñÑªº¿⌐¬½¼¡«¤░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ \"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№¤■ \"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"������Ά�·¬¦‘’Έ―ΉΊΪΌ��ΎΫ©Ώ²³ά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ΄­±υφχ§ψ΅°¨ωϋΰώ■ \"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ¡¢£¤¥¦§¨©ª«¬­®‾°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŠÑÒÓÔÕÖ×ØÙÚÛÜÝŽßàáâãäåæçèéêëìíîïšñòóôõö÷øùúûüýžÿ\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ﺈ×÷ﹱ■│─┐┌└┘ﹹﹻﹽﹿﹷﺊﻰﻳﻲﻎﻏﻐﻶﻸﻺﻼ ¤ﺋﺑﺗﺛﺟﺣ،­ﺧﺳ٠١٢٣٤٥٦٧٨٩ﺷ؛ﺻﺿﻊ؟ﻋءآأؤإئابةتثجحخدذرزسشصضطﻇعغﻌﺂﺄﺎﻓـفقكلمنهوىيًٌٍَُِّْﻗﻛﻟﻵﻷﻹﻻﻣﻧﻬﻩ�\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ЁЂҐЄЅІЇЈЉЊЋЌ­ЎЏАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя№ёђґєѕіїјљњћќ§ўџ\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёҐґЄєІіЇї·√№¤■ \"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ¡¢£¤¥¦§œ©ª«¬­®¯°±²³Ÿµ¶·Œ¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ກຂຄງຈສຊຍດຕຖທນບປຜຝພຟມຢຣລວຫອຮ���ຯະາຳິີຶືຸູຼັົຽ���ເແໂໃໄ່້໊໋໌ໍໆ�ໜໝ₭����������������໐໑໒໓໔໕໖໗໘໙��¢¬¦�\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"��������������������������������่กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู้๊๋€฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛¢¬¦ \"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"€…‘’“”•–— กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ¡¢£€¥¦§œ©ª«¬­®¯°±²³Ÿµ¶·Œ¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊�©⁄¤‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°¢£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµ∂ЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦­ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ�\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂŞ∞±≤≥¥µ∂∑∏π∫ªºΩăş¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›Ţţ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"«»…“”�•‘’� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู﻿​–—฿เแโใไๅๆ็่้๊๋์ํ™๏๐๑๒๓๔๕๖๗๘๙®©����\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙ�ˆ˜¯˘˙˚¸˝˛ˇ\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ё╓╔╕╖╗╘╙╚╛╜╝╞╟╠╡Ё╢╣╤╥╦╧╨╩╪╫╬©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ёє╔ії╗╘╙╚╛ґ╝╞╟╠╡ЁЄ╣ІЇ╦╧╨╩╪Ґ╬©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"─│┌┐└┘├┤┬┴┼▀▄█▌▐░▒▓⌠■∙√≈≤≥ ⌡°²·÷═║╒ёє╔ії╗╘╙╚╛ґў╞╟╠╡ЁЄ╣ІЇ╦╧╨╩╪ҐЎ©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"қғ‚Ғ„…†‡�‰ҳ‹ҲҷҶ�Қ‘’“”•–—�™�›�����ӯӮё¤ӣ¦§���«¬­®�°±²Ё�Ӣ¶·�№�»���©юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧЪ\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" �և։)(»«—.՝,-֊…՜՛՞ԱաԲբԳգԴդԵեԶզԷէԸըԹթԺժԻիԼլԽխԾծԿկՀհՁձՂղՃճՄմՅյՆնՇշՈոՉչՊպՋջՌռՍսՎվՏտՐրՑցՒւՓփՔքՕօՖֆ՚�\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ЂЃ‚ѓ„…†‡€‰Љ‹ЊҚҺЏђ‘’“”•–—�™љ›њқһџ ҰұӘ¤Ө¦§Ё©Ғ«¬­®Ү°±Ііөµ¶·ё№ғ»әҢңүАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000ÚỤ\\u0003ỪỬỮ\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010ỨỰỲỶỸÝỴ\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÀẢÃÁẠẶẬÈẺẼÉẸỆÌỈĨÍỊÒỎÕÓỌỘỜỞỠỚỢÙỦŨ ĂÂÊÔƠƯĐăâêôơưđẶ̀̀̉̃́àảãáạẲằẳẵắẴẮẦẨẪẤỀặầẩẫấậèỂẻẽéẹềểễếệìỉỄẾỒĩíịòỔỏõóọồổỗốộờởỡớợùỖủũúụừửữứựỳỷỹýỵỐ\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿აბგდევზთიკლმნოპჟრსტუფქღყშჩცძწჭხჯჰჱჲჳჴჵჶçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿აბგდევზჱთიკლმნჲოპჟრსტჳუფქღყშჩცძწჭხჴჯჰჵæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ҖҒӮғ„…ҶҮҲүҠӢҢҚҺҸҗ‘’“”•–—ҳҷҡӣңқһҹ ЎўЈӨҘҰ§Ё©Ә«¬ӯ®Ҝ°ұІіҙө¶·ё№ә»јҪҫҝАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001Ẳ\\u0003\\u0004ẴẪ\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013Ỷ\\u0015\\u0016\\u0017\\u0018Ỹ\\u001a\\u001b\\u001c\\u001dỴ\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ẠẮẰẶẤẦẨẬẼẸẾỀỂỄỆỐỒỔỖỘỢỚỜỞỊỎỌỈỦŨỤỲÕắằặấầẩậẽẹếềểễệốồổỗỠƠộờởịỰỨỪỬơớƯÀÁÂÃẢĂẳẵÈÉÊẺÌÍĨỳĐứÒÓÔạỷừửÙÚỹỵÝỡưàáâãảăữẫèéêẻìíĩỉđựòóôõỏọụùúũủýợỮ\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#¥%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}‾��������������������������������������������������������������������������������������������������������������������������������\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[¥]^_`abcdefghijklmnopqrstuvwxyz{|}‾��������������������������������������������������������������������������������������������������������������������������������\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \" ÀÂÈÊËÎÏ´ˋˆ¨˜ÙÛ₤¯Ýý°ÇçÑñ¡¿¤£¥§ƒ¢âêôûáéóúàèòùäëöüÅîØÆåíøæÄìÖÜÉïßÔÁÃãÐðÍÌÓÒÕõŠšÚŸÿÞþ·µ¶¾—¼½ªº«■»±�\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"��������������������������������������������������������������������������������������������������������������������������������\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"���������������������������������กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����\"\n  }\n}","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 common decode nodes.\n        var commonThirdByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        var commonFourthByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        // Fill out the tree\n        var firstByteNode = this.decodeTables[0];\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNode = this.decodeTables[NODE_START - firstByteNode[i]];\n            for (var j = 0x30; j <= 0x39; j++) {\n                if (secondByteNode[j] === UNASSIGNED) {\n                    secondByteNode[j] = NODE_START - commonThirdByteNodeIdx;\n                } else if (secondByteNode[j] > NODE_START) {\n                    throw new Error(\"gb18030 decode tables conflict at byte 2\");\n                }\n\n                var thirdByteNode = this.decodeTables[NODE_START - secondByteNode[j]];\n                for (var k = 0x81; k <= 0xFE; k++) {\n                    if (thirdByteNode[k] === UNASSIGNED) {\n                        thirdByteNode[k] = NODE_START - commonFourthByteNodeIdx;\n                    } else if (thirdByteNode[k] === NODE_START - commonFourthByteNodeIdx) {\n                        continue;\n                    } else if (thirdByteNode[k] > NODE_START) {\n                        throw new Error(\"gb18030 decode tables conflict at byte 3\");\n                    }\n\n                    var fourthByteNode = this.decodeTables[NODE_START - thirdByteNode[k]];\n                    for (var l = 0x30; l <= 0x39; l++) {\n                        if (fourthByteNode[l] === UNASSIGNED)\n                            fourthByteNode[l] = GB18030_CODE;\n                    }\n                }\n            }\n        }\n    }\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    var hasValues = false;\n    var subNodeEmpty = {};\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0) {\n            this._setEncodeChar(uCode, mbCode);\n            hasValues = true;\n        } else if (uCode <= NODE_START) {\n            var subNodeIdx = NODE_START - uCode;\n            if (!subNodeEmpty[subNodeIdx]) {  // Skip empty subtrees (they are too large in gb18030).\n                var newPrefix = (mbCode << 8) >>> 0;  // NOTE: '>>> 0' keeps 32-bit num positive.\n                if (this._fillEncodeTable(subNodeIdx, newPrefix, skipEncodeChars))\n                    hasValues = true;\n                else\n                    subNodeEmpty[subNodeIdx] = true;\n            }\n        } else if (uCode <= SEQ_START) {\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n            hasValues = true;\n        }\n    }\n    return hasValues;\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else if (dbcsCode < 0x1000000) {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        } else {\n            newBuf[j++] = dbcsCode >>> 24;\n            newBuf[j++] = (dbcsCode >>> 16) & 0xFF;\n            newBuf[j++] = (dbcsCode >>> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBytes = [];\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBytes = this.prevBytes, prevOffset = this.prevBytes.length,\n        seqStart = -this.prevBytes.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBytes[i + prevOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n            i = seqStart; // Skip one byte ('i' will be incremented by the for loop) and try to parse again.\n        }\n        else if (uCode === GB18030_CODE) {\n            if (i >= 3) {\n                var ptr = (buf[i-3]-0x81)*12600 + (buf[i-2]-0x30)*1260 + (buf[i-1]-0x81)*10 + (curByte-0x30);\n            } else {\n                var ptr = (prevBytes[i-3+prevOffset]-0x81)*12600 + \n                          (((i-2 >= 0) ? buf[i-2] : prevBytes[i-2+prevOffset])-0x30)*1260 + \n                          (((i-1 >= 0) ? buf[i-1] : prevBytes[i-1+prevOffset])-0x81)*10 + \n                          (curByte-0x30);\n            }\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode >= 0x10000) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 | (uCode >> 10);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 | (uCode & 0x3FF);\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBytes = (seqStart >= 0)\n        ? Array.prototype.slice.call(buf, seqStart)\n        : prevBytes.slice(seqStart + prevOffset).concat(Array.prototype.slice.call(buf));\n\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBytes.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var bytesArr = this.prevBytes.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBytes = [];\n        this.nodeIdx = 0;\n        if (bytesArr.length > 0)\n            ret += this.write(bytesArr);\n    }\n\n    this.prevBytes = [];\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + ((r-l+1) >> 1);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII + ¥ + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'€': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [\n            // Although Encoding Standard says we should avoid encoding to HKSCS area (See Step 1 of\n            // https://encoding.spec.whatwg.org/#index-big5-pointer), we still do it to increase compatibility with ICU.\n            // But if a single unicode point can be encoded both as HKSCS and regular Big5, we prefer the latter.\n            0x8e69, 0x8e6f, 0x8e7e, 0x8eab, 0x8eb4, 0x8ecd, 0x8ed0, 0x8f57, 0x8f69, 0x8f6e, 0x8fcb, 0x8ffe,\n            0x906d, 0x907a, 0x90c4, 0x90dc, 0x90f1, 0x91bf, 0x92af, 0x92b0, 0x92b1, 0x92b2, 0x92d1, 0x9447, 0x94ca,\n            0x95d9, 0x96fc, 0x9975, 0x9b76, 0x9b78, 0x9b7b, 0x9bc6, 0x9bde, 0x9bec, 0x9bf6, 0x9c42, 0x9c53, 0x9c62,\n            0x9c68, 0x9c6b, 0x9c77, 0x9cbc, 0x9cbd, 0x9cd0, 0x9d57, 0x9d5a, 0x9dc4, 0x9def, 0x9dfb, 0x9ea9, 0x9eef,\n            0x9efd, 0x9f60, 0x9fcb, 0xa077, 0xa0dc, 0xa0df, 0x8fcc, 0x92c8, 0x9644, 0x96ed,\n\n            // Step 2 of https://encoding.spec.whatwg.org/#index-big5-pointer: Use last pointer for U+2550, U+255E, U+2561, U+256A, U+5341, or U+5345\n            0xa2a4, 0xa2a5, 0xa2a7, 0xa2a6, 0xa2cc, 0xa2ce,\n        ],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf32\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it.\nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function(stream_module) {\n    var Transform = stream_module.Transform;\n\n    // == Encoder stream =======================================================\n\n    function IconvLiteEncoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n        Transform.call(this, options);\n    }\n\n    IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteEncoderStream }\n    });\n\n    IconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (typeof chunk != 'string')\n            return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype.collect = function(cb) {\n        var chunks = [];\n        this.on('error', cb);\n        this.on('data', function(chunk) { chunks.push(chunk); });\n        this.on('end', function() {\n            cb(null, Buffer.concat(chunks));\n        });\n        return this;\n    }\n\n\n    // == Decoder stream =======================================================\n\n    function IconvLiteDecoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.encoding = this.encoding = 'utf8'; // We output strings.\n        Transform.call(this, options);\n    }\n\n    IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteDecoderStream }\n    });\n\n    IconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array))\n            return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res, this.encoding);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res, this.encoding);                \n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype.collect = function(cb) {\n        var res = '';\n        this.on('error', cb);\n        this.on('data', function(chunk) { res += chunk; });\n        this.on('end', function() {\n            cb(null, res);\n        });\n        return this;\n    }\n\n    return {\n        IconvLiteEncoderStream: IconvLiteEncoderStream,\n        IconvLiteDecoderStream: IconvLiteDecoderStream,\n    };\n};\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '�';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n// Streaming API\n// NOTE: Streaming API naturally depends on 'stream' module from Node.js. Unfortunately in browser environments this module can add\n// up to 100Kb to the output bundle. To avoid unnecessary code bloat, we don't enable Streaming API in browser by default.\n// If you would like to enable it explicitly, please add the following code to your app:\n// > iconv.enableStreamingAPI(require('stream'));\niconv.enableStreamingAPI = function enableStreamingAPI(stream_module) {\n    if (iconv.supportsStreams)\n        return;\n\n    // Dependency-inject stream module to create IconvLite stream classes.\n    var streams = require(\"./streams\")(stream_module);\n\n    // Not public API yet, but expose the stream classes.\n    iconv.IconvLiteEncoderStream = streams.IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = streams.IconvLiteDecoderStream;\n\n    // Streaming API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new iconv.IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new iconv.IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n}\n\n// Enable Streaming API automatically if 'stream' module is available and non-empty (the majority of environments).\nvar stream_module;\ntry {\n    stream_module = require(\"stream\");\n} catch (e) {}\n\nif (stream_module && stream_module.Transform) {\n    iconv.enableStreamingAPI(stream_module);\n\n} else {\n    // In rare cases where 'stream' module is not available by default, throw a helpful exception.\n    iconv.encodeStream = iconv.decodeStream = function() {\n        throw new Error(\"iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.\");\n    };\n}\n\nif (\"Ā\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: js files use non-utf8 encoding. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = unpipe\n\n/**\n * Determine if there are Node.js pipe-like data listeners.\n * @private\n */\n\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data')\n\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Unpipe a stream from all destinations.\n *\n * @param {object} stream\n * @public\n */\n\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required')\n  }\n\n  if (typeof stream.unpipe === 'function') {\n    // new-style\n    stream.unpipe()\n    return\n  }\n\n  // Node.js 0.8 hack\n  if (!hasPipeDataListeners(stream)) {\n    return\n  }\n\n  var listener\n  var listeners = stream.listeners('close')\n\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i]\n\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue\n    }\n\n    // invoke the listener\n    listener.call(stream)\n  }\n}\n","/*!\n * raw-body\n * Copyright(c) 2013-2014 Jonathan Ong\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar bytes = require('bytes')\nvar createError = require('http-errors')\nvar iconv = require('iconv-lite')\nvar unpipe = require('unpipe')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getRawBody\n\n/**\n * Module variables.\n * @private\n */\n\nvar ICONV_ENCODING_MESSAGE_REGEXP = /^Encoding not recognized: /\n\n/**\n * Get the decoder for a given encoding.\n *\n * @param {string} encoding\n * @private\n */\n\nfunction getDecoder (encoding) {\n  if (!encoding) return null\n\n  try {\n    return iconv.getDecoder(encoding)\n  } catch (e) {\n    // error getting decoder\n    if (!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message)) throw e\n\n    // the encoding was not found\n    throw createError(415, 'specified encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n}\n\n/**\n * Get the raw body of a stream (typically HTTP).\n *\n * @param {object} stream\n * @param {object|string|function} [options]\n * @param {function} [callback]\n * @public\n */\n\nfunction getRawBody (stream, options, callback) {\n  var done = callback\n  var opts = options || {}\n\n  // light validation\n  if (stream === undefined) {\n    throw new TypeError('argument stream is required')\n  } else if (typeof stream !== 'object' || stream === null || typeof stream.on !== 'function') {\n    throw new TypeError('argument stream must be a stream')\n  }\n\n  if (options === true || typeof options === 'string') {\n    // short cut for encoding\n    opts = {\n      encoding: options\n    }\n  }\n\n  if (typeof options === 'function') {\n    done = options\n    opts = {}\n  }\n\n  // validate callback is a function, if provided\n  if (done !== undefined && typeof done !== 'function') {\n    throw new TypeError('argument callback must be a function')\n  }\n\n  // require the callback without promises\n  if (!done && !global.Promise) {\n    throw new TypeError('argument callback is required')\n  }\n\n  // get encoding\n  var encoding = opts.encoding !== true\n    ? opts.encoding\n    : 'utf-8'\n\n  // convert the limit to an integer\n  var limit = bytes.parse(opts.limit)\n\n  // convert the expected length to an integer\n  var length = opts.length != null && !isNaN(opts.length)\n    ? parseInt(opts.length, 10)\n    : null\n\n  if (done) {\n    // classic callback style\n    return readStream(stream, encoding, length, limit, wrap(done))\n  }\n\n  return new Promise(function executor (resolve, reject) {\n    readStream(stream, encoding, length, limit, function onRead (err, buf) {\n      if (err) return reject(err)\n      resolve(buf)\n    })\n  })\n}\n\n/**\n * Halt a stream.\n *\n * @param {Object} stream\n * @private\n */\n\nfunction halt (stream) {\n  // unpipe everything from the stream\n  unpipe(stream)\n\n  // pause stream\n  if (typeof stream.pause === 'function') {\n    stream.pause()\n  }\n}\n\n/**\n * Read the data from the stream.\n *\n * @param {object} stream\n * @param {string} encoding\n * @param {number} length\n * @param {number} limit\n * @param {function} callback\n * @public\n */\n\nfunction readStream (stream, encoding, length, limit, callback) {\n  var complete = false\n  var sync = true\n\n  // check the length and limit options.\n  // note: we intentionally leave the stream paused,\n  // so users should handle the stream themselves.\n  if (limit !== null && length !== null && length > limit) {\n    return done(createError(413, 'request entity too large', {\n      expected: length,\n      length: length,\n      limit: limit,\n      type: 'entity.too.large'\n    }))\n  }\n\n  // streams1: assert request encoding is buffer.\n  // streams2+: assert the stream encoding is buffer.\n  //   stream._decoder: streams1\n  //   state.encoding: streams2\n  //   state.decoder: streams2, specifically < 0.10.6\n  var state = stream._readableState\n  if (stream._decoder || (state && (state.encoding || state.decoder))) {\n    // developer error\n    return done(createError(500, 'stream encoding should not be set', {\n      type: 'stream.encoding.set'\n    }))\n  }\n\n  if (typeof stream.readable !== 'undefined' && !stream.readable) {\n    return done(createError(500, 'stream is not readable', {\n      type: 'stream.not.readable'\n    }))\n  }\n\n  var received = 0\n  var decoder\n\n  try {\n    decoder = getDecoder(encoding)\n  } catch (err) {\n    return done(err)\n  }\n\n  var buffer = decoder\n    ? ''\n    : []\n\n  // attach listeners\n  stream.on('aborted', onAborted)\n  stream.on('close', cleanup)\n  stream.on('data', onData)\n  stream.on('end', onEnd)\n  stream.on('error', onEnd)\n\n  // mark sync section complete\n  sync = false\n\n  function done () {\n    var args = new Array(arguments.length)\n\n    // copy arguments\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    // mark complete\n    complete = true\n\n    if (sync) {\n      process.nextTick(invokeCallback)\n    } else {\n      invokeCallback()\n    }\n\n    function invokeCallback () {\n      cleanup()\n\n      if (args[0]) {\n        // halt the stream on error\n        halt(stream)\n      }\n\n      callback.apply(null, args)\n    }\n  }\n\n  function onAborted () {\n    if (complete) return\n\n    done(createError(400, 'request aborted', {\n      code: 'ECONNABORTED',\n      expected: length,\n      length: length,\n      received: received,\n      type: 'request.aborted'\n    }))\n  }\n\n  function onData (chunk) {\n    if (complete) return\n\n    received += chunk.length\n\n    if (limit !== null && received > limit) {\n      done(createError(413, 'request entity too large', {\n        limit: limit,\n        received: received,\n        type: 'entity.too.large'\n      }))\n    } else if (decoder) {\n      buffer += decoder.write(chunk)\n    } else {\n      buffer.push(chunk)\n    }\n  }\n\n  function onEnd (err) {\n    if (complete) return\n    if (err) return done(err)\n\n    if (length !== null && received !== length) {\n      done(createError(400, 'request size did not match content length', {\n        expected: length,\n        length: length,\n        received: received,\n        type: 'request.size.invalid'\n      }))\n    } else {\n      var string = decoder\n        ? buffer + (decoder.end() || '')\n        : Buffer.concat(buffer)\n      done(null, string)\n    }\n  }\n\n  function cleanup () {\n    buffer = null\n\n    stream.removeListener('aborted', onAborted)\n    stream.removeListener('data', onData)\n    stream.removeListener('end', onEnd)\n    stream.removeListener('error', onEnd)\n    stream.removeListener('close', cleanup)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar getBody = require('raw-body')\nvar iconv = require('iconv-lite')\nvar onFinished = require('on-finished')\nvar zlib = require('node:zlib')\n\n/**\n * Module exports.\n */\n\nmodule.exports = read\n\n/**\n * Read a request into a buffer and parse.\n *\n * @param {object} req\n * @param {object} res\n * @param {function} next\n * @param {function} parse\n * @param {function} debug\n * @param {object} options\n * @private\n */\n\nfunction read (req, res, next, parse, debug, options) {\n  var length\n  var opts = options\n  var stream\n\n  // read options\n  var encoding = opts.encoding !== null\n    ? opts.encoding\n    : null\n  var verify = opts.verify\n\n  try {\n    // get the content stream\n    stream = contentstream(req, debug, opts.inflate)\n    length = stream.length\n    stream.length = undefined\n  } catch (err) {\n    return next(err)\n  }\n\n  // set raw-body options\n  opts.length = length\n  opts.encoding = verify\n    ? null\n    : encoding\n\n  // assert charset is supported\n  if (opts.encoding === null && encoding !== null && !iconv.encodingExists(encoding)) {\n    return next(createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n      charset: encoding.toLowerCase(),\n      type: 'charset.unsupported'\n    }))\n  }\n\n  // read body\n  debug('read body')\n  getBody(stream, opts, function (error, body) {\n    if (error) {\n      var _error\n\n      if (error.type === 'encoding.unsupported') {\n        // echo back charset\n        _error = createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n          charset: encoding.toLowerCase(),\n          type: 'charset.unsupported'\n        })\n      } else {\n        // set status code on error\n        _error = createError(400, error)\n      }\n\n      // unpipe from stream and destroy\n      if (stream !== req) {\n        req.unpipe()\n        stream.destroy()\n      }\n\n      // read off entire request\n      dump(req, function onfinished () {\n        next(createError(400, _error))\n      })\n      return\n    }\n\n    // verify\n    if (verify) {\n      try {\n        debug('verify body')\n        verify(req, res, body, encoding)\n      } catch (err) {\n        next(createError(403, err, {\n          body: body,\n          type: err.type || 'entity.verify.failed'\n        }))\n        return\n      }\n    }\n\n    // parse\n    var str = body\n    try {\n      debug('parse body')\n      str = typeof body !== 'string' && encoding !== null\n        ? iconv.decode(body, encoding)\n        : body\n      req.body = parse(str, encoding)\n    } catch (err) {\n      next(createError(400, err, {\n        body: str,\n        type: err.type || 'entity.parse.failed'\n      }))\n      return\n    }\n\n    next()\n  })\n}\n\n/**\n * Get the content stream of the request.\n *\n * @param {object} req\n * @param {function} debug\n * @param {boolean} [inflate=true]\n * @return {object}\n * @api private\n */\n\nfunction contentstream (req, debug, inflate) {\n  var encoding = (req.headers['content-encoding'] || 'identity').toLowerCase()\n  var length = req.headers['content-length']\n\n  debug('content-encoding \"%s\"', encoding)\n\n  if (inflate === false && encoding !== 'identity') {\n    throw createError(415, 'content encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n\n  if (encoding === 'identity') {\n    req.length = length\n    return req\n  }\n\n  var stream = createDecompressionStream(encoding, debug)\n  req.pipe(stream)\n  return stream\n}\n\n/**\n * Create a decompression stream for the given encoding.\n * @param {string} encoding\n * @param {function} debug\n * @return {object}\n * @api private\n */\nfunction createDecompressionStream (encoding, debug) {\n  switch (encoding) {\n    case 'deflate':\n      debug('inflate body')\n      return zlib.createInflate()\n    case 'gzip':\n      debug('gunzip body')\n      return zlib.createGunzip()\n    case 'br':\n      debug('brotli decompress body')\n      return zlib.createBrotliDecompress()\n    default:\n      throw createError(415, 'unsupported content encoding \"' + encoding + '\"', {\n        encoding: encoding,\n        type: 'encoding.unsupported'\n      })\n  }\n}\n\n/**\n * Dump the contents of a request.\n *\n * @param {object} req\n * @param {function} callback\n * @api private\n */\n\nfunction dump (req, callback) {\n  if (onFinished.isFinished(req)) {\n    callback(null)\n  } else {\n    onFinished(req, callback)\n    req.resume()\n  }\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/ // eslint-disable-line no-control-regex\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.slice(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value.charCodeAt(0) === 0x22 /* \" */) {\n        // remove quotes\n        value = value.slice(1, -1)\n\n        // remove escapes\n        if (value.indexOf('\\\\') !== -1) {\n          value = value.replace(QESC_REGEXP, '$1')\n        }\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","// 'mime-score' back-ported to CommonJS\n\n// Score RFC facets (see https://tools.ietf.org/html/rfc6838#section-3)\nvar FACET_SCORES = {\n  'prs.': 100,\n  'x-': 200,\n  'x.': 300,\n  'vnd.': 400,\n  default: 900\n}\n\n// Score mime source (Logic originally from `jshttp/mime-types` module)\nvar SOURCE_SCORES = {\n  nginx: 10,\n  apache: 20,\n  iana: 40,\n  default: 30 // definitions added by `jshttp/mime-db` project?\n}\n\nvar TYPE_SCORES = {\n  // prefer application/xml over text/xml\n  // prefer application/rtf over text/rtf\n  application: 1,\n\n  // prefer font/woff over application/font-woff\n  font: 2,\n\n  default: 0\n}\n\n/**\n * Get each component of the score for a mime type.  The sum of these is the\n * total score.  The higher the score, the more \"official\" the type.\n */\nmodule.exports = function mimeScore (mimeType, source = 'default') {\n  if (mimeType === 'application/octet-stream') {\n    return 0\n  }\n\n  const [type, subtype] = mimeType.split('/')\n\n  const facet = subtype.replace(/(\\.|x-).*/, '$1')\n\n  const facetScore = FACET_SCORES[facet] || FACET_SCORES.default\n  const sourceScore = SOURCE_SCORES[source] || SOURCE_SCORES.default\n  const typeScore = TYPE_SCORES[type] || TYPE_SCORES.default\n\n  // All else being equal prefer shorter types\n  const lengthScore = 1 - mimeType.length / 100\n\n  return facetScore + sourceScore + typeScore + lengthScore\n}\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\nvar mimeScore = require('./mimeScore')\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\nexports._extensionConflicts = []\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1 ? exports.lookup(str) : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .slice(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n      types[extension] = _preferredType(extension, types[extension], type)\n\n      // DELETE (eventually): Capture extension->type maps that change as a\n      // result of switching to mime-score.  This is just to help make reviewing\n      // PR #119 easier, and can be removed once that PR is approved.\n      const legacyType = _preferredTypeLegacy(\n        extension,\n        types[extension],\n        type\n      )\n      if (legacyType !== types[extension]) {\n        exports._extensionConflicts.push([extension, legacyType, types[extension]])\n      }\n    }\n  })\n}\n\n// Resolve type conflict using mime-score\nfunction _preferredType (ext, type0, type1) {\n  var score0 = type0 ? mimeScore(type0, db[type0].source) : 0\n  var score1 = type1 ? mimeScore(type1, db[type1].source) : 0\n\n  return score0 > score1 ? type0 : type1\n}\n\n// Resolve type conflict using pre-mime-score logic\nfunction _preferredTypeLegacy (ext, type0, type1) {\n  var SOURCE_RANK = ['nginx', 'apache', undefined, 'iana']\n\n  var score0 = type0 ? SOURCE_RANK.indexOf(db[type0].source) : 0\n  var score1 = type1 ? SOURCE_RANK.indexOf(db[type1].source) : 0\n\n  if (\n    exports.types[extension] !== 'application/octet-stream' &&\n    (score0 > score1 ||\n      (score0 === score1 &&\n        exports.types[extension]?.slice(0, 12) === 'application/'))\n  ) {\n    return type0\n  }\n\n  return score0 > score1 ? type0 : type1\n}\n","/*!\n * media-typer\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar SUBTYPE_NAME_REGEXP = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar TYPE_NAME_REGEXP = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar TYPE_REGEXP = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\nexports.test = test\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !TYPE_NAME_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !SUBTYPE_NAME_REGEXP.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!TYPE_NAME_REGEXP.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  return string\n}\n\n/**\n * Test media type.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction test (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  return TYPE_REGEXP.test(string.toLowerCase())\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var match = TYPE_REGEXP.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  return new MediaType(type, subtype, suffix)\n}\n\n/**\n * Class for MediaType object.\n * @public\n */\n\nfunction MediaType (type, subtype, suffix) {\n  this.type = type\n  this.subtype = subtype\n  this.suffix = suffix\n}\n","/*!\n * type-is\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar contentType = require('content-type')\nvar mime = require('mime-types')\nvar typer = require('media-typer')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = typeofrequest\nmodule.exports.is = typeis\nmodule.exports.hasBody = hasbody\nmodule.exports.normalize = normalize\nmodule.exports.match = mimeMatch\n\n/**\n * Compare a `value` content-type with `types`.\n * Each `type` can be an extension like `html`,\n * a special shortcut like `multipart` or `urlencoded`,\n * or a mime type.\n *\n * If no types match, `false` is returned.\n * Otherwise, the first `type` that matches is returned.\n *\n * @param {String} value\n * @param {Array} types\n * @public\n */\n\nfunction typeis (value, types_) {\n  var i\n  var types = types_\n\n  // remove parameters and normalize\n  var val = tryNormalizeType(value)\n\n  // no type or invalid\n  if (!val) {\n    return false\n  }\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length - 1)\n    for (i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // no types, return the content type\n  if (!types || !types.length) {\n    return val\n  }\n\n  var type\n  for (i = 0; i < types.length; i++) {\n    if (mimeMatch(normalize(type = types[i]), val)) {\n      return type[0] === '+' || type.indexOf('*') !== -1\n        ? val\n        : type\n    }\n  }\n\n  // no matches\n  return false\n}\n\n/**\n * Check if a request has a request body.\n * A request with a body __must__ either have `transfer-encoding`\n * or `content-length` headers set.\n * http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\n *\n * @param {Object} request\n * @return {Boolean}\n * @public\n */\n\nfunction hasbody (req) {\n  return req.headers['transfer-encoding'] !== undefined ||\n    !isNaN(req.headers['content-length'])\n}\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains any of the give mime `type`s.\n * If there is no request body, `null` is returned.\n * If there is no content type, `false` is returned.\n * Otherwise, it returns the first `type` that matches.\n *\n * Examples:\n *\n *     // With Content-Type: text/html; charset=utf-8\n *     this.is('html'); // => 'html'\n *     this.is('text/html'); // => 'text/html'\n *     this.is('text/*', 'application/json'); // => 'text/html'\n *\n *     // When Content-Type is application/json\n *     this.is('json', 'urlencoded'); // => 'json'\n *     this.is('application/json'); // => 'application/json'\n *     this.is('html', 'application/*'); // => 'application/json'\n *\n *     this.is('html'); // => false\n *\n * @param {Object} req\n * @param {(String|Array)} types...\n * @return {(String|false|null)}\n * @public\n */\n\nfunction typeofrequest (req, types_) {\n  // no body\n  if (!hasbody(req)) return null\n  // support flattened arguments\n  var types = arguments.length > 2\n    ? Array.prototype.slice.call(arguments, 1)\n    : types_\n  // request content type\n  var value = req.headers['content-type']\n\n  return typeis(value, types)\n}\n\n/**\n * Normalize a mime type.\n * If it's a shorthand, expand it to a valid mime type.\n *\n * In general, you probably want:\n *\n *   var type = is(req, ['urlencoded', 'json', 'multipart']);\n *\n * Then use the appropriate body parsers.\n * These three are the most common request body types\n * and are thus ensured to work.\n *\n * @param {String} type\n * @return {String|false|null}\n * @public\n */\n\nfunction normalize (type) {\n  if (typeof type !== 'string') {\n    // invalid type\n    return false\n  }\n\n  switch (type) {\n    case 'urlencoded':\n      return 'application/x-www-form-urlencoded'\n    case 'multipart':\n      return 'multipart/*'\n  }\n\n  if (type[0] === '+') {\n    // \"+json\" -> \"*/*+json\" expando\n    return '*/*' + type\n  }\n\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if `expected` mime type\n * matches `actual` mime type with\n * wildcard and +suffix support.\n *\n * @param {String} expected\n * @param {String} actual\n * @return {Boolean}\n * @public\n */\n\nfunction mimeMatch (expected, actual) {\n  // invalid type\n  if (expected === false) {\n    return false\n  }\n\n  // split types\n  var actualParts = actual.split('/')\n  var expectedParts = expected.split('/')\n\n  // invalid format\n  if (actualParts.length !== 2 || expectedParts.length !== 2) {\n    return false\n  }\n\n  // validate type\n  if (expectedParts[0] !== '*' && expectedParts[0] !== actualParts[0]) {\n    return false\n  }\n\n  // validate suffix wildcard\n  if (expectedParts[1].slice(0, 2) === '*+') {\n    return expectedParts[1].length <= actualParts[1].length + 1 &&\n      expectedParts[1].slice(1) === actualParts[1].slice(1 - expectedParts[1].length)\n  }\n\n  // validate subtype\n  if (expectedParts[1] !== '*' && expectedParts[1] !== actualParts[1]) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {(string|null)}\n * @private\n */\nfunction normalizeType (value) {\n  // Parse the type\n  var type = contentType.parse(value).type\n\n  return typer.test(type) ? type : null\n}\n\n/**\n * Try to normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {(string|null)}\n * @private\n */\nfunction tryNormalizeType (value) {\n  try {\n    return value ? normalizeType(value) : null\n  } catch (err) {\n    return null\n  }\n}\n","'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = {\n  getCharset,\n  normalizeOptions\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch {\n    return undefined\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string | string[]} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n\n/**\n * Normalizes the common options for all parsers.\n *\n * @param {object} options options to normalize\n * @param {string | string[] | function} defaultType default content type(s) or a function to determine it\n * @returns {object}\n */\nfunction normalizeOptions (options, defaultType) {\n  if (!defaultType) {\n    // Parsers must define a default content type\n    throw new TypeError('defaultType must be provided')\n  }\n\n  var inflate = options?.inflate !== false\n  var limit = typeof options?.limit !== 'number'\n    ? bytes.parse(options?.limit || '100kb')\n    : options?.limit\n  var type = options?.type || defaultType\n  var verify = options?.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  return {\n    inflate,\n    limit,\n    verify,\n    shouldParse\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:json')\nvar isFinished = require('on-finished').isFinished\nvar read = require('../read')\nvar typeis = require('type-is')\nvar { getCharset, normalizeOptions } = require('../utils')\n\n/**\n * Module exports.\n */\n\nmodule.exports = json\n\n/**\n * RegExp to match the first non-space in a string.\n *\n * Allowed whitespace is defined in RFC 7159:\n *\n *    ws = *(\n *            %x20 /              ; Space\n *            %x09 /              ; Horizontal tab\n *            %x0A /              ; Line feed or New line\n *            %x0D )              ; Carriage return\n */\n\nvar FIRST_CHAR_REGEXP = /^[\\x20\\x09\\x0a\\x0d]*([^\\x20\\x09\\x0a\\x0d])/ // eslint-disable-line no-control-regex\n\nvar JSON_SYNTAX_CHAR = '#'\nvar JSON_SYNTAX_REGEXP = /#+/g\n\n/**\n * Create a middleware to parse JSON bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction json (options) {\n  var { inflate, limit, verify, shouldParse } = normalizeOptions(options, 'application/json')\n\n  var reviver = options?.reviver\n  var strict = options?.strict !== false\n\n  function parse (body) {\n    if (body.length === 0) {\n      // special-case empty json body, as it's a common client-side mistake\n      // TODO: maybe make this configurable or part of \"strict\" option\n      return {}\n    }\n\n    if (strict) {\n      var first = firstchar(body)\n\n      if (first !== '{' && first !== '[') {\n        debug('strict violation')\n        throw createStrictSyntaxError(body, first)\n      }\n    }\n\n    try {\n      debug('parse json')\n      return JSON.parse(body, reviver)\n    } catch (e) {\n      throw normalizeJsonSyntaxError(e, {\n        message: e.message,\n        stack: e.stack\n      })\n    }\n  }\n\n  return function jsonParser (req, res, next) {\n    if (isFinished(req)) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    if (!('body' in req)) {\n      req.body = undefined\n    }\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset per RFC 7159 sec 8.1\n    var charset = getCharset(req) || 'utf-8'\n    if (charset.slice(0, 4) !== 'utf-') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate,\n      limit,\n      verify\n    })\n  }\n}\n\n/**\n * Create strict violation syntax error matching native error.\n *\n * @param {string} str\n * @param {string} char\n * @return {Error}\n * @private\n */\n\nfunction createStrictSyntaxError (str, char) {\n  var index = str.indexOf(char)\n  var partial = ''\n\n  if (index !== -1) {\n    partial = str.substring(0, index) + JSON_SYNTAX_CHAR\n\n    for (var i = index + 1; i < str.length; i++) {\n      partial += JSON_SYNTAX_CHAR\n    }\n  }\n\n  try {\n    JSON.parse(partial); /* istanbul ignore next */ throw new SyntaxError('strict violation')\n  } catch (e) {\n    return normalizeJsonSyntaxError(e, {\n      message: e.message.replace(JSON_SYNTAX_REGEXP, function (placeholder) {\n        return str.substring(index, index + placeholder.length)\n      }),\n      stack: e.stack\n    })\n  }\n}\n\n/**\n * Get the first non-whitespace character in a string.\n *\n * @param {string} str\n * @return {function}\n * @private\n */\n\nfunction firstchar (str) {\n  var match = FIRST_CHAR_REGEXP.exec(str)\n\n  return match\n    ? match[1]\n    : undefined\n}\n\n/**\n * Normalize a SyntaxError for JSON.parse.\n *\n * @param {SyntaxError} error\n * @param {object} obj\n * @return {SyntaxError}\n */\n\nfunction normalizeJsonSyntaxError (error, obj) {\n  var keys = Object.getOwnPropertyNames(error)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    if (key !== 'stack' && key !== 'message') {\n      delete error[key]\n    }\n  }\n\n  // replace stack before message for Node.js 0.10 and below\n  error.stack = obj.stack.replace(error.message, obj.message)\n  error.message = obj.message\n\n  return error\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('body-parser:raw')\nvar isFinished = require('on-finished').isFinished\nvar read = require('../read')\nvar typeis = require('type-is')\nvar { normalizeOptions } = require('../utils')\n\n/**\n * Module exports.\n */\n\nmodule.exports = raw\n\n/**\n * Create a middleware to parse raw bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction raw (options) {\n  var { inflate, limit, verify, shouldParse } = normalizeOptions(options, 'application/octet-stream')\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function rawParser (req, res, next) {\n    if (isFinished(req)) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    if (!('body' in req)) {\n      req.body = undefined\n    }\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: null,\n      inflate,\n      limit,\n      verify\n    })\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('body-parser:text')\nvar isFinished = require('on-finished').isFinished\nvar read = require('../read')\nvar typeis = require('type-is')\nvar { getCharset, normalizeOptions } = require('../utils')\n\n/**\n * Module exports.\n */\n\nmodule.exports = text\n\n/**\n * Create a middleware to parse text bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction text (options) {\n  var { inflate, limit, verify, shouldParse } = normalizeOptions(options, 'text/plain')\n\n  var defaultCharset = options?.defaultCharset || 'utf-8'\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function textParser (req, res, next) {\n    if (isFinished(req)) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    if (!('body' in req)) {\n      req.body = undefined\n    }\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // get charset\n    var charset = getCharset(req) || defaultCharset\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate,\n      limit,\n      verify\n    })\n  }\n}\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? { __proto__: null } : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object' && typeof source !== 'function') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if (\n                (options && (options.plainObjects || options.allowPrototypes))\n                || !has.call(Object.prototype, source)\n            ) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, defaultDecoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false,\n    throwOnLimitExceeded: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options, currentArrayLength) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    if (options.throwOnLimitExceeded && currentArrayLength >= options.arrayLimit) {\n        throw new RangeError('Array limit exceeded. Only ' + options.arrayLimit + ' element' + (options.arrayLimit === 1 ? '' : 's') + ' allowed in an array.');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(\n        options.delimiter,\n        options.throwOnLimitExceeded ? limit + 1 : limit\n    );\n\n    if (options.throwOnLimitExceeded && parts.length > limit) {\n        throw new RangeError('Parameter limit exceeded. Only ' + limit + ' parameter' + (limit === 1 ? '' : 's') + ' allowed.');\n    }\n\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key;\n        var val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n\n            val = utils.maybeMap(\n                parseArrayValue(\n                    part.slice(pos + 1),\n                    options,\n                    isArray(obj[key]) ? obj[key].length : 0\n                ),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(String(val));\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var currentArrayLength = 0;\n    if (chain.length > 0 && chain[chain.length - 1] === '[]') {\n        var parentKey = chain.slice(0, -1).join('');\n        currentArrayLength = Array.isArray(val) && val[parentKey] ? val[parentKey].length : 0;\n    }\n\n    var leaf = valuesParsed ? val : parseArrayValue(val, options, currentArrayLength);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : utils.combine([], leaf);\n        } else {\n            obj = options.plainObjects ? { __proto__: null } : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof opts.throwOnLimitExceeded !== 'undefined' && typeof opts.throwOnLimitExceeded !== 'boolean') {\n        throw new TypeError('`throwOnLimitExceeded` option must be a boolean');\n    }\n\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n        throwOnLimitExceeded: typeof opts.throwOnLimitExceeded === 'boolean' ? opts.throwOnLimitExceeded : false\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? { __proto__: null } : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? { __proto__: null } : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:urlencoded')\nvar isFinished = require('on-finished').isFinished\nvar read = require('../read')\nvar typeis = require('type-is')\nvar qs = require('qs')\nvar { getCharset, normalizeOptions } = require('../utils')\n\n/**\n * Module exports.\n */\n\nmodule.exports = urlencoded\n\n/**\n * Create a middleware to parse urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction urlencoded (options) {\n  var { inflate, limit, verify, shouldParse } = normalizeOptions(options, 'application/x-www-form-urlencoded')\n\n  var defaultCharset = options?.defaultCharset || 'utf-8'\n  if (defaultCharset !== 'utf-8' && defaultCharset !== 'iso-8859-1') {\n    throw new TypeError('option defaultCharset must be either utf-8 or iso-8859-1')\n  }\n\n  // create the appropriate query parser\n  var queryparse = createQueryParser(options)\n\n  function parse (body, encoding) {\n    return body.length\n      ? queryparse(body, encoding)\n      : {}\n  }\n\n  return function urlencodedParser (req, res, next) {\n    if (isFinished(req)) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    if (!('body' in req)) {\n      req.body = undefined\n    }\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset\n    var charset = getCharset(req) || defaultCharset\n    if (charset !== 'utf-8' && charset !== 'iso-8859-1') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate,\n      limit,\n      verify\n    })\n  }\n}\n\n/**\n * Get the extended query parser.\n *\n * @param {object} options\n */\n\nfunction createQueryParser (options) {\n  var extended = Boolean(options?.extended)\n  var parameterLimit = options?.parameterLimit !== undefined\n    ? options?.parameterLimit\n    : 1000\n  var charsetSentinel = options?.charsetSentinel\n  var interpretNumericEntities = options?.interpretNumericEntities\n  var depth = extended ? (options?.depth !== undefined ? options?.depth : 32) : 0\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isNaN(depth) || depth < 0) {\n    throw new TypeError('option depth must be a zero or a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body, encoding) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    var arrayLimit = extended ? Math.max(100, paramCount) : 0\n\n    debug('parse ' + (extended ? 'extended ' : '') + 'urlencoding')\n    try {\n      return qs.parse(body, {\n        allowPrototypes: true,\n        arrayLimit: arrayLimit,\n        depth: depth,\n        charsetSentinel: charsetSentinel,\n        interpretNumericEntities: interpretNumericEntities,\n        charset: encoding,\n        parameterLimit: parameterLimit,\n        strictDepth: true\n      })\n    } catch (err) {\n      if (err instanceof RangeError) {\n        throw createError(400, 'The input exceeded the depth', {\n          type: 'querystring.parse.rangeError'\n        })\n      } else {\n        throw err\n      }\n    }\n  }\n}\n\n/**\n * Count the number of parameters, stopping once limit reached\n *\n * @param {string} body\n * @param {number} limit\n * @api private\n */\n\nfunction parameterCount (body, limit) {\n  var len = body.split('&').length\n\n  return len > limit ? undefined : len - 1\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * @typedef Parsers\n * @type {function}\n * @property {function} json\n * @property {function} raw\n * @property {function} text\n * @property {function} urlencoded\n */\n\n/**\n * Module exports.\n * @type {Parsers}\n */\n\nexports = module.exports = bodyParser\n\n/**\n * JSON parser.\n * @public\n */\n\nObject.defineProperty(exports, 'json', {\n  configurable: true,\n  enumerable: true,\n  get: () => require('./lib/types/json')\n})\n\n/**\n * Raw parser.\n * @public\n */\n\nObject.defineProperty(exports, 'raw', {\n  configurable: true,\n  enumerable: true,\n  get: () => require('./lib/types/raw')\n})\n\n/**\n * Text parser.\n * @public\n */\n\nObject.defineProperty(exports, 'text', {\n  configurable: true,\n  enumerable: true,\n  get: () => require('./lib/types/text')\n})\n\n/**\n * URL-encoded parser.\n * @public\n */\n\nObject.defineProperty(exports, 'urlencoded', {\n  configurable: true,\n  enumerable: true,\n  get: () => require('./lib/types/urlencoded')\n})\n\n/**\n * Create a middleware to parse json and urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @deprecated\n * @public\n */\n\nfunction bodyParser () {\n  throw new Error('The bodyParser() generic has been split into individual middleware to use instead.')\n}\n","'use strict';\n\nfunction mergeDescriptors(destination, source, overwrite = true) {\n\tif (!destination) {\n\t\tthrow new TypeError('The `destination` argument is required.');\n\t}\n\n\tif (!source) {\n\t\tthrow new TypeError('The `source` argument is required.');\n\t}\n\n\tfor (const name of Object.getOwnPropertyNames(source)) {\n\t\tif (!overwrite && Object.hasOwn(destination, name)) {\n\t\t\t// Skip descriptor\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Copy descriptor\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(source, name);\n\t\tObject.defineProperty(destination, name, descriptor);\n\t}\n\n\treturn destination;\n}\n\nmodule.exports = mergeDescriptors;\n","/*!\n * encodeurl\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = encodeUrl\n\n/**\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\n * and including invalid escape sequences.\n * @private\n */\n\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x23-\\x3B\\x3D\\x3F-\\x5F\\x61-\\x7A\\x7C\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g\n\n/**\n * RegExp to match unmatched surrogate pair.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g\n\n/**\n * String to replace unmatched surrogate pair with.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2'\n\n/**\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\n *\n * This function will take an already-encoded URL and encode all the non-URL\n * code points. This function will not encode the \"%\" character unless it is\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\n * be encoded as `%25foo`).\n *\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\n * hard as it can to properly encode the given URL, including replacing any raw,\n * unpaired surrogate pairs with the Unicode replacement character prior to\n * encoding.\n *\n * @param {string} url\n * @return {string}\n * @public\n */\n\nfunction encodeUrl (url) {\n  return String(url)\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\n}\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar url = require('url')\nvar parse = url.parse\nvar Url = url.Url\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = parseurl\nmodule.exports.original = originalurl\n\n/**\n * Parse the `req` url with memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction parseurl (req) {\n  var url = req.url\n\n  if (url === undefined) {\n    // URL is undefined\n    return undefined\n  }\n\n  var parsed = req._parsedUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedUrl = parsed)\n};\n\n/**\n * Parse the `req` original url with fallback and memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction originalurl (req) {\n  var url = req.originalUrl\n\n  if (typeof url !== 'string') {\n    // Fallback\n    return parseurl(req)\n  }\n\n  var parsed = req._parsedOriginalUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedOriginalUrl = parsed)\n};\n\n/**\n * Parse the `str` url with fast-path short-cut.\n *\n * @param {string} str\n * @return {Object}\n * @private\n */\n\nfunction fastparse (str) {\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\n    return parse(str)\n  }\n\n  var pathname = str\n  var query = null\n  var search = null\n\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\n  // And unrolls it into a for loop\n  for (var i = 1; i < str.length; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x3f: /* ?  */\n        if (search === null) {\n          pathname = str.substring(0, i)\n          query = str.substring(i + 1)\n          search = str.substring(i)\n        }\n        break\n      case 0x09: /* \\t */\n      case 0x0a: /* \\n */\n      case 0x0c: /* \\f */\n      case 0x0d: /* \\r */\n      case 0x20: /*    */\n      case 0x23: /* #  */\n      case 0xa0:\n      case 0xfeff:\n        return parse(str)\n    }\n  }\n\n  var url = Url !== undefined\n    ? new Url()\n    : {}\n\n  url.path = str\n  url.href = str\n  url.pathname = pathname\n\n  if (search !== null) {\n    url.query = query\n    url.search = search\n  }\n\n  return url\n}\n\n/**\n * Determine if parsed is still fresh for url.\n *\n * @param {string} url\n * @param {object} parsedUrl\n * @return {boolean}\n * @private\n */\n\nfunction fresh (url, parsedUrl) {\n  return typeof parsedUrl === 'object' &&\n    parsedUrl !== null &&\n    (Url === undefined || parsedUrl instanceof Url) &&\n    parsedUrl._raw === url\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","/*!\n * finalhandler\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('finalhandler')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar onFinished = require('on-finished')\nvar parseUrl = require('parseurl')\nvar statuses = require('statuses')\n\n/**\n * Module variables.\n * @private\n */\n\nvar isFinished = onFinished.isFinished\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} message\n * @private\n */\n\nfunction createHtmlDocument (message) {\n  var body = escapeHtml(message)\n    .replaceAll('\\n', '<br>')\n    .replaceAll('  ', ' &nbsp;')\n\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>Error</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = finalhandler\n\n/**\n * Create a function to handle the final response.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {Object} [options]\n * @return {Function}\n * @public\n */\n\nfunction finalhandler (req, res, options) {\n  var opts = options || {}\n\n  // get environment\n  var env = opts.env || process.env.NODE_ENV || 'development'\n\n  // get error callback\n  var onerror = opts.onerror\n\n  return function (err) {\n    var headers\n    var msg\n    var status\n\n    // ignore 404 on in-flight response\n    if (!err && res.headersSent) {\n      debug('cannot 404 after headers sent')\n      return\n    }\n\n    // unhandled error\n    if (err) {\n      // respect status code from error\n      status = getErrorStatusCode(err)\n\n      if (status === undefined) {\n        // fallback to status code on response\n        status = getResponseStatusCode(res)\n      } else {\n        // respect headers from error\n        headers = getErrorHeaders(err)\n      }\n\n      // get error message\n      msg = getErrorMessage(err, status, env)\n    } else {\n      // not found\n      status = 404\n      msg = 'Cannot ' + req.method + ' ' + encodeUrl(getResourceName(req))\n    }\n\n    debug('default %s', status)\n\n    // schedule onerror callback\n    if (err && onerror) {\n      setImmediate(onerror, err, req, res)\n    }\n\n    // cannot actually respond\n    if (res.headersSent) {\n      debug('cannot %d after headers sent', status)\n      if (req.socket) {\n        req.socket.destroy()\n      }\n      return\n    }\n\n    // send response\n    send(req, res, status, headers, msg)\n  }\n}\n\n/**\n * Get headers from Error object.\n *\n * @param {Error} err\n * @return {object}\n * @private\n */\n\nfunction getErrorHeaders (err) {\n  if (!err.headers || typeof err.headers !== 'object') {\n    return undefined\n  }\n\n  return { ...err.headers }\n}\n\n/**\n * Get message from Error object, fallback to status message.\n *\n * @param {Error} err\n * @param {number} status\n * @param {string} env\n * @return {string}\n * @private\n */\n\nfunction getErrorMessage (err, status, env) {\n  var msg\n\n  if (env !== 'production') {\n    // use err.stack, which typically includes err.message\n    msg = err.stack\n\n    // fallback to err.toString() when possible\n    if (!msg && typeof err.toString === 'function') {\n      msg = err.toString()\n    }\n  }\n\n  return msg || statuses.message[status]\n}\n\n/**\n * Get status code from Error object.\n *\n * @param {Error} err\n * @return {number}\n * @private\n */\n\nfunction getErrorStatusCode (err) {\n  // check err.status\n  if (typeof err.status === 'number' && err.status >= 400 && err.status < 600) {\n    return err.status\n  }\n\n  // check err.statusCode\n  if (typeof err.statusCode === 'number' && err.statusCode >= 400 && err.statusCode < 600) {\n    return err.statusCode\n  }\n\n  return undefined\n}\n\n/**\n * Get resource name for the request.\n *\n * This is typically just the original pathname of the request\n * but will fallback to \"resource\" is that cannot be determined.\n *\n * @param {IncomingMessage} req\n * @return {string}\n * @private\n */\n\nfunction getResourceName (req) {\n  try {\n    return parseUrl.original(req).pathname\n  } catch (e) {\n    return 'resource'\n  }\n}\n\n/**\n * Get status code from response.\n *\n * @param {OutgoingMessage} res\n * @return {number}\n * @private\n */\n\nfunction getResponseStatusCode (res) {\n  var status = res.statusCode\n\n  // default status code to 500 if outside valid range\n  if (typeof status !== 'number' || status < 400 || status > 599) {\n    status = 500\n  }\n\n  return status\n}\n\n/**\n * Send response.\n *\n * @param {IncomingMessage} req\n * @param {OutgoingMessage} res\n * @param {number} status\n * @param {object} headers\n * @param {string} message\n * @private\n */\n\nfunction send (req, res, status, headers, message) {\n  function write () {\n    // response body\n    var body = createHtmlDocument(message)\n\n    // response status\n    res.statusCode = status\n\n    if (req.httpVersionMajor < 2) {\n      res.statusMessage = statuses.message[status]\n    }\n\n    // remove any content headers\n    res.removeHeader('Content-Encoding')\n    res.removeHeader('Content-Language')\n    res.removeHeader('Content-Range')\n\n    // response headers\n    for (const [key, value] of Object.entries(headers ?? {})) {\n      res.setHeader(key, value)\n    }\n\n    // security headers\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n\n    // standard headers\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(body, 'utf8'))\n\n    if (req.method === 'HEAD') {\n      res.end()\n      return\n    }\n\n    res.end(body, 'utf8')\n  }\n\n  if (isFinished(req)) {\n    write()\n    return\n  }\n\n  // unpipe everything from the request\n  req.unpipe()\n\n  // flush the request\n  onFinished(req, write)\n  req.resume()\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('express:view');\nvar path = require('node:path');\nvar fs = require('node:fs');\n\n/**\n * Module variables.\n * @private\n */\n\nvar dirname = path.dirname;\nvar basename = path.basename;\nvar extname = path.extname;\nvar join = path.join;\nvar resolve = path.resolve;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = View;\n\n/**\n * Initialize a new `View` with the given `name`.\n *\n * Options:\n *\n *   - `defaultEngine` the default template engine name\n *   - `engines` template engine require() cache\n *   - `root` root path for view lookup\n *\n * @param {string} name\n * @param {object} options\n * @public\n */\n\nfunction View(name, options) {\n  var opts = options || {};\n\n  this.defaultEngine = opts.defaultEngine;\n  this.ext = extname(name);\n  this.name = name;\n  this.root = opts.root;\n\n  if (!this.ext && !this.defaultEngine) {\n    throw new Error('No default engine was specified and no extension was provided.');\n  }\n\n  var fileName = name;\n\n  if (!this.ext) {\n    // get extension from default engine name\n    this.ext = this.defaultEngine[0] !== '.'\n      ? '.' + this.defaultEngine\n      : this.defaultEngine;\n\n    fileName += this.ext;\n  }\n\n  if (!opts.engines[this.ext]) {\n    // load engine\n    var mod = this.ext.slice(1)\n    debug('require \"%s\"', mod)\n\n    // default engine export\n    var fn = require(mod).__express\n\n    if (typeof fn !== 'function') {\n      throw new Error('Module \"' + mod + '\" does not provide a view engine.')\n    }\n\n    opts.engines[this.ext] = fn\n  }\n\n  // store loaded engine\n  this.engine = opts.engines[this.ext];\n\n  // lookup path\n  this.path = this.lookup(fileName);\n}\n\n/**\n * Lookup view by the given `name`\n *\n * @param {string} name\n * @private\n */\n\nView.prototype.lookup = function lookup(name) {\n  var path;\n  var roots = [].concat(this.root);\n\n  debug('lookup \"%s\"', name);\n\n  for (var i = 0; i < roots.length && !path; i++) {\n    var root = roots[i];\n\n    // resolve the path\n    var loc = resolve(root, name);\n    var dir = dirname(loc);\n    var file = basename(loc);\n\n    // resolve the file\n    path = this.resolve(dir, file);\n  }\n\n  return path;\n};\n\n/**\n * Render with the given options.\n *\n * @param {object} options\n * @param {function} callback\n * @private\n */\n\nView.prototype.render = function render(options, callback) {\n  var sync = true;\n\n  debug('render \"%s\"', this.path);\n\n  // render, normalizing sync callbacks\n  this.engine(this.path, options, function onRender() {\n    if (!sync) {\n      return callback.apply(this, arguments);\n    }\n\n    // copy arguments\n    var args = new Array(arguments.length);\n    var cntx = this;\n\n    for (var i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    // force callback to be async\n    return process.nextTick(function renderTick() {\n      return callback.apply(cntx, args);\n    });\n  });\n\n  sync = false;\n};\n\n/**\n * Resolve the file within the given directory.\n *\n * @param {string} dir\n * @param {string} file\n * @private\n */\n\nView.prototype.resolve = function resolve(dir, file) {\n  var ext = this.ext;\n\n  // <path>.<ext>\n  var path = join(dir, file);\n  var stat = tryStat(path);\n\n  if (stat && stat.isFile()) {\n    return path;\n  }\n\n  // <path>/index.<ext>\n  path = join(dir, basename(file, ext), 'index' + ext);\n  stat = tryStat(path);\n\n  if (stat && stat.isFile()) {\n    return path;\n  }\n};\n\n/**\n * Return a stat, maybe.\n *\n * @param {string} path\n * @return {fs.Stats}\n * @private\n */\n\nfunction tryStat(path) {\n  debug('stat \"%s\"', path);\n\n  try {\n    return fs.statSync(path);\n  } catch (e) {\n    return undefined;\n  }\n}\n","/*!\n * etag\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = etag\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar crypto = require('crypto')\nvar Stats = require('fs').Stats\n\n/**\n * Module variables.\n * @private\n */\n\nvar toString = Object.prototype.toString\n\n/**\n * Generate an entity tag.\n *\n * @param {Buffer|string} entity\n * @return {string}\n * @private\n */\n\nfunction entitytag (entity) {\n  if (entity.length === 0) {\n    // fast-path empty\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"'\n  }\n\n  // compute hash of entity\n  var hash = crypto\n    .createHash('sha1')\n    .update(entity, 'utf8')\n    .digest('base64')\n    .substring(0, 27)\n\n  // compute length of entity\n  var len = typeof entity === 'string'\n    ? Buffer.byteLength(entity, 'utf8')\n    : entity.length\n\n  return '\"' + len.toString(16) + '-' + hash + '\"'\n}\n\n/**\n * Create a simple ETag.\n *\n * @param {string|Buffer|Stats} entity\n * @param {object} [options]\n * @param {boolean} [options.weak]\n * @return {String}\n * @public\n */\n\nfunction etag (entity, options) {\n  if (entity == null) {\n    throw new TypeError('argument entity is required')\n  }\n\n  // support fs.Stats object\n  var isStats = isstats(entity)\n  var weak = options && typeof options.weak === 'boolean'\n    ? options.weak\n    : isStats\n\n  // validate argument\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\n  }\n\n  // generate entity tag\n  var tag = isStats\n    ? stattag(entity)\n    : entitytag(entity)\n\n  return weak\n    ? 'W/' + tag\n    : tag\n}\n\n/**\n * Determine if object is a Stats object.\n *\n * @param {object} obj\n * @return {boolean}\n * @api private\n */\n\nfunction isstats (obj) {\n  // genuine fs.Stats\n  if (typeof Stats === 'function' && obj instanceof Stats) {\n    return true\n  }\n\n  // quack quack\n  return obj && typeof obj === 'object' &&\n    'ctime' in obj && toString.call(obj.ctime) === '[object Date]' &&\n    'mtime' in obj && toString.call(obj.mtime) === '[object Date]' &&\n    'ino' in obj && typeof obj.ino === 'number' &&\n    'size' in obj && typeof obj.size === 'number'\n}\n\n/**\n * Generate a tag for a stat.\n *\n * @param {object} stat\n * @return {string}\n * @private\n */\n\nfunction stattag (stat) {\n  var mtime = stat.mtime.getTime().toString(16)\n  var size = stat.size.toString(16)\n\n  return '\"' + size + '-' + mtime + '\"'\n}\n","/*!\n * forwarded\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = forwarded\n\n/**\n * Get all addresses in the request, using the `X-Forwarded-For` header.\n *\n * @param {object} req\n * @return {array}\n * @public\n */\n\nfunction forwarded (req) {\n  if (!req) {\n    throw new TypeError('argument req is required')\n  }\n\n  // simple header parsing\n  var proxyAddrs = parse(req.headers['x-forwarded-for'] || '')\n  var socketAddr = getSocketAddr(req)\n  var addrs = [socketAddr].concat(proxyAddrs)\n\n  // return all addresses\n  return addrs\n}\n\n/**\n * Get the socket address for a request.\n *\n * @param {object} req\n * @return {string}\n * @private\n */\n\nfunction getSocketAddr (req) {\n  return req.socket\n    ? req.socket.remoteAddress\n    : req.connection.remoteAddress\n}\n\n/**\n * Parse the X-Forwarded-For header.\n *\n * @param {string} header\n * @private\n */\n\nfunction parse (header) {\n  var end = header.length\n  var list = []\n  var start = header.length\n\n  // gather addresses, backwards\n  for (var i = header.length - 1; i >= 0; i--) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i\n        }\n        break\n      case 0x2c: /* , */\n        if (start !== end) {\n          list.push(header.substring(start, end))\n        }\n        start = end = i\n        break\n      default:\n        start = i\n        break\n    }\n  }\n\n  // final address\n  if (start !== end) {\n    list.push(header.substring(start, end))\n  }\n\n  return list\n}\n","(function() {\n  var expandIPv6, ipaddr, ipv4Part, ipv4Regexes, ipv6Part, ipv6Regexes, matchCIDR, root, zoneIndex;\n\n  ipaddr = {};\n\n  root = this;\n\n  if ((typeof module !== \"undefined\" && module !== null) && module.exports) {\n    module.exports = ipaddr;\n  } else {\n    root['ipaddr'] = ipaddr;\n  }\n\n  matchCIDR = function(first, second, partSize, cidrBits) {\n    var part, shift;\n    if (first.length !== second.length) {\n      throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");\n    }\n    part = 0;\n    while (cidrBits > 0) {\n      shift = partSize - cidrBits;\n      if (shift < 0) {\n        shift = 0;\n      }\n      if (first[part] >> shift !== second[part] >> shift) {\n        return false;\n      }\n      cidrBits -= partSize;\n      part += 1;\n    }\n    return true;\n  };\n\n  ipaddr.subnetMatch = function(address, rangeList, defaultName) {\n    var k, len, rangeName, rangeSubnets, subnet;\n    if (defaultName == null) {\n      defaultName = 'unicast';\n    }\n    for (rangeName in rangeList) {\n      rangeSubnets = rangeList[rangeName];\n      if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {\n        rangeSubnets = [rangeSubnets];\n      }\n      for (k = 0, len = rangeSubnets.length; k < len; k++) {\n        subnet = rangeSubnets[k];\n        if (address.kind() === subnet[0].kind()) {\n          if (address.match.apply(address, subnet)) {\n            return rangeName;\n          }\n        }\n      }\n    }\n    return defaultName;\n  };\n\n  ipaddr.IPv4 = (function() {\n    function IPv4(octets) {\n      var k, len, octet;\n      if (octets.length !== 4) {\n        throw new Error(\"ipaddr: ipv4 octet count should be 4\");\n      }\n      for (k = 0, len = octets.length; k < len; k++) {\n        octet = octets[k];\n        if (!((0 <= octet && octet <= 255))) {\n          throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");\n        }\n      }\n      this.octets = octets;\n    }\n\n    IPv4.prototype.kind = function() {\n      return 'ipv4';\n    };\n\n    IPv4.prototype.toString = function() {\n      return this.octets.join(\".\");\n    };\n\n    IPv4.prototype.toNormalizedString = function() {\n      return this.toString();\n    };\n\n    IPv4.prototype.toByteArray = function() {\n      return this.octets.slice(0);\n    };\n\n    IPv4.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv4') {\n        throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");\n      }\n      return matchCIDR(this.octets, other.octets, 8, cidrRange);\n    };\n\n    IPv4.prototype.SpecialRanges = {\n      unspecified: [[new IPv4([0, 0, 0, 0]), 8]],\n      broadcast: [[new IPv4([255, 255, 255, 255]), 32]],\n      multicast: [[new IPv4([224, 0, 0, 0]), 4]],\n      linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],\n      loopback: [[new IPv4([127, 0, 0, 0]), 8]],\n      carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],\n      \"private\": [[new IPv4([10, 0, 0, 0]), 8], [new IPv4([172, 16, 0, 0]), 12], [new IPv4([192, 168, 0, 0]), 16]],\n      reserved: [[new IPv4([192, 0, 0, 0]), 24], [new IPv4([192, 0, 2, 0]), 24], [new IPv4([192, 88, 99, 0]), 24], [new IPv4([198, 51, 100, 0]), 24], [new IPv4([203, 0, 113, 0]), 24], [new IPv4([240, 0, 0, 0]), 4]]\n    };\n\n    IPv4.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv4.prototype.toIPv4MappedAddress = function() {\n      return ipaddr.IPv6.parse(\"::ffff:\" + (this.toString()));\n    };\n\n    IPv4.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, octet, stop, zeros, zerotable;\n      zerotable = {\n        0: 8,\n        128: 7,\n        192: 6,\n        224: 5,\n        240: 4,\n        248: 3,\n        252: 2,\n        254: 1,\n        255: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 3; k >= 0; i = k += -1) {\n        octet = this.octets[i];\n        if (octet in zerotable) {\n          zeros = zerotable[octet];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 8) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 32 - cidr;\n    };\n\n    return IPv4;\n\n  })();\n\n  ipv4Part = \"(0?\\\\d+|0x[a-f0-9]+)\";\n\n  ipv4Regexes = {\n    fourOctet: new RegExp(\"^\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"$\", 'i'),\n    longValue: new RegExp(\"^\" + ipv4Part + \"$\", 'i')\n  };\n\n  ipaddr.IPv4.parser = function(string) {\n    var match, parseIntAuto, part, shift, value;\n    parseIntAuto = function(string) {\n      if (string[0] === \"0\" && string[1] !== \"x\") {\n        return parseInt(string, 8);\n      } else {\n        return parseInt(string);\n      }\n    };\n    if (match = string.match(ipv4Regexes.fourOctet)) {\n      return (function() {\n        var k, len, ref, results;\n        ref = match.slice(1, 6);\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(parseIntAuto(part));\n        }\n        return results;\n      })();\n    } else if (match = string.match(ipv4Regexes.longValue)) {\n      value = parseIntAuto(match[1]);\n      if (value > 0xffffffff || value < 0) {\n        throw new Error(\"ipaddr: address outside defined range\");\n      }\n      return ((function() {\n        var k, results;\n        results = [];\n        for (shift = k = 0; k <= 24; shift = k += 8) {\n          results.push((value >> shift) & 0xff);\n        }\n        return results;\n      })()).reverse();\n    } else {\n      return null;\n    }\n  };\n\n  ipaddr.IPv6 = (function() {\n    function IPv6(parts, zoneId) {\n      var i, k, l, len, part, ref;\n      if (parts.length === 16) {\n        this.parts = [];\n        for (i = k = 0; k <= 14; i = k += 2) {\n          this.parts.push((parts[i] << 8) | parts[i + 1]);\n        }\n      } else if (parts.length === 8) {\n        this.parts = parts;\n      } else {\n        throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");\n      }\n      ref = this.parts;\n      for (l = 0, len = ref.length; l < len; l++) {\n        part = ref[l];\n        if (!((0 <= part && part <= 0xffff))) {\n          throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");\n        }\n      }\n      if (zoneId) {\n        this.zoneId = zoneId;\n      }\n    }\n\n    IPv6.prototype.kind = function() {\n      return 'ipv6';\n    };\n\n    IPv6.prototype.toString = function() {\n      return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/, '::');\n    };\n\n    IPv6.prototype.toRFC5952String = function() {\n      var bestMatchIndex, bestMatchLength, match, regex, string;\n      regex = /((^|:)(0(:|$)){2,})/g;\n      string = this.toNormalizedString();\n      bestMatchIndex = 0;\n      bestMatchLength = -1;\n      while ((match = regex.exec(string))) {\n        if (match[0].length > bestMatchLength) {\n          bestMatchIndex = match.index;\n          bestMatchLength = match[0].length;\n        }\n      }\n      if (bestMatchLength < 0) {\n        return string;\n      }\n      return string.substring(0, bestMatchIndex) + '::' + string.substring(bestMatchIndex + bestMatchLength);\n    };\n\n    IPv6.prototype.toByteArray = function() {\n      var bytes, k, len, part, ref;\n      bytes = [];\n      ref = this.parts;\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        bytes.push(part >> 8);\n        bytes.push(part & 0xff);\n      }\n      return bytes;\n    };\n\n    IPv6.prototype.toNormalizedString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.toFixedLengthString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16).padStart(4, '0'));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv6') {\n        throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");\n      }\n      return matchCIDR(this.parts, other.parts, 16, cidrRange);\n    };\n\n    IPv6.prototype.SpecialRanges = {\n      unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],\n      linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],\n      multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],\n      loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],\n      uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],\n      ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],\n      rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],\n      rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],\n      '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],\n      teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],\n      reserved: [[new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32]]\n    };\n\n    IPv6.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv6.prototype.isIPv4MappedAddress = function() {\n      return this.range() === 'ipv4Mapped';\n    };\n\n    IPv6.prototype.toIPv4Address = function() {\n      var high, low, ref;\n      if (!this.isIPv4MappedAddress()) {\n        throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");\n      }\n      ref = this.parts.slice(-2), high = ref[0], low = ref[1];\n      return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);\n    };\n\n    IPv6.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, part, stop, zeros, zerotable;\n      zerotable = {\n        0: 16,\n        32768: 15,\n        49152: 14,\n        57344: 13,\n        61440: 12,\n        63488: 11,\n        64512: 10,\n        65024: 9,\n        65280: 8,\n        65408: 7,\n        65472: 6,\n        65504: 5,\n        65520: 4,\n        65528: 3,\n        65532: 2,\n        65534: 1,\n        65535: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 7; k >= 0; i = k += -1) {\n        part = this.parts[i];\n        if (part in zerotable) {\n          zeros = zerotable[part];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 16) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 128 - cidr;\n    };\n\n    return IPv6;\n\n  })();\n\n  ipv6Part = \"(?:[0-9a-f]+::?)+\";\n\n  zoneIndex = \"%[0-9a-z]{1,}\";\n\n  ipv6Regexes = {\n    zoneIndex: new RegExp(zoneIndex, 'i'),\n    \"native\": new RegExp(\"^(::)?(\" + ipv6Part + \")?([0-9a-f]+)?(::)?(\" + zoneIndex + \")?$\", 'i'),\n    transitional: new RegExp((\"^((?:\" + ipv6Part + \")|(?:::)(?:\" + ipv6Part + \")?)\") + (ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part) + (\"(\" + zoneIndex + \")?$\"), 'i')\n  };\n\n  expandIPv6 = function(string, parts) {\n    var colonCount, lastColon, part, replacement, replacementCount, zoneId;\n    if (string.indexOf('::') !== string.lastIndexOf('::')) {\n      return null;\n    }\n    zoneId = (string.match(ipv6Regexes['zoneIndex']) || [])[0];\n    if (zoneId) {\n      zoneId = zoneId.substring(1);\n      string = string.replace(/%.+$/, '');\n    }\n    colonCount = 0;\n    lastColon = -1;\n    while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {\n      colonCount++;\n    }\n    if (string.substr(0, 2) === '::') {\n      colonCount--;\n    }\n    if (string.substr(-2, 2) === '::') {\n      colonCount--;\n    }\n    if (colonCount > parts) {\n      return null;\n    }\n    replacementCount = parts - colonCount;\n    replacement = ':';\n    while (replacementCount--) {\n      replacement += '0:';\n    }\n    string = string.replace('::', replacement);\n    if (string[0] === ':') {\n      string = string.slice(1);\n    }\n    if (string[string.length - 1] === ':') {\n      string = string.slice(0, -1);\n    }\n    parts = (function() {\n      var k, len, ref, results;\n      ref = string.split(\":\");\n      results = [];\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        results.push(parseInt(part, 16));\n      }\n      return results;\n    })();\n    return {\n      parts: parts,\n      zoneId: zoneId\n    };\n  };\n\n  ipaddr.IPv6.parser = function(string) {\n    var addr, k, len, match, octet, octets, zoneId;\n    if (ipv6Regexes['native'].test(string)) {\n      return expandIPv6(string, 8);\n    } else if (match = string.match(ipv6Regexes['transitional'])) {\n      zoneId = match[6] || '';\n      addr = expandIPv6(match[1].slice(0, -1) + zoneId, 6);\n      if (addr.parts) {\n        octets = [parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseInt(match[5])];\n        for (k = 0, len = octets.length; k < len; k++) {\n          octet = octets[k];\n          if (!((0 <= octet && octet <= 255))) {\n            return null;\n          }\n        }\n        addr.parts.push(octets[0] << 8 | octets[1]);\n        addr.parts.push(octets[2] << 8 | octets[3]);\n        return {\n          parts: addr.parts,\n          zoneId: addr.zoneId\n        };\n      }\n    }\n    return null;\n  };\n\n  ipaddr.IPv4.isIPv4 = ipaddr.IPv6.isIPv6 = function(string) {\n    return this.parser(string) !== null;\n  };\n\n  ipaddr.IPv4.isValid = function(string) {\n    var e;\n    try {\n      new this(this.parser(string));\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.isValidFourPartDecimal = function(string) {\n    if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  ipaddr.IPv6.isValid = function(string) {\n    var addr, e;\n    if (typeof string === \"string\" && string.indexOf(\":\") === -1) {\n      return false;\n    }\n    try {\n      addr = this.parser(string);\n      new this(addr.parts, addr.zoneId);\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.parse = function(string) {\n    var parts;\n    parts = this.parser(string);\n    if (parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(parts);\n  };\n\n  ipaddr.IPv6.parse = function(string) {\n    var addr;\n    addr = this.parser(string);\n    if (addr.parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(addr.parts, addr.zoneId);\n  };\n\n  ipaddr.IPv4.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 32) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\");\n  };\n\n  ipaddr.IPv4.subnetMaskFromPrefixLength = function(prefix) {\n    var filledOctetCount, j, octets;\n    prefix = parseInt(prefix);\n    if (prefix < 0 || prefix > 32) {\n      throw new Error('ipaddr: invalid IPv4 prefix length');\n    }\n    octets = [0, 0, 0, 0];\n    j = 0;\n    filledOctetCount = Math.floor(prefix / 8);\n    while (j < filledOctetCount) {\n      octets[j] = 255;\n      j++;\n    }\n    if (filledOctetCount < 4) {\n      octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);\n    }\n    return new this(octets);\n  };\n\n  ipaddr.IPv4.broadcastAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv4.networkAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv6.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 128) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\");\n  };\n\n  ipaddr.isValid = function(string) {\n    return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);\n  };\n\n  ipaddr.parse = function(string) {\n    if (ipaddr.IPv6.isValid(string)) {\n      return ipaddr.IPv6.parse(string);\n    } else if (ipaddr.IPv4.isValid(string)) {\n      return ipaddr.IPv4.parse(string);\n    } else {\n      throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\");\n    }\n  };\n\n  ipaddr.parseCIDR = function(string) {\n    var e;\n    try {\n      return ipaddr.IPv6.parseCIDR(string);\n    } catch (error1) {\n      e = error1;\n      try {\n        return ipaddr.IPv4.parseCIDR(string);\n      } catch (error1) {\n        e = error1;\n        throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\");\n      }\n    }\n  };\n\n  ipaddr.fromByteArray = function(bytes) {\n    var length;\n    length = bytes.length;\n    if (length === 4) {\n      return new ipaddr.IPv4(bytes);\n    } else if (length === 16) {\n      return new ipaddr.IPv6(bytes);\n    } else {\n      throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\");\n    }\n  };\n\n  ipaddr.process = function(string) {\n    var addr;\n    addr = this.parse(string);\n    if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {\n      return addr.toIPv4Address();\n    } else {\n      return addr;\n    }\n  };\n\n}).call(this);\n","/*!\n * proxy-addr\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = proxyaddr\nmodule.exports.all = alladdrs\nmodule.exports.compile = compile\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar forwarded = require('forwarded')\nvar ipaddr = require('ipaddr.js')\n\n/**\n * Variables.\n * @private\n */\n\nvar DIGIT_REGEXP = /^[0-9]+$/\nvar isip = ipaddr.isValid\nvar parseip = ipaddr.parse\n\n/**\n * Pre-defined IP ranges.\n * @private\n */\n\nvar IP_RANGES = {\n  linklocal: ['169.254.0.0/16', 'fe80::/10'],\n  loopback: ['127.0.0.1/8', '::1/128'],\n  uniquelocal: ['10.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16', 'fc00::/7']\n}\n\n/**\n * Get all addresses in the request, optionally stopping\n * at the first untrusted.\n *\n * @param {Object} request\n * @param {Function|Array|String} [trust]\n * @public\n */\n\nfunction alladdrs (req, trust) {\n  // get addresses\n  var addrs = forwarded(req)\n\n  if (!trust) {\n    // Return all addresses\n    return addrs\n  }\n\n  if (typeof trust !== 'function') {\n    trust = compile(trust)\n  }\n\n  for (var i = 0; i < addrs.length - 1; i++) {\n    if (trust(addrs[i], i)) continue\n\n    addrs.length = i + 1\n  }\n\n  return addrs\n}\n\n/**\n * Compile argument into trust function.\n *\n * @param {Array|String} val\n * @private\n */\n\nfunction compile (val) {\n  if (!val) {\n    throw new TypeError('argument is required')\n  }\n\n  var trust\n\n  if (typeof val === 'string') {\n    trust = [val]\n  } else if (Array.isArray(val)) {\n    trust = val.slice()\n  } else {\n    throw new TypeError('unsupported trust argument')\n  }\n\n  for (var i = 0; i < trust.length; i++) {\n    val = trust[i]\n\n    if (!Object.prototype.hasOwnProperty.call(IP_RANGES, val)) {\n      continue\n    }\n\n    // Splice in pre-defined range\n    val = IP_RANGES[val]\n    trust.splice.apply(trust, [i, 1].concat(val))\n    i += val.length - 1\n  }\n\n  return compileTrust(compileRangeSubnets(trust))\n}\n\n/**\n * Compile `arr` elements into range subnets.\n *\n * @param {Array} arr\n * @private\n */\n\nfunction compileRangeSubnets (arr) {\n  var rangeSubnets = new Array(arr.length)\n\n  for (var i = 0; i < arr.length; i++) {\n    rangeSubnets[i] = parseipNotation(arr[i])\n  }\n\n  return rangeSubnets\n}\n\n/**\n * Compile range subnet array into trust function.\n *\n * @param {Array} rangeSubnets\n * @private\n */\n\nfunction compileTrust (rangeSubnets) {\n  // Return optimized function based on length\n  var len = rangeSubnets.length\n  return len === 0\n    ? trustNone\n    : len === 1\n      ? trustSingle(rangeSubnets[0])\n      : trustMulti(rangeSubnets)\n}\n\n/**\n * Parse IP notation string into range subnet.\n *\n * @param {String} note\n * @private\n */\n\nfunction parseipNotation (note) {\n  var pos = note.lastIndexOf('/')\n  var str = pos !== -1\n    ? note.substring(0, pos)\n    : note\n\n  if (!isip(str)) {\n    throw new TypeError('invalid IP address: ' + str)\n  }\n\n  var ip = parseip(str)\n\n  if (pos === -1 && ip.kind() === 'ipv6' && ip.isIPv4MappedAddress()) {\n    // Store as IPv4\n    ip = ip.toIPv4Address()\n  }\n\n  var max = ip.kind() === 'ipv6'\n    ? 128\n    : 32\n\n  var range = pos !== -1\n    ? note.substring(pos + 1, note.length)\n    : null\n\n  if (range === null) {\n    range = max\n  } else if (DIGIT_REGEXP.test(range)) {\n    range = parseInt(range, 10)\n  } else if (ip.kind() === 'ipv4' && isip(range)) {\n    range = parseNetmask(range)\n  } else {\n    range = null\n  }\n\n  if (range <= 0 || range > max) {\n    throw new TypeError('invalid range on address: ' + note)\n  }\n\n  return [ip, range]\n}\n\n/**\n * Parse netmask string into CIDR range.\n *\n * @param {String} netmask\n * @private\n */\n\nfunction parseNetmask (netmask) {\n  var ip = parseip(netmask)\n  var kind = ip.kind()\n\n  return kind === 'ipv4'\n    ? ip.prefixLengthFromSubnetMask()\n    : null\n}\n\n/**\n * Determine address of proxied request.\n *\n * @param {Object} request\n * @param {Function|Array|String} trust\n * @public\n */\n\nfunction proxyaddr (req, trust) {\n  if (!req) {\n    throw new TypeError('req argument is required')\n  }\n\n  if (!trust) {\n    throw new TypeError('trust argument is required')\n  }\n\n  var addrs = alladdrs(req, trust)\n  var addr = addrs[addrs.length - 1]\n\n  return addr\n}\n\n/**\n * Static trust function to trust nothing.\n *\n * @private\n */\n\nfunction trustNone () {\n  return false\n}\n\n/**\n * Compile trust function for multiple subnets.\n *\n * @param {Array} subnets\n * @private\n */\n\nfunction trustMulti (subnets) {\n  return function trust (addr) {\n    if (!isip(addr)) return false\n\n    var ip = parseip(addr)\n    var ipconv\n    var kind = ip.kind()\n\n    for (var i = 0; i < subnets.length; i++) {\n      var subnet = subnets[i]\n      var subnetip = subnet[0]\n      var subnetkind = subnetip.kind()\n      var subnetrange = subnet[1]\n      var trusted = ip\n\n      if (kind !== subnetkind) {\n        if (subnetkind === 'ipv4' && !ip.isIPv4MappedAddress()) {\n          // Incompatible IP addresses\n          continue\n        }\n\n        if (!ipconv) {\n          // Convert IP to match subnet IP kind\n          ipconv = subnetkind === 'ipv4'\n            ? ip.toIPv4Address()\n            : ip.toIPv4MappedAddress()\n        }\n\n        trusted = ipconv\n      }\n\n      if (trusted.match(subnetip, subnetrange)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n/**\n * Compile trust function for single subnet.\n *\n * @param {Object} subnet\n * @private\n */\n\nfunction trustSingle (subnet) {\n  var subnetip = subnet[0]\n  var subnetkind = subnetip.kind()\n  var subnetisipv4 = subnetkind === 'ipv4'\n  var subnetrange = subnet[1]\n\n  return function trust (addr) {\n    if (!isip(addr)) return false\n\n    var ip = parseip(addr)\n    var kind = ip.kind()\n\n    if (kind !== subnetkind) {\n      if (subnetisipv4 && !ip.isIPv4MappedAddress()) {\n        // Incompatible IP addresses\n        return false\n      }\n\n      // Convert IP to match subnet IP kind\n      ip = subnetisipv4\n        ? ip.toIPv4Address()\n        : ip.toIPv4MappedAddress()\n    }\n\n    return ip.match(subnetip, subnetrange)\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @api private\n */\n\nvar { METHODS } = require('node:http');\nvar contentType = require('content-type');\nvar etag = require('etag');\nvar mime = require('mime-types')\nvar proxyaddr = require('proxy-addr');\nvar qs = require('qs');\nvar querystring = require('querystring');\n\n/**\n * A list of lowercased HTTP methods that are supported by Node.js.\n * @api private\n */\nexports.methods = METHODS.map((method) => method.toLowerCase());\n\n/**\n * Return strong ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.etag = createETagGenerator({ weak: false })\n\n/**\n * Return weak ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.wetag = createETagGenerator({ weak: true })\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: (mime.lookup(type) || 'application/octet-stream'), params: {} }\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types) {\n  return types.map(exports.normalizeType);\n};\n\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams (str) {\n  var length = str.length;\n  var colonIndex = str.indexOf(';');\n  var index = colonIndex === -1 ? length : colonIndex;\n  var ret = { value: str.slice(0, index).trim(), quality: 1, params: {} };\n\n  while (index < length) {\n    var splitIndex = str.indexOf('=', index);\n    if (splitIndex === -1) break;\n\n    var colonIndex = str.indexOf(';', index);\n    var endIndex = colonIndex === -1 ? length : colonIndex;\n\n    if (splitIndex > endIndex) {\n      index = str.lastIndexOf(';', splitIndex - 1) + 1;\n      continue;\n    }\n\n    var key = str.slice(index, splitIndex).trim();\n    var value = str.slice(splitIndex + 1, endIndex).trim();\n\n    if (key === 'q') {\n      ret.quality = parseFloat(value);\n    } else {\n      ret.params[key] = value;\n    }\n\n    index = endIndex + 1;\n  }\n\n  return ret;\n}\n\n/**\n * Compile \"etag\" value to function.\n *\n * @param  {Boolean|String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileETag = function(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n    case 'weak':\n      fn = exports.wetag;\n      break;\n    case false:\n      break;\n    case 'strong':\n      fn = exports.etag;\n      break;\n    default:\n      throw new TypeError('unknown value for etag function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"query parser\" value to function.\n *\n * @param  {String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileQueryParser = function compileQueryParser(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n    case 'simple':\n      fn = querystring.parse;\n      break;\n    case false:\n      break;\n    case 'extended':\n      fn = parseExtendedQueryString;\n      break;\n    default:\n      throw new TypeError('unknown value for query parser function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"proxy trust\" value to function.\n *\n * @param  {Boolean|String|Number|Array|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileTrust = function(val) {\n  if (typeof val === 'function') return val;\n\n  if (val === true) {\n    // Support plain true/false\n    return function(){ return true };\n  }\n\n  if (typeof val === 'number') {\n    // Support trusting hop count\n    return function(a, i){ return i < val };\n  }\n\n  if (typeof val === 'string') {\n    // Support comma-separated values\n    val = val.split(',')\n      .map(function (v) { return v.trim() })\n  }\n\n  return proxyaddr.compile(val || []);\n}\n\n/**\n * Set the charset in a given Content-Type string.\n *\n * @param {String} type\n * @param {String} charset\n * @return {String}\n * @api private\n */\n\nexports.setCharset = function setCharset(type, charset) {\n  if (!type || !charset) {\n    return type;\n  }\n\n  // parse type\n  var parsed = contentType.parse(type);\n\n  // set charset\n  parsed.parameters.charset = charset;\n\n  // format type\n  return contentType.format(parsed);\n};\n\n/**\n * Create an ETag generator function, generating ETags with\n * the given options.\n *\n * @param {object} options\n * @return {function}\n * @private\n */\n\nfunction createETagGenerator (options) {\n  return function generateETag (body, encoding) {\n    var buf = !Buffer.isBuffer(body)\n      ? Buffer.from(body, encoding)\n      : body\n\n    return etag(buf, options)\n  }\n}\n\n/**\n * Parse an extended query string with qs.\n *\n * @param {String} str\n * @return {Object}\n * @private\n */\n\nfunction parseExtendedQueryString(str) {\n  return qs.parse(str, {\n    allowPrototypes: true\n  });\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","module.exports = isPromise;\nmodule.exports.default = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TokenData = void 0;\nexports.parse = parse;\nexports.compile = compile;\nexports.match = match;\nexports.pathToRegexp = pathToRegexp;\nexports.stringify = stringify;\nconst DEFAULT_DELIMITER = \"/\";\nconst NOOP_VALUE = (value) => value;\nconst ID_START = /^[$_\\p{ID_Start}]$/u;\nconst ID_CONTINUE = /^[$\\u200c\\u200d\\p{ID_Continue}]$/u;\nconst DEBUG_URL = \"https://git.new/pathToRegexpError\";\nconst SIMPLE_TOKENS = {\n    // Groups.\n    \"{\": \"{\",\n    \"}\": \"}\",\n    // Reserved.\n    \"(\": \"(\",\n    \")\": \")\",\n    \"[\": \"[\",\n    \"]\": \"]\",\n    \"+\": \"+\",\n    \"?\": \"?\",\n    \"!\": \"!\",\n};\n/**\n * Escape text for stringify to path.\n */\nfunction escapeText(str) {\n    return str.replace(/[{}()\\[\\]+?!:*]/g, \"\\\\$&\");\n}\n/**\n * Escape a regular expression string.\n */\nfunction escape(str) {\n    return str.replace(/[.+*?^${}()[\\]|/\\\\]/g, \"\\\\$&\");\n}\n/**\n * Tokenize input string.\n */\nfunction* lexer(str) {\n    const chars = [...str];\n    let i = 0;\n    function name() {\n        let value = \"\";\n        if (ID_START.test(chars[++i])) {\n            value += chars[i];\n            while (ID_CONTINUE.test(chars[++i])) {\n                value += chars[i];\n            }\n        }\n        else if (chars[i] === '\"') {\n            let pos = i;\n            while (i < chars.length) {\n                if (chars[++i] === '\"') {\n                    i++;\n                    pos = 0;\n                    break;\n                }\n                if (chars[i] === \"\\\\\") {\n                    value += chars[++i];\n                }\n                else {\n                    value += chars[i];\n                }\n            }\n            if (pos) {\n                throw new TypeError(`Unterminated quote at ${pos}: ${DEBUG_URL}`);\n            }\n        }\n        if (!value) {\n            throw new TypeError(`Missing parameter name at ${i}: ${DEBUG_URL}`);\n        }\n        return value;\n    }\n    while (i < chars.length) {\n        const value = chars[i];\n        const type = SIMPLE_TOKENS[value];\n        if (type) {\n            yield { type, index: i++, value };\n        }\n        else if (value === \"\\\\\") {\n            yield { type: \"ESCAPED\", index: i++, value: chars[i++] };\n        }\n        else if (value === \":\") {\n            const value = name();\n            yield { type: \"PARAM\", index: i, value };\n        }\n        else if (value === \"*\") {\n            const value = name();\n            yield { type: \"WILDCARD\", index: i, value };\n        }\n        else {\n            yield { type: \"CHAR\", index: i, value: chars[i++] };\n        }\n    }\n    return { type: \"END\", index: i, value: \"\" };\n}\nclass Iter {\n    constructor(tokens) {\n        this.tokens = tokens;\n    }\n    peek() {\n        if (!this._peek) {\n            const next = this.tokens.next();\n            this._peek = next.value;\n        }\n        return this._peek;\n    }\n    tryConsume(type) {\n        const token = this.peek();\n        if (token.type !== type)\n            return;\n        this._peek = undefined; // Reset after consumed.\n        return token.value;\n    }\n    consume(type) {\n        const value = this.tryConsume(type);\n        if (value !== undefined)\n            return value;\n        const { type: nextType, index } = this.peek();\n        throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}: ${DEBUG_URL}`);\n    }\n    text() {\n        let result = \"\";\n        let value;\n        while ((value = this.tryConsume(\"CHAR\") || this.tryConsume(\"ESCAPED\"))) {\n            result += value;\n        }\n        return result;\n    }\n}\n/**\n * Tokenized path instance.\n */\nclass TokenData {\n    constructor(tokens) {\n        this.tokens = tokens;\n    }\n}\nexports.TokenData = TokenData;\n/**\n * Parse a string for the raw tokens.\n */\nfunction parse(str, options = {}) {\n    const { encodePath = NOOP_VALUE } = options;\n    const it = new Iter(lexer(str));\n    function consume(endType) {\n        const tokens = [];\n        while (true) {\n            const path = it.text();\n            if (path)\n                tokens.push({ type: \"text\", value: encodePath(path) });\n            const param = it.tryConsume(\"PARAM\");\n            if (param) {\n                tokens.push({\n                    type: \"param\",\n                    name: param,\n                });\n                continue;\n            }\n            const wildcard = it.tryConsume(\"WILDCARD\");\n            if (wildcard) {\n                tokens.push({\n                    type: \"wildcard\",\n                    name: wildcard,\n                });\n                continue;\n            }\n            const open = it.tryConsume(\"{\");\n            if (open) {\n                tokens.push({\n                    type: \"group\",\n                    tokens: consume(\"}\"),\n                });\n                continue;\n            }\n            it.consume(endType);\n            return tokens;\n        }\n    }\n    const tokens = consume(\"END\");\n    return new TokenData(tokens);\n}\n/**\n * Compile a string to a template function for the path.\n */\nfunction compile(path, options = {}) {\n    const { encode = encodeURIComponent, delimiter = DEFAULT_DELIMITER } = options;\n    const data = path instanceof TokenData ? path : parse(path, options);\n    const fn = tokensToFunction(data.tokens, delimiter, encode);\n    return function path(data = {}) {\n        const [path, ...missing] = fn(data);\n        if (missing.length) {\n            throw new TypeError(`Missing parameters: ${missing.join(\", \")}`);\n        }\n        return path;\n    };\n}\nfunction tokensToFunction(tokens, delimiter, encode) {\n    const encoders = tokens.map((token) => tokenToFunction(token, delimiter, encode));\n    return (data) => {\n        const result = [\"\"];\n        for (const encoder of encoders) {\n            const [value, ...extras] = encoder(data);\n            result[0] += value;\n            result.push(...extras);\n        }\n        return result;\n    };\n}\n/**\n * Convert a single token into a path building function.\n */\nfunction tokenToFunction(token, delimiter, encode) {\n    if (token.type === \"text\")\n        return () => [token.value];\n    if (token.type === \"group\") {\n        const fn = tokensToFunction(token.tokens, delimiter, encode);\n        return (data) => {\n            const [value, ...missing] = fn(data);\n            if (!missing.length)\n                return [value];\n            return [\"\"];\n        };\n    }\n    const encodeValue = encode || NOOP_VALUE;\n    if (token.type === \"wildcard\" && encode !== false) {\n        return (data) => {\n            const value = data[token.name];\n            if (value == null)\n                return [\"\", token.name];\n            if (!Array.isArray(value) || value.length === 0) {\n                throw new TypeError(`Expected \"${token.name}\" to be a non-empty array`);\n            }\n            return [\n                value\n                    .map((value, index) => {\n                    if (typeof value !== \"string\") {\n                        throw new TypeError(`Expected \"${token.name}/${index}\" to be a string`);\n                    }\n                    return encodeValue(value);\n                })\n                    .join(delimiter),\n            ];\n        };\n    }\n    return (data) => {\n        const value = data[token.name];\n        if (value == null)\n            return [\"\", token.name];\n        if (typeof value !== \"string\") {\n            throw new TypeError(`Expected \"${token.name}\" to be a string`);\n        }\n        return [encodeValue(value)];\n    };\n}\n/**\n * Transform a path into a match function.\n */\nfunction match(path, options = {}) {\n    const { decode = decodeURIComponent, delimiter = DEFAULT_DELIMITER } = options;\n    const { regexp, keys } = pathToRegexp(path, options);\n    const decoders = keys.map((key) => {\n        if (decode === false)\n            return NOOP_VALUE;\n        if (key.type === \"param\")\n            return decode;\n        return (value) => value.split(delimiter).map(decode);\n    });\n    return function match(input) {\n        const m = regexp.exec(input);\n        if (!m)\n            return false;\n        const path = m[0];\n        const params = Object.create(null);\n        for (let i = 1; i < m.length; i++) {\n            if (m[i] === undefined)\n                continue;\n            const key = keys[i - 1];\n            const decoder = decoders[i - 1];\n            params[key.name] = decoder(m[i]);\n        }\n        return { path, params };\n    };\n}\nfunction pathToRegexp(path, options = {}) {\n    const { delimiter = DEFAULT_DELIMITER, end = true, sensitive = false, trailing = true, } = options;\n    const keys = [];\n    const sources = [];\n    const flags = sensitive ? \"\" : \"i\";\n    const paths = Array.isArray(path) ? path : [path];\n    const items = paths.map((path) => path instanceof TokenData ? path : parse(path, options));\n    for (const { tokens } of items) {\n        for (const seq of flatten(tokens, 0, [])) {\n            const regexp = sequenceToRegExp(seq, delimiter, keys);\n            sources.push(regexp);\n        }\n    }\n    let pattern = `^(?:${sources.join(\"|\")})`;\n    if (trailing)\n        pattern += `(?:${escape(delimiter)}$)?`;\n    pattern += end ? \"$\" : `(?=${escape(delimiter)}|$)`;\n    const regexp = new RegExp(pattern, flags);\n    return { regexp, keys };\n}\n/**\n * Generate a flat list of sequence tokens from the given tokens.\n */\nfunction* flatten(tokens, index, init) {\n    if (index === tokens.length) {\n        return yield init;\n    }\n    const token = tokens[index];\n    if (token.type === \"group\") {\n        const fork = init.slice();\n        for (const seq of flatten(token.tokens, 0, fork)) {\n            yield* flatten(tokens, index + 1, seq);\n        }\n    }\n    else {\n        init.push(token);\n    }\n    yield* flatten(tokens, index + 1, init);\n}\n/**\n * Transform a flat sequence of tokens into a regular expression.\n */\nfunction sequenceToRegExp(tokens, delimiter, keys) {\n    let result = \"\";\n    let backtrack = \"\";\n    let isSafeSegmentParam = true;\n    for (let i = 0; i < tokens.length; i++) {\n        const token = tokens[i];\n        if (token.type === \"text\") {\n            result += escape(token.value);\n            backtrack += token.value;\n            isSafeSegmentParam || (isSafeSegmentParam = token.value.includes(delimiter));\n            continue;\n        }\n        if (token.type === \"param\" || token.type === \"wildcard\") {\n            if (!isSafeSegmentParam && !backtrack) {\n                throw new TypeError(`Missing text after \"${token.name}\": ${DEBUG_URL}`);\n            }\n            if (token.type === \"param\") {\n                result += `(${negate(delimiter, isSafeSegmentParam ? \"\" : backtrack)}+)`;\n            }\n            else {\n                result += `([\\\\s\\\\S]+)`;\n            }\n            keys.push(token);\n            backtrack = \"\";\n            isSafeSegmentParam = false;\n            continue;\n        }\n    }\n    return result;\n}\nfunction negate(delimiter, backtrack) {\n    if (backtrack.length < 2) {\n        if (delimiter.length < 2)\n            return `[^${escape(delimiter + backtrack)}]`;\n        return `(?:(?!${escape(delimiter)})[^${escape(backtrack)}])`;\n    }\n    if (delimiter.length < 2) {\n        return `(?:(?!${escape(backtrack)})[^${escape(delimiter)}])`;\n    }\n    return `(?:(?!${escape(backtrack)}|${escape(delimiter)})[\\\\s\\\\S])`;\n}\n/**\n * Stringify token data into a path string.\n */\nfunction stringify(data) {\n    return data.tokens\n        .map(function stringifyToken(token, index, tokens) {\n        if (token.type === \"text\")\n            return escapeText(token.value);\n        if (token.type === \"group\") {\n            return `{${token.tokens.map(stringifyToken).join(\"\")}}`;\n        }\n        const isSafe = isNameSafe(token.name) && isNextNameSafe(tokens[index + 1]);\n        const key = isSafe ? token.name : JSON.stringify(token.name);\n        if (token.type === \"param\")\n            return `:${key}`;\n        if (token.type === \"wildcard\")\n            return `*${key}`;\n        throw new TypeError(`Unexpected token: ${token}`);\n    })\n        .join(\"\");\n}\nfunction isNameSafe(name) {\n    const [first, ...rest] = name;\n    if (!ID_START.test(first))\n        return false;\n    return rest.every((char) => ID_CONTINUE.test(char));\n}\nfunction isNextNameSafe(token) {\n    if ((token === null || token === void 0 ? void 0 : token.type) !== \"text\")\n        return true;\n    return !ID_CONTINUE.test(token.value[0]);\n}\n//# sourceMappingURL=index.js.map","/*!\n * router\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nconst isPromise = require('is-promise')\nconst pathRegexp = require('path-to-regexp')\nconst debug = require('debug')('router:layer')\nconst deprecate = require('depd')('router')\n\n/**\n * Module variables.\n * @private\n */\n\nconst TRAILING_SLASH_REGEXP = /\\/+$/\nconst MATCHING_GROUP_REGEXP = /\\((?:\\?<(.*?)>)?(?!\\?)/g\n\n/**\n * Expose `Layer`.\n */\n\nmodule.exports = Layer\n\nfunction Layer (path, options, fn) {\n  if (!(this instanceof Layer)) {\n    return new Layer(path, options, fn)\n  }\n\n  debug('new %o', path)\n  const opts = options || {}\n\n  this.handle = fn\n  this.keys = []\n  this.name = fn.name || '<anonymous>'\n  this.params = undefined\n  this.path = undefined\n  this.slash = path === '/' && opts.end === false\n\n  function matcher (_path) {\n    if (_path instanceof RegExp) {\n      const keys = []\n      let name = 0\n      let m\n      // eslint-disable-next-line no-cond-assign\n      while (m = MATCHING_GROUP_REGEXP.exec(_path.source)) {\n        keys.push({\n          name: m[1] || name++,\n          offset: m.index\n        })\n      }\n\n      return function regexpMatcher (p) {\n        const match = _path.exec(p)\n        if (!match) {\n          return false\n        }\n\n        const params = {}\n        for (let i = 1; i < match.length; i++) {\n          const key = keys[i - 1]\n          const prop = key.name\n          const val = decodeParam(match[i])\n\n          if (val !== undefined) {\n            params[prop] = val\n          }\n        }\n\n        return {\n          params,\n          path: match[0]\n        }\n      }\n    }\n\n    return pathRegexp.match((opts.strict ? _path : loosen(_path)), {\n      sensitive: opts.sensitive,\n      end: opts.end,\n      trailing: !opts.strict,\n      decode: decodeParam\n    })\n  }\n  this.matchers = Array.isArray(path) ? path.map(matcher) : [matcher(path)]\n}\n\n/**\n * Handle the error for the layer.\n *\n * @param {Error} error\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handleError = function handleError (error, req, res, next) {\n  const fn = this.handle\n\n  if (fn.length !== 4) {\n    // not a standard error handler\n    return next(error)\n  }\n\n  try {\n    // invoke function\n    const ret = fn(error, req, res, next)\n\n    // wait for returned promise\n    if (isPromise(ret)) {\n      if (!(ret instanceof Promise)) {\n        deprecate('handlers that are Promise-like are deprecated, use a native Promise instead')\n      }\n\n      ret.then(null, function (error) {\n        next(error || new Error('Rejected promise'))\n      })\n    }\n  } catch (err) {\n    next(err)\n  }\n}\n\n/**\n * Handle the request for the layer.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handleRequest = function handleRequest (req, res, next) {\n  const fn = this.handle\n\n  if (fn.length > 3) {\n    // not a standard request handler\n    return next()\n  }\n\n  try {\n    // invoke function\n    const ret = fn(req, res, next)\n\n    // wait for returned promise\n    if (isPromise(ret)) {\n      if (!(ret instanceof Promise)) {\n        deprecate('handlers that are Promise-like are deprecated, use a native Promise instead')\n      }\n\n      ret.then(null, function (error) {\n        next(error || new Error('Rejected promise'))\n      })\n    }\n  } catch (err) {\n    next(err)\n  }\n}\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nLayer.prototype.match = function match (path) {\n  let match\n\n  if (path != null) {\n    // fast path non-ending match for / (any path matches)\n    if (this.slash) {\n      this.params = {}\n      this.path = ''\n      return true\n    }\n\n    let i = 0\n    while (!match && i < this.matchers.length) {\n      // match the path\n      match = this.matchers[i](path)\n      i++\n    }\n  }\n\n  if (!match) {\n    this.params = undefined\n    this.path = undefined\n    return false\n  }\n\n  // store values\n  this.params = match.params\n  this.path = match.path\n  this.keys = Object.keys(match.params)\n\n  return true\n}\n\n/**\n * Decode param value.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction decodeParam (val) {\n  if (typeof val !== 'string' || val.length === 0) {\n    return val\n  }\n\n  try {\n    return decodeURIComponent(val)\n  } catch (err) {\n    if (err instanceof URIError) {\n      err.message = 'Failed to decode param \\'' + val + '\\''\n      err.status = 400\n    }\n\n    throw err\n  }\n}\n\n/**\n * Loosens the given path for path-to-regexp matching.\n */\nfunction loosen (path) {\n  if (path instanceof RegExp || path === '/') {\n    return path\n  }\n\n  return Array.isArray(path)\n    ? path.map(function (p) { return loosen(p) })\n    : String(path).replace(TRAILING_SLASH_REGEXP, '')\n}\n","/*!\n * router\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nconst debug = require('debug')('router:route')\nconst Layer = require('./layer')\nconst { METHODS } = require('node:http')\n\n/**\n * Module variables.\n * @private\n */\n\nconst slice = Array.prototype.slice\nconst flatten = Array.prototype.flat\nconst methods = METHODS.map((method) => method.toLowerCase())\n\n/**\n * Expose `Route`.\n */\n\nmodule.exports = Route\n\n/**\n * Initialize `Route` with the given `path`,\n *\n * @param {String} path\n * @api private\n */\n\nfunction Route (path) {\n  debug('new %o', path)\n  this.path = path\n  this.stack = []\n\n  // route handlers for various http methods\n  this.methods = Object.create(null)\n}\n\n/**\n * @private\n */\n\nRoute.prototype._handlesMethod = function _handlesMethod (method) {\n  if (this.methods._all) {\n    return true\n  }\n\n  // normalize name\n  let name = typeof method === 'string'\n    ? method.toLowerCase()\n    : method\n\n  if (name === 'head' && !this.methods.head) {\n    name = 'get'\n  }\n\n  return Boolean(this.methods[name])\n}\n\n/**\n * @return {array} supported HTTP methods\n * @private\n */\n\nRoute.prototype._methods = function _methods () {\n  const methods = Object.keys(this.methods)\n\n  // append automatic head\n  if (this.methods.get && !this.methods.head) {\n    methods.push('head')\n  }\n\n  for (let i = 0; i < methods.length; i++) {\n    // make upper case\n    methods[i] = methods[i].toUpperCase()\n  }\n\n  return methods\n}\n\n/**\n * dispatch req, res into this route\n *\n * @private\n */\n\nRoute.prototype.dispatch = function dispatch (req, res, done) {\n  let idx = 0\n  const stack = this.stack\n  let sync = 0\n\n  if (stack.length === 0) {\n    return done()\n  }\n\n  let method = typeof req.method === 'string'\n    ? req.method.toLowerCase()\n    : req.method\n\n  if (method === 'head' && !this.methods.head) {\n    method = 'get'\n  }\n\n  req.route = this\n\n  next()\n\n  function next (err) {\n    // signal to exit route\n    if (err && err === 'route') {\n      return done()\n    }\n\n    // signal to exit router\n    if (err && err === 'router') {\n      return done(err)\n    }\n\n    // no more matching layers\n    if (idx >= stack.length) {\n      return done(err)\n    }\n\n    // max sync stack\n    if (++sync > 100) {\n      return setImmediate(next, err)\n    }\n\n    let layer\n    let match\n\n    // find next matching layer\n    while (match !== true && idx < stack.length) {\n      layer = stack[idx++]\n      match = !layer.method || layer.method === method\n    }\n\n    // no match\n    if (match !== true) {\n      return done(err)\n    }\n\n    if (err) {\n      layer.handleError(err, req, res, next)\n    } else {\n      layer.handleRequest(req, res, next)\n    }\n\n    sync = 0\n  }\n}\n\n/**\n * Add a handler for all HTTP verbs to this route.\n *\n * Behaves just like middleware and can respond or call `next`\n * to continue processing.\n *\n * You can use multiple `.all` call to add multiple handlers.\n *\n *   function check_something(req, res, next){\n *     next()\n *   }\n *\n *   function validate_user(req, res, next){\n *     next()\n *   }\n *\n *   route\n *   .all(validate_user)\n *   .all(check_something)\n *   .get(function(req, res, next){\n *     res.send('hello world')\n *   })\n *\n * @param {array|function} handler\n * @return {Route} for chaining\n * @api public\n */\n\nRoute.prototype.all = function all (handler) {\n  const callbacks = flatten.call(slice.call(arguments), Infinity)\n\n  if (callbacks.length === 0) {\n    throw new TypeError('argument handler is required')\n  }\n\n  for (let i = 0; i < callbacks.length; i++) {\n    const fn = callbacks[i]\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('argument handler must be a function')\n    }\n\n    const layer = Layer('/', {}, fn)\n    layer.method = undefined\n\n    this.methods._all = true\n    this.stack.push(layer)\n  }\n\n  return this\n}\n\nmethods.forEach(function (method) {\n  Route.prototype[method] = function (handler) {\n    const callbacks = flatten.call(slice.call(arguments), Infinity)\n\n    if (callbacks.length === 0) {\n      throw new TypeError('argument handler is required')\n    }\n\n    for (let i = 0; i < callbacks.length; i++) {\n      const fn = callbacks[i]\n\n      if (typeof fn !== 'function') {\n        throw new TypeError('argument handler must be a function')\n      }\n\n      debug('%s %s', method, this.path)\n\n      const layer = Layer('/', {}, fn)\n      layer.method = method\n\n      this.methods[method] = true\n      this.stack.push(layer)\n    }\n\n    return this\n  }\n})\n","/*!\n * router\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nconst isPromise = require('is-promise')\nconst Layer = require('./lib/layer')\nconst { METHODS } = require('node:http')\nconst parseUrl = require('parseurl')\nconst Route = require('./lib/route')\nconst debug = require('debug')('router')\nconst deprecate = require('depd')('router')\n\n/**\n * Module variables.\n * @private\n */\n\nconst slice = Array.prototype.slice\nconst flatten = Array.prototype.flat\nconst methods = METHODS.map((method) => method.toLowerCase())\n\n/**\n * Expose `Router`.\n */\n\nmodule.exports = Router\n\n/**\n * Expose `Route`.\n */\n\nmodule.exports.Route = Route\n\n/**\n * Initialize a new `Router` with the given `options`.\n *\n * @param {object} [options]\n * @return {Router} which is a callable function\n * @public\n */\n\nfunction Router (options) {\n  if (!(this instanceof Router)) {\n    return new Router(options)\n  }\n\n  const opts = options || {}\n\n  function router (req, res, next) {\n    router.handle(req, res, next)\n  }\n\n  // inherit from the correct prototype\n  Object.setPrototypeOf(router, this)\n\n  router.caseSensitive = opts.caseSensitive\n  router.mergeParams = opts.mergeParams\n  router.params = {}\n  router.strict = opts.strict\n  router.stack = []\n\n  return router\n}\n\n/**\n * Router prototype inherits from a Function.\n */\n\n/* istanbul ignore next */\nRouter.prototype = function () {}\n\n/**\n * Map the given param placeholder `name`(s) to the given callback.\n *\n * Parameter mapping is used to provide pre-conditions to routes\n * which use normalized placeholders. For example a _:user_id_ parameter\n * could automatically load a user's information from the database without\n * any additional code.\n *\n * The callback uses the same signature as middleware, the only difference\n * being that the value of the placeholder is passed, in this case the _id_\n * of the user. Once the `next()` function is invoked, just like middleware\n * it will continue on to execute the route, or subsequent parameter functions.\n *\n * Just like in middleware, you must either respond to the request or call next\n * to avoid stalling the request.\n *\n *  router.param('user_id', function(req, res, next, id){\n *    User.find(id, function(err, user){\n *      if (err) {\n *        return next(err)\n *      } else if (!user) {\n *        return next(new Error('failed to load user'))\n *      }\n *      req.user = user\n *      next()\n *    })\n *  })\n *\n * @param {string} name\n * @param {function} fn\n * @public\n */\n\nRouter.prototype.param = function param (name, fn) {\n  if (!name) {\n    throw new TypeError('argument name is required')\n  }\n\n  if (typeof name !== 'string') {\n    throw new TypeError('argument name must be a string')\n  }\n\n  if (!fn) {\n    throw new TypeError('argument fn is required')\n  }\n\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  let params = this.params[name]\n\n  if (!params) {\n    params = this.params[name] = []\n  }\n\n  params.push(fn)\n\n  return this\n}\n\n/**\n * Dispatch a req, res into the router.\n *\n * @private\n */\n\nRouter.prototype.handle = function handle (req, res, callback) {\n  if (!callback) {\n    throw new TypeError('argument callback is required')\n  }\n\n  debug('dispatching %s %s', req.method, req.url)\n\n  let idx = 0\n  let methods\n  const protohost = getProtohost(req.url) || ''\n  let removed = ''\n  const self = this\n  let slashAdded = false\n  let sync = 0\n  const paramcalled = {}\n\n  // middleware and routes\n  const stack = this.stack\n\n  // manage inter-router variables\n  const parentParams = req.params\n  const parentUrl = req.baseUrl || ''\n  let done = restore(callback, req, 'baseUrl', 'next', 'params')\n\n  // setup next layer\n  req.next = next\n\n  // for options requests, respond with a default if nothing else responds\n  if (req.method === 'OPTIONS') {\n    methods = []\n    done = wrap(done, generateOptionsResponder(res, methods))\n  }\n\n  // setup basic req values\n  req.baseUrl = parentUrl\n  req.originalUrl = req.originalUrl || req.url\n\n  next()\n\n  function next (err) {\n    let layerError = err === 'route'\n      ? null\n      : err\n\n    // remove added slash\n    if (slashAdded) {\n      req.url = req.url.slice(1)\n      slashAdded = false\n    }\n\n    // restore altered req.url\n    if (removed.length !== 0) {\n      req.baseUrl = parentUrl\n      req.url = protohost + removed + req.url.slice(protohost.length)\n      removed = ''\n    }\n\n    // signal to exit router\n    if (layerError === 'router') {\n      setImmediate(done, null)\n      return\n    }\n\n    // no more matching layers\n    if (idx >= stack.length) {\n      setImmediate(done, layerError)\n      return\n    }\n\n    // max sync stack\n    if (++sync > 100) {\n      return setImmediate(next, err)\n    }\n\n    // get pathname of request\n    const path = getPathname(req)\n\n    if (path == null) {\n      return done(layerError)\n    }\n\n    // find next matching layer\n    let layer\n    let match\n    let route\n\n    while (match !== true && idx < stack.length) {\n      layer = stack[idx++]\n      match = matchLayer(layer, path)\n      route = layer.route\n\n      if (typeof match !== 'boolean') {\n        // hold on to layerError\n        layerError = layerError || match\n      }\n\n      if (match !== true) {\n        continue\n      }\n\n      if (!route) {\n        // process non-route handlers normally\n        continue\n      }\n\n      if (layerError) {\n        // routes do not match with a pending error\n        match = false\n        continue\n      }\n\n      const method = req.method\n      const hasMethod = route._handlesMethod(method)\n\n      // build up automatic options response\n      if (!hasMethod && method === 'OPTIONS' && methods) {\n        methods.push.apply(methods, route._methods())\n      }\n\n      // don't even bother matching route\n      if (!hasMethod && method !== 'HEAD') {\n        match = false\n      }\n    }\n\n    // no match\n    if (match !== true) {\n      return done(layerError)\n    }\n\n    // store route for dispatch on change\n    if (route) {\n      req.route = route\n    }\n\n    // Capture one-time layer values\n    req.params = self.mergeParams\n      ? mergeParams(layer.params, parentParams)\n      : layer.params\n    const layerPath = layer.path\n\n    // this should be done for the layer\n    processParams(self.params, layer, paramcalled, req, res, function (err) {\n      if (err) {\n        next(layerError || err)\n      } else if (route) {\n        layer.handleRequest(req, res, next)\n      } else {\n        trimPrefix(layer, layerError, layerPath, path)\n      }\n\n      sync = 0\n    })\n  }\n\n  function trimPrefix (layer, layerError, layerPath, path) {\n    if (layerPath.length !== 0) {\n      // Validate path is a prefix match\n      if (layerPath !== path.substring(0, layerPath.length)) {\n        next(layerError)\n        return\n      }\n\n      // Validate path breaks on a path separator\n      const c = path[layerPath.length]\n      if (c && c !== '/') {\n        next(layerError)\n        return\n      }\n\n      // Trim off the part of the url that matches the route\n      // middleware (.use stuff) needs to have the path stripped\n      debug('trim prefix (%s) from url %s', layerPath, req.url)\n      removed = layerPath\n      req.url = protohost + req.url.slice(protohost.length + removed.length)\n\n      // Ensure leading slash\n      if (!protohost && req.url[0] !== '/') {\n        req.url = '/' + req.url\n        slashAdded = true\n      }\n\n      // Setup base URL (no trailing slash)\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === '/'\n        ? removed.substring(0, removed.length - 1)\n        : removed)\n    }\n\n    debug('%s %s : %s', layer.name, layerPath, req.originalUrl)\n\n    if (layerError) {\n      layer.handleError(layerError, req, res, next)\n    } else {\n      layer.handleRequest(req, res, next)\n    }\n  }\n}\n\n/**\n * Use the given middleware function, with optional path, defaulting to \"/\".\n *\n * Use (like `.all`) will run for any http METHOD, but it will not add\n * handlers for those methods so OPTIONS requests will not consider `.use`\n * functions even if they could respond.\n *\n * The other difference is that _route_ path is stripped and not visible\n * to the handler function. The main effect of this feature is that mounted\n * handlers can operate without any code changes regardless of the \"prefix\"\n * pathname.\n *\n * @public\n */\n\nRouter.prototype.use = function use (handler) {\n  let offset = 0\n  let path = '/'\n\n  // default path to '/'\n  // disambiguate router.use([handler])\n  if (typeof handler !== 'function') {\n    let arg = handler\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0]\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1\n      path = handler\n    }\n  }\n\n  const callbacks = flatten.call(slice.call(arguments, offset), Infinity)\n\n  if (callbacks.length === 0) {\n    throw new TypeError('argument handler is required')\n  }\n\n  for (let i = 0; i < callbacks.length; i++) {\n    const fn = callbacks[i]\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('argument handler must be a function')\n    }\n\n    // add the middleware\n    debug('use %o %s', path, fn.name || '<anonymous>')\n\n    const layer = new Layer(path, {\n      sensitive: this.caseSensitive,\n      strict: false,\n      end: false\n    }, fn)\n\n    layer.route = undefined\n\n    this.stack.push(layer)\n  }\n\n  return this\n}\n\n/**\n * Create a new Route for the given path.\n *\n * Each route contains a separate middleware stack and VERB handlers.\n *\n * See the Route api documentation for details on adding handlers\n * and middleware to routes.\n *\n * @param {string} path\n * @return {Route}\n * @public\n */\n\nRouter.prototype.route = function route (path) {\n  const route = new Route(path)\n\n  const layer = new Layer(path, {\n    sensitive: this.caseSensitive,\n    strict: this.strict,\n    end: true\n  }, handle)\n\n  function handle (req, res, next) {\n    route.dispatch(req, res, next)\n  }\n\n  layer.route = route\n\n  this.stack.push(layer)\n  return route\n}\n\n// create Router#VERB functions\nmethods.concat('all').forEach(function (method) {\n  Router.prototype[method] = function (path) {\n    const route = this.route(path)\n    route[method].apply(route, slice.call(arguments, 1))\n    return this\n  }\n})\n\n/**\n * Generate a callback that will make an OPTIONS response.\n *\n * @param {OutgoingMessage} res\n * @param {array} methods\n * @private\n */\n\nfunction generateOptionsResponder (res, methods) {\n  return function onDone (fn, err) {\n    if (err || methods.length === 0) {\n      return fn(err)\n    }\n\n    trySendOptionsResponse(res, methods, fn)\n  }\n}\n\n/**\n * Get pathname of request.\n *\n * @param {IncomingMessage} req\n * @private\n */\n\nfunction getPathname (req) {\n  try {\n    return parseUrl(req).pathname\n  } catch (err) {\n    return undefined\n  }\n}\n\n/**\n * Get get protocol + host for a URL.\n *\n * @param {string} url\n * @private\n */\n\nfunction getProtohost (url) {\n  if (typeof url !== 'string' || url.length === 0 || url[0] === '/') {\n    return undefined\n  }\n\n  const searchIndex = url.indexOf('?')\n  const pathLength = searchIndex !== -1\n    ? searchIndex\n    : url.length\n  const fqdnIndex = url.substring(0, pathLength).indexOf('://')\n\n  return fqdnIndex !== -1\n    ? url.substring(0, url.indexOf('/', 3 + fqdnIndex))\n    : undefined\n}\n\n/**\n * Match path to a layer.\n *\n * @param {Layer} layer\n * @param {string} path\n * @private\n */\n\nfunction matchLayer (layer, path) {\n  try {\n    return layer.match(path)\n  } catch (err) {\n    return err\n  }\n}\n\n/**\n * Merge params with parent params\n *\n * @private\n */\n\nfunction mergeParams (params, parent) {\n  if (typeof parent !== 'object' || !parent) {\n    return params\n  }\n\n  // make copy of parent for base\n  const obj = Object.assign({}, parent)\n\n  // simple non-numeric merging\n  if (!(0 in params) || !(0 in parent)) {\n    return Object.assign(obj, params)\n  }\n\n  let i = 0\n  let o = 0\n\n  // determine numeric gap in params\n  while (i in params) {\n    i++\n  }\n\n  // determine numeric gap in parent\n  while (o in parent) {\n    o++\n  }\n\n  // offset numeric indices in params before merge\n  for (i--; i >= 0; i--) {\n    params[i + o] = params[i]\n\n    // create holes for the merge when necessary\n    if (i < o) {\n      delete params[i]\n    }\n  }\n\n  return Object.assign(obj, params)\n}\n\n/**\n * Process any parameters for the layer.\n *\n * @private\n */\n\nfunction processParams (params, layer, called, req, res, done) {\n  // captured parameters from the layer, keys and values\n  const keys = layer.keys\n\n  // fast track\n  if (!keys || keys.length === 0) {\n    return done()\n  }\n\n  let i = 0\n  let paramIndex = 0\n  let key\n  let paramVal\n  let paramCallbacks\n  let paramCalled\n\n  // process params in order\n  // param callbacks can be async\n  function param (err) {\n    if (err) {\n      return done(err)\n    }\n\n    if (i >= keys.length) {\n      return done()\n    }\n\n    paramIndex = 0\n    key = keys[i++]\n    paramVal = req.params[key]\n    paramCallbacks = params[key]\n    paramCalled = called[key]\n\n    if (paramVal === undefined || !paramCallbacks) {\n      return param()\n    }\n\n    // param previously called with same value or error occurred\n    if (paramCalled && (paramCalled.match === paramVal ||\n      (paramCalled.error && paramCalled.error !== 'route'))) {\n      // restore value\n      req.params[key] = paramCalled.value\n\n      // next param\n      return param(paramCalled.error)\n    }\n\n    called[key] = paramCalled = {\n      error: null,\n      match: paramVal,\n      value: paramVal\n    }\n\n    paramCallback()\n  }\n\n  // single param callbacks\n  function paramCallback (err) {\n    const fn = paramCallbacks[paramIndex++]\n\n    // store updated value\n    paramCalled.value = req.params[key]\n\n    if (err) {\n      // store error\n      paramCalled.error = err\n      param(err)\n      return\n    }\n\n    if (!fn) return param()\n\n    try {\n      const ret = fn(req, res, paramCallback, paramVal, key)\n      if (isPromise(ret)) {\n        if (!(ret instanceof Promise)) {\n          deprecate('parameters that are Promise-like are deprecated, use a native Promise instead')\n        }\n\n        ret.then(null, function (error) {\n          paramCallback(error || new Error('Rejected promise'))\n        })\n      }\n    } catch (e) {\n      paramCallback(e)\n    }\n  }\n\n  param()\n}\n\n/**\n * Restore obj props after function\n *\n * @private\n */\n\nfunction restore (fn, obj) {\n  const props = new Array(arguments.length - 2)\n  const vals = new Array(arguments.length - 2)\n\n  for (let i = 0; i < props.length; i++) {\n    props[i] = arguments[i + 2]\n    vals[i] = obj[props[i]]\n  }\n\n  return function () {\n    // restore vals\n    for (let i = 0; i < props.length; i++) {\n      obj[props[i]] = vals[i]\n    }\n\n    return fn.apply(this, arguments)\n  }\n}\n\n/**\n * Send an OPTIONS response.\n *\n * @private\n */\n\nfunction sendOptionsResponse (res, methods) {\n  const options = Object.create(null)\n\n  // build unique method map\n  for (let i = 0; i < methods.length; i++) {\n    options[methods[i]] = true\n  }\n\n  // construct the allow list\n  const allow = Object.keys(options).sort().join(', ')\n\n  // send response\n  res.setHeader('Allow', allow)\n  res.setHeader('Content-Length', Buffer.byteLength(allow))\n  res.setHeader('Content-Type', 'text/plain')\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.end(allow)\n}\n\n/**\n * Try to send an OPTIONS response.\n *\n * @private\n */\n\nfunction trySendOptionsResponse (res, methods, next) {\n  try {\n    sendOptionsResponse(res, methods)\n  } catch (err) {\n    next(err)\n  }\n}\n\n/**\n * Wrap a function\n *\n * @private\n */\n\nfunction wrap (old, fn) {\n  return function proxy () {\n    const args = new Array(arguments.length + 1)\n\n    args[0] = old\n    for (let i = 0, len = arguments.length; i < len; i++) {\n      args[i + 1] = arguments[i]\n    }\n\n    fn.apply(this, args)\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar finalhandler = require('finalhandler');\nvar debug = require('debug')('express:application');\nvar View = require('./view');\nvar http = require('node:http');\nvar methods = require('./utils').methods;\nvar compileETag = require('./utils').compileETag;\nvar compileQueryParser = require('./utils').compileQueryParser;\nvar compileTrust = require('./utils').compileTrust;\nvar resolve = require('node:path').resolve;\nvar once = require('once')\nvar Router = require('router');\n\n/**\n * Module variables.\n * @private\n */\n\nvar slice = Array.prototype.slice;\nvar flatten = Array.prototype.flat;\n\n/**\n * Application prototype.\n */\n\nvar app = exports = module.exports = {};\n\n/**\n * Variable for trust proxy inheritance back-compat\n * @private\n */\n\nvar trustProxyDefaultSymbol = '@@symbol:trust_proxy_default';\n\n/**\n * Initialize the server.\n *\n *   - setup default configuration\n *   - setup default middleware\n *   - setup route reflection methods\n *\n * @private\n */\n\napp.init = function init() {\n  var router = null;\n\n  this.cache = Object.create(null);\n  this.engines = Object.create(null);\n  this.settings = Object.create(null);\n\n  this.defaultConfiguration();\n\n  // Setup getting to lazily add base router\n  Object.defineProperty(this, 'router', {\n    configurable: true,\n    enumerable: true,\n    get: function getrouter() {\n      if (router === null) {\n        router = new Router({\n          caseSensitive: this.enabled('case sensitive routing'),\n          strict: this.enabled('strict routing')\n        });\n      }\n\n      return router;\n    }\n  });\n};\n\n/**\n * Initialize application configuration.\n * @private\n */\n\napp.defaultConfiguration = function defaultConfiguration() {\n  var env = process.env.NODE_ENV || 'development';\n\n  // default settings\n  this.enable('x-powered-by');\n  this.set('etag', 'weak');\n  this.set('env', env);\n  this.set('query parser', 'simple')\n  this.set('subdomain offset', 2);\n  this.set('trust proxy', false);\n\n  // trust proxy inherit back-compat\n  Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\n    configurable: true,\n    value: true\n  });\n\n  debug('booting in %s mode', env);\n\n  this.on('mount', function onmount(parent) {\n    // inherit trust proxy\n    if (this.settings[trustProxyDefaultSymbol] === true\n      && typeof parent.settings['trust proxy fn'] === 'function') {\n      delete this.settings['trust proxy'];\n      delete this.settings['trust proxy fn'];\n    }\n\n    // inherit protos\n    Object.setPrototypeOf(this.request, parent.request)\n    Object.setPrototypeOf(this.response, parent.response)\n    Object.setPrototypeOf(this.engines, parent.engines)\n    Object.setPrototypeOf(this.settings, parent.settings)\n  });\n\n  // setup locals\n  this.locals = Object.create(null);\n\n  // top-most app is mounted at /\n  this.mountpath = '/';\n\n  // default locals\n  this.locals.settings = this.settings;\n\n  // default configuration\n  this.set('view', View);\n  this.set('views', resolve('views'));\n  this.set('jsonp callback name', 'callback');\n\n  if (env === 'production') {\n    this.enable('view cache');\n  }\n};\n\n/**\n * Dispatch a req, res pair into the application. Starts pipeline processing.\n *\n * If no callback is provided, then default error handlers will respond\n * in the event of an error bubbling through the stack.\n *\n * @private\n */\n\napp.handle = function handle(req, res, callback) {\n  // final handler\n  var done = callback || finalhandler(req, res, {\n    env: this.get('env'),\n    onerror: logerror.bind(this)\n  });\n\n  // set powered by header\n  if (this.enabled('x-powered-by')) {\n    res.setHeader('X-Powered-By', 'Express');\n  }\n\n  // set circular references\n  req.res = res;\n  res.req = req;\n\n  // alter the prototypes\n  Object.setPrototypeOf(req, this.request)\n  Object.setPrototypeOf(res, this.response)\n\n  // setup locals\n  if (!res.locals) {\n    res.locals = Object.create(null);\n  }\n\n  this.router.handle(req, res, done);\n};\n\n/**\n * Proxy `Router#use()` to add middleware to the app router.\n * See Router#use() documentation for details.\n *\n * If the _fn_ parameter is an express app, then it will be\n * mounted at the _route_ specified.\n *\n * @public\n */\n\napp.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate app.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var fns = flatten.call(slice.call(arguments, offset), Infinity);\n\n  if (fns.length === 0) {\n    throw new TypeError('app.use() requires a middleware function')\n  }\n\n  // get router\n  var router = this.router;\n\n  fns.forEach(function (fn) {\n    // non-express app\n    if (!fn || !fn.handle || !fn.set) {\n      return router.use(path, fn);\n    }\n\n    debug('.use app under %s', path);\n    fn.mountpath = path;\n    fn.parent = this;\n\n    // restore .app property on req and res\n    router.use(path, function mounted_app(req, res, next) {\n      var orig = req.app;\n      fn.handle(req, res, function (err) {\n        Object.setPrototypeOf(req, orig.request)\n        Object.setPrototypeOf(res, orig.response)\n        next(err);\n      });\n    });\n\n    // mounted an app\n    fn.emit('mount', this);\n  }, this);\n\n  return this;\n};\n\n/**\n * Proxy to the app `Router#route()`\n * Returns a new `Route` instance for the _path_.\n *\n * Routes are isolated middleware stacks for specific paths.\n * See the Route api docs for details.\n *\n * @public\n */\n\napp.route = function route(path) {\n  return this.router.route(path);\n};\n\n/**\n * Register the given template engine callback `fn`\n * as `ext`.\n *\n * By default will `require()` the engine based on the\n * file extension. For example if you try to render\n * a \"foo.ejs\" file Express will invoke the following internally:\n *\n *     app.engine('ejs', require('ejs').__express);\n *\n * For engines that do not provide `.__express` out of the box,\n * or if you wish to \"map\" a different extension to the template engine\n * you may use this method. For example mapping the EJS template engine to\n * \".html\" files:\n *\n *     app.engine('html', require('ejs').renderFile);\n *\n * In this case EJS provides a `.renderFile()` method with\n * the same signature that Express expects: `(path, options, callback)`,\n * though note that it aliases this method as `ejs.__express` internally\n * so if you're using \".ejs\" extensions you don't need to do anything.\n *\n * Some template engines do not follow this convention, the\n * [Consolidate.js](https://github.com/tj/consolidate.js)\n * library was created to map all of node's popular template\n * engines to follow this convention, thus allowing them to\n * work seamlessly within Express.\n *\n * @param {String} ext\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\napp.engine = function engine(ext, fn) {\n  if (typeof fn !== 'function') {\n    throw new Error('callback function required');\n  }\n\n  // get file extension\n  var extension = ext[0] !== '.'\n    ? '.' + ext\n    : ext;\n\n  // store engine\n  this.engines[extension] = fn;\n\n  return this;\n};\n\n/**\n * Proxy to `Router#param()` with one added api feature. The _name_ parameter\n * can be an array of names.\n *\n * See the Router#param() docs for more details.\n *\n * @param {String|Array} name\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\napp.param = function param(name, fn) {\n  if (Array.isArray(name)) {\n    for (var i = 0; i < name.length; i++) {\n      this.param(name[i], fn);\n    }\n\n    return this;\n  }\n\n  this.router.param(name, fn);\n\n  return this;\n};\n\n/**\n * Assign `setting` to `val`, or return `setting`'s value.\n *\n *    app.set('foo', 'bar');\n *    app.set('foo');\n *    // => \"bar\"\n *\n * Mounted servers inherit their parent server's settings.\n *\n * @param {String} setting\n * @param {*} [val]\n * @return {Server} for chaining\n * @public\n */\n\napp.set = function set(setting, val) {\n  if (arguments.length === 1) {\n    // app.get(setting)\n    return this.settings[setting];\n  }\n\n  debug('set \"%s\" to %o', setting, val);\n\n  // set value\n  this.settings[setting] = val;\n\n  // trigger matched settings\n  switch (setting) {\n    case 'etag':\n      this.set('etag fn', compileETag(val));\n      break;\n    case 'query parser':\n      this.set('query parser fn', compileQueryParser(val));\n      break;\n    case 'trust proxy':\n      this.set('trust proxy fn', compileTrust(val));\n\n      // trust proxy inherit back-compat\n      Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\n        configurable: true,\n        value: false\n      });\n\n      break;\n  }\n\n  return this;\n};\n\n/**\n * Return the app's absolute pathname\n * based on the parent(s) that have\n * mounted it.\n *\n * For example if the application was\n * mounted as \"/admin\", which itself\n * was mounted as \"/blog\" then the\n * return value would be \"/blog/admin\".\n *\n * @return {String}\n * @private\n */\n\napp.path = function path() {\n  return this.parent\n    ? this.parent.path() + this.mountpath\n    : '';\n};\n\n/**\n * Check if `setting` is enabled (truthy).\n *\n *    app.enabled('foo')\n *    // => false\n *\n *    app.enable('foo')\n *    app.enabled('foo')\n *    // => true\n *\n * @param {String} setting\n * @return {Boolean}\n * @public\n */\n\napp.enabled = function enabled(setting) {\n  return Boolean(this.set(setting));\n};\n\n/**\n * Check if `setting` is disabled.\n *\n *    app.disabled('foo')\n *    // => true\n *\n *    app.enable('foo')\n *    app.disabled('foo')\n *    // => false\n *\n * @param {String} setting\n * @return {Boolean}\n * @public\n */\n\napp.disabled = function disabled(setting) {\n  return !this.set(setting);\n};\n\n/**\n * Enable `setting`.\n *\n * @param {String} setting\n * @return {app} for chaining\n * @public\n */\n\napp.enable = function enable(setting) {\n  return this.set(setting, true);\n};\n\n/**\n * Disable `setting`.\n *\n * @param {String} setting\n * @return {app} for chaining\n * @public\n */\n\napp.disable = function disable(setting) {\n  return this.set(setting, false);\n};\n\n/**\n * Delegate `.VERB(...)` calls to `router.VERB(...)`.\n */\n\nmethods.forEach(function (method) {\n  app[method] = function (path) {\n    if (method === 'get' && arguments.length === 1) {\n      // app.get(setting)\n      return this.set(path);\n    }\n\n    var route = this.route(path);\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n/**\n * Special-cased \"all\" method, applying the given route `path`,\n * middleware, and callback to _every_ HTTP method.\n *\n * @param {String} path\n * @param {Function} ...\n * @return {app} for chaining\n * @public\n */\n\napp.all = function all(path) {\n  var route = this.route(path);\n  var args = slice.call(arguments, 1);\n\n  for (var i = 0; i < methods.length; i++) {\n    route[methods[i]].apply(route, args);\n  }\n\n  return this;\n};\n\n/**\n * Render the given view `name` name with `options`\n * and a callback accepting an error and the\n * rendered template string.\n *\n * Example:\n *\n *    app.render('email', { name: 'Tobi' }, function(err, html){\n *      // ...\n *    })\n *\n * @param {String} name\n * @param {Object|Function} options or fn\n * @param {Function} callback\n * @public\n */\n\napp.render = function render(name, options, callback) {\n  var cache = this.cache;\n  var done = callback;\n  var engines = this.engines;\n  var opts = options;\n  var view;\n\n  // support callback function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // merge options\n  var renderOptions = { ...this.locals, ...opts._locals, ...opts };\n\n  // set .cache unless explicitly provided\n  if (renderOptions.cache == null) {\n    renderOptions.cache = this.enabled('view cache');\n  }\n\n  // primed cache\n  if (renderOptions.cache) {\n    view = cache[name];\n  }\n\n  // view\n  if (!view) {\n    var View = this.get('view');\n\n    view = new View(name, {\n      defaultEngine: this.get('view engine'),\n      root: this.get('views'),\n      engines: engines\n    });\n\n    if (!view.path) {\n      var dirs = Array.isArray(view.root) && view.root.length > 1\n        ? 'directories \"' + view.root.slice(0, -1).join('\", \"') + '\" or \"' + view.root[view.root.length - 1] + '\"'\n        : 'directory \"' + view.root + '\"'\n      var err = new Error('Failed to lookup view \"' + name + '\" in views ' + dirs);\n      err.view = view;\n      return done(err);\n    }\n\n    // prime the cache\n    if (renderOptions.cache) {\n      cache[name] = view;\n    }\n  }\n\n  // render\n  tryRender(view, renderOptions, done);\n};\n\n/**\n * Listen for connections.\n *\n * A node `http.Server` is returned, with this\n * application (which is a `Function`) as its\n * callback. If you wish to create both an HTTP\n * and HTTPS server you may do so with the \"http\"\n * and \"https\" modules as shown here:\n *\n *    var http = require('node:http')\n *      , https = require('node:https')\n *      , express = require('express')\n *      , app = express();\n *\n *    http.createServer(app).listen(80);\n *    https.createServer({ ... }, app).listen(443);\n *\n * @return {http.Server}\n * @public\n */\n\napp.listen = function listen() {\n  var server = http.createServer(this)\n  var args = Array.prototype.slice.call(arguments)\n  if (typeof args[args.length - 1] === 'function') {\n    var done = args[args.length - 1] = once(args[args.length - 1])\n    server.once('error', done)\n  }\n  return server.listen.apply(server, args)\n}\n\n/**\n * Log error using console.error.\n *\n * @param {Error} err\n * @private\n */\n\nfunction logerror(err) {\n  /* istanbul ignore next */\n  if (this.get('env') !== 'test') console.error(err.stack || err.toString());\n}\n\n/**\n * Try rendering a view.\n * @private\n */\n\nfunction tryRender(view, options, callback) {\n  try {\n    view.render(options, callback);\n  } catch (err) {\n    callback(err);\n  }\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredCharsets;\nmodule.exports.preferredCharsets = preferredCharsets;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleCharsetRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Charset header.\n * @private\n */\n\nfunction parseAcceptCharset(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var charset = parseCharset(accepts[i].trim(), i);\n\n    if (charset) {\n      accepts[j++] = charset;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a charset from the Accept-Charset header.\n * @private\n */\n\nfunction parseCharset(str, i) {\n  var match = simpleCharsetRegExp.exec(str);\n  if (!match) return null;\n\n  var charset = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    charset: charset,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a charset.\n * @private\n */\n\nfunction getCharsetPriority(charset, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(charset, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the charset.\n * @private\n */\n\nfunction specify(charset, spec, index) {\n  var s = 0;\n  if(spec.charset.toLowerCase() === charset.toLowerCase()){\n    s |= 1;\n  } else if (spec.charset !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n}\n\n/**\n * Get the preferred charsets from an Accept-Charset header.\n * @public\n */\n\nfunction preferredCharsets(accept, provided) {\n  // RFC 2616 sec 14.2: no header = *\n  var accepts = parseAcceptCharset(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all charsets\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullCharset);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getCharsetPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted charsets\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getCharset(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full charset string.\n * @private\n */\n\nfunction getFullCharset(spec) {\n  return spec.charset;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredEncodings;\nmodule.exports.preferredEncodings = preferredEncodings;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleEncodingRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Encoding header.\n * @private\n */\n\nfunction parseAcceptEncoding(accept) {\n  var accepts = accept.split(',');\n  var hasIdentity = false;\n  var minQuality = 1;\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var encoding = parseEncoding(accepts[i].trim(), i);\n\n    if (encoding) {\n      accepts[j++] = encoding;\n      hasIdentity = hasIdentity || specify('identity', encoding);\n      minQuality = Math.min(minQuality, encoding.q || 1);\n    }\n  }\n\n  if (!hasIdentity) {\n    /*\n     * If identity doesn't explicitly appear in the accept-encoding header,\n     * it's added to the list of acceptable encoding with the lowest q\n     */\n    accepts[j++] = {\n      encoding: 'identity',\n      q: minQuality,\n      i: i\n    };\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse an encoding from the Accept-Encoding header.\n * @private\n */\n\nfunction parseEncoding(str, i) {\n  var match = simpleEncodingRegExp.exec(str);\n  if (!match) return null;\n\n  var encoding = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';');\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    encoding: encoding,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of an encoding.\n * @private\n */\n\nfunction getEncodingPriority(encoding, accepted, index) {\n  var priority = {encoding: encoding, o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(encoding, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the encoding.\n * @private\n */\n\nfunction specify(encoding, spec, index) {\n  var s = 0;\n  if(spec.encoding.toLowerCase() === encoding.toLowerCase()){\n    s |= 1;\n  } else if (spec.encoding !== '*' ) {\n    return null\n  }\n\n  return {\n    encoding: encoding,\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred encodings from an Accept-Encoding header.\n * @public\n */\n\nfunction preferredEncodings(accept, provided, preferred) {\n  var accepts = parseAcceptEncoding(accept || '');\n\n  var comparator = preferred ? function comparator (a, b) {\n    if (a.q !== b.q) {\n      return b.q - a.q // higher quality first\n    }\n\n    var aPreferred = preferred.indexOf(a.encoding)\n    var bPreferred = preferred.indexOf(b.encoding)\n\n    if (aPreferred === -1 && bPreferred === -1) {\n      // consider the original specifity/order\n      return (b.s - a.s) || (a.o - b.o) || (a.i - b.i)\n    }\n\n    if (aPreferred !== -1 && bPreferred !== -1) {\n      return aPreferred - bPreferred // consider the preferred order\n    }\n\n    return aPreferred === -1 ? 1 : -1 // preferred first\n  } : compareSpecs;\n\n  if (!provided) {\n    // sorted list of all encodings\n    return accepts\n      .filter(isQuality)\n      .sort(comparator)\n      .map(getFullEncoding);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getEncodingPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted encodings\n  return priorities.filter(isQuality).sort(comparator).map(function getEncoding(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i);\n}\n\n/**\n * Get full encoding string.\n * @private\n */\n\nfunction getFullEncoding(spec) {\n  return spec.encoding;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredLanguages;\nmodule.exports.preferredLanguages = preferredLanguages;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleLanguageRegExp = /^\\s*([^\\s\\-;]+)(?:-([^\\s;]+))?\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Language header.\n * @private\n */\n\nfunction parseAcceptLanguage(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var language = parseLanguage(accepts[i].trim(), i);\n\n    if (language) {\n      accepts[j++] = language;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a language from the Accept-Language header.\n * @private\n */\n\nfunction parseLanguage(str, i) {\n  var match = simpleLanguageRegExp.exec(str);\n  if (!match) return null;\n\n  var prefix = match[1]\n  var suffix = match[2]\n  var full = prefix\n\n  if (suffix) full += \"-\" + suffix;\n\n  var q = 1;\n  if (match[3]) {\n    var params = match[3].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].split('=');\n      if (p[0] === 'q') q = parseFloat(p[1]);\n    }\n  }\n\n  return {\n    prefix: prefix,\n    suffix: suffix,\n    q: q,\n    i: i,\n    full: full\n  };\n}\n\n/**\n * Get the priority of a language.\n * @private\n */\n\nfunction getLanguagePriority(language, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(language, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the language.\n * @private\n */\n\nfunction specify(language, spec, index) {\n  var p = parseLanguage(language)\n  if (!p) return null;\n  var s = 0;\n  if(spec.full.toLowerCase() === p.full.toLowerCase()){\n    s |= 4;\n  } else if (spec.prefix.toLowerCase() === p.full.toLowerCase()) {\n    s |= 2;\n  } else if (spec.full.toLowerCase() === p.prefix.toLowerCase()) {\n    s |= 1;\n  } else if (spec.full !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred languages from an Accept-Language header.\n * @public\n */\n\nfunction preferredLanguages(accept, provided) {\n  // RFC 2616 sec 14.4: no header = *\n  var accepts = parseAcceptLanguage(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all languages\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullLanguage);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getLanguagePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted languages\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getLanguage(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full language string.\n * @private\n */\n\nfunction getFullLanguage(spec) {\n  return spec.full;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredMediaTypes;\nmodule.exports.preferredMediaTypes = preferredMediaTypes;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleMediaTypeRegExp = /^\\s*([^\\s\\/;]+)\\/([^;\\s]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept header.\n * @private\n */\n\nfunction parseAccept(accept) {\n  var accepts = splitMediaTypes(accept);\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var mediaType = parseMediaType(accepts[i].trim(), i);\n\n    if (mediaType) {\n      accepts[j++] = mediaType;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a media type from the Accept header.\n * @private\n */\n\nfunction parseMediaType(str, i) {\n  var match = simpleMediaTypeRegExp.exec(str);\n  if (!match) return null;\n\n  var params = Object.create(null);\n  var q = 1;\n  var subtype = match[2];\n  var type = match[1];\n\n  if (match[3]) {\n    var kvps = splitParameters(match[3]).map(splitKeyValuePair);\n\n    for (var j = 0; j < kvps.length; j++) {\n      var pair = kvps[j];\n      var key = pair[0].toLowerCase();\n      var val = pair[1];\n\n      // get the value, unwrapping quotes\n      var value = val && val[0] === '\"' && val[val.length - 1] === '\"'\n        ? val.slice(1, -1)\n        : val;\n\n      if (key === 'q') {\n        q = parseFloat(value);\n        break;\n      }\n\n      // store parameter\n      params[key] = value;\n    }\n  }\n\n  return {\n    type: type,\n    subtype: subtype,\n    params: params,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a media type.\n * @private\n */\n\nfunction getMediaTypePriority(type, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(type, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the media type.\n * @private\n */\n\nfunction specify(type, spec, index) {\n  var p = parseMediaType(type);\n  var s = 0;\n\n  if (!p) {\n    return null;\n  }\n\n  if(spec.type.toLowerCase() == p.type.toLowerCase()) {\n    s |= 4\n  } else if(spec.type != '*') {\n    return null;\n  }\n\n  if(spec.subtype.toLowerCase() == p.subtype.toLowerCase()) {\n    s |= 2\n  } else if(spec.subtype != '*') {\n    return null;\n  }\n\n  var keys = Object.keys(spec.params);\n  if (keys.length > 0) {\n    if (keys.every(function (k) {\n      return spec.params[k] == '*' || (spec.params[k] || '').toLowerCase() == (p.params[k] || '').toLowerCase();\n    })) {\n      s |= 1\n    } else {\n      return null\n    }\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s,\n  }\n}\n\n/**\n * Get the preferred media types from an Accept header.\n * @public\n */\n\nfunction preferredMediaTypes(accept, provided) {\n  // RFC 2616 sec 14.2: no header = */*\n  var accepts = parseAccept(accept === undefined ? '*/*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all types\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullType);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getMediaTypePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted types\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getType(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full type string.\n * @private\n */\n\nfunction getFullType(spec) {\n  return spec.type + '/' + spec.subtype;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n\n/**\n * Count the number of quotes in a string.\n * @private\n */\n\nfunction quoteCount(string) {\n  var count = 0;\n  var index = 0;\n\n  while ((index = string.indexOf('\"', index)) !== -1) {\n    count++;\n    index++;\n  }\n\n  return count;\n}\n\n/**\n * Split a key value pair.\n * @private\n */\n\nfunction splitKeyValuePair(str) {\n  var index = str.indexOf('=');\n  var key;\n  var val;\n\n  if (index === -1) {\n    key = str;\n  } else {\n    key = str.slice(0, index);\n    val = str.slice(index + 1);\n  }\n\n  return [key, val];\n}\n\n/**\n * Split an Accept header into media types.\n * @private\n */\n\nfunction splitMediaTypes(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 1, j = 0; i < accepts.length; i++) {\n    if (quoteCount(accepts[j]) % 2 == 0) {\n      accepts[++j] = accepts[i];\n    } else {\n      accepts[j] += ',' + accepts[i];\n    }\n  }\n\n  // trim accepts\n  accepts.length = j + 1;\n\n  return accepts;\n}\n\n/**\n * Split a string of parameters.\n * @private\n */\n\nfunction splitParameters(str) {\n  var parameters = str.split(';');\n\n  for (var i = 1, j = 0; i < parameters.length; i++) {\n    if (quoteCount(parameters[j]) % 2 == 0) {\n      parameters[++j] = parameters[i];\n    } else {\n      parameters[j] += ';' + parameters[i];\n    }\n  }\n\n  // trim parameters\n  parameters.length = j + 1;\n\n  for (var i = 0; i < parameters.length; i++) {\n    parameters[i] = parameters[i].trim();\n  }\n\n  return parameters;\n}\n","/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nvar preferredCharsets = require('./lib/charset')\nvar preferredEncodings = require('./lib/encoding')\nvar preferredLanguages = require('./lib/language')\nvar preferredMediaTypes = require('./lib/mediaType')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available, opts) {\n  var set = this.encodings(available, opts);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available, options) {\n  var opts = options || {};\n  return preferredEncodings(this.request.headers['accept-encoding'], available, opts.preferred);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n","/*!\n * accepts\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Negotiator = require('negotiator')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Accepts\n\n/**\n * Create a new Accepts object for the given req.\n *\n * @param {object} req\n * @public\n */\n\nfunction Accepts (req) {\n  if (!(this instanceof Accepts)) {\n    return new Accepts(req)\n  }\n\n  this.headers = req.headers\n  this.negotiator = new Negotiator(req)\n}\n\n/**\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single mime type string\n * such as \"application/json\", the extension name\n * such as \"json\" or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     this.types('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     this.types('html');\n *     // => \"html\"\n *     this.types('text/html');\n *     // => \"text/html\"\n *     this.types('json', 'text');\n *     // => \"json\"\n *     this.types('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     this.types('image/png');\n *     this.types('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     this.types(['html', 'json']);\n *     this.types('html', 'json');\n *     // => \"json\"\n *\n * @param {String|Array} types...\n * @return {String|Array|Boolean}\n * @public\n */\n\nAccepts.prototype.type =\nAccepts.prototype.types = function (types_) {\n  var types = types_\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i]\n    }\n  }\n\n  // no types, return all requested types\n  if (!types || types.length === 0) {\n    return this.negotiator.mediaTypes()\n  }\n\n  // no accept header, return first given type\n  if (!this.headers.accept) {\n    return types[0]\n  }\n\n  var mimes = types.map(extToMime)\n  var accepts = this.negotiator.mediaTypes(mimes.filter(validMime))\n  var first = accepts[0]\n\n  return first\n    ? types[mimes.indexOf(first)]\n    : false\n}\n\n/**\n * Return accepted encodings or best fit based on `encodings`.\n *\n * Given `Accept-Encoding: gzip, deflate`\n * an array sorted by quality is returned:\n *\n *     ['gzip', 'deflate']\n *\n * @param {String|Array} encodings...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.encoding =\nAccepts.prototype.encodings = function (encodings_) {\n  var encodings = encodings_\n\n  // support flattened arguments\n  if (encodings && !Array.isArray(encodings)) {\n    encodings = new Array(arguments.length)\n    for (var i = 0; i < encodings.length; i++) {\n      encodings[i] = arguments[i]\n    }\n  }\n\n  // no encodings, return all requested encodings\n  if (!encodings || encodings.length === 0) {\n    return this.negotiator.encodings()\n  }\n\n  return this.negotiator.encodings(encodings)[0] || false\n}\n\n/**\n * Return accepted charsets or best fit based on `charsets`.\n *\n * Given `Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5`\n * an array sorted by quality is returned:\n *\n *     ['utf-8', 'utf-7', 'iso-8859-1']\n *\n * @param {String|Array} charsets...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.charset =\nAccepts.prototype.charsets = function (charsets_) {\n  var charsets = charsets_\n\n  // support flattened arguments\n  if (charsets && !Array.isArray(charsets)) {\n    charsets = new Array(arguments.length)\n    for (var i = 0; i < charsets.length; i++) {\n      charsets[i] = arguments[i]\n    }\n  }\n\n  // no charsets, return all requested charsets\n  if (!charsets || charsets.length === 0) {\n    return this.negotiator.charsets()\n  }\n\n  return this.negotiator.charsets(charsets)[0] || false\n}\n\n/**\n * Return accepted languages or best fit based on `langs`.\n *\n * Given `Accept-Language: en;q=0.8, es, pt`\n * an array sorted by quality is returned:\n *\n *     ['es', 'pt', 'en']\n *\n * @param {String|Array} langs...\n * @return {Array|String}\n * @public\n */\n\nAccepts.prototype.lang =\nAccepts.prototype.langs =\nAccepts.prototype.language =\nAccepts.prototype.languages = function (languages_) {\n  var languages = languages_\n\n  // support flattened arguments\n  if (languages && !Array.isArray(languages)) {\n    languages = new Array(arguments.length)\n    for (var i = 0; i < languages.length; i++) {\n      languages[i] = arguments[i]\n    }\n  }\n\n  // no languages, return all requested languages\n  if (!languages || languages.length === 0) {\n    return this.negotiator.languages()\n  }\n\n  return this.negotiator.languages(languages)[0] || false\n}\n\n/**\n * Convert extnames to mime.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction extToMime (type) {\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if mime is valid.\n *\n * @param {String} type\n * @return {Boolean}\n * @private\n */\n\nfunction validMime (type) {\n  return typeof type === 'string'\n}\n","/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to check for no-cache token in Cache-Control.\n * @private\n */\n\nvar CACHE_CONTROL_NO_CACHE_REGEXP = /(?:^|,)\\s*?no-cache\\s*?(?:,|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = fresh\n\n/**\n * Check freshness of the response using request and response headers.\n *\n * @param {Object} reqHeaders\n * @param {Object} resHeaders\n * @return {Boolean}\n * @public\n */\n\nfunction fresh (reqHeaders, resHeaders) {\n  // fields\n  var modifiedSince = reqHeaders['if-modified-since']\n  var noneMatch = reqHeaders['if-none-match']\n\n  // unconditional request\n  if (!modifiedSince && !noneMatch) {\n    return false\n  }\n\n  // Always return stale when Cache-Control: no-cache\n  // to support end-to-end reload requests\n  // https://tools.ietf.org/html/rfc2616#section-14.9.4\n  var cacheControl = reqHeaders['cache-control']\n  if (cacheControl && CACHE_CONTROL_NO_CACHE_REGEXP.test(cacheControl)) {\n    return false\n  }\n\n  // if-none-match takes precedent over if-modified-since\n  if (noneMatch) {\n    if (noneMatch === '*') {\n      return true\n    }\n    var etag = resHeaders.etag\n\n    if (!etag) {\n      return false\n    }\n\n    var matches = parseTokenList(noneMatch)\n    for (var i = 0; i < matches.length; i++) {\n      var match = matches[i]\n      if (match === etag || match === 'W/' + etag || 'W/' + match === etag) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  // if-modified-since\n  if (modifiedSince) {\n    var lastModified = resHeaders['last-modified']\n    var modifiedStale = !lastModified || !(parseHttpDate(lastModified) <= parseHttpDate(modifiedSince))\n\n    if (modifiedStale) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  // istanbul ignore next: guard against date.js Date.parse patching\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n","/*!\n * range-parser\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = rangeParser\n\n/**\n * Parse \"Range\" header `str` relative to the given file `size`.\n *\n * @param {Number} size\n * @param {String} str\n * @param {Object} [options]\n * @return {Array}\n * @public\n */\n\nfunction rangeParser (size, str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string')\n  }\n\n  var index = str.indexOf('=')\n\n  if (index === -1) {\n    return -2\n  }\n\n  // split the range string\n  var arr = str.slice(index + 1).split(',')\n  var ranges = []\n\n  // add ranges type\n  ranges.type = str.slice(0, index)\n\n  // parse all ranges\n  for (var i = 0; i < arr.length; i++) {\n    var range = arr[i].split('-')\n    var start = parseInt(range[0], 10)\n    var end = parseInt(range[1], 10)\n\n    // -nnn\n    if (isNaN(start)) {\n      start = size - end\n      end = size - 1\n    // nnn-\n    } else if (isNaN(end)) {\n      end = size - 1\n    }\n\n    // limit last-byte-pos to current length\n    if (end > size - 1) {\n      end = size - 1\n    }\n\n    // invalid or unsatisifiable\n    if (isNaN(start) || isNaN(end) || start > end || start < 0) {\n      continue\n    }\n\n    // add range\n    ranges.push({\n      start: start,\n      end: end\n    })\n  }\n\n  if (ranges.length < 1) {\n    // unsatisifiable\n    return -1\n  }\n\n  return options && options.combine\n    ? combineRanges(ranges)\n    : ranges\n}\n\n/**\n * Combine overlapping & adjacent ranges.\n * @private\n */\n\nfunction combineRanges (ranges) {\n  var ordered = ranges.map(mapWithIndex).sort(sortByRangeStart)\n\n  for (var j = 0, i = 1; i < ordered.length; i++) {\n    var range = ordered[i]\n    var current = ordered[j]\n\n    if (range.start > current.end + 1) {\n      // next range\n      ordered[++j] = range\n    } else if (range.end > current.end) {\n      // extend range\n      current.end = range.end\n      current.index = Math.min(current.index, range.index)\n    }\n  }\n\n  // trim ordered array\n  ordered.length = j + 1\n\n  // generate combined range\n  var combined = ordered.sort(sortByRangeIndex).map(mapWithoutIndex)\n\n  // copy ranges type\n  combined.type = ranges.type\n\n  return combined\n}\n\n/**\n * Map function to add index value to ranges.\n * @private\n */\n\nfunction mapWithIndex (range, index) {\n  return {\n    start: range.start,\n    end: range.end,\n    index: index\n  }\n}\n\n/**\n * Map function to remove index value from ranges.\n * @private\n */\n\nfunction mapWithoutIndex (range) {\n  return {\n    start: range.start,\n    end: range.end\n  }\n}\n\n/**\n * Sort function to sort ranges by index.\n * @private\n */\n\nfunction sortByRangeIndex (a, b) {\n  return a.index - b.index\n}\n\n/**\n * Sort function to sort ranges by start position.\n * @private\n */\n\nfunction sortByRangeStart (a, b) {\n  return a.start - b.start\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar accepts = require('accepts');\nvar isIP = require('node:net').isIP;\nvar typeis = require('type-is');\nvar http = require('node:http');\nvar fresh = require('fresh');\nvar parseRange = require('range-parser');\nvar parse = require('parseurl');\nvar proxyaddr = require('proxy-addr');\n\n/**\n * Request prototype.\n * @public\n */\n\nvar req = Object.create(http.IncomingMessage.prototype)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = req\n\n/**\n * Return request header.\n *\n * The `Referrer` header field is special-cased,\n * both `Referrer` and `Referer` are interchangeable.\n *\n * Examples:\n *\n *     req.get('Content-Type');\n *     // => \"text/plain\"\n *\n *     req.get('content-type');\n *     // => \"text/plain\"\n *\n *     req.get('Something');\n *     // => undefined\n *\n * Aliased as `req.header()`.\n *\n * @param {String} name\n * @return {String}\n * @public\n */\n\nreq.get =\nreq.header = function header(name) {\n  if (!name) {\n    throw new TypeError('name argument is required to req.get');\n  }\n\n  if (typeof name !== 'string') {\n    throw new TypeError('name must be a string to req.get');\n  }\n\n  var lc = name.toLowerCase();\n\n  switch (lc) {\n    case 'referer':\n    case 'referrer':\n      return this.headers.referrer\n        || this.headers.referer;\n    default:\n      return this.headers[lc];\n  }\n};\n\n/**\n * To do: update docs.\n *\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single MIME type string\n * such as \"application/json\", an extension name\n * such as \"json\", a comma-delimited list such as \"json, html, text/plain\",\n * an argument list such as `\"json\", \"html\", \"text/plain\"`,\n * or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given, the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     req.accepts('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     req.accepts('html');\n *     // => \"html\"\n *     req.accepts('text/html');\n *     // => \"text/html\"\n *     req.accepts('json, text');\n *     // => \"json\"\n *     req.accepts('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     req.accepts('image/png');\n *     req.accepts('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     req.accepts(['html', 'json']);\n *     req.accepts('html', 'json');\n *     req.accepts('html, json');\n *     // => \"json\"\n *\n * @param {String|Array} type(s)\n * @return {String|Array|Boolean}\n * @public\n */\n\nreq.accepts = function(){\n  var accept = accepts(this);\n  return accept.types.apply(accept, arguments);\n};\n\n/**\n * Check if the given `encoding`s are accepted.\n *\n * @param {String} ...encoding\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsEncodings = function(){\n  var accept = accepts(this);\n  return accept.encodings.apply(accept, arguments);\n};\n\n/**\n * Check if the given `charset`s are acceptable,\n * otherwise you should respond with 406 \"Not Acceptable\".\n *\n * @param {String} ...charset\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsCharsets = function(){\n  var accept = accepts(this);\n  return accept.charsets.apply(accept, arguments);\n};\n\n/**\n * Check if the given `lang`s are acceptable,\n * otherwise you should respond with 406 \"Not Acceptable\".\n *\n * @param {String} ...lang\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsLanguages = function(){\n  var accept = accepts(this);\n  return accept.languages.apply(accept, arguments);\n};\n\n/**\n * Parse Range header field, capping to the given `size`.\n *\n * Unspecified ranges such as \"0-\" require knowledge of your resource length. In\n * the case of a byte range this is of course the total number of bytes. If the\n * Range header field is not given `undefined` is returned, `-1` when unsatisfiable,\n * and `-2` when syntactically invalid.\n *\n * When ranges are returned, the array has a \"type\" property which is the type of\n * range that is required (most commonly, \"bytes\"). Each array element is an object\n * with a \"start\" and \"end\" property for the portion of the range.\n *\n * The \"combine\" option can be set to `true` and overlapping & adjacent ranges\n * will be combined into a single range.\n *\n * NOTE: remember that ranges are inclusive, so for example \"Range: users=0-3\"\n * should respond with 4 users when available, not 3.\n *\n * @param {number} size\n * @param {object} [options]\n * @param {boolean} [options.combine=false]\n * @return {number|array}\n * @public\n */\n\nreq.range = function range(size, options) {\n  var range = this.get('Range');\n  if (!range) return;\n  return parseRange(size, range, options);\n};\n\n/**\n * Parse the query string of `req.url`.\n *\n * This uses the \"query parser\" setting to parse the raw\n * string into an object.\n *\n * @return {String}\n * @api public\n */\n\ndefineGetter(req, 'query', function query(){\n  var queryparse = this.app.get('query parser fn');\n\n  if (!queryparse) {\n    // parsing is disabled\n    return Object.create(null);\n  }\n\n  var querystring = parse(this).query;\n\n  return queryparse(querystring);\n});\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains the given mime `type`.\n *\n * Examples:\n *\n *      // With Content-Type: text/html; charset=utf-8\n *      req.is('html');\n *      req.is('text/html');\n *      req.is('text/*');\n *      // => true\n *\n *      // When Content-Type is application/json\n *      req.is('json');\n *      req.is('application/json');\n *      req.is('application/*');\n *      // => true\n *\n *      req.is('html');\n *      // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nreq.is = function is(types) {\n  var arr = types;\n\n  // support flattened arguments\n  if (!Array.isArray(types)) {\n    arr = new Array(arguments.length);\n    for (var i = 0; i < arr.length; i++) {\n      arr[i] = arguments[i];\n    }\n  }\n\n  return typeis(this, arr);\n};\n\n/**\n * Return the protocol string \"http\" or \"https\"\n * when requested with TLS. When the \"trust proxy\"\n * setting trusts the socket address, the\n * \"X-Forwarded-Proto\" header field will be trusted\n * and used if present.\n *\n * If you're running behind a reverse proxy that\n * supplies https for you this may be enabled.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'protocol', function protocol(){\n  var proto = this.connection.encrypted\n    ? 'https'\n    : 'http';\n  var trust = this.app.get('trust proxy fn');\n\n  if (!trust(this.connection.remoteAddress, 0)) {\n    return proto;\n  }\n\n  // Note: X-Forwarded-Proto is normally only ever a\n  //       single value, but this is to be safe.\n  var header = this.get('X-Forwarded-Proto') || proto\n  var index = header.indexOf(',')\n\n  return index !== -1\n    ? header.substring(0, index).trim()\n    : header.trim()\n});\n\n/**\n * Short-hand for:\n *\n *    req.protocol === 'https'\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'secure', function secure(){\n  return this.protocol === 'https';\n});\n\n/**\n * Return the remote address from the trusted proxy.\n *\n * The is the remote address on the socket unless\n * \"trust proxy\" is set.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'ip', function ip(){\n  var trust = this.app.get('trust proxy fn');\n  return proxyaddr(this, trust);\n});\n\n/**\n * When \"trust proxy\" is set, trusted proxy addresses + client.\n *\n * For example if the value were \"client, proxy1, proxy2\"\n * you would receive the array `[\"client\", \"proxy1\", \"proxy2\"]`\n * where \"proxy2\" is the furthest down-stream and \"proxy1\" and\n * \"proxy2\" were trusted.\n *\n * @return {Array}\n * @public\n */\n\ndefineGetter(req, 'ips', function ips() {\n  var trust = this.app.get('trust proxy fn');\n  var addrs = proxyaddr.all(this, trust);\n\n  // reverse the order (to farthest -> closest)\n  // and remove socket address\n  addrs.reverse().pop()\n\n  return addrs\n});\n\n/**\n * Return subdomains as an array.\n *\n * Subdomains are the dot-separated parts of the host before the main domain of\n * the app. By default, the domain of the app is assumed to be the last two\n * parts of the host. This can be changed by setting \"subdomain offset\".\n *\n * For example, if the domain is \"tobi.ferrets.example.com\":\n * If \"subdomain offset\" is not set, req.subdomains is `[\"ferrets\", \"tobi\"]`.\n * If \"subdomain offset\" is 3, req.subdomains is `[\"tobi\"]`.\n *\n * @return {Array}\n * @public\n */\n\ndefineGetter(req, 'subdomains', function subdomains() {\n  var hostname = this.hostname;\n\n  if (!hostname) return [];\n\n  var offset = this.app.get('subdomain offset');\n  var subdomains = !isIP(hostname)\n    ? hostname.split('.').reverse()\n    : [hostname];\n\n  return subdomains.slice(offset);\n});\n\n/**\n * Short-hand for `url.parse(req.url).pathname`.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'path', function path() {\n  return parse(this).pathname;\n});\n\n/**\n * Parse the \"Host\" header field to a host.\n *\n * When the \"trust proxy\" setting trusts the socket\n * address, the \"X-Forwarded-Host\" header field will\n * be trusted.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'host', function host(){\n  var trust = this.app.get('trust proxy fn');\n  var val = this.get('X-Forwarded-Host');\n\n  if (!val || !trust(this.connection.remoteAddress, 0)) {\n    val = this.get('Host');\n  } else if (val.indexOf(',') !== -1) {\n    // Note: X-Forwarded-Host is normally only ever a\n    //       single value, but this is to be safe.\n    val = val.substring(0, val.indexOf(',')).trimRight()\n  }\n\n  return val || undefined;\n});\n\n/**\n * Parse the \"Host\" header field to a hostname.\n *\n * When the \"trust proxy\" setting trusts the socket\n * address, the \"X-Forwarded-Host\" header field will\n * be trusted.\n *\n * @return {String}\n * @api public\n */\n\ndefineGetter(req, 'hostname', function hostname(){\n  var host = this.host;\n\n  if (!host) return;\n\n  // IPv6 literal support\n  var offset = host[0] === '['\n    ? host.indexOf(']') + 1\n    : 0;\n  var index = host.indexOf(':', offset);\n\n  return index !== -1\n    ? host.substring(0, index)\n    : host;\n});\n\n/**\n * Check if the request is fresh, aka\n * Last-Modified or the ETag\n * still match.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'fresh', function(){\n  var method = this.method;\n  var res = this.res\n  var status = res.statusCode\n\n  // GET or HEAD for weak freshness validation only\n  if ('GET' !== method && 'HEAD' !== method) return false;\n\n  // 2xx or 304 as per rfc2616 14.26\n  if ((status >= 200 && status < 300) || 304 === status) {\n    return fresh(this.headers, {\n      'etag': res.get('ETag'),\n      'last-modified': res.get('Last-Modified')\n    })\n  }\n\n  return false;\n});\n\n/**\n * Check if the request is stale, aka\n * \"Last-Modified\" and / or the \"ETag\" for the\n * resource has changed.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'stale', function stale(){\n  return !this.fresh;\n});\n\n/**\n * Check if the request was an _XMLHttpRequest_.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'xhr', function xhr(){\n  var val = this.get('X-Requested-With') || '';\n  return val.toLowerCase() === 'xmlhttprequest';\n});\n\n/**\n * Helper function for creating a getter on an object.\n *\n * @param {Object} obj\n * @param {String} name\n * @param {Function} getter\n * @private\n */\nfunction defineGetter(obj, name, getter) {\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: true,\n    get: getter\n  });\n}\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*!\n * content-disposition\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = contentDisposition\nmodule.exports.parse = parse\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar basename = require('path').basename\nvar Buffer = require('safe-buffer').Buffer\n\n/**\n * RegExp to match non attr-char, *after* encodeURIComponent (i.e. not including \"%\")\n * @private\n */\n\nvar ENCODE_URL_ATTR_CHAR_REGEXP = /[\\x00-\\x20\"'()*,/:;<=>?@[\\\\\\]{}\\x7f]/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match percent encoding escape.\n * @private\n */\n\nvar HEX_ESCAPE_REGEXP = /%[0-9A-Fa-f]{2}/\nvar HEX_ESCAPE_REPLACE_REGEXP = /%([0-9A-Fa-f]{2})/g\n\n/**\n * RegExp to match non-latin1 characters.\n * @private\n */\n\nvar NON_LATIN1_REGEXP = /[^\\x20-\\x7e\\xa0-\\xff]/g\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n * @private\n */\n\nvar QESC_REGEXP = /\\\\([\\u0000-\\u007f])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n * @private\n */\n\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp for various RFC 2616 grammar\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * HT            = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n * @private\n */\n\nvar PARAM_REGEXP = /;[\\x09\\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*=[\\x09\\x20]*(\"(?:[\\x20!\\x23-\\x5b\\x5d-\\x7e\\x80-\\xff]|\\\\[\\x20-\\x7e])*\"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*/g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\x20-\\x7e\\x80-\\xff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/\n\n/**\n * RegExp for various RFC 5987 grammar\n *\n * ext-value     = charset  \"'\" [ language ] \"'\" value-chars\n * charset       = \"UTF-8\" / \"ISO-8859-1\" / mime-charset\n * mime-charset  = 1*mime-charsetc\n * mime-charsetc = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"%\" / \"&\"\n *               / \"+\" / \"-\" / \"^\" / \"_\" / \"`\"\n *               / \"{\" / \"}\" / \"~\"\n * language      = ( 2*3ALPHA [ extlang ] )\n *               / 4ALPHA\n *               / 5*8ALPHA\n * extlang       = *3( \"-\" 3ALPHA )\n * value-chars   = *( pct-encoded / attr-char )\n * pct-encoded   = \"%\" HEXDIG HEXDIG\n * attr-char     = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"&\" / \"+\" / \"-\" / \".\"\n *               / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n * @private\n */\n\nvar EXT_VALUE_REGEXP = /^([A-Za-z0-9!#$%&+\\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/\n\n/**\n * RegExp for various RFC 6266 grammar\n *\n * disposition-type = \"inline\" | \"attachment\" | disp-ext-type\n * disp-ext-type    = token\n * disposition-parm = filename-parm | disp-ext-parm\n * filename-parm    = \"filename\" \"=\" value\n *                  | \"filename*\" \"=\" ext-value\n * disp-ext-parm    = token \"=\" value\n *                  | ext-token \"=\" ext-value\n * ext-token        = <the characters in token, followed by \"*\">\n * @private\n */\n\nvar DISPOSITION_TYPE_REGEXP = /^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*(?:$|;)/ // eslint-disable-line no-control-regex\n\n/**\n * Create an attachment Content-Disposition header.\n *\n * @param {string} [filename]\n * @param {object} [options]\n * @param {string} [options.type=attachment]\n * @param {string|boolean} [options.fallback=true]\n * @return {string}\n * @public\n */\n\nfunction contentDisposition (filename, options) {\n  var opts = options || {}\n\n  // get type\n  var type = opts.type || 'attachment'\n\n  // get parameters\n  var params = createparams(filename, opts.fallback)\n\n  // format into string\n  return format(new ContentDisposition(type, params))\n}\n\n/**\n * Create parameters object from filename and fallback.\n *\n * @param {string} [filename]\n * @param {string|boolean} [fallback=true]\n * @return {object}\n * @private\n */\n\nfunction createparams (filename, fallback) {\n  if (filename === undefined) {\n    return\n  }\n\n  var params = {}\n\n  if (typeof filename !== 'string') {\n    throw new TypeError('filename must be a string')\n  }\n\n  // fallback defaults to true\n  if (fallback === undefined) {\n    fallback = true\n  }\n\n  if (typeof fallback !== 'string' && typeof fallback !== 'boolean') {\n    throw new TypeError('fallback must be a string or boolean')\n  }\n\n  if (typeof fallback === 'string' && NON_LATIN1_REGEXP.test(fallback)) {\n    throw new TypeError('fallback must be ISO-8859-1 string')\n  }\n\n  // restrict to file base name\n  var name = basename(filename)\n\n  // determine if name is suitable for quoted string\n  var isQuotedString = TEXT_REGEXP.test(name)\n\n  // generate fallback name\n  var fallbackName = typeof fallback !== 'string'\n    ? fallback && getlatin1(name)\n    : basename(fallback)\n  var hasFallback = typeof fallbackName === 'string' && fallbackName !== name\n\n  // set extended filename parameter\n  if (hasFallback || !isQuotedString || HEX_ESCAPE_REGEXP.test(name)) {\n    params['filename*'] = name\n  }\n\n  // set filename parameter\n  if (isQuotedString || hasFallback) {\n    params.filename = hasFallback\n      ? fallbackName\n      : name\n  }\n\n  return params\n}\n\n/**\n * Format object to Content-Disposition header.\n *\n * @param {object} obj\n * @param {string} obj.type\n * @param {object} [obj.parameters]\n * @return {string}\n * @private\n */\n\nfunction format (obj) {\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || typeof type !== 'string' || !TOKEN_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  // start with normalized type\n  var string = String(type).toLowerCase()\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      var val = param.slice(-1) === '*'\n        ? ustring(parameters[param])\n        : qstring(parameters[param])\n\n      string += '; ' + param + '=' + val\n    }\n  }\n\n  return string\n}\n\n/**\n * Decode a RFC 5987 field value (gracefully).\n *\n * @param {string} str\n * @return {string}\n * @private\n */\n\nfunction decodefield (str) {\n  var match = EXT_VALUE_REGEXP.exec(str)\n\n  if (!match) {\n    throw new TypeError('invalid extended field value')\n  }\n\n  var charset = match[1].toLowerCase()\n  var encoded = match[2]\n  var value\n\n  // to binary string\n  var binary = encoded.replace(HEX_ESCAPE_REPLACE_REGEXP, pdecode)\n\n  switch (charset) {\n    case 'iso-8859-1':\n      value = getlatin1(binary)\n      break\n    case 'utf-8':\n    case 'utf8':\n      value = Buffer.from(binary, 'binary').toString('utf8')\n      break\n    default:\n      throw new TypeError('unsupported charset in extended field')\n  }\n\n  return value\n}\n\n/**\n * Get ISO-8859-1 version of string.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction getlatin1 (val) {\n  // simple Unicode -> ISO-8859-1 transformation\n  return String(val).replace(NON_LATIN1_REGEXP, '?')\n}\n\n/**\n * Parse Content-Disposition header string.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string || typeof string !== 'string') {\n    throw new TypeError('argument string is required')\n  }\n\n  var match = DISPOSITION_TYPE_REGEXP.exec(string)\n\n  if (!match) {\n    throw new TypeError('invalid type format')\n  }\n\n  // normalize type\n  var index = match[0].length\n  var type = match[1].toLowerCase()\n\n  var key\n  var names = []\n  var params = {}\n  var value\n\n  // calculate index to start at\n  index = PARAM_REGEXP.lastIndex = match[0].slice(-1) === ';'\n    ? index - 1\n    : index\n\n  // match parameters\n  while ((match = PARAM_REGEXP.exec(string))) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (names.indexOf(key) !== -1) {\n      throw new TypeError('invalid duplicate parameter')\n    }\n\n    names.push(key)\n\n    if (key.indexOf('*') + 1 === key.length) {\n      // decode extended value\n      key = key.slice(0, -1)\n      value = decodefield(value)\n\n      // overwrite existing value\n      params[key] = value\n      continue\n    }\n\n    if (typeof params[key] === 'string') {\n      continue\n    }\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .slice(1, -1)\n        .replace(QESC_REGEXP, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  return new ContentDisposition(type, params)\n}\n\n/**\n * Percent decode a single character.\n *\n * @param {string} str\n * @param {string} hex\n * @return {string}\n * @private\n */\n\nfunction pdecode (str, hex) {\n  return String.fromCharCode(parseInt(hex, 16))\n}\n\n/**\n * Percent encode a single character.\n *\n * @param {string} char\n * @return {string}\n * @private\n */\n\nfunction pencode (char) {\n  return '%' + String(char)\n    .charCodeAt(0)\n    .toString(16)\n    .toUpperCase()\n}\n\n/**\n * Quote a string for HTTP.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Encode a Unicode string for HTTP (RFC 5987).\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction ustring (val) {\n  var str = String(val)\n\n  // percent encode as UTF-8\n  var encoded = encodeURIComponent(str)\n    .replace(ENCODE_URL_ATTR_CHAR_REGEXP, pencode)\n\n  return 'UTF-8\\'\\'' + encoded\n}\n\n/**\n * Class for parsed Content-Disposition header for v8 optimization\n *\n * @public\n * @param {string} type\n * @param {object} parameters\n * @constructor\n */\n\nfunction ContentDisposition (type, parameters) {\n  this.type = type\n  this.parameters = parameters\n}\n","/**\n * Module dependencies.\n */\n\nvar crypto = require('crypto');\n\n/**\n * Sign the given `val` with `secret`.\n *\n * @param {String} val\n * @param {String|NodeJS.ArrayBufferView|crypto.KeyObject} secret\n * @return {String}\n * @api private\n */\n\nexports.sign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Cookie value must be provided as a string.\");\n  if (null == secret) throw new TypeError(\"Secret key must be provided.\");\n  return val + '.' + crypto\n    .createHmac('sha256', secret)\n    .update(val)\n    .digest('base64')\n    .replace(/\\=+$/, '');\n};\n\n/**\n * Unsign and decode the given `input` with `secret`,\n * returning `false` if the signature is invalid.\n *\n * @param {String} input\n * @param {String|NodeJS.ArrayBufferView|crypto.KeyObject} secret\n * @return {String|Boolean}\n * @api private\n */\n\nexports.unsign = function(input, secret){\n  if ('string' != typeof input) throw new TypeError(\"Signed cookie string must be provided.\");\n  if (null == secret) throw new TypeError(\"Secret key must be provided.\");\n  var tentativeValue = input.slice(0, input.lastIndexOf('.')),\n      expectedInput = exports.sign(tentativeValue, secret),\n      expectedBuffer = Buffer.from(expectedInput),\n      inputBuffer = Buffer.from(input);\n  return (\n    expectedBuffer.length === inputBuffer.length &&\n    crypto.timingSafeEqual(expectedBuffer, inputBuffer)\n   ) ? tentativeValue : false;\n};\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\nvar __hasOwnProperty = Object.prototype.hasOwnProperty\n\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n */\n\nvar cookieNameRegExp = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n */\n\nvar cookieValueRegExp = /^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\n\nvar domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\n\nvar pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [opt]\n * @return {object}\n * @public\n */\n\nfunction parse(str, opt) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {};\n  var len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  var dec = (opt && opt.decode) || decode;\n  var index = 0;\n  var eqIdx = 0;\n  var endIdx = 0;\n\n  do {\n    eqIdx = str.indexOf('=', index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    endIdx = str.indexOf(';', index);\n\n    if (endIdx === -1) {\n      endIdx = len;\n    } else if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1;\n      continue;\n    }\n\n    var keyStartIdx = startIndex(str, index, eqIdx);\n    var keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    var key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (!__hasOwnProperty.call(obj, key)) {\n      var valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      var valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      if (str.charCodeAt(valStartIdx) === 0x22 /* \" */ && str.charCodeAt(valEndIdx - 1) === 0x22 /* \" */) {\n        valStartIdx++;\n        valEndIdx--;\n      }\n\n      var val = str.slice(valStartIdx, valEndIdx);\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str, index, max) {\n  do {\n    var code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str, index, min) {\n  while (index > min) {\n    var code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [opt]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, opt) {\n  var enc = (opt && opt.encode) || encodeURIComponent;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n  if (!opt) return str;\n\n  if (null != opt.maxAge) {\n    var maxAge = Math.floor(opt.maxAge);\n\n    if (!isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + maxAge;\n  }\n\n  if (opt.domain) {\n    if (!domainValueRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!pathValueRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase() : opt.priority;\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]';\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","/*!\n * send\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('send')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar etag = require('etag')\nvar fresh = require('fresh')\nvar fs = require('fs')\nvar mime = require('mime-types')\nvar ms = require('ms')\nvar onFinished = require('on-finished')\nvar parseRange = require('range-parser')\nvar path = require('path')\nvar statuses = require('statuses')\nvar Stream = require('stream')\nvar util = require('util')\n\n/**\n * Path function references.\n * @private\n */\n\nvar extname = path.extname\nvar join = path.join\nvar normalize = path.normalize\nvar resolve = path.resolve\nvar sep = path.sep\n\n/**\n * Regular expression for identifying a bytes Range header.\n * @private\n */\n\nvar BYTES_RANGE_REGEXP = /^ *bytes=/\n\n/**\n * Maximum value allowed for the max age.\n * @private\n */\n\nvar MAX_MAXAGE = 60 * 60 * 24 * 365 * 1000 // 1 year\n\n/**\n * Regular expression to match a path with a directory up component.\n * @private\n */\n\nvar UP_PATH_REGEXP = /(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = send\n\n/**\n * Return a `SendStream` for `req` and `path`.\n *\n * @param {object} req\n * @param {string} path\n * @param {object} [options]\n * @return {SendStream}\n * @public\n */\n\nfunction send (req, path, options) {\n  return new SendStream(req, path, options)\n}\n\n/**\n * Initialize a `SendStream` with the given `path`.\n *\n * @param {Request} req\n * @param {String} path\n * @param {object} [options]\n * @private\n */\n\nfunction SendStream (req, path, options) {\n  Stream.call(this)\n\n  var opts = options || {}\n\n  this.options = opts\n  this.path = path\n  this.req = req\n\n  this._acceptRanges = opts.acceptRanges !== undefined\n    ? Boolean(opts.acceptRanges)\n    : true\n\n  this._cacheControl = opts.cacheControl !== undefined\n    ? Boolean(opts.cacheControl)\n    : true\n\n  this._etag = opts.etag !== undefined\n    ? Boolean(opts.etag)\n    : true\n\n  this._dotfiles = opts.dotfiles !== undefined\n    ? opts.dotfiles\n    : 'ignore'\n\n  if (this._dotfiles !== 'ignore' && this._dotfiles !== 'allow' && this._dotfiles !== 'deny') {\n    throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"')\n  }\n\n  this._extensions = opts.extensions !== undefined\n    ? normalizeList(opts.extensions, 'extensions option')\n    : []\n\n  this._immutable = opts.immutable !== undefined\n    ? Boolean(opts.immutable)\n    : false\n\n  this._index = opts.index !== undefined\n    ? normalizeList(opts.index, 'index option')\n    : ['index.html']\n\n  this._lastModified = opts.lastModified !== undefined\n    ? Boolean(opts.lastModified)\n    : true\n\n  this._maxage = opts.maxAge || opts.maxage\n  this._maxage = typeof this._maxage === 'string'\n    ? ms(this._maxage)\n    : Number(this._maxage)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n\n  this._root = opts.root\n    ? resolve(opts.root)\n    : null\n}\n\n/**\n * Inherits from `Stream`.\n */\n\nutil.inherits(SendStream, Stream)\n\n/**\n * Emit error with `status`.\n *\n * @param {number} status\n * @param {Error} [err]\n * @private\n */\n\nSendStream.prototype.error = function error (status, err) {\n  // emit if listeners instead of responding\n  if (hasListeners(this, 'error')) {\n    return this.emit('error', createHttpError(status, err))\n  }\n\n  var res = this.res\n  var msg = statuses.message[status] || String(status)\n  var doc = createHtmlDocument('Error', escapeHtml(msg))\n\n  // clear existing headers\n  clearHeaders(res)\n\n  // add error headers\n  if (err && err.headers) {\n    setHeaders(res, err.headers)\n  }\n\n  // send basic response\n  res.statusCode = status\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.end(doc)\n}\n\n/**\n * Check if the pathname ends with \"/\".\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.hasTrailingSlash = function hasTrailingSlash () {\n  return this.path[this.path.length - 1] === '/'\n}\n\n/**\n * Check if this is a conditional GET request.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isConditionalGET = function isConditionalGET () {\n  return this.req.headers['if-match'] ||\n    this.req.headers['if-unmodified-since'] ||\n    this.req.headers['if-none-match'] ||\n    this.req.headers['if-modified-since']\n}\n\n/**\n * Check if the request preconditions failed.\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.isPreconditionFailure = function isPreconditionFailure () {\n  var req = this.req\n  var res = this.res\n\n  // if-match\n  var match = req.headers['if-match']\n  if (match) {\n    var etag = res.getHeader('ETag')\n    return !etag || (match !== '*' && parseTokenList(match).every(function (match) {\n      return match !== etag && match !== 'W/' + etag && 'W/' + match !== etag\n    }))\n  }\n\n  // if-unmodified-since\n  var unmodifiedSince = parseHttpDate(req.headers['if-unmodified-since'])\n  if (!isNaN(unmodifiedSince)) {\n    var lastModified = parseHttpDate(res.getHeader('Last-Modified'))\n    return isNaN(lastModified) || lastModified > unmodifiedSince\n  }\n\n  return false\n}\n\n/**\n * Strip various content header fields for a change in entity.\n *\n * @private\n */\n\nSendStream.prototype.removeContentHeaderFields = function removeContentHeaderFields () {\n  var res = this.res\n\n  res.removeHeader('Content-Encoding')\n  res.removeHeader('Content-Language')\n  res.removeHeader('Content-Length')\n  res.removeHeader('Content-Range')\n  res.removeHeader('Content-Type')\n}\n\n/**\n * Respond with 304 not modified.\n *\n * @api private\n */\n\nSendStream.prototype.notModified = function notModified () {\n  var res = this.res\n  debug('not modified')\n  this.removeContentHeaderFields()\n  res.statusCode = 304\n  res.end()\n}\n\n/**\n * Raise error that headers already sent.\n *\n * @api private\n */\n\nSendStream.prototype.headersAlreadySent = function headersAlreadySent () {\n  var err = new Error('Can\\'t set headers after they are sent.')\n  debug('headers already sent')\n  this.error(500, err)\n}\n\n/**\n * Check if the request is cacheable, aka\n * responded with 2xx or 304 (see RFC 2616 section 14.2{5,6}).\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isCachable = function isCachable () {\n  var statusCode = this.res.statusCode\n  return (statusCode >= 200 && statusCode < 300) ||\n    statusCode === 304\n}\n\n/**\n * Handle stat() error.\n *\n * @param {Error} error\n * @private\n */\n\nSendStream.prototype.onStatError = function onStatError (error) {\n  switch (error.code) {\n    case 'ENAMETOOLONG':\n    case 'ENOENT':\n    case 'ENOTDIR':\n      this.error(404, error)\n      break\n    default:\n      this.error(500, error)\n      break\n  }\n}\n\n/**\n * Check if the cache is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isFresh = function isFresh () {\n  return fresh(this.req.headers, {\n    etag: this.res.getHeader('ETag'),\n    'last-modified': this.res.getHeader('Last-Modified')\n  })\n}\n\n/**\n * Check if the range is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isRangeFresh = function isRangeFresh () {\n  var ifRange = this.req.headers['if-range']\n\n  if (!ifRange) {\n    return true\n  }\n\n  // if-range as etag\n  if (ifRange.indexOf('\"') !== -1) {\n    var etag = this.res.getHeader('ETag')\n    return Boolean(etag && ifRange.indexOf(etag) !== -1)\n  }\n\n  // if-range as modified date\n  var lastModified = this.res.getHeader('Last-Modified')\n  return parseHttpDate(lastModified) <= parseHttpDate(ifRange)\n}\n\n/**\n * Redirect to path.\n *\n * @param {string} path\n * @private\n */\n\nSendStream.prototype.redirect = function redirect (path) {\n  var res = this.res\n\n  if (hasListeners(this, 'directory')) {\n    this.emit('directory', res, path)\n    return\n  }\n\n  if (this.hasTrailingSlash()) {\n    this.error(403)\n    return\n  }\n\n  var loc = encodeUrl(collapseLeadingSlashes(this.path + '/'))\n  var doc = createHtmlDocument('Redirecting', 'Redirecting to ' + escapeHtml(loc))\n\n  // redirect\n  res.statusCode = 301\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.setHeader('Location', loc)\n  res.end(doc)\n}\n\n/**\n * Pipe to `res.\n *\n * @param {Stream} res\n * @return {Stream} res\n * @api public\n */\n\nSendStream.prototype.pipe = function pipe (res) {\n  // root path\n  var root = this._root\n\n  // references\n  this.res = res\n\n  // decode the path\n  var path = decode(this.path)\n  if (path === -1) {\n    this.error(400)\n    return res\n  }\n\n  // null byte(s)\n  if (~path.indexOf('\\0')) {\n    this.error(400)\n    return res\n  }\n\n  var parts\n  if (root !== null) {\n    // normalize\n    if (path) {\n      path = normalize('.' + sep + path)\n    }\n\n    // malicious path\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = path.split(sep)\n\n    // join / normalize from optional root dir\n    path = normalize(join(root, path))\n  } else {\n    // \"..\" is malicious without \"root\"\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = normalize(path).split(sep)\n\n    // resolve the path\n    path = resolve(path)\n  }\n\n  // dotfile handling\n  if (containsDotFile(parts)) {\n    debug('%s dotfile \"%s\"', this._dotfiles, path)\n    switch (this._dotfiles) {\n      case 'allow':\n        break\n      case 'deny':\n        this.error(403)\n        return res\n      case 'ignore':\n      default:\n        this.error(404)\n        return res\n    }\n  }\n\n  // index file support\n  if (this._index.length && this.hasTrailingSlash()) {\n    this.sendIndex(path)\n    return res\n  }\n\n  this.sendFile(path)\n  return res\n}\n\n/**\n * Transfer `path`.\n *\n * @param {String} path\n * @api public\n */\n\nSendStream.prototype.send = function send (path, stat) {\n  var len = stat.size\n  var options = this.options\n  var opts = {}\n  var res = this.res\n  var req = this.req\n  var ranges = req.headers.range\n  var offset = options.start || 0\n\n  if (res.headersSent) {\n    // impossible to send now\n    this.headersAlreadySent()\n    return\n  }\n\n  debug('pipe \"%s\"', path)\n\n  // set header fields\n  this.setHeader(path, stat)\n\n  // set content-type\n  this.type(path)\n\n  // conditional GET support\n  if (this.isConditionalGET()) {\n    if (this.isPreconditionFailure()) {\n      this.error(412)\n      return\n    }\n\n    if (this.isCachable() && this.isFresh()) {\n      this.notModified()\n      return\n    }\n  }\n\n  // adjust len to start/end options\n  len = Math.max(0, len - offset)\n  if (options.end !== undefined) {\n    var bytes = options.end - offset + 1\n    if (len > bytes) len = bytes\n  }\n\n  // Range support\n  if (this._acceptRanges && BYTES_RANGE_REGEXP.test(ranges)) {\n    // parse\n    ranges = parseRange(len, ranges, {\n      combine: true\n    })\n\n    // If-Range support\n    if (!this.isRangeFresh()) {\n      debug('range stale')\n      ranges = -2\n    }\n\n    // unsatisfiable\n    if (ranges === -1) {\n      debug('range unsatisfiable')\n\n      // Content-Range\n      res.setHeader('Content-Range', contentRange('bytes', len))\n\n      // 416 Requested Range Not Satisfiable\n      return this.error(416, {\n        headers: { 'Content-Range': res.getHeader('Content-Range') }\n      })\n    }\n\n    // valid (syntactically invalid/multiple ranges are treated as a regular response)\n    if (ranges !== -2 && ranges.length === 1) {\n      debug('range %j', ranges)\n\n      // Content-Range\n      res.statusCode = 206\n      res.setHeader('Content-Range', contentRange('bytes', len, ranges[0]))\n\n      // adjust for requested range\n      offset += ranges[0].start\n      len = ranges[0].end - ranges[0].start + 1\n    }\n  }\n\n  // clone options\n  for (var prop in options) {\n    opts[prop] = options[prop]\n  }\n\n  // set read options\n  opts.start = offset\n  opts.end = Math.max(offset, offset + len - 1)\n\n  // content-length\n  res.setHeader('Content-Length', len)\n\n  // HEAD support\n  if (req.method === 'HEAD') {\n    res.end()\n    return\n  }\n\n  this.stream(path, opts)\n}\n\n/**\n * Transfer file for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendFile = function sendFile (path) {\n  var i = 0\n  var self = this\n\n  debug('stat \"%s\"', path)\n  fs.stat(path, function onstat (err, stat) {\n    var pathEndsWithSep = path[path.length - 1] === sep\n    if (err && err.code === 'ENOENT' && !extname(path) && !pathEndsWithSep) {\n      // not found, check extensions\n      return next(err)\n    }\n    if (err) return self.onStatError(err)\n    if (stat.isDirectory()) return self.redirect(path)\n    if (pathEndsWithSep) return self.error(404)\n    self.emit('file', path, stat)\n    self.send(path, stat)\n  })\n\n  function next (err) {\n    if (self._extensions.length <= i) {\n      return err\n        ? self.onStatError(err)\n        : self.error(404)\n    }\n\n    var p = path + '.' + self._extensions[i++]\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n}\n\n/**\n * Transfer index for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendIndex = function sendIndex (path) {\n  var i = -1\n  var self = this\n\n  function next (err) {\n    if (++i >= self._index.length) {\n      if (err) return self.onStatError(err)\n      return self.error(404)\n    }\n\n    var p = join(path, self._index[i])\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n\n  next()\n}\n\n/**\n * Stream `path` to the response.\n *\n * @param {String} path\n * @param {Object} options\n * @api private\n */\n\nSendStream.prototype.stream = function stream (path, options) {\n  var self = this\n  var res = this.res\n\n  // pipe\n  var stream = fs.createReadStream(path, options)\n  this.emit('stream', stream)\n  stream.pipe(res)\n\n  // cleanup\n  function cleanup () {\n    stream.destroy()\n  }\n\n  // response finished, cleanup\n  onFinished(res, cleanup)\n\n  // error handling\n  stream.on('error', function onerror (err) {\n    // clean up stream early\n    cleanup()\n\n    // error\n    self.onStatError(err)\n  })\n\n  // end\n  stream.on('end', function onend () {\n    self.emit('end')\n  })\n}\n\n/**\n * Set content-type based on `path`\n * if it hasn't been explicitly set.\n *\n * @param {String} path\n * @api private\n */\n\nSendStream.prototype.type = function type (path) {\n  var res = this.res\n\n  if (res.getHeader('Content-Type')) return\n\n  var ext = extname(path)\n  var type = mime.contentType(ext) || 'application/octet-stream'\n\n  debug('content-type %s', type)\n  res.setHeader('Content-Type', type)\n}\n\n/**\n * Set response header fields, most\n * fields may be pre-defined.\n *\n * @param {String} path\n * @param {Object} stat\n * @api private\n */\n\nSendStream.prototype.setHeader = function setHeader (path, stat) {\n  var res = this.res\n\n  this.emit('headers', res, path, stat)\n\n  if (this._acceptRanges && !res.getHeader('Accept-Ranges')) {\n    debug('accept ranges')\n    res.setHeader('Accept-Ranges', 'bytes')\n  }\n\n  if (this._cacheControl && !res.getHeader('Cache-Control')) {\n    var cacheControl = 'public, max-age=' + Math.floor(this._maxage / 1000)\n\n    if (this._immutable) {\n      cacheControl += ', immutable'\n    }\n\n    debug('cache-control %s', cacheControl)\n    res.setHeader('Cache-Control', cacheControl)\n  }\n\n  if (this._lastModified && !res.getHeader('Last-Modified')) {\n    var modified = stat.mtime.toUTCString()\n    debug('modified %s', modified)\n    res.setHeader('Last-Modified', modified)\n  }\n\n  if (this._etag && !res.getHeader('ETag')) {\n    var val = etag(stat)\n    debug('etag %s', val)\n    res.setHeader('ETag', val)\n  }\n}\n\n/**\n * Clear all headers from a response.\n *\n * @param {object} res\n * @private\n */\n\nfunction clearHeaders (res) {\n  for (const header of res.getHeaderNames()) {\n    res.removeHeader(header)\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n *\n * @param {string} str\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] !== '/') {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Determine if path parts contain a dotfile.\n *\n * @api private\n */\n\nfunction containsDotFile (parts) {\n  for (var i = 0; i < parts.length; i++) {\n    var part = parts[i]\n    if (part.length > 1 && part[0] === '.') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Create a Content-Range header.\n *\n * @param {string} type\n * @param {number} size\n * @param {array} [range]\n */\n\nfunction contentRange (type, size, range) {\n  return type + ' ' + (range ? range.start + '-' + range.end : '*') + '/' + size\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a HttpError object from simple arguments.\n *\n * @param {number} status\n * @param {Error|object} err\n * @private\n */\n\nfunction createHttpError (status, err) {\n  if (!err) {\n    return createError(status)\n  }\n\n  return err instanceof Error\n    ? createError(status, err, { expose: false })\n    : createError(status, err)\n}\n\n/**\n * decodeURIComponent.\n *\n * Allows V8 to only deoptimize this fn instead of all\n * of send().\n *\n * @param {String} path\n * @api private\n */\n\nfunction decode (path) {\n  try {\n    return decodeURIComponent(path)\n  } catch (err) {\n    return -1\n  }\n}\n\n/**\n * Determine if emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.10\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction hasListeners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Normalize the index option into an array.\n *\n * @param {boolean|string|array} val\n * @param {string} name\n * @private\n */\n\nfunction normalizeList (val, name) {\n  var list = [].concat(val || [])\n\n  for (var i = 0; i < list.length; i++) {\n    if (typeof list[i] !== 'string') {\n      throw new TypeError(name + ' must be array of strings or false')\n    }\n  }\n\n  return list\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        if (start !== end) {\n          list.push(str.substring(start, end))\n        }\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  if (start !== end) {\n    list.push(str.substring(start, end))\n  }\n\n  return list\n}\n\n/**\n * Set an object of headers on a response.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  var keys = Object.keys(headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar contentDisposition = require('content-disposition');\nvar createError = require('http-errors')\nvar encodeUrl = require('encodeurl');\nvar escapeHtml = require('escape-html');\nvar http = require('node:http');\nvar onFinished = require('on-finished');\nvar mime = require('mime-types')\nvar path = require('node:path');\nvar pathIsAbsolute = require('node:path').isAbsolute;\nvar statuses = require('statuses')\nvar sign = require('cookie-signature').sign;\nvar normalizeType = require('./utils').normalizeType;\nvar normalizeTypes = require('./utils').normalizeTypes;\nvar setCharset = require('./utils').setCharset;\nvar cookie = require('cookie');\nvar send = require('send');\nvar extname = path.extname;\nvar resolve = path.resolve;\nvar vary = require('vary');\n\n/**\n * Response prototype.\n * @public\n */\n\nvar res = Object.create(http.ServerResponse.prototype)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = res\n\n/**\n * Set the HTTP status code for the response.\n *\n * Expects an integer value between 100 and 999 inclusive.\n * Throws an error if the provided status code is not an integer or if it's outside the allowable range.\n *\n * @param {number} code - The HTTP status code to set.\n * @return {ServerResponse} - Returns itself for chaining methods.\n * @throws {TypeError} If `code` is not an integer.\n * @throws {RangeError} If `code` is outside the range 100 to 999.\n * @public\n */\n\nres.status = function status(code) {\n  // Check if the status code is not an integer\n  if (!Number.isInteger(code)) {\n    throw new TypeError(`Invalid status code: ${JSON.stringify(code)}. Status code must be an integer.`);\n  }\n  // Check if the status code is outside of Node's valid range\n  if (code < 100 || code > 999) {\n    throw new RangeError(`Invalid status code: ${JSON.stringify(code)}. Status code must be greater than 99 and less than 1000.`);\n  }\n\n  this.statusCode = code;\n  return this;\n};\n\n/**\n * Set Link header field with the given `links`.\n *\n * Examples:\n *\n *    res.links({\n *      next: 'http://api.example.com/users?page=2',\n *      last: 'http://api.example.com/users?page=5',\n *      pages: [\n *        'http://api.example.com/users?page=1',\n *        'http://api.example.com/users?page=2'\n *      ]\n *    });\n *\n * @param {Object} links\n * @return {ServerResponse}\n * @public\n */\n\nres.links = function(links) {\n  var link = this.get('Link') || '';\n  if (link) link += ', ';\n  return this.set('Link', link + Object.keys(links).map(function(rel) {\n    // Allow multiple links if links[rel] is an array\n    if (Array.isArray(links[rel])) {\n      return links[rel].map(function (singleLink) {\n        return `<${singleLink}>; rel=\"${rel}\"`;\n      }).join(', ');\n    } else {\n      return `<${links[rel]}>; rel=\"${rel}\"`;\n    }\n  }).join(', '));\n};\n\n/**\n * Send a response.\n *\n * Examples:\n *\n *     res.send(Buffer.from('wahoo'));\n *     res.send({ some: 'json' });\n *     res.send('<p>some html</p>');\n *\n * @param {string|number|boolean|object|Buffer} body\n * @public\n */\n\nres.send = function send(body) {\n  var chunk = body;\n  var encoding;\n  var req = this.req;\n  var type;\n\n  // settings\n  var app = this.app;\n\n  switch (typeof chunk) {\n    // string defaulting to html\n    case 'string':\n      if (!this.get('Content-Type')) {\n        this.type('html');\n      }\n      break;\n    case 'boolean':\n    case 'number':\n    case 'object':\n      if (chunk === null) {\n        chunk = '';\n      } else if (ArrayBuffer.isView(chunk)) {\n        if (!this.get('Content-Type')) {\n          this.type('bin');\n        }\n      } else {\n        return this.json(chunk);\n      }\n      break;\n  }\n\n  // write strings in utf-8\n  if (typeof chunk === 'string') {\n    encoding = 'utf8';\n    type = this.get('Content-Type');\n\n    // reflect this in content-type\n    if (typeof type === 'string') {\n      this.set('Content-Type', setCharset(type, 'utf-8'));\n    }\n  }\n\n  // determine if ETag should be generated\n  var etagFn = app.get('etag fn')\n  var generateETag = !this.get('ETag') && typeof etagFn === 'function'\n\n  // populate Content-Length\n  var len\n  if (chunk !== undefined) {\n    if (Buffer.isBuffer(chunk)) {\n      // get length of Buffer\n      len = chunk.length\n    } else if (!generateETag && chunk.length < 1000) {\n      // just calculate length when no ETag + small chunk\n      len = Buffer.byteLength(chunk, encoding)\n    } else {\n      // convert chunk to Buffer and calculate\n      chunk = Buffer.from(chunk, encoding)\n      encoding = undefined;\n      len = chunk.length\n    }\n\n    this.set('Content-Length', len);\n  }\n\n  // populate ETag\n  var etag;\n  if (generateETag && len !== undefined) {\n    if ((etag = etagFn(chunk, encoding))) {\n      this.set('ETag', etag);\n    }\n  }\n\n  // freshness\n  if (req.fresh) this.status(304);\n\n  // strip irrelevant headers\n  if (204 === this.statusCode || 304 === this.statusCode) {\n    this.removeHeader('Content-Type');\n    this.removeHeader('Content-Length');\n    this.removeHeader('Transfer-Encoding');\n    chunk = '';\n  }\n\n  // alter headers for 205\n  if (this.statusCode === 205) {\n    this.set('Content-Length', '0')\n    this.removeHeader('Transfer-Encoding')\n    chunk = ''\n  }\n\n  if (req.method === 'HEAD') {\n    // skip body for HEAD\n    this.end();\n  } else {\n    // respond\n    this.end(chunk, encoding);\n  }\n\n  return this;\n};\n\n/**\n * Send JSON response.\n *\n * Examples:\n *\n *     res.json(null);\n *     res.json({ user: 'tj' });\n *\n * @param {string|number|boolean|object} obj\n * @public\n */\n\nres.json = function json(obj) {\n  // settings\n  var app = this.app;\n  var escape = app.get('json escape')\n  var replacer = app.get('json replacer');\n  var spaces = app.get('json spaces');\n  var body = stringify(obj, replacer, spaces, escape)\n\n  // content-type\n  if (!this.get('Content-Type')) {\n    this.set('Content-Type', 'application/json');\n  }\n\n  return this.send(body);\n};\n\n/**\n * Send JSON response with JSONP callback support.\n *\n * Examples:\n *\n *     res.jsonp(null);\n *     res.jsonp({ user: 'tj' });\n *\n * @param {string|number|boolean|object} obj\n * @public\n */\n\nres.jsonp = function jsonp(obj) {\n  // settings\n  var app = this.app;\n  var escape = app.get('json escape')\n  var replacer = app.get('json replacer');\n  var spaces = app.get('json spaces');\n  var body = stringify(obj, replacer, spaces, escape)\n  var callback = this.req.query[app.get('jsonp callback name')];\n\n  // content-type\n  if (!this.get('Content-Type')) {\n    this.set('X-Content-Type-Options', 'nosniff');\n    this.set('Content-Type', 'application/json');\n  }\n\n  // fixup callback\n  if (Array.isArray(callback)) {\n    callback = callback[0];\n  }\n\n  // jsonp\n  if (typeof callback === 'string' && callback.length !== 0) {\n    this.set('X-Content-Type-Options', 'nosniff');\n    this.set('Content-Type', 'text/javascript');\n\n    // restrict callback charset\n    callback = callback.replace(/[^\\[\\]\\w$.]/g, '');\n\n    if (body === undefined) {\n      // empty argument\n      body = ''\n    } else if (typeof body === 'string') {\n      // replace chars not allowed in JavaScript that are in JSON\n      body = body\n        .replace(/\\u2028/g, '\\\\u2028')\n        .replace(/\\u2029/g, '\\\\u2029')\n    }\n\n    // the /**/ is a specific security mitigation for \"Rosetta Flash JSONP abuse\"\n    // the typeof check is just to reduce client error noise\n    body = '/**/ typeof ' + callback + ' === \\'function\\' && ' + callback + '(' + body + ');';\n  }\n\n  return this.send(body);\n};\n\n/**\n * Send given HTTP status code.\n *\n * Sets the response status to `statusCode` and the body of the\n * response to the standard description from node's http.STATUS_CODES\n * or the statusCode number if no description.\n *\n * Examples:\n *\n *     res.sendStatus(200);\n *\n * @param {number} statusCode\n * @public\n */\n\nres.sendStatus = function sendStatus(statusCode) {\n  var body = statuses.message[statusCode] || String(statusCode)\n\n  this.status(statusCode);\n  this.type('txt');\n\n  return this.send(body);\n};\n\n/**\n * Transfer the file at the given `path`.\n *\n * Automatically sets the _Content-Type_ response header field.\n * The callback `callback(err)` is invoked when the transfer is complete\n * or when an error occurs. Be sure to check `res.headersSent`\n * if you wish to attempt responding, as the header and some data\n * may have already been transferred.\n *\n * Options:\n *\n *   - `maxAge`   defaulting to 0 (can be string converted by `ms`)\n *   - `root`     root directory for relative filenames\n *   - `headers`  object of headers to serve with file\n *   - `dotfiles` serve dotfiles, defaulting to false; can be `\"allow\"` to send them\n *\n * Other options are passed along to `send`.\n *\n * Examples:\n *\n *  The following example illustrates how `res.sendFile()` may\n *  be used as an alternative for the `static()` middleware for\n *  dynamic situations. The code backing `res.sendFile()` is actually\n *  the same code, so HTTP cache support etc is identical.\n *\n *     app.get('/user/:uid/photos/:file', function(req, res){\n *       var uid = req.params.uid\n *         , file = req.params.file;\n *\n *       req.user.mayViewFilesFrom(uid, function(yes){\n *         if (yes) {\n *           res.sendFile('/uploads/' + uid + '/' + file);\n *         } else {\n *           res.send(403, 'Sorry! you cant see that.');\n *         }\n *       });\n *     });\n *\n * @public\n */\n\nres.sendFile = function sendFile(path, options, callback) {\n  var done = callback;\n  var req = this.req;\n  var res = this;\n  var next = req.next;\n  var opts = options || {};\n\n  if (!path) {\n    throw new TypeError('path argument is required to res.sendFile');\n  }\n\n  if (typeof path !== 'string') {\n    throw new TypeError('path must be a string to res.sendFile')\n  }\n\n  // support function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  if (!opts.root && !pathIsAbsolute(path)) {\n    throw new TypeError('path must be absolute or specify root to res.sendFile');\n  }\n\n  // create file stream\n  var pathname = encodeURI(path);\n\n  // wire application etag option to send\n  opts.etag = this.app.enabled('etag');\n  var file = send(req, pathname, opts);\n\n  // transfer\n  sendfile(res, file, opts, function (err) {\n    if (done) return done(err);\n    if (err && err.code === 'EISDIR') return next();\n\n    // next() all but write errors\n    if (err && err.code !== 'ECONNABORTED' && err.syscall !== 'write') {\n      next(err);\n    }\n  });\n};\n\n/**\n * Transfer the file at the given `path` as an attachment.\n *\n * Optionally providing an alternate attachment `filename`,\n * and optional callback `callback(err)`. The callback is invoked\n * when the data transfer is complete, or when an error has\n * occurred. Be sure to check `res.headersSent` if you plan to respond.\n *\n * Optionally providing an `options` object to use with `res.sendFile()`.\n * This function will set the `Content-Disposition` header, overriding\n * any `Content-Disposition` header passed as header options in order\n * to set the attachment and filename.\n *\n * This method uses `res.sendFile()`.\n *\n * @public\n */\n\nres.download = function download (path, filename, options, callback) {\n  var done = callback;\n  var name = filename;\n  var opts = options || null\n\n  // support function as second or third arg\n  if (typeof filename === 'function') {\n    done = filename;\n    name = null;\n    opts = null\n  } else if (typeof options === 'function') {\n    done = options\n    opts = null\n  }\n\n  // support optional filename, where options may be in it's place\n  if (typeof filename === 'object' &&\n    (typeof options === 'function' || options === undefined)) {\n    name = null\n    opts = filename\n  }\n\n  // set Content-Disposition when file is sent\n  var headers = {\n    'Content-Disposition': contentDisposition(name || path)\n  };\n\n  // merge user-provided headers\n  if (opts && opts.headers) {\n    var keys = Object.keys(opts.headers)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      if (key.toLowerCase() !== 'content-disposition') {\n        headers[key] = opts.headers[key]\n      }\n    }\n  }\n\n  // merge user-provided options\n  opts = Object.create(opts)\n  opts.headers = headers\n\n  // Resolve the full path for sendFile\n  var fullPath = !opts.root\n    ? resolve(path)\n    : path\n\n  // send file\n  return this.sendFile(fullPath, opts, done)\n};\n\n/**\n * Set _Content-Type_ response header with `type` through `mime.contentType()`\n * when it does not contain \"/\", or set the Content-Type to `type` otherwise.\n * When no mapping is found though `mime.contentType()`, the type is set to\n * \"application/octet-stream\".\n *\n * Examples:\n *\n *     res.type('.html');\n *     res.type('html');\n *     res.type('json');\n *     res.type('application/json');\n *     res.type('png');\n *\n * @param {String} type\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.contentType =\nres.type = function contentType(type) {\n  var ct = type.indexOf('/') === -1\n    ? (mime.contentType(type) || 'application/octet-stream')\n    : type;\n\n  return this.set('Content-Type', ct);\n};\n\n/**\n * Respond to the Acceptable formats using an `obj`\n * of mime-type callbacks.\n *\n * This method uses `req.accepted`, an array of\n * acceptable types ordered by their quality values.\n * When \"Accept\" is not present the _first_ callback\n * is invoked, otherwise the first match is used. When\n * no match is performed the server responds with\n * 406 \"Not Acceptable\".\n *\n * Content-Type is set for you, however if you choose\n * you may alter this within the callback using `res.type()`\n * or `res.set('Content-Type', ...)`.\n *\n *    res.format({\n *      'text/plain': function(){\n *        res.send('hey');\n *      },\n *\n *      'text/html': function(){\n *        res.send('<p>hey</p>');\n *      },\n *\n *      'application/json': function () {\n *        res.send({ message: 'hey' });\n *      }\n *    });\n *\n * In addition to canonicalized MIME types you may\n * also use extnames mapped to these types:\n *\n *    res.format({\n *      text: function(){\n *        res.send('hey');\n *      },\n *\n *      html: function(){\n *        res.send('<p>hey</p>');\n *      },\n *\n *      json: function(){\n *        res.send({ message: 'hey' });\n *      }\n *    });\n *\n * By default Express passes an `Error`\n * with a `.status` of 406 to `next(err)`\n * if a match is not made. If you provide\n * a `.default` callback it will be invoked\n * instead.\n *\n * @param {Object} obj\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.format = function(obj){\n  var req = this.req;\n  var next = req.next;\n\n  var keys = Object.keys(obj)\n    .filter(function (v) { return v !== 'default' })\n\n  var key = keys.length > 0\n    ? req.accepts(keys)\n    : false;\n\n  this.vary(\"Accept\");\n\n  if (key) {\n    this.set('Content-Type', normalizeType(key).value);\n    obj[key](req, this, next);\n  } else if (obj.default) {\n    obj.default(req, this, next)\n  } else {\n    next(createError(406, {\n      types: normalizeTypes(keys).map(function (o) { return o.value })\n    }))\n  }\n\n  return this;\n};\n\n/**\n * Set _Content-Disposition_ header to _attachment_ with optional `filename`.\n *\n * @param {String} filename\n * @return {ServerResponse}\n * @public\n */\n\nres.attachment = function attachment(filename) {\n  if (filename) {\n    this.type(extname(filename));\n  }\n\n  this.set('Content-Disposition', contentDisposition(filename));\n\n  return this;\n};\n\n/**\n * Append additional header `field` with value `val`.\n *\n * Example:\n *\n *    res.append('Link', ['<http://localhost/>', '<http://localhost:3000/>']);\n *    res.append('Set-Cookie', 'foo=bar; Path=/; HttpOnly');\n *    res.append('Warning', '199 Miscellaneous warning');\n *\n * @param {String} field\n * @param {String|Array} val\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.append = function append(field, val) {\n  var prev = this.get(field);\n  var value = val;\n\n  if (prev) {\n    // concat the new and prev vals\n    value = Array.isArray(prev) ? prev.concat(val)\n      : Array.isArray(val) ? [prev].concat(val)\n        : [prev, val]\n  }\n\n  return this.set(field, value);\n};\n\n/**\n * Set header `field` to `val`, or pass\n * an object of header fields.\n *\n * Examples:\n *\n *    res.set('Foo', ['bar', 'baz']);\n *    res.set('Accept', 'application/json');\n *    res.set({ Accept: 'text/plain', 'X-API-Key': 'tobi' });\n *\n * Aliased as `res.header()`.\n *\n * When the set header is \"Content-Type\", the type is expanded to include\n * the charset if not present using `mime.contentType()`.\n *\n * @param {String|Object} field\n * @param {String|Array} val\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.set =\nres.header = function header(field, val) {\n  if (arguments.length === 2) {\n    var value = Array.isArray(val)\n      ? val.map(String)\n      : String(val);\n\n    // add charset to content-type\n    if (field.toLowerCase() === 'content-type') {\n      if (Array.isArray(value)) {\n        throw new TypeError('Content-Type cannot be set to an Array');\n      }\n      value = mime.contentType(value)\n    }\n\n    this.setHeader(field, value);\n  } else {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n  }\n  return this;\n};\n\n/**\n * Get value for header `field`.\n *\n * @param {String} field\n * @return {String}\n * @public\n */\n\nres.get = function(field){\n  return this.getHeader(field);\n};\n\n/**\n * Clear cookie `name`.\n *\n * @param {String} name\n * @param {Object} [options]\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.clearCookie = function clearCookie(name, options) {\n  // Force cookie expiration by setting expires to the past\n  const opts = { path: '/', ...options, expires: new Date(1)};\n  // ensure maxAge is not passed\n  delete opts.maxAge\n\n  return this.cookie(name, '', opts);\n};\n\n/**\n * Set cookie `name` to `value`, with the given `options`.\n *\n * Options:\n *\n *    - `maxAge`   max-age in milliseconds, converted to `expires`\n *    - `signed`   sign the cookie\n *    - `path`     defaults to \"/\"\n *\n * Examples:\n *\n *    // \"Remember Me\" for 15 minutes\n *    res.cookie('rememberme', '1', { expires: new Date(Date.now() + 900000), httpOnly: true });\n *\n *    // same as above\n *    res.cookie('rememberme', '1', { maxAge: 900000, httpOnly: true })\n *\n * @param {String} name\n * @param {String|Object} value\n * @param {Object} [options]\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.cookie = function (name, value, options) {\n  var opts = { ...options };\n  var secret = this.req.secret;\n  var signed = opts.signed;\n\n  if (signed && !secret) {\n    throw new Error('cookieParser(\"secret\") required for signed cookies');\n  }\n\n  var val = typeof value === 'object'\n    ? 'j:' + JSON.stringify(value)\n    : String(value);\n\n  if (signed) {\n    val = 's:' + sign(val, secret);\n  }\n\n  if (opts.maxAge != null) {\n    var maxAge = opts.maxAge - 0\n\n    if (!isNaN(maxAge)) {\n      opts.expires = new Date(Date.now() + maxAge)\n      opts.maxAge = Math.floor(maxAge / 1000)\n    }\n  }\n\n  if (opts.path == null) {\n    opts.path = '/';\n  }\n\n  this.append('Set-Cookie', cookie.serialize(name, String(val), opts));\n\n  return this;\n};\n\n/**\n * Set the location header to `url`.\n *\n * The given `url` can also be \"back\", which redirects\n * to the _Referrer_ or _Referer_ headers or \"/\".\n *\n * Examples:\n *\n *    res.location('/foo/bar').;\n *    res.location('http://example.com');\n *    res.location('../login');\n *\n * @param {String} url\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.location = function location(url) {\n  return this.set('Location', encodeUrl(url));\n};\n\n/**\n * Redirect to the given `url` with optional response `status`\n * defaulting to 302.\n *\n * Examples:\n *\n *    res.redirect('/foo/bar');\n *    res.redirect('http://example.com');\n *    res.redirect(301, 'http://example.com');\n *    res.redirect('../login'); // /blog/post/1 -> /blog/login\n *\n * @public\n */\n\nres.redirect = function redirect(url) {\n  var address = url;\n  var body;\n  var status = 302;\n\n  // allow status / url\n  if (arguments.length === 2) {\n    status = arguments[0]\n    address = arguments[1]\n  }\n\n  // Set location header\n  address = this.location(address).get('Location');\n\n  // Support text/{plain,html} by default\n  this.format({\n    text: function(){\n      body = statuses.message[status] + '. Redirecting to ' + address\n    },\n\n    html: function(){\n      var u = escapeHtml(address);\n      body = '<p>' + statuses.message[status] + '. Redirecting to ' + u + '</p>'\n    },\n\n    default: function(){\n      body = '';\n    }\n  });\n\n  // Respond\n  this.status(status);\n  this.set('Content-Length', Buffer.byteLength(body));\n\n  if (this.req.method === 'HEAD') {\n    this.end();\n  } else {\n    this.end(body);\n  }\n};\n\n/**\n * Add `field` to Vary. If already present in the Vary set, then\n * this call is simply ignored.\n *\n * @param {Array|String} field\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.vary = function(field){\n  vary(this, field);\n\n  return this;\n};\n\n/**\n * Render `view` with the given `options` and optional callback `fn`.\n * When a callback function is given a response will _not_ be made\n * automatically, otherwise a response of _200_ and _text/html_ is given.\n *\n * Options:\n *\n *  - `cache`     boolean hinting to the engine it should cache\n *  - `filename`  filename of the view being rendered\n *\n * @public\n */\n\nres.render = function render(view, options, callback) {\n  var app = this.req.app;\n  var done = callback;\n  var opts = options || {};\n  var req = this.req;\n  var self = this;\n\n  // support callback function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // merge res.locals\n  opts._locals = self.locals;\n\n  // default callback to respond\n  done = done || function (err, str) {\n    if (err) return req.next(err);\n    self.send(str);\n  };\n\n  // render\n  app.render(view, opts, done);\n};\n\n// pipe the send file stream\nfunction sendfile(res, file, options, callback) {\n  var done = false;\n  var streaming;\n\n  // request aborted\n  function onaborted() {\n    if (done) return;\n    done = true;\n\n    var err = new Error('Request aborted');\n    err.code = 'ECONNABORTED';\n    callback(err);\n  }\n\n  // directory\n  function ondirectory() {\n    if (done) return;\n    done = true;\n\n    var err = new Error('EISDIR, read');\n    err.code = 'EISDIR';\n    callback(err);\n  }\n\n  // errors\n  function onerror(err) {\n    if (done) return;\n    done = true;\n    callback(err);\n  }\n\n  // ended\n  function onend() {\n    if (done) return;\n    done = true;\n    callback();\n  }\n\n  // file\n  function onfile() {\n    streaming = false;\n  }\n\n  // finished\n  function onfinish(err) {\n    if (err && err.code === 'ECONNRESET') return onaborted();\n    if (err) return onerror(err);\n    if (done) return;\n\n    setImmediate(function () {\n      if (streaming !== false && !done) {\n        onaborted();\n        return;\n      }\n\n      if (done) return;\n      done = true;\n      callback();\n    });\n  }\n\n  // streaming\n  function onstream() {\n    streaming = true;\n  }\n\n  file.on('directory', ondirectory);\n  file.on('end', onend);\n  file.on('error', onerror);\n  file.on('file', onfile);\n  file.on('stream', onstream);\n  onFinished(res, onfinish);\n\n  if (options.headers) {\n    // set headers on successful transfer\n    file.on('headers', function headers(res) {\n      var obj = options.headers;\n      var keys = Object.keys(obj);\n\n      for (var i = 0; i < keys.length; i++) {\n        var k = keys[i];\n        res.setHeader(k, obj[k]);\n      }\n    });\n  }\n\n  // pipe\n  file.pipe(res);\n}\n\n/**\n * Stringify JSON, like JSON.stringify, but v8 optimized, with the\n * ability to escape characters that can trigger HTML sniffing.\n *\n * @param {*} value\n * @param {function} replacer\n * @param {number} spaces\n * @param {boolean} escape\n * @returns {string}\n * @private\n */\n\nfunction stringify (value, replacer, spaces, escape) {\n  // v8 checks arguments.length for optimizing simple call\n  // https://bugs.chromium.org/p/v8/issues/detail?id=4730\n  var json = replacer || spaces\n    ? JSON.stringify(value, replacer, spaces)\n    : JSON.stringify(value);\n\n  if (escape && typeof json === 'string') {\n    json = json.replace(/[<>&]/g, function (c) {\n      switch (c.charCodeAt(0)) {\n        case 0x3c:\n          return '\\\\u003c'\n        case 0x3e:\n          return '\\\\u003e'\n        case 0x26:\n          return '\\\\u0026'\n        /* istanbul ignore next: unreachable default */\n        default:\n          return c\n      }\n    })\n  }\n\n  return json\n}\n","/*!\n * serve-static\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar parseUrl = require('parseurl')\nvar resolve = require('path').resolve\nvar send = require('send')\nvar url = require('url')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = serveStatic\n\n/**\n * @param {string} root\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction serveStatic (root, options) {\n  if (!root) {\n    throw new TypeError('root path required')\n  }\n\n  if (typeof root !== 'string') {\n    throw new TypeError('root path must be a string')\n  }\n\n  // copy options object\n  var opts = Object.create(options || null)\n\n  // fall-though\n  var fallthrough = opts.fallthrough !== false\n\n  // default redirect\n  var redirect = opts.redirect !== false\n\n  // headers listener\n  var setHeaders = opts.setHeaders\n\n  if (setHeaders && typeof setHeaders !== 'function') {\n    throw new TypeError('option setHeaders must be function')\n  }\n\n  // setup options for send\n  opts.maxage = opts.maxage || opts.maxAge || 0\n  opts.root = resolve(root)\n\n  // construct directory listener\n  var onDirectory = redirect\n    ? createRedirectDirectoryListener()\n    : createNotFoundDirectoryListener()\n\n  return function serveStatic (req, res, next) {\n    if (req.method !== 'GET' && req.method !== 'HEAD') {\n      if (fallthrough) {\n        return next()\n      }\n\n      // method not allowed\n      res.statusCode = 405\n      res.setHeader('Allow', 'GET, HEAD')\n      res.setHeader('Content-Length', '0')\n      res.end()\n      return\n    }\n\n    var forwardError = !fallthrough\n    var originalUrl = parseUrl.original(req)\n    var path = parseUrl(req).pathname\n\n    // make sure redirect occurs at mount\n    if (path === '/' && originalUrl.pathname.substr(-1) !== '/') {\n      path = ''\n    }\n\n    // create send stream\n    var stream = send(req, path, opts)\n\n    // add directory handler\n    stream.on('directory', onDirectory)\n\n    // add headers listener\n    if (setHeaders) {\n      stream.on('headers', setHeaders)\n    }\n\n    // add file listener for fallthrough\n    if (fallthrough) {\n      stream.on('file', function onFile () {\n        // once file is determined, always forward error\n        forwardError = true\n      })\n    }\n\n    // forward errors\n    stream.on('error', function error (err) {\n      if (forwardError || !(err.statusCode < 500)) {\n        next(err)\n        return\n      }\n\n      next()\n    })\n\n    // pipe\n    stream.pipe(res)\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) !== 0x2f /* / */) {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a directory listener that just 404s.\n * @private\n */\n\nfunction createNotFoundDirectoryListener () {\n  return function notFound () {\n    this.error(404)\n  }\n}\n\n/**\n * Create a directory listener that performs a redirect.\n * @private\n */\n\nfunction createRedirectDirectoryListener () {\n  return function redirect (res) {\n    if (this.hasTrailingSlash()) {\n      this.error(404)\n      return\n    }\n\n    // get original URL\n    var originalUrl = parseUrl.original(this.req)\n\n    // append trailing slash\n    originalUrl.path = null\n    originalUrl.pathname = collapseLeadingSlashes(originalUrl.pathname + '/')\n\n    // reformat the URL\n    var loc = encodeUrl(url.format(originalUrl))\n    var doc = createHtmlDocument('Redirecting', 'Redirecting to ' + escapeHtml(loc))\n\n    // send redirect response\n    res.statusCode = 301\n    res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n    res.setHeader('Content-Length', Buffer.byteLength(doc))\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n    res.setHeader('Location', loc)\n    res.end(doc)\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar bodyParser = require('body-parser')\nvar EventEmitter = require('node:events').EventEmitter;\nvar mixin = require('merge-descriptors');\nvar proto = require('./application');\nvar Router = require('router');\nvar req = require('./request');\nvar res = require('./response');\n\n/**\n * Expose `createApplication()`.\n */\n\nexports = module.exports = createApplication;\n\n/**\n * Create an express application.\n *\n * @return {Function}\n * @api public\n */\n\nfunction createApplication() {\n  var app = function(req, res, next) {\n    app.handle(req, res, next);\n  };\n\n  mixin(app, EventEmitter.prototype, false);\n  mixin(app, proto, false);\n\n  // expose the prototype that will get set on requests\n  app.request = Object.create(req, {\n    app: { configurable: true, enumerable: true, writable: true, value: app }\n  })\n\n  // expose the prototype that will get set on responses\n  app.response = Object.create(res, {\n    app: { configurable: true, enumerable: true, writable: true, value: app }\n  })\n\n  app.init();\n  return app;\n}\n\n/**\n * Expose the prototypes.\n */\n\nexports.application = proto;\nexports.request = req;\nexports.response = res;\n\n/**\n * Expose constructors.\n */\n\nexports.Route = Router.Route;\nexports.Router = Router;\n\n/**\n * Expose middleware\n */\n\nexports.json = bodyParser.json\nexports.raw = bodyParser.raw\nexports.static = require('serve-static');\nexports.text = bodyParser.text\nexports.urlencoded = bodyParser.urlencoded\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nmodule.exports = require('./lib/express');\n","import * as fs from 'node:fs';\nimport * as path from 'node:path';\n\n// lib/fromFile.ts\n\n// lib/types/utils.ts\nvar decoder = new TextDecoder();\nvar toUTF8String = (input, start = 0, end = input.length) => decoder.decode(input.slice(start, end));\nvar toHexString = (input, start = 0, end = input.length) => input.slice(start, end).reduce((memo, i) => memo + `0${i.toString(16)}`.slice(-2), \"\");\nvar getView = (input, offset) => new DataView(input.buffer, input.byteOffset + offset);\nvar readInt16LE = (input, offset = 0) => getView(input, offset).getInt16(0, true);\nvar readUInt16BE = (input, offset = 0) => getView(input, offset).getUint16(0, false);\nvar readUInt16LE = (input, offset = 0) => getView(input, offset).getUint16(0, true);\nvar readUInt24LE = (input, offset = 0) => {\n  const view = getView(input, offset);\n  return view.getUint16(0, true) + (view.getUint8(2) << 16);\n};\nvar readInt32LE = (input, offset = 0) => getView(input, offset).getInt32(0, true);\nvar readUInt32BE = (input, offset = 0) => getView(input, offset).getUint32(0, false);\nvar readUInt32LE = (input, offset = 0) => getView(input, offset).getUint32(0, true);\nvar readUInt64 = (input, offset, isBigEndian) => getView(input, offset).getBigUint64(0, !isBigEndian);\nvar methods = {\n  readUInt16BE,\n  readUInt16LE,\n  readUInt32BE,\n  readUInt32LE\n};\nfunction readUInt(input, bits, offset = 0, isBigEndian = false) {\n  const endian = isBigEndian ? \"BE\" : \"LE\";\n  const methodName = `readUInt${bits}${endian}`;\n  return methods[methodName](input, offset);\n}\nfunction readBox(input, offset) {\n  if (input.length - offset < 4) return;\n  const boxSize = readUInt32BE(input, offset);\n  if (input.length - offset < boxSize) return;\n  return {\n    name: toUTF8String(input, 4 + offset, 8 + offset),\n    offset,\n    size: boxSize\n  };\n}\nfunction findBox(input, boxName, currentOffset) {\n  while (currentOffset < input.length) {\n    const box = readBox(input, currentOffset);\n    if (!box) break;\n    if (box.name === boxName) return box;\n    currentOffset += box.size > 0 ? box.size : 8;\n  }\n}\n\n// lib/types/bmp.ts\nvar BMP = {\n  validate: (input) => toUTF8String(input, 0, 2) === \"BM\",\n  calculate: (input) => ({\n    height: Math.abs(readInt32LE(input, 22)),\n    width: readUInt32LE(input, 18)\n  })\n};\n\n// lib/types/ico.ts\nvar TYPE_ICON = 1;\nvar SIZE_HEADER = 2 + 2 + 2;\nvar SIZE_IMAGE_ENTRY = 1 + 1 + 1 + 1 + 2 + 2 + 4 + 4;\nfunction getSizeFromOffset(input, offset) {\n  const value = input[offset];\n  return value === 0 ? 256 : value;\n}\nfunction getImageSize(input, imageIndex) {\n  const offset = SIZE_HEADER + imageIndex * SIZE_IMAGE_ENTRY;\n  return {\n    height: getSizeFromOffset(input, offset + 1),\n    width: getSizeFromOffset(input, offset)\n  };\n}\nvar ICO = {\n  validate(input) {\n    const reserved = readUInt16LE(input, 0);\n    const imageCount = readUInt16LE(input, 4);\n    if (reserved !== 0 || imageCount === 0) return false;\n    const imageType = readUInt16LE(input, 2);\n    return imageType === TYPE_ICON;\n  },\n  calculate(input) {\n    const nbImages = readUInt16LE(input, 4);\n    const imageSize2 = getImageSize(input, 0);\n    if (nbImages === 1) return imageSize2;\n    const images = [];\n    for (let imageIndex = 0; imageIndex < nbImages; imageIndex += 1) {\n      images.push(getImageSize(input, imageIndex));\n    }\n    return {\n      width: imageSize2.width,\n      height: imageSize2.height,\n      images\n    };\n  }\n};\n\n// lib/types/cur.ts\nvar TYPE_CURSOR = 2;\nvar CUR = {\n  validate(input) {\n    const reserved = readUInt16LE(input, 0);\n    const imageCount = readUInt16LE(input, 4);\n    if (reserved !== 0 || imageCount === 0) return false;\n    const imageType = readUInt16LE(input, 2);\n    return imageType === TYPE_CURSOR;\n  },\n  calculate: (input) => ICO.calculate(input)\n};\n\n// lib/types/dds.ts\nvar DDS = {\n  validate: (input) => readUInt32LE(input, 0) === 542327876,\n  calculate: (input) => ({\n    height: readUInt32LE(input, 12),\n    width: readUInt32LE(input, 16)\n  })\n};\n\n// lib/types/gif.ts\nvar gifRegexp = /^GIF8[79]a/;\nvar GIF = {\n  validate: (input) => gifRegexp.test(toUTF8String(input, 0, 6)),\n  calculate: (input) => ({\n    height: readUInt16LE(input, 8),\n    width: readUInt16LE(input, 6)\n  })\n};\n\n// lib/types/heif.ts\nvar brandMap = {\n  avif: \"avif\",\n  mif1: \"heif\",\n  msf1: \"heif\",\n  // heif-sequence\n  heic: \"heic\",\n  heix: \"heic\",\n  hevc: \"heic\",\n  // heic-sequence\n  hevx: \"heic\"\n  // heic-sequence\n};\nvar HEIF = {\n  validate(input) {\n    const boxType = toUTF8String(input, 4, 8);\n    if (boxType !== \"ftyp\") return false;\n    const ftypBox = findBox(input, \"ftyp\", 0);\n    if (!ftypBox) return false;\n    const brand = toUTF8String(input, ftypBox.offset + 8, ftypBox.offset + 12);\n    return brand in brandMap;\n  },\n  calculate(input) {\n    const metaBox = findBox(input, \"meta\", 0);\n    const iprpBox = metaBox && findBox(input, \"iprp\", metaBox.offset + 12);\n    const ipcoBox = iprpBox && findBox(input, \"ipco\", iprpBox.offset + 8);\n    if (!ipcoBox) {\n      throw new TypeError(\"Invalid HEIF, no ipco box found\");\n    }\n    const type = toUTF8String(input, 8, 12);\n    const images = [];\n    let currentOffset = ipcoBox.offset + 8;\n    while (currentOffset < ipcoBox.offset + ipcoBox.size) {\n      const ispeBox = findBox(input, \"ispe\", currentOffset);\n      if (!ispeBox) break;\n      const rawWidth = readUInt32BE(input, ispeBox.offset + 12);\n      const rawHeight = readUInt32BE(input, ispeBox.offset + 16);\n      const clapBox = findBox(input, \"clap\", currentOffset);\n      let width = rawWidth;\n      let height = rawHeight;\n      if (clapBox && clapBox.offset < ipcoBox.offset + ipcoBox.size) {\n        const cropRight = readUInt32BE(input, clapBox.offset + 12);\n        width = rawWidth - cropRight;\n      }\n      images.push({ height, width });\n      currentOffset = ispeBox.offset + ispeBox.size;\n    }\n    if (images.length === 0) {\n      throw new TypeError(\"Invalid HEIF, no sizes found\");\n    }\n    return {\n      width: images[0].width,\n      height: images[0].height,\n      type,\n      ...images.length > 1 ? { images } : {}\n    };\n  }\n};\n\n// lib/types/icns.ts\nvar SIZE_HEADER2 = 4 + 4;\nvar FILE_LENGTH_OFFSET = 4;\nvar ENTRY_LENGTH_OFFSET = 4;\nvar ICON_TYPE_SIZE = {\n  ICON: 32,\n  \"ICN#\": 32,\n  // m => 16 x 16\n  \"icm#\": 16,\n  icm4: 16,\n  icm8: 16,\n  // s => 16 x 16\n  \"ics#\": 16,\n  ics4: 16,\n  ics8: 16,\n  is32: 16,\n  s8mk: 16,\n  icp4: 16,\n  // l => 32 x 32\n  icl4: 32,\n  icl8: 32,\n  il32: 32,\n  l8mk: 32,\n  icp5: 32,\n  ic11: 32,\n  // h => 48 x 48\n  ich4: 48,\n  ich8: 48,\n  ih32: 48,\n  h8mk: 48,\n  // . => 64 x 64\n  icp6: 64,\n  ic12: 32,\n  // t => 128 x 128\n  it32: 128,\n  t8mk: 128,\n  ic07: 128,\n  // . => 256 x 256\n  ic08: 256,\n  ic13: 256,\n  // . => 512 x 512\n  ic09: 512,\n  ic14: 512,\n  // . => 1024 x 1024\n  ic10: 1024\n};\nfunction readImageHeader(input, imageOffset) {\n  const imageLengthOffset = imageOffset + ENTRY_LENGTH_OFFSET;\n  return [\n    toUTF8String(input, imageOffset, imageLengthOffset),\n    readUInt32BE(input, imageLengthOffset)\n  ];\n}\nfunction getImageSize2(type) {\n  const size = ICON_TYPE_SIZE[type];\n  return { width: size, height: size, type };\n}\nvar ICNS = {\n  validate: (input) => toUTF8String(input, 0, 4) === \"icns\",\n  calculate(input) {\n    const inputLength = input.length;\n    const fileLength = readUInt32BE(input, FILE_LENGTH_OFFSET);\n    let imageOffset = SIZE_HEADER2;\n    const images = [];\n    while (imageOffset < fileLength && imageOffset < inputLength) {\n      const imageHeader = readImageHeader(input, imageOffset);\n      const imageSize2 = getImageSize2(imageHeader[0]);\n      images.push(imageSize2);\n      imageOffset += imageHeader[1];\n    }\n    if (images.length === 0) {\n      throw new TypeError(\"Invalid ICNS, no sizes found\");\n    }\n    return {\n      width: images[0].width,\n      height: images[0].height,\n      ...images.length > 1 ? { images } : {}\n    };\n  }\n};\n\n// lib/types/j2c.ts\nvar J2C = {\n  // TODO: this doesn't seem right. SIZ marker doesn't have to be right after the SOC\n  validate: (input) => readUInt32BE(input, 0) === 4283432785,\n  calculate: (input) => ({\n    height: readUInt32BE(input, 12),\n    width: readUInt32BE(input, 8)\n  })\n};\n\n// lib/types/jp2.ts\nvar JP2 = {\n  validate(input) {\n    const boxType = toUTF8String(input, 4, 8);\n    if (boxType !== \"jP  \") return false;\n    const ftypBox = findBox(input, \"ftyp\", 0);\n    if (!ftypBox) return false;\n    const brand = toUTF8String(input, ftypBox.offset + 8, ftypBox.offset + 12);\n    return brand === \"jp2 \";\n  },\n  calculate(input) {\n    const jp2hBox = findBox(input, \"jp2h\", 0);\n    const ihdrBox = jp2hBox && findBox(input, \"ihdr\", jp2hBox.offset + 8);\n    if (ihdrBox) {\n      return {\n        height: readUInt32BE(input, ihdrBox.offset + 8),\n        width: readUInt32BE(input, ihdrBox.offset + 12)\n      };\n    }\n    throw new TypeError(\"Unsupported JPEG 2000 format\");\n  }\n};\n\n// lib/types/jpg.ts\nvar EXIF_MARKER = \"45786966\";\nvar APP1_DATA_SIZE_BYTES = 2;\nvar EXIF_HEADER_BYTES = 6;\nvar TIFF_BYTE_ALIGN_BYTES = 2;\nvar BIG_ENDIAN_BYTE_ALIGN = \"4d4d\";\nvar LITTLE_ENDIAN_BYTE_ALIGN = \"4949\";\nvar IDF_ENTRY_BYTES = 12;\nvar NUM_DIRECTORY_ENTRIES_BYTES = 2;\nfunction isEXIF(input) {\n  return toHexString(input, 2, 6) === EXIF_MARKER;\n}\nfunction extractSize(input, index) {\n  return {\n    height: readUInt16BE(input, index),\n    width: readUInt16BE(input, index + 2)\n  };\n}\nfunction extractOrientation(exifBlock, isBigEndian) {\n  const idfOffset = 8;\n  const offset = EXIF_HEADER_BYTES + idfOffset;\n  const idfDirectoryEntries = readUInt(exifBlock, 16, offset, isBigEndian);\n  for (let directoryEntryNumber = 0; directoryEntryNumber < idfDirectoryEntries; directoryEntryNumber++) {\n    const start = offset + NUM_DIRECTORY_ENTRIES_BYTES + directoryEntryNumber * IDF_ENTRY_BYTES;\n    const end = start + IDF_ENTRY_BYTES;\n    if (start > exifBlock.length) {\n      return;\n    }\n    const block = exifBlock.slice(start, end);\n    const tagNumber = readUInt(block, 16, 0, isBigEndian);\n    if (tagNumber === 274) {\n      const dataFormat = readUInt(block, 16, 2, isBigEndian);\n      if (dataFormat !== 3) {\n        return;\n      }\n      const numberOfComponents = readUInt(block, 32, 4, isBigEndian);\n      if (numberOfComponents !== 1) {\n        return;\n      }\n      return readUInt(block, 16, 8, isBigEndian);\n    }\n  }\n}\nfunction validateExifBlock(input, index) {\n  const exifBlock = input.slice(APP1_DATA_SIZE_BYTES, index);\n  const byteAlign = toHexString(\n    exifBlock,\n    EXIF_HEADER_BYTES,\n    EXIF_HEADER_BYTES + TIFF_BYTE_ALIGN_BYTES\n  );\n  const isBigEndian = byteAlign === BIG_ENDIAN_BYTE_ALIGN;\n  const isLittleEndian = byteAlign === LITTLE_ENDIAN_BYTE_ALIGN;\n  if (isBigEndian || isLittleEndian) {\n    return extractOrientation(exifBlock, isBigEndian);\n  }\n}\nfunction validateInput(input, index) {\n  if (index > input.length) {\n    throw new TypeError(\"Corrupt JPG, exceeded buffer limits\");\n  }\n}\nvar JPG = {\n  validate: (input) => toHexString(input, 0, 2) === \"ffd8\",\n  calculate(_input) {\n    let input = _input.slice(4);\n    let orientation;\n    let next;\n    while (input.length) {\n      const i = readUInt16BE(input, 0);\n      validateInput(input, i);\n      if (input[i] !== 255) {\n        input = input.slice(1);\n        continue;\n      }\n      if (isEXIF(input)) {\n        orientation = validateExifBlock(input, i);\n      }\n      next = input[i + 1];\n      if (next === 192 || next === 193 || next === 194) {\n        const size = extractSize(input, i + 5);\n        if (!orientation) {\n          return size;\n        }\n        return {\n          height: size.height,\n          orientation,\n          width: size.width\n        };\n      }\n      input = input.slice(i + 2);\n    }\n    throw new TypeError(\"Invalid JPG, no size found\");\n  }\n};\n\n// lib/utils/bit-reader.ts\nvar BitReader = class {\n  constructor(input, endianness) {\n    this.input = input;\n    this.endianness = endianness;\n    // Skip the first 16 bits (2 bytes) of signature\n    this.byteOffset = 2;\n    this.bitOffset = 0;\n  }\n  /** Reads a specified number of bits, and move the offset */\n  getBits(length = 1) {\n    let result = 0;\n    let bitsRead = 0;\n    while (bitsRead < length) {\n      if (this.byteOffset >= this.input.length) {\n        throw new Error(\"Reached end of input\");\n      }\n      const currentByte = this.input[this.byteOffset];\n      const bitsLeft = 8 - this.bitOffset;\n      const bitsToRead = Math.min(length - bitsRead, bitsLeft);\n      if (this.endianness === \"little-endian\") {\n        const mask = (1 << bitsToRead) - 1;\n        const bits = currentByte >> this.bitOffset & mask;\n        result |= bits << bitsRead;\n      } else {\n        const mask = (1 << bitsToRead) - 1 << 8 - this.bitOffset - bitsToRead;\n        const bits = (currentByte & mask) >> 8 - this.bitOffset - bitsToRead;\n        result = result << bitsToRead | bits;\n      }\n      bitsRead += bitsToRead;\n      this.bitOffset += bitsToRead;\n      if (this.bitOffset === 8) {\n        this.byteOffset++;\n        this.bitOffset = 0;\n      }\n    }\n    return result;\n  }\n};\n\n// lib/types/jxl-stream.ts\nfunction calculateImageDimension(reader, isSmallImage) {\n  if (isSmallImage) {\n    return 8 * (1 + reader.getBits(5));\n  }\n  const sizeClass = reader.getBits(2);\n  const extraBits = [9, 13, 18, 30][sizeClass];\n  return 1 + reader.getBits(extraBits);\n}\nfunction calculateImageWidth(reader, isSmallImage, widthMode, height) {\n  if (isSmallImage && widthMode === 0) {\n    return 8 * (1 + reader.getBits(5));\n  }\n  if (widthMode === 0) {\n    return calculateImageDimension(reader, false);\n  }\n  const aspectRatios = [1, 1.2, 4 / 3, 1.5, 16 / 9, 5 / 4, 2];\n  return Math.floor(height * aspectRatios[widthMode - 1]);\n}\nvar JXLStream = {\n  validate: (input) => {\n    return toHexString(input, 0, 2) === \"ff0a\";\n  },\n  calculate(input) {\n    const reader = new BitReader(input, \"little-endian\");\n    const isSmallImage = reader.getBits(1) === 1;\n    const height = calculateImageDimension(reader, isSmallImage);\n    const widthMode = reader.getBits(3);\n    const width = calculateImageWidth(reader, isSmallImage, widthMode, height);\n    return { width, height };\n  }\n};\n\n// lib/types/jxl.ts\nfunction extractCodestream(input) {\n  const jxlcBox = findBox(input, \"jxlc\", 0);\n  if (jxlcBox) {\n    return input.slice(jxlcBox.offset + 8, jxlcBox.offset + jxlcBox.size);\n  }\n  const partialStreams = extractPartialStreams(input);\n  if (partialStreams.length > 0) {\n    return concatenateCodestreams(partialStreams);\n  }\n  return void 0;\n}\nfunction extractPartialStreams(input) {\n  const partialStreams = [];\n  let offset = 0;\n  while (offset < input.length) {\n    const jxlpBox = findBox(input, \"jxlp\", offset);\n    if (!jxlpBox) break;\n    partialStreams.push(\n      input.slice(jxlpBox.offset + 12, jxlpBox.offset + jxlpBox.size)\n    );\n    offset = jxlpBox.offset + jxlpBox.size;\n  }\n  return partialStreams;\n}\nfunction concatenateCodestreams(partialCodestreams) {\n  const totalLength = partialCodestreams.reduce(\n    (acc, curr) => acc + curr.length,\n    0\n  );\n  const codestream = new Uint8Array(totalLength);\n  let position = 0;\n  for (const partial of partialCodestreams) {\n    codestream.set(partial, position);\n    position += partial.length;\n  }\n  return codestream;\n}\nvar JXL = {\n  validate: (input) => {\n    const boxType = toUTF8String(input, 4, 8);\n    if (boxType !== \"JXL \") return false;\n    const ftypBox = findBox(input, \"ftyp\", 0);\n    if (!ftypBox) return false;\n    const brand = toUTF8String(input, ftypBox.offset + 8, ftypBox.offset + 12);\n    return brand === \"jxl \";\n  },\n  calculate(input) {\n    const codestream = extractCodestream(input);\n    if (codestream) return JXLStream.calculate(codestream);\n    throw new Error(\"No codestream found in JXL container\");\n  }\n};\n\n// lib/types/ktx.ts\nvar KTX = {\n  validate: (input) => {\n    const signature = toUTF8String(input, 1, 7);\n    return [\"KTX 11\", \"KTX 20\"].includes(signature);\n  },\n  calculate: (input) => {\n    const type = input[5] === 49 ? \"ktx\" : \"ktx2\";\n    const offset = type === \"ktx\" ? 36 : 20;\n    return {\n      height: readUInt32LE(input, offset + 4),\n      width: readUInt32LE(input, offset),\n      type\n    };\n  }\n};\n\n// lib/types/png.ts\nvar pngSignature = \"PNG\\r\\n\u001a\\n\";\nvar pngImageHeaderChunkName = \"IHDR\";\nvar pngFriedChunkName = \"CgBI\";\nvar PNG = {\n  validate(input) {\n    if (pngSignature === toUTF8String(input, 1, 8)) {\n      let chunkName = toUTF8String(input, 12, 16);\n      if (chunkName === pngFriedChunkName) {\n        chunkName = toUTF8String(input, 28, 32);\n      }\n      if (chunkName !== pngImageHeaderChunkName) {\n        throw new TypeError(\"Invalid PNG\");\n      }\n      return true;\n    }\n    return false;\n  },\n  calculate(input) {\n    if (toUTF8String(input, 12, 16) === pngFriedChunkName) {\n      return {\n        height: readUInt32BE(input, 36),\n        width: readUInt32BE(input, 32)\n      };\n    }\n    return {\n      height: readUInt32BE(input, 20),\n      width: readUInt32BE(input, 16)\n    };\n  }\n};\n\n// lib/types/pnm.ts\nvar PNMTypes = {\n  P1: \"pbm/ascii\",\n  P2: \"pgm/ascii\",\n  P3: \"ppm/ascii\",\n  P4: \"pbm\",\n  P5: \"pgm\",\n  P6: \"ppm\",\n  P7: \"pam\",\n  PF: \"pfm\"\n};\nvar handlers = {\n  default: (lines) => {\n    let dimensions = [];\n    while (lines.length > 0) {\n      const line = lines.shift();\n      if (line[0] === \"#\") {\n        continue;\n      }\n      dimensions = line.split(\" \");\n      break;\n    }\n    if (dimensions.length === 2) {\n      return {\n        height: Number.parseInt(dimensions[1], 10),\n        width: Number.parseInt(dimensions[0], 10)\n      };\n    }\n    throw new TypeError(\"Invalid PNM\");\n  },\n  pam: (lines) => {\n    const size = {};\n    while (lines.length > 0) {\n      const line = lines.shift();\n      if (line.length > 16 || line.charCodeAt(0) > 128) {\n        continue;\n      }\n      const [key, value] = line.split(\" \");\n      if (key && value) {\n        size[key.toLowerCase()] = Number.parseInt(value, 10);\n      }\n      if (size.height && size.width) {\n        break;\n      }\n    }\n    if (size.height && size.width) {\n      return {\n        height: size.height,\n        width: size.width\n      };\n    }\n    throw new TypeError(\"Invalid PAM\");\n  }\n};\nvar PNM = {\n  validate: (input) => toUTF8String(input, 0, 2) in PNMTypes,\n  calculate(input) {\n    const signature = toUTF8String(input, 0, 2);\n    const type = PNMTypes[signature];\n    const lines = toUTF8String(input, 3).split(/[\\r\\n]+/);\n    const handler = handlers[type] || handlers.default;\n    return handler(lines);\n  }\n};\n\n// lib/types/psd.ts\nvar PSD = {\n  validate: (input) => toUTF8String(input, 0, 4) === \"8BPS\",\n  calculate: (input) => ({\n    height: readUInt32BE(input, 14),\n    width: readUInt32BE(input, 18)\n  })\n};\n\n// lib/types/svg.ts\nvar svgReg = /<svg\\s([^>\"']|\"[^\"]*\"|'[^']*')*>/;\nvar extractorRegExps = {\n  height: /\\sheight=(['\"])([^%]+?)\\1/,\n  root: svgReg,\n  viewbox: /\\sviewBox=(['\"])(.+?)\\1/i,\n  width: /\\swidth=(['\"])([^%]+?)\\1/\n};\nvar INCH_CM = 2.54;\nvar units = {\n  in: 96,\n  cm: 96 / INCH_CM,\n  em: 16,\n  ex: 8,\n  m: 96 / INCH_CM * 100,\n  mm: 96 / INCH_CM / 10,\n  pc: 96 / 72 / 12,\n  pt: 96 / 72,\n  px: 1\n};\nvar unitsReg = new RegExp(\n  `^([0-9.]+(?:e\\\\d+)?)(${Object.keys(units).join(\"|\")})?$`\n);\nfunction parseLength(len) {\n  const m = unitsReg.exec(len);\n  if (!m) {\n    return void 0;\n  }\n  return Math.round(Number(m[1]) * (units[m[2]] || 1));\n}\nfunction parseViewbox(viewbox) {\n  const bounds = viewbox.split(\" \");\n  return {\n    height: parseLength(bounds[3]),\n    width: parseLength(bounds[2])\n  };\n}\nfunction parseAttributes(root) {\n  const width = root.match(extractorRegExps.width);\n  const height = root.match(extractorRegExps.height);\n  const viewbox = root.match(extractorRegExps.viewbox);\n  return {\n    height: height && parseLength(height[2]),\n    viewbox: viewbox && parseViewbox(viewbox[2]),\n    width: width && parseLength(width[2])\n  };\n}\nfunction calculateByDimensions(attrs) {\n  return {\n    height: attrs.height,\n    width: attrs.width\n  };\n}\nfunction calculateByViewbox(attrs, viewbox) {\n  const ratio = viewbox.width / viewbox.height;\n  if (attrs.width) {\n    return {\n      height: Math.floor(attrs.width / ratio),\n      width: attrs.width\n    };\n  }\n  if (attrs.height) {\n    return {\n      height: attrs.height,\n      width: Math.floor(attrs.height * ratio)\n    };\n  }\n  return {\n    height: viewbox.height,\n    width: viewbox.width\n  };\n}\nvar SVG = {\n  // Scan only the first kilo-byte to speed up the check on larger files\n  validate: (input) => svgReg.test(toUTF8String(input, 0, 1e3)),\n  calculate(input) {\n    const root = toUTF8String(input).match(extractorRegExps.root);\n    if (root) {\n      const attrs = parseAttributes(root[0]);\n      if (attrs.width && attrs.height) {\n        return calculateByDimensions(attrs);\n      }\n      if (attrs.viewbox) {\n        return calculateByViewbox(attrs, attrs.viewbox);\n      }\n    }\n    throw new TypeError(\"Invalid SVG\");\n  }\n};\n\n// lib/types/tga.ts\nvar TGA = {\n  validate(input) {\n    return readUInt16LE(input, 0) === 0 && readUInt16LE(input, 4) === 0;\n  },\n  calculate(input) {\n    return {\n      height: readUInt16LE(input, 14),\n      width: readUInt16LE(input, 12)\n    };\n  }\n};\n\n// lib/types/tiff.ts\nvar CONSTANTS = {\n  TAG: {\n    WIDTH: 256,\n    HEIGHT: 257,\n    COMPRESSION: 259\n  },\n  TYPE: {\n    SHORT: 3,\n    LONG: 4,\n    LONG8: 16\n  },\n  ENTRY_SIZE: {\n    STANDARD: 12,\n    BIG: 20\n  },\n  COUNT_SIZE: {\n    STANDARD: 2,\n    BIG: 8\n  }\n};\nfunction readIFD(input, { isBigEndian, isBigTiff }) {\n  const ifdOffset = isBigTiff ? Number(readUInt64(input, 8, isBigEndian)) : readUInt(input, 32, 4, isBigEndian);\n  const entryCountSize = isBigTiff ? CONSTANTS.COUNT_SIZE.BIG : CONSTANTS.COUNT_SIZE.STANDARD;\n  return input.slice(ifdOffset + entryCountSize);\n}\nfunction readTagValue(input, type, offset, isBigEndian) {\n  switch (type) {\n    case CONSTANTS.TYPE.SHORT:\n      return readUInt(input, 16, offset, isBigEndian);\n    case CONSTANTS.TYPE.LONG:\n      return readUInt(input, 32, offset, isBigEndian);\n    case CONSTANTS.TYPE.LONG8: {\n      const value = Number(readUInt64(input, offset, isBigEndian));\n      if (value > Number.MAX_SAFE_INTEGER) {\n        throw new TypeError(\"Value too large\");\n      }\n      return value;\n    }\n    default:\n      return 0;\n  }\n}\nfunction nextTag(input, isBigTiff) {\n  const entrySize = isBigTiff ? CONSTANTS.ENTRY_SIZE.BIG : CONSTANTS.ENTRY_SIZE.STANDARD;\n  if (input.length > entrySize) {\n    return input.slice(entrySize);\n  }\n}\nfunction extractTags(input, { isBigEndian, isBigTiff }) {\n  const tags = {};\n  let temp = input;\n  while (temp?.length) {\n    const code = readUInt(temp, 16, 0, isBigEndian);\n    const type = readUInt(temp, 16, 2, isBigEndian);\n    const length = isBigTiff ? Number(readUInt64(temp, 4, isBigEndian)) : readUInt(temp, 32, 4, isBigEndian);\n    if (code === 0) break;\n    if (length === 1 && (type === CONSTANTS.TYPE.SHORT || type === CONSTANTS.TYPE.LONG || isBigTiff && type === CONSTANTS.TYPE.LONG8)) {\n      const valueOffset = isBigTiff ? 12 : 8;\n      tags[code] = readTagValue(temp, type, valueOffset, isBigEndian);\n    }\n    temp = nextTag(temp, isBigTiff);\n  }\n  return tags;\n}\nfunction determineFormat(input) {\n  const signature = toUTF8String(input, 0, 2);\n  const version = readUInt(input, 16, 2, signature === \"MM\");\n  return {\n    isBigEndian: signature === \"MM\",\n    isBigTiff: version === 43\n  };\n}\nfunction validateBigTIFFHeader(input, isBigEndian) {\n  const byteSize = readUInt(input, 16, 4, isBigEndian);\n  const reserved = readUInt(input, 16, 6, isBigEndian);\n  if (byteSize !== 8 || reserved !== 0) {\n    throw new TypeError(\"Invalid BigTIFF header\");\n  }\n}\nvar signatures = /* @__PURE__ */ new Set([\n  \"49492a00\",\n  // Little Endian\n  \"4d4d002a\",\n  // Big Endian\n  \"49492b00\",\n  // BigTIFF Little Endian\n  \"4d4d002b\"\n  // BigTIFF Big Endian\n]);\nvar TIFF = {\n  validate: (input) => {\n    const signature = toHexString(input, 0, 4);\n    return signatures.has(signature);\n  },\n  calculate(input) {\n    const format = determineFormat(input);\n    if (format.isBigTiff) {\n      validateBigTIFFHeader(input, format.isBigEndian);\n    }\n    const ifdBuffer = readIFD(input, format);\n    const tags = extractTags(ifdBuffer, format);\n    const info = {\n      height: tags[CONSTANTS.TAG.HEIGHT],\n      width: tags[CONSTANTS.TAG.WIDTH],\n      type: format.isBigTiff ? \"bigtiff\" : \"tiff\"\n    };\n    if (tags[CONSTANTS.TAG.COMPRESSION]) {\n      info.compression = tags[CONSTANTS.TAG.COMPRESSION];\n    }\n    if (!info.width || !info.height) {\n      throw new TypeError(\"Invalid Tiff. Missing tags\");\n    }\n    return info;\n  }\n};\n\n// lib/types/webp.ts\nfunction calculateExtended(input) {\n  return {\n    height: 1 + readUInt24LE(input, 7),\n    width: 1 + readUInt24LE(input, 4)\n  };\n}\nfunction calculateLossless(input) {\n  return {\n    height: 1 + ((input[4] & 15) << 10 | input[3] << 2 | (input[2] & 192) >> 6),\n    width: 1 + ((input[2] & 63) << 8 | input[1])\n  };\n}\nfunction calculateLossy(input) {\n  return {\n    height: readInt16LE(input, 8) & 16383,\n    width: readInt16LE(input, 6) & 16383\n  };\n}\nvar WEBP = {\n  validate(input) {\n    const riffHeader = \"RIFF\" === toUTF8String(input, 0, 4);\n    const webpHeader = \"WEBP\" === toUTF8String(input, 8, 12);\n    const vp8Header = \"VP8\" === toUTF8String(input, 12, 15);\n    return riffHeader && webpHeader && vp8Header;\n  },\n  calculate(_input) {\n    const chunkHeader = toUTF8String(_input, 12, 16);\n    const input = _input.slice(20, 30);\n    if (chunkHeader === \"VP8X\") {\n      const extendedHeader = input[0];\n      const validStart = (extendedHeader & 192) === 0;\n      const validEnd = (extendedHeader & 1) === 0;\n      if (validStart && validEnd) {\n        return calculateExtended(input);\n      }\n      throw new TypeError(\"Invalid WebP\");\n    }\n    if (chunkHeader === \"VP8 \" && input[0] !== 47) {\n      return calculateLossy(input);\n    }\n    const signature = toHexString(input, 3, 6);\n    if (chunkHeader === \"VP8L\" && signature !== \"9d012a\") {\n      return calculateLossless(input);\n    }\n    throw new TypeError(\"Invalid WebP\");\n  }\n};\n\n// lib/types/index.ts\nvar typeHandlers = /* @__PURE__ */ new Map([\n  [\"bmp\", BMP],\n  [\"cur\", CUR],\n  [\"dds\", DDS],\n  [\"gif\", GIF],\n  [\"heif\", HEIF],\n  [\"icns\", ICNS],\n  [\"ico\", ICO],\n  [\"j2c\", J2C],\n  [\"jp2\", JP2],\n  [\"jpg\", JPG],\n  [\"jxl\", JXL],\n  [\"jxl-stream\", JXLStream],\n  [\"ktx\", KTX],\n  [\"png\", PNG],\n  [\"pnm\", PNM],\n  [\"psd\", PSD],\n  [\"svg\", SVG],\n  [\"tga\", TGA],\n  [\"tiff\", TIFF],\n  [\"webp\", WEBP]\n]);\nvar types = Array.from(typeHandlers.keys());\n\n// lib/detector.ts\nvar firstBytes = /* @__PURE__ */ new Map([\n  [0, \"heif\"],\n  [56, \"psd\"],\n  [66, \"bmp\"],\n  [68, \"dds\"],\n  [71, \"gif\"],\n  [73, \"tiff\"],\n  [77, \"tiff\"],\n  [82, \"webp\"],\n  [105, \"icns\"],\n  [137, \"png\"],\n  [255, \"jpg\"]\n]);\nfunction detector(input) {\n  const byte = input[0];\n  const type = firstBytes.get(byte);\n  if (type && typeHandlers.get(type).validate(input)) {\n    return type;\n  }\n  return types.find((type2) => typeHandlers.get(type2).validate(input));\n}\n\n// lib/lookup.ts\nvar globalOptions = {\n  disabledTypes: []\n};\nfunction imageSize(input) {\n  const type = detector(input);\n  if (typeof type !== \"undefined\") {\n    if (globalOptions.disabledTypes.indexOf(type) > -1) {\n      throw new TypeError(`disabled file type: ${type}`);\n    }\n    const size = typeHandlers.get(type).calculate(input);\n    if (size !== void 0) {\n      size.type = size.type ?? type;\n      if (size.images && size.images.length > 1) {\n        const largestImage = size.images.reduce((largest, current) => {\n          return current.width * current.height > largest.width * largest.height ? current : largest;\n        }, size.images[0]);\n        size.width = largestImage.width;\n        size.height = largestImage.height;\n      }\n      return size;\n    }\n  }\n  throw new TypeError(`unsupported file type: ${type}`);\n}\n\n// lib/fromFile.ts\nvar MaxInputSize = 512 * 1024;\nvar queue = [];\nvar concurrency = 100;\nvar setConcurrency = (c) => {\n  concurrency = c;\n};\nvar processQueue = async () => {\n  const jobs = queue.splice(0, concurrency);\n  const promises2 = jobs.map(async ({ filePath, resolve: resolve2, reject }) => {\n    let handle;\n    try {\n      handle = await fs.promises.open(path.resolve(filePath), \"r\");\n    } catch (err) {\n      return reject(err);\n    }\n    try {\n      const { size } = await handle.stat();\n      if (size <= 0) {\n        throw new Error(\"Empty file\");\n      }\n      const inputSize = Math.min(size, MaxInputSize);\n      const input = new Uint8Array(inputSize);\n      await handle.read(input, 0, inputSize, 0);\n      resolve2(imageSize(input));\n    } catch (err) {\n      reject(err);\n    } finally {\n      await handle.close();\n    }\n  });\n  await Promise.allSettled(promises2);\n  if (queue.length) setTimeout(processQueue, 100);\n};\nvar imageSizeFromFile = async (filePath) => new Promise((resolve2, reject) => {\n  queue.push({ filePath, resolve: resolve2, reject });\n  processQueue();\n});\n\nexport { imageSizeFromFile, setConcurrency };\n","import fs from 'node:fs'\nimport fsPromise from 'node:fs/promises'\nimport path from 'node:path'\nimport * as fileType from 'file-type'\n// @ts-ignore\nimport { imageSizeFromFile } from \"image-size/fromFile\";\nimport { TEMP_DIR } from '../globalVars'\nimport { randomUUID, createHash } from 'node:crypto'\nimport { fileURLToPath } from 'node:url'\nimport { Context } from 'cordis'\n\n// 定义一个异步函数来检查文件是否存在\nexport function checkFileReceived(path: string, timeout: number = 3000): Promise<void> {\n  return new Promise((resolve, reject) => {\n    const startTime = Date.now()\n\n    function check() {\n      if (fs.existsSync(path)) {\n        resolve()\n      }\n      else if (Date.now() - startTime > timeout) {\n        reject(new Error(`文件不存在: ${path}`))\n      }\n      else {\n        setTimeout(check, 200)\n      }\n    }\n\n    check()\n  })\n}\n\nexport function calculateFileMD5(filePath: string): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const hash = createHash('md5')\n\n    // 创建一个流式读取器\n    const stream = fs.createReadStream(filePath)\n\n    stream.on('data', (data: Buffer | string) => {\n      // 当读取到数据时，更新哈希对象的状态\n      hash.update(data)\n    })\n\n    stream.on('end', () => {\n      // 文件读取完成，计算哈希\n      const md5 = hash.digest('hex')\n      resolve(md5)\n    })\n\n    stream.on('error', (err: Error) => {\n      // 处理可能的读取错误\n      reject(err)\n    })\n  })\n}\n\nexport enum FileUriType {\n  Unknown = 0,\n  FileURL = 1,\n  RemoteURL = 2,\n  OneBotBase64 = 3,\n  DataURL = 4,\n  Path = 5\n}\n\nexport function checkUriType(uri: string): { type: FileUriType } {\n  if (uri.startsWith('base64://')) {\n    return { type: FileUriType.OneBotBase64 }\n  }\n  if (uri.startsWith('data:')) {\n    return { type: FileUriType.DataURL }\n  }\n  if (uri.startsWith('http://') || uri.startsWith('https://')) {\n    return { type: FileUriType.RemoteURL }\n  }\n  if (uri.startsWith('file://')) {\n    return { type: FileUriType.FileURL }\n  }\n  try {\n    if (fs.existsSync(uri)) return { type: FileUriType.Path }\n  } catch {\n  }\n  return { type: FileUriType.Unknown }\n}\n\ninterface FetchFileRes {\n  data: Buffer\n  url: string\n}\n\nexport async function fetchFile(url: string, headersInit?: Record<string, string>): Promise<FetchFileRes> {\n  const headers = new Headers({\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.71 Safari/537.36',\n    'Host': new URL(url).hostname,\n    ...headersInit,\n  })\n  let raw = await fetch(url, { headers }).catch((err) => {\n    if (err.cause) {\n      throw err.cause\n    }\n    throw err\n  })\n  if (raw.status === 403 && !headers.has('Referer')) {\n    headers.set('Referer', url)\n    raw = await fetch(url, { headers }).catch((err) => {\n      if (err.cause) {\n        throw err.cause\n      }\n      throw err\n    })\n  }\n  if (!raw.ok) throw new Error(`statusText: ${raw.statusText}`)\n  return {\n    data: Buffer.from(await raw.arrayBuffer()),\n    url: raw.url,\n  }\n}\n\ntype Uri2LocalRes = {\n  success: boolean\n  errMsg: string\n  fileName: string\n  path: string\n  isLocal: boolean\n}\n\nexport async function uri2local(ctx: Context, uri: string, needExt?: boolean): Promise<Uri2LocalRes> {\n  const { type } = checkUriType(uri)\n\n  if (type === FileUriType.FileURL) {\n    const filePath = fileURLToPath(uri)\n    const fileName = path.basename(filePath)\n    // console.log('fileURLToPath', filePath)\n    // console.log('fileName', fileName)\n    return { success: true, errMsg: '', fileName, path: filePath, isLocal: true }\n  }\n\n  if (type === FileUriType.Path) {\n    const fileName = path.basename(uri)\n    return { success: true, errMsg: '', fileName, path: uri, isLocal: true }\n  }\n\n  if (type === FileUriType.RemoteURL) {\n    try {\n      const res = await fetchFile(uri)\n      let fileName = randomUUID()\n      let filePath = path.join(TEMP_DIR, fileName)\n      await fsPromise.writeFile(filePath, res.data)\n      if (needExt) {\n        const ext = (await ctx.ntFileApi.getFileType(filePath)).ext\n        fileName += `.${ext}`\n        const newPath = `${filePath}.${ext}`\n        await fsPromise.rename(filePath, newPath)\n        filePath = newPath\n      }\n      return { success: true, errMsg: '', fileName, path: filePath, isLocal: false }\n    } catch (e) {\n      const errMsg = `${uri} 下载失败, ${(e as Error).message}`\n      return { success: false, errMsg, fileName: '', path: '', isLocal: false }\n    }\n  }\n\n  if (type === FileUriType.OneBotBase64) {\n    let filename = randomUUID()\n    let filePath = path.join(TEMP_DIR, filename)\n    const base64 = uri.replace(/^base64:\\/\\//, '')\n    await fsPromise.writeFile(filePath, base64, 'base64')\n    if (needExt) {\n      const ext = (await ctx.ntFileApi.getFileType(filePath)).ext\n      filename += `.${ext}`\n      await fsPromise.rename(filePath, `${filePath}.${ext}`)\n      filePath = `${filePath}.${ext}`\n    }\n    return { success: true, errMsg: '', fileName: filename, path: filePath, isLocal: false }\n  }\n\n  if (type === FileUriType.DataURL) {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\n    const capture = /^data:([\\w/.+-]+);base64,(.*)$/.exec(uri)\n    if (capture) {\n      let filename = randomUUID()\n      const [, _type, base64] = capture\n      let filePath = path.join(TEMP_DIR, filename)\n      await fsPromise.writeFile(filePath, base64, 'base64')\n      if (needExt) {\n        const ext = (await ctx.ntFileApi.getFileType(filePath)).ext\n        filename += `.${ext}`\n        await fsPromise.rename(filePath, `${filePath}.${ext}`)\n        filePath = `${filePath}.${ext}`\n      }\n      return { success: true, errMsg: '', fileName: filename, path: filePath, isLocal: false }\n    }\n  }\n\n  if (type === FileUriType.Unknown) {\n    // uri可能是文件名\n    let fileCache = await ctx.store.getFileCacheById(uri)\n    if (!fileCache?.length) {\n      fileCache = await ctx.store.getFileCacheByName(uri)\n    }\n    if (fileCache?.length) {\n      const downloadPath = await ctx.ntFileApi.downloadMedia(\n        fileCache[0].msgId,\n        fileCache[0].chatType,\n        fileCache[0].peerUid,\n        fileCache[0].elementId,\n        '',\n        '',\n      )\n      return { success: true, errMsg: '', fileName: fileCache[0].fileName, path: downloadPath, isLocal: true }\n    }\n  }\n\n  return { success: false, errMsg: '未知文件类型或路径不存在', fileName: '', path: '', isLocal: false }\n}\n\n\nexport async function getFileType(filePath: string) {\n  try {\n    const type = await fileType.fileTypeFromFile(filePath)\n\n    if (!type) {\n      return {\n        mime: 'application/octet-stream',\n        ext: path.extname(filePath).slice(0) || '',\n      }\n    }\n\n    return {\n      mime: type.mime,\n      ext: type.ext,\n    }\n  } catch (error) {\n    console.error('Error detecting file type:', error)\n    return {\n      mime: '',\n      ext: '',\n    }\n  }\n}\n\n// const { imageSizeFromFile } = require('image-size/fromFile')\n\nexport async function getImageSize(path: string){\n  return await imageSizeFromFile(path)\n}\n","// This is a generated file. Do not edit.\nvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\nvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nvar unicode = {\n\tSpace_Separator: Space_Separator,\n\tID_Start: ID_Start,\n\tID_Continue: ID_Continue\n};\n\nvar util = {\n    isSpaceSeparator (c) {\n        return typeof c === 'string' && unicode.Space_Separator.test(c)\n    },\n\n    isIdStartChar (c) {\n        return typeof c === 'string' && (\n            (c >= 'a' && c <= 'z') ||\n        (c >= 'A' && c <= 'Z') ||\n        (c === '$') || (c === '_') ||\n        unicode.ID_Start.test(c)\n        )\n    },\n\n    isIdContinueChar (c) {\n        return typeof c === 'string' && (\n            (c >= 'a' && c <= 'z') ||\n        (c >= 'A' && c <= 'Z') ||\n        (c >= '0' && c <= '9') ||\n        (c === '$') || (c === '_') ||\n        (c === '\\u200C') || (c === '\\u200D') ||\n        unicode.ID_Continue.test(c)\n        )\n    },\n\n    isDigit (c) {\n        return typeof c === 'string' && /[0-9]/.test(c)\n    },\n\n    isHexDigit (c) {\n        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n    },\n};\n\nlet source;\nlet parseState;\nlet stack;\nlet pos;\nlet line;\nlet column;\nlet token;\nlet key;\nlet root;\n\nvar parse = function parse (text, reviver) {\n    source = String(text);\n    parseState = 'start';\n    stack = [];\n    pos = 0;\n    line = 1;\n    column = 0;\n    token = undefined;\n    key = undefined;\n    root = undefined;\n\n    do {\n        token = lex();\n\n        // This code is unreachable.\n        // if (!parseStates[parseState]) {\n        //     throw invalidParseState()\n        // }\n\n        parseStates[parseState]();\n    } while (token.type !== 'eof')\n\n    if (typeof reviver === 'function') {\n        return internalize({'': root}, '', reviver)\n    }\n\n    return root\n};\n\nfunction internalize (holder, name, reviver) {\n    const value = holder[name];\n    if (value != null && typeof value === 'object') {\n        if (Array.isArray(value)) {\n            for (let i = 0; i < value.length; i++) {\n                const key = String(i);\n                const replacement = internalize(value, key, reviver);\n                if (replacement === undefined) {\n                    delete value[key];\n                } else {\n                    Object.defineProperty(value, key, {\n                        value: replacement,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true,\n                    });\n                }\n            }\n        } else {\n            for (const key in value) {\n                const replacement = internalize(value, key, reviver);\n                if (replacement === undefined) {\n                    delete value[key];\n                } else {\n                    Object.defineProperty(value, key, {\n                        value: replacement,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true,\n                    });\n                }\n            }\n        }\n    }\n\n    return reviver.call(holder, name, value)\n}\n\nlet lexState;\nlet buffer;\nlet doubleQuote;\nlet sign;\nlet c;\n\nfunction lex () {\n    lexState = 'default';\n    buffer = '';\n    doubleQuote = false;\n    sign = 1;\n\n    for (;;) {\n        c = peek();\n\n        // This code is unreachable.\n        // if (!lexStates[lexState]) {\n        //     throw invalidLexState(lexState)\n        // }\n\n        const token = lexStates[lexState]();\n        if (token) {\n            return token\n        }\n    }\n}\n\nfunction peek () {\n    if (source[pos]) {\n        return String.fromCodePoint(source.codePointAt(pos))\n    }\n}\n\nfunction read () {\n    const c = peek();\n\n    if (c === '\\n') {\n        line++;\n        column = 0;\n    } else if (c) {\n        column += c.length;\n    } else {\n        column++;\n    }\n\n    if (c) {\n        pos += c.length;\n    }\n\n    return c\n}\n\nconst lexStates = {\n    default () {\n        switch (c) {\n        case '\\t':\n        case '\\v':\n        case '\\f':\n        case ' ':\n        case '\\u00A0':\n        case '\\uFEFF':\n        case '\\n':\n        case '\\r':\n        case '\\u2028':\n        case '\\u2029':\n            read();\n            return\n\n        case '/':\n            read();\n            lexState = 'comment';\n            return\n\n        case undefined:\n            read();\n            return newToken('eof')\n        }\n\n        if (util.isSpaceSeparator(c)) {\n            read();\n            return\n        }\n\n        // This code is unreachable.\n        // if (!lexStates[parseState]) {\n        //     throw invalidLexState(parseState)\n        // }\n\n        return lexStates[parseState]()\n    },\n\n    comment () {\n        switch (c) {\n        case '*':\n            read();\n            lexState = 'multiLineComment';\n            return\n\n        case '/':\n            read();\n            lexState = 'singleLineComment';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    multiLineComment () {\n        switch (c) {\n        case '*':\n            read();\n            lexState = 'multiLineCommentAsterisk';\n            return\n\n        case undefined:\n            throw invalidChar(read())\n        }\n\n        read();\n    },\n\n    multiLineCommentAsterisk () {\n        switch (c) {\n        case '*':\n            read();\n            return\n\n        case '/':\n            read();\n            lexState = 'default';\n            return\n\n        case undefined:\n            throw invalidChar(read())\n        }\n\n        read();\n        lexState = 'multiLineComment';\n    },\n\n    singleLineComment () {\n        switch (c) {\n        case '\\n':\n        case '\\r':\n        case '\\u2028':\n        case '\\u2029':\n            read();\n            lexState = 'default';\n            return\n\n        case undefined:\n            read();\n            return newToken('eof')\n        }\n\n        read();\n    },\n\n    value () {\n        switch (c) {\n        case '{':\n        case '[':\n            return newToken('punctuator', read())\n\n        case 'n':\n            read();\n            literal('ull');\n            return newToken('null', null)\n\n        case 't':\n            read();\n            literal('rue');\n            return newToken('boolean', true)\n\n        case 'f':\n            read();\n            literal('alse');\n            return newToken('boolean', false)\n\n        case '-':\n        case '+':\n            if (read() === '-') {\n                sign = -1;\n            }\n\n            lexState = 'sign';\n            return\n\n        case '.':\n            buffer = read();\n            lexState = 'decimalPointLeading';\n            return\n\n        case '0':\n            buffer = read();\n            lexState = 'zero';\n            return\n\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n            buffer = read();\n            lexState = 'decimalInteger';\n            return\n\n        case 'I':\n            read();\n            literal('nfinity');\n            return newToken('numeric', Infinity)\n\n        case 'N':\n            read();\n            literal('aN');\n            return newToken('numeric', NaN)\n\n        case '\"':\n        case \"'\":\n            doubleQuote = (read() === '\"');\n            buffer = '';\n            lexState = 'string';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    identifierNameStartEscape () {\n        if (c !== 'u') {\n            throw invalidChar(read())\n        }\n\n        read();\n        const u = unicodeEscape();\n        switch (u) {\n        case '$':\n        case '_':\n            break\n\n        default:\n            if (!util.isIdStartChar(u)) {\n                throw invalidIdentifier()\n            }\n\n            break\n        }\n\n        buffer += u;\n        lexState = 'identifierName';\n    },\n\n    identifierName () {\n        switch (c) {\n        case '$':\n        case '_':\n        case '\\u200C':\n        case '\\u200D':\n            buffer += read();\n            return\n\n        case '\\\\':\n            read();\n            lexState = 'identifierNameEscape';\n            return\n        }\n\n        if (util.isIdContinueChar(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('identifier', buffer)\n    },\n\n    identifierNameEscape () {\n        if (c !== 'u') {\n            throw invalidChar(read())\n        }\n\n        read();\n        const u = unicodeEscape();\n        switch (u) {\n        case '$':\n        case '_':\n        case '\\u200C':\n        case '\\u200D':\n            break\n\n        default:\n            if (!util.isIdContinueChar(u)) {\n                throw invalidIdentifier()\n            }\n\n            break\n        }\n\n        buffer += u;\n        lexState = 'identifierName';\n    },\n\n    sign () {\n        switch (c) {\n        case '.':\n            buffer = read();\n            lexState = 'decimalPointLeading';\n            return\n\n        case '0':\n            buffer = read();\n            lexState = 'zero';\n            return\n\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n            buffer = read();\n            lexState = 'decimalInteger';\n            return\n\n        case 'I':\n            read();\n            literal('nfinity');\n            return newToken('numeric', sign * Infinity)\n\n        case 'N':\n            read();\n            literal('aN');\n            return newToken('numeric', NaN)\n        }\n\n        throw invalidChar(read())\n    },\n\n    zero () {\n        switch (c) {\n        case '.':\n            buffer += read();\n            lexState = 'decimalPoint';\n            return\n\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n\n        case 'x':\n        case 'X':\n            buffer += read();\n            lexState = 'hexadecimal';\n            return\n        }\n\n        return newToken('numeric', sign * 0)\n    },\n\n    decimalInteger () {\n        switch (c) {\n        case '.':\n            buffer += read();\n            lexState = 'decimalPoint';\n            return\n\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    decimalPointLeading () {\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalFraction';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    decimalPoint () {\n        switch (c) {\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalFraction';\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    decimalFraction () {\n        switch (c) {\n        case 'e':\n        case 'E':\n            buffer += read();\n            lexState = 'decimalExponent';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    decimalExponent () {\n        switch (c) {\n        case '+':\n        case '-':\n            buffer += read();\n            lexState = 'decimalExponentSign';\n            return\n        }\n\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalExponentInteger';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    decimalExponentSign () {\n        if (util.isDigit(c)) {\n            buffer += read();\n            lexState = 'decimalExponentInteger';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    decimalExponentInteger () {\n        if (util.isDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    hexadecimal () {\n        if (util.isHexDigit(c)) {\n            buffer += read();\n            lexState = 'hexadecimalInteger';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    hexadecimalInteger () {\n        if (util.isHexDigit(c)) {\n            buffer += read();\n            return\n        }\n\n        return newToken('numeric', sign * Number(buffer))\n    },\n\n    string () {\n        switch (c) {\n        case '\\\\':\n            read();\n            buffer += escape();\n            return\n\n        case '\"':\n            if (doubleQuote) {\n                read();\n                return newToken('string', buffer)\n            }\n\n            buffer += read();\n            return\n\n        case \"'\":\n            if (!doubleQuote) {\n                read();\n                return newToken('string', buffer)\n            }\n\n            buffer += read();\n            return\n\n        case '\\n':\n        case '\\r':\n            throw invalidChar(read())\n\n        case '\\u2028':\n        case '\\u2029':\n            separatorChar(c);\n            break\n\n        case undefined:\n            throw invalidChar(read())\n        }\n\n        buffer += read();\n    },\n\n    start () {\n        switch (c) {\n        case '{':\n        case '[':\n            return newToken('punctuator', read())\n\n        // This code is unreachable since the default lexState handles eof.\n        // case undefined:\n        //     return newToken('eof')\n        }\n\n        lexState = 'value';\n    },\n\n    beforePropertyName () {\n        switch (c) {\n        case '$':\n        case '_':\n            buffer = read();\n            lexState = 'identifierName';\n            return\n\n        case '\\\\':\n            read();\n            lexState = 'identifierNameStartEscape';\n            return\n\n        case '}':\n            return newToken('punctuator', read())\n\n        case '\"':\n        case \"'\":\n            doubleQuote = (read() === '\"');\n            lexState = 'string';\n            return\n        }\n\n        if (util.isIdStartChar(c)) {\n            buffer += read();\n            lexState = 'identifierName';\n            return\n        }\n\n        throw invalidChar(read())\n    },\n\n    afterPropertyName () {\n        if (c === ':') {\n            return newToken('punctuator', read())\n        }\n\n        throw invalidChar(read())\n    },\n\n    beforePropertyValue () {\n        lexState = 'value';\n    },\n\n    afterPropertyValue () {\n        switch (c) {\n        case ',':\n        case '}':\n            return newToken('punctuator', read())\n        }\n\n        throw invalidChar(read())\n    },\n\n    beforeArrayValue () {\n        if (c === ']') {\n            return newToken('punctuator', read())\n        }\n\n        lexState = 'value';\n    },\n\n    afterArrayValue () {\n        switch (c) {\n        case ',':\n        case ']':\n            return newToken('punctuator', read())\n        }\n\n        throw invalidChar(read())\n    },\n\n    end () {\n        // This code is unreachable since it's handled by the default lexState.\n        // if (c === undefined) {\n        //     read()\n        //     return newToken('eof')\n        // }\n\n        throw invalidChar(read())\n    },\n};\n\nfunction newToken (type, value) {\n    return {\n        type,\n        value,\n        line,\n        column,\n    }\n}\n\nfunction literal (s) {\n    for (const c of s) {\n        const p = peek();\n\n        if (p !== c) {\n            throw invalidChar(read())\n        }\n\n        read();\n    }\n}\n\nfunction escape () {\n    const c = peek();\n    switch (c) {\n    case 'b':\n        read();\n        return '\\b'\n\n    case 'f':\n        read();\n        return '\\f'\n\n    case 'n':\n        read();\n        return '\\n'\n\n    case 'r':\n        read();\n        return '\\r'\n\n    case 't':\n        read();\n        return '\\t'\n\n    case 'v':\n        read();\n        return '\\v'\n\n    case '0':\n        read();\n        if (util.isDigit(peek())) {\n            throw invalidChar(read())\n        }\n\n        return '\\0'\n\n    case 'x':\n        read();\n        return hexEscape()\n\n    case 'u':\n        read();\n        return unicodeEscape()\n\n    case '\\n':\n    case '\\u2028':\n    case '\\u2029':\n        read();\n        return ''\n\n    case '\\r':\n        read();\n        if (peek() === '\\n') {\n            read();\n        }\n\n        return ''\n\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5':\n    case '6':\n    case '7':\n    case '8':\n    case '9':\n        throw invalidChar(read())\n\n    case undefined:\n        throw invalidChar(read())\n    }\n\n    return read()\n}\n\nfunction hexEscape () {\n    let buffer = '';\n    let c = peek();\n\n    if (!util.isHexDigit(c)) {\n        throw invalidChar(read())\n    }\n\n    buffer += read();\n\n    c = peek();\n    if (!util.isHexDigit(c)) {\n        throw invalidChar(read())\n    }\n\n    buffer += read();\n\n    return String.fromCodePoint(parseInt(buffer, 16))\n}\n\nfunction unicodeEscape () {\n    let buffer = '';\n    let count = 4;\n\n    while (count-- > 0) {\n        const c = peek();\n        if (!util.isHexDigit(c)) {\n            throw invalidChar(read())\n        }\n\n        buffer += read();\n    }\n\n    return String.fromCodePoint(parseInt(buffer, 16))\n}\n\nconst parseStates = {\n    start () {\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        push();\n    },\n\n    beforePropertyName () {\n        switch (token.type) {\n        case 'identifier':\n        case 'string':\n            key = token.value;\n            parseState = 'afterPropertyName';\n            return\n\n        case 'punctuator':\n            // This code is unreachable since it's handled by the lexState.\n            // if (token.value !== '}') {\n            //     throw invalidToken()\n            // }\n\n            pop();\n            return\n\n        case 'eof':\n            throw invalidEOF()\n        }\n\n        // This code is unreachable since it's handled by the lexState.\n        // throw invalidToken()\n    },\n\n    afterPropertyName () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'punctuator' || token.value !== ':') {\n        //     throw invalidToken()\n        // }\n\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        parseState = 'beforePropertyValue';\n    },\n\n    beforePropertyValue () {\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        push();\n    },\n\n    beforeArrayValue () {\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        if (token.type === 'punctuator' && token.value === ']') {\n            pop();\n            return\n        }\n\n        push();\n    },\n\n    afterPropertyValue () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'punctuator') {\n        //     throw invalidToken()\n        // }\n\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        switch (token.value) {\n        case ',':\n            parseState = 'beforePropertyName';\n            return\n\n        case '}':\n            pop();\n        }\n\n        // This code is unreachable since it's handled by the lexState.\n        // throw invalidToken()\n    },\n\n    afterArrayValue () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'punctuator') {\n        //     throw invalidToken()\n        // }\n\n        if (token.type === 'eof') {\n            throw invalidEOF()\n        }\n\n        switch (token.value) {\n        case ',':\n            parseState = 'beforeArrayValue';\n            return\n\n        case ']':\n            pop();\n        }\n\n        // This code is unreachable since it's handled by the lexState.\n        // throw invalidToken()\n    },\n\n    end () {\n        // This code is unreachable since it's handled by the lexState.\n        // if (token.type !== 'eof') {\n        //     throw invalidToken()\n        // }\n    },\n};\n\nfunction push () {\n    let value;\n\n    switch (token.type) {\n    case 'punctuator':\n        switch (token.value) {\n        case '{':\n            value = {};\n            break\n\n        case '[':\n            value = [];\n            break\n        }\n\n        break\n\n    case 'null':\n    case 'boolean':\n    case 'numeric':\n    case 'string':\n        value = token.value;\n        break\n\n    // This code is unreachable.\n    // default:\n    //     throw invalidToken()\n    }\n\n    if (root === undefined) {\n        root = value;\n    } else {\n        const parent = stack[stack.length - 1];\n        if (Array.isArray(parent)) {\n            parent.push(value);\n        } else {\n            Object.defineProperty(parent, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true,\n            });\n        }\n    }\n\n    if (value !== null && typeof value === 'object') {\n        stack.push(value);\n\n        if (Array.isArray(value)) {\n            parseState = 'beforeArrayValue';\n        } else {\n            parseState = 'beforePropertyName';\n        }\n    } else {\n        const current = stack[stack.length - 1];\n        if (current == null) {\n            parseState = 'end';\n        } else if (Array.isArray(current)) {\n            parseState = 'afterArrayValue';\n        } else {\n            parseState = 'afterPropertyValue';\n        }\n    }\n}\n\nfunction pop () {\n    stack.pop();\n\n    const current = stack[stack.length - 1];\n    if (current == null) {\n        parseState = 'end';\n    } else if (Array.isArray(current)) {\n        parseState = 'afterArrayValue';\n    } else {\n        parseState = 'afterPropertyValue';\n    }\n}\n\n// This code is unreachable.\n// function invalidParseState () {\n//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n// }\n\n// This code is unreachable.\n// function invalidLexState (state) {\n//     return new Error(`JSON5: invalid lex state '${state}'`)\n// }\n\nfunction invalidChar (c) {\n    if (c === undefined) {\n        return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n    }\n\n    return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n}\n\nfunction invalidEOF () {\n    return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n}\n\n// This code is unreachable.\n// function invalidToken () {\n//     if (token.type === 'eof') {\n//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n//     }\n\n//     const c = String.fromCodePoint(token.value.codePointAt(0))\n//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n// }\n\nfunction invalidIdentifier () {\n    column -= 5;\n    return syntaxError(`JSON5: invalid identifier character at ${line}:${column}`)\n}\n\nfunction separatorChar (c) {\n    console.warn(`JSON5: '${formatChar(c)}' in strings is not valid ECMAScript; consider escaping`);\n}\n\nfunction formatChar (c) {\n    const replacements = {\n        \"'\": \"\\\\'\",\n        '\"': '\\\\\"',\n        '\\\\': '\\\\\\\\',\n        '\\b': '\\\\b',\n        '\\f': '\\\\f',\n        '\\n': '\\\\n',\n        '\\r': '\\\\r',\n        '\\t': '\\\\t',\n        '\\v': '\\\\v',\n        '\\0': '\\\\0',\n        '\\u2028': '\\\\u2028',\n        '\\u2029': '\\\\u2029',\n    };\n\n    if (replacements[c]) {\n        return replacements[c]\n    }\n\n    if (c < ' ') {\n        const hexString = c.charCodeAt(0).toString(16);\n        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n    }\n\n    return c\n}\n\nfunction syntaxError (message) {\n    const err = new SyntaxError(message);\n    err.lineNumber = line;\n    err.columnNumber = column;\n    return err\n}\n\nvar stringify = function stringify (value, replacer, space) {\n    const stack = [];\n    let indent = '';\n    let propertyList;\n    let replacerFunc;\n    let gap = '';\n    let quote;\n\n    if (\n        replacer != null &&\n        typeof replacer === 'object' &&\n        !Array.isArray(replacer)\n    ) {\n        space = replacer.space;\n        quote = replacer.quote;\n        replacer = replacer.replacer;\n    }\n\n    if (typeof replacer === 'function') {\n        replacerFunc = replacer;\n    } else if (Array.isArray(replacer)) {\n        propertyList = [];\n        for (const v of replacer) {\n            let item;\n\n            if (typeof v === 'string') {\n                item = v;\n            } else if (\n                typeof v === 'number' ||\n                v instanceof String ||\n                v instanceof Number\n            ) {\n                item = String(v);\n            }\n\n            if (item !== undefined && propertyList.indexOf(item) < 0) {\n                propertyList.push(item);\n            }\n        }\n    }\n\n    if (space instanceof Number) {\n        space = Number(space);\n    } else if (space instanceof String) {\n        space = String(space);\n    }\n\n    if (typeof space === 'number') {\n        if (space > 0) {\n            space = Math.min(10, Math.floor(space));\n            gap = '          '.substr(0, space);\n        }\n    } else if (typeof space === 'string') {\n        gap = space.substr(0, 10);\n    }\n\n    return serializeProperty('', {'': value})\n\n    function serializeProperty (key, holder) {\n        let value = holder[key];\n        if (value != null) {\n            if (typeof value.toJSON5 === 'function') {\n                value = value.toJSON5(key);\n            } else if (typeof value.toJSON === 'function') {\n                value = value.toJSON(key);\n            }\n        }\n\n        if (replacerFunc) {\n            value = replacerFunc.call(holder, key, value);\n        }\n\n        if (value instanceof Number) {\n            value = Number(value);\n        } else if (value instanceof String) {\n            value = String(value);\n        } else if (value instanceof Boolean) {\n            value = value.valueOf();\n        }\n\n        switch (value) {\n        case null: return 'null'\n        case true: return 'true'\n        case false: return 'false'\n        }\n\n        if (typeof value === 'string') {\n            return quoteString(value, false)\n        }\n\n        if (typeof value === 'number') {\n            return String(value)\n        }\n\n        if (typeof value === 'object') {\n            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n        }\n\n        return undefined\n    }\n\n    function quoteString (value) {\n        const quotes = {\n            \"'\": 0.1,\n            '\"': 0.2,\n        };\n\n        const replacements = {\n            \"'\": \"\\\\'\",\n            '\"': '\\\\\"',\n            '\\\\': '\\\\\\\\',\n            '\\b': '\\\\b',\n            '\\f': '\\\\f',\n            '\\n': '\\\\n',\n            '\\r': '\\\\r',\n            '\\t': '\\\\t',\n            '\\v': '\\\\v',\n            '\\0': '\\\\0',\n            '\\u2028': '\\\\u2028',\n            '\\u2029': '\\\\u2029',\n        };\n\n        let product = '';\n\n        for (let i = 0; i < value.length; i++) {\n            const c = value[i];\n            switch (c) {\n            case \"'\":\n            case '\"':\n                quotes[c]++;\n                product += c;\n                continue\n\n            case '\\0':\n                if (util.isDigit(value[i + 1])) {\n                    product += '\\\\x00';\n                    continue\n                }\n            }\n\n            if (replacements[c]) {\n                product += replacements[c];\n                continue\n            }\n\n            if (c < ' ') {\n                let hexString = c.charCodeAt(0).toString(16);\n                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n                continue\n            }\n\n            product += c;\n        }\n\n        const quoteChar = quote || Object.keys(quotes).reduce((a, b) => (quotes[a] < quotes[b]) ? a : b);\n\n        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n        return quoteChar + product + quoteChar\n    }\n\n    function serializeObject (value) {\n        if (stack.indexOf(value) >= 0) {\n            throw TypeError('Converting circular structure to JSON5')\n        }\n\n        stack.push(value);\n\n        let stepback = indent;\n        indent = indent + gap;\n\n        let keys = propertyList || Object.keys(value);\n        let partial = [];\n        for (const key of keys) {\n            const propertyString = serializeProperty(key, value);\n            if (propertyString !== undefined) {\n                let member = serializeKey(key) + ':';\n                if (gap !== '') {\n                    member += ' ';\n                }\n                member += propertyString;\n                partial.push(member);\n            }\n        }\n\n        let final;\n        if (partial.length === 0) {\n            final = '{}';\n        } else {\n            let properties;\n            if (gap === '') {\n                properties = partial.join(',');\n                final = '{' + properties + '}';\n            } else {\n                let separator = ',\\n' + indent;\n                properties = partial.join(separator);\n                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n            }\n        }\n\n        stack.pop();\n        indent = stepback;\n        return final\n    }\n\n    function serializeKey (key) {\n        if (key.length === 0) {\n            return quoteString(key, true)\n        }\n\n        const firstChar = String.fromCodePoint(key.codePointAt(0));\n        if (!util.isIdStartChar(firstChar)) {\n            return quoteString(key, true)\n        }\n\n        for (let i = firstChar.length; i < key.length; i++) {\n            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n                return quoteString(key, true)\n            }\n        }\n\n        return key\n    }\n\n    function serializeArray (value) {\n        if (stack.indexOf(value) >= 0) {\n            throw TypeError('Converting circular structure to JSON5')\n        }\n\n        stack.push(value);\n\n        let stepback = indent;\n        indent = indent + gap;\n\n        let partial = [];\n        for (let i = 0; i < value.length; i++) {\n            const propertyString = serializeProperty(String(i), value);\n            partial.push((propertyString !== undefined) ? propertyString : 'null');\n        }\n\n        let final;\n        if (partial.length === 0) {\n            final = '[]';\n        } else {\n            if (gap === '') {\n                let properties = partial.join(',');\n                final = '[' + properties + ']';\n            } else {\n                let separator = ',\\n' + indent;\n                let properties = partial.join(separator);\n                final = '[\\n' + indent + properties + ',\\n' + stepback + ']';\n            }\n        }\n\n        stack.pop();\n        indent = stepback;\n        return final\n    }\n};\n\nconst JSON5 = {\n    parse,\n    stringify,\n};\n\nvar lib = JSON5;\n\nexport default lib;\n","import fs from 'node:fs'\nimport path from 'node:path'\nimport JSON5 from 'json5'\nimport { Config, OB11Config, SatoriConfig, WebUIConfig } from './types'\nimport { DATA_DIR, selfInfo } from './globalVars'\nimport { mergeNewProperties } from './utils/misc'\nimport { fileURLToPath } from 'node:url'\n\nexport class ConfigUtil {\n  private readonly configPath: string\n  private config: Config | null = null\n  private watch = false\n\n  constructor(configPath: string) {\n    this.configPath = configPath\n\n  }\n\n  listenChange(cb: (config: Config) => void) {\n    console.log('配置文件位于', this.configPath)\n\n    this.setConfig(this.getConfig())\n    fs.watchFile(this.configPath, { persistent: true, interval: 1000 }, () => {\n      if (!this.watch) {\n        return\n      }\n      console.log('配置重載')\n      const c = this.reloadConfig()\n      cb(c)\n    })\n  }\n\n  getConfig(cache = true) {\n    if (this.config && cache) {\n      return this.config\n    }\n\n    return this.reloadConfig()\n  }\n\n  reloadConfig(): Config {\n    const ob11Default: OB11Config = {\n      enable: true,\n      token: '',\n      httpPort: 3000,\n      httpPostUrls: [],\n      httpSecret: '',\n      wsPort: 3001,\n      wsReverseUrls: [],\n      enableHttp: true,\n      enableHttpPost: true,\n      enableWs: true,\n      enableWsReverse: true,\n      messagePostFormat: 'array',\n      enableHttpHeart: false,\n      reportSelfMessage: false,\n    }\n    const satoriDefault: SatoriConfig = {\n      enable: false,\n      port: 5600,\n      token: '',\n    }\n    const webuiDefault: WebUIConfig = {\n      enable: true,\n      port: 3080,\n      token: '',\n    }\n    const defaultConfig: Config = {\n      webui: webuiDefault,\n      onlyLocalhost: true,\n      satori: satoriDefault,\n      ob11: ob11Default,\n      heartInterval: 60000,\n      enableLocalFile2Url: false,\n      debug: false,\n      log: true,\n      autoDeleteFile: false,\n      autoDeleteFileSecond: 60,\n      musicSignUrl: 'https://llob.linyuchen.net/sign/music',\n      msgCacheExpire: 120,\n      ffmpeg: '',\n    }\n    // console.info('读取配置文件', this.configPath)\n    if (!fs.existsSync(this.configPath)) {\n      const defaultConfigPath = path.join(path.dirname(fileURLToPath(import.meta.url)), 'default_config.json')\n      const defaultConfigData = fs.readFileSync(defaultConfigPath, 'utf-8')\n      try {\n        this.config = JSON5.parse(defaultConfigData)\n      } catch (e) {\n        console.error('默认配置文件 default_config.json 内容不合格，使用内置默认配置')\n        this.config = defaultConfig\n      }\n      this.setConfig(this.config!)\n      return this.config!\n    }\n    else {\n      const data = fs.readFileSync(this.configPath, 'utf-8')\n      let jsonData: Config = defaultConfig\n      try {\n        jsonData = JSON5.parse(data)\n        console.info('配置加载成功')\n      } catch (e) {\n        console.error(`${this.configPath} json 内容不合格`, e)\n        this.config = defaultConfig\n        return this.config\n      }\n      mergeNewProperties(defaultConfig, jsonData)\n      this.checkOldConfig(jsonData.ob11, jsonData.ob11, 'wsReverseUrls', 'wsHosts')\n      this.checkOldConfig(jsonData.ob11, jsonData.ob11, 'httpPostUrls', 'httpHosts')\n      this.checkOldConfig(jsonData, jsonData.ob11, 'onlyLocalhost', 'listenLocalhost')\n      this.setConfig(jsonData)\n      this.config = jsonData\n      return this.config\n    }\n  }\n\n  setConfig(config: Config) {\n    this.config = config\n    this.writeConfig(config)\n  }\n\n  writeConfig(config: Config, watch = false) {\n   this.watch = watch\n    fs.writeFileSync(this.configPath, JSON.stringify(config, null, 2), 'utf-8')\n    setTimeout(() => {\n      this.watch = true\n    }, 3000)\n  }\n\n  private checkOldConfig(\n    currentConfig: Config | OB11Config | SatoriConfig,\n    oldConfig: Config | OB11Config | SatoriConfig,\n    currentKey: keyof OB11Config | keyof SatoriConfig | keyof Config,\n    oldKey: 'http' | 'hosts' | 'wsPort' | 'wsHosts' | 'reportSelfMessage' | 'httpHosts' | 'token' | 'listenLocalhost',\n  ) {\n    // 迁移旧的配置到新配置，避免用户重新填写配置\n    const oldValue = (oldConfig as any)[oldKey]\n    if (oldValue !== undefined) {\n      Object.assign(currentConfig, { [currentKey]: oldValue })\n      delete (oldConfig as any)[oldKey]\n    }\n  }\n}\n\nlet globalConfigUtil: ConfigUtil | null = null\n\nexport function getConfigUtil() {\n  const configFilePath = path.join(DATA_DIR, `config_${selfInfo.uin}.json`)\n  if (!globalConfigUtil) {\n    globalConfigUtil = new ConfigUtil(configFilePath)\n  }\n  return globalConfigUtil\n}\n","import fs from 'fs'\nimport path from 'node:path'\nimport { getConfigUtil } from '../config'\nimport { LOG_DIR } from '../globalVars'\nimport { inspect } from 'node:util'\n\nexport const logFileName = `llonebot-${new Date().toLocaleString('zh-CN')}.log`.replace(/\\//g, '-').replace(/:/g, '-')\n\nexport function log(...msg: unknown[]) {\n  if (!getConfigUtil().getConfig().log) {\n    return\n  }\n  let logMsg = ''\n  for (const msgItem of msg) {\n    if (typeof msgItem === 'object') {\n      logMsg += inspect(msgItem, {\n        depth: 10,\n        compact: true,\n        breakLength: Infinity,\n        maxArrayLength: 220\n      }) + ' '\n    } else {\n      logMsg += msgItem + ' '\n    }\n  }\n  const currentDateTime = new Date().toLocaleString()\n  logMsg = `${currentDateTime} ${logMsg}\\n\\n`\n  console.log(logMsg)\n  fs.appendFile(path.join(LOG_DIR, logFileName), logMsg, () => { })\n}\n","import ffmpeg from 'fluent-ffmpeg'\nimport fs from 'node:fs'\nimport { log } from './legacyLog'\nimport { Context } from 'cordis'\nimport path from 'node:path'\nimport { fileURLToPath } from 'node:url'\n\nconst defaultVideoThumbB64 =\n  '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'\n\nexport const defaultVideoThumb = Buffer.from(defaultVideoThumbB64, 'base64')\n\nexport async function getVideoInfo(filePath: string) {\n  const size = fs.statSync(filePath).size\n  return new Promise<{\n    width: number\n    height: number\n    time: number\n    format: string\n    size: number\n    filePath: string\n  }>((resolve, reject) => {\n    ffmpeg(filePath).ffprobe((err, metadata) => {\n      if (err) {\n        reject(err)\n      } else {\n        const videoStream = metadata.streams.find((s) => s.codec_type === 'video')\n        resolve({\n          width: videoStream?.width!,\n          height: videoStream?.height!,\n          time: parseInt(videoStream?.duration!),\n          format: metadata.format.format_name!,\n          size,\n          filePath,\n        })\n      }\n    })\n  })\n}\n\nexport function checkFfmpeg(newPath?: string): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    log(`开始检查 FFmpeg ${newPath ?? ''}`)\n    if (newPath) {\n      ffmpeg.setFfmpegPath(newPath)\n    }\n    try {\n      ffmpeg.getAvailableFormats((err, formats) => {\n        if (err) {\n          log('FFmpeg is not installed or not found in PATH:', err)\n          resolve(false)\n        } else {\n          log('FFmpeg is installed.')\n          resolve(true)\n        }\n      })\n    } catch (e) {\n      resolve(false)\n    }\n  })\n}\n","import path from 'node:path'\nimport ffmpeg from 'fluent-ffmpeg'\nimport fsPromise from 'node:fs/promises'\nimport { decode, encode, getDuration, getWavFileInfo, isWav, isSilk, EncodeResult } from 'silk-wasm'\nimport { TEMP_DIR } from '../globalVars'\nimport { randomUUID } from 'node:crypto'\nimport { Readable } from 'node:stream'\nimport { Context } from 'cordis'\nimport { fileURLToPath } from 'node:url'\nimport fs from 'node:fs'\n\ninterface FFmpegOptions {\n  input?: string[]\n  output?: string[]\n}\n\ntype Input = string | Readable\n\nfunction convert(ctx: Context, input: Input, options: FFmpegOptions): Promise<Buffer>\nfunction convert(ctx: Context, input: Input, options: FFmpegOptions, outputPath: string): Promise<string>\nfunction convert(ctx: Context, input: Input, options: FFmpegOptions, outputPath?: string): Promise<Buffer | string> {\n  return new Promise((resolve, reject) => {\n    const chunks: Buffer[] = []\n    let command = ffmpeg(input)\n      .on('error', err => {\n        ctx.logger.error(`FFmpeg处理转换出错: `, err.message)\n        reject(err)\n      })\n      .on('end', () => {\n        if (!outputPath) {\n          resolve(Buffer.concat(chunks))\n        } else {\n          resolve(outputPath)\n        }\n      })\n    if (options.input) {\n      command = command.inputOptions(options.input)\n    }\n    if (options.output) {\n      command = command.outputOptions(options.output)\n    }\n    if (!outputPath) {\n      const stream = command.pipe()\n      stream.on('data', chunk => {\n        chunks.push(chunk)\n      })\n    } else {\n      command.save(outputPath)\n    }\n  })\n}\n\nexport async function encodeSilk(ctx: Context, filePath: string) {\n  const file = await fsPromise.readFile(filePath)\n  if (!isSilk(file)) {\n    ctx.logger.info(`语音文件${filePath}需要转换成silk`)\n    let result: EncodeResult\n    const allowSampleRate = [8000, 12000, 16000, 24000, 32000, 44100, 48000]\n    if (isWav(file) && allowSampleRate.includes(getWavFileInfo(file).fmt.sampleRate)) {\n      result = await encode(file, 0)\n    } else {\n      const input = await convert(ctx, filePath, {\n        output: [\n          '-ar 24000',\n          '-ac 1',\n          '-f s16le'\n        ]\n      })\n      result = await encode(input, 24000)\n    }\n    const pttPath = path.join(TEMP_DIR, randomUUID())\n    await fsPromise.writeFile(pttPath, result.data)\n    ctx.logger.info(`语音文件${filePath}转换成功!`, pttPath, `时长:`, result.duration)\n    return {\n      converted: true,\n      path: pttPath,\n      duration: result.duration / 1000,\n    }\n  } else {\n    const silk = file\n    let duration = 1\n    try {\n      duration = getDuration(silk) / 1000\n    } catch (e) {\n      ctx.logger.warn('获取语音文件时长失败, 默认为1秒', filePath, (e as Error).stack)\n    }\n    return {\n      converted: false,\n      path: filePath,\n      duration,\n    }\n  }\n}\n\ntype OutFormat = 'mp3' | 'amr' | 'wma' | 'm4a' | 'spx' | 'ogg' | 'wav' | 'flac'\n\nexport async function decodeSilk(ctx: Context, inputFilePath: string, outFormat: OutFormat) {\n  const silk = await fsPromise.readFile(inputFilePath)\n  const { data } = await decode(silk, 24000)\n  const tmpPath = path.join(TEMP_DIR, path.basename(inputFilePath))\n  const outFilePath = tmpPath + `.${outFormat}`\n  const pcmFilePath = tmpPath + '.pcm'\n  await fsPromise.writeFile(pcmFilePath, data)\n  return convert(ctx, pcmFilePath, {\n    input: [\n      '-f s16le',\n      '-ar 24000',\n      '-ac 1'\n    ]\n  }, outFilePath)\n}\n","import ffmpeg from 'fluent-ffmpeg'\nimport faceConfig from './helper/face_config.json'\nimport pathLib from 'node:path'\nimport {\n  AtType,\n  ElementType,\n  FaceIndex,\n  PicType,\n  SendArkElement,\n  SendFaceElement,\n  SendFileElement,\n  SendMarketFaceElement,\n  SendPicElement,\n  SendPttElement,\n  SendReplyElement,\n  SendTextElement,\n  SendVideoElement,\n} from './types'\nimport { stat, writeFile, copyFile, unlink, access } from 'node:fs/promises'\nimport { calculateFileMD5 } from '../common/utils/file'\nimport { defaultVideoThumb, getVideoInfo } from '../common/utils/video'\nimport { encodeSilk } from '../common/utils/audio'\nimport { Context } from 'cordis'\nimport { isNullable } from 'cosmokit'\n\nexport namespace SendElement {\n  export function text(content: string): SendTextElement {\n    return {\n      elementType: ElementType.Text,\n      elementId: '',\n      textElement: {\n        content,\n        atType: AtType.Unknown,\n        atUid: '',\n        atTinyId: '',\n        atNtUid: '',\n      },\n    }\n  }\n\n  export function at(atUid: string, atNtUid: string, atType: AtType, display: string): SendTextElement {\n    return {\n      elementType: ElementType.Text,\n      elementId: '',\n      textElement: {\n        content: display,\n        atType,\n        atUid,\n        atTinyId: '',\n        atNtUid,\n      },\n    }\n  }\n\n  export function reply(msgSeq: string, msgId: string, senderUin: string): SendReplyElement {\n    return {\n      elementType: ElementType.Reply,\n      elementId: '',\n      replyElement: {\n        replayMsgSeq: msgSeq,\n        replayMsgId: msgId,\n        senderUin: senderUin,\n        senderUinStr: senderUin,\n      },\n    }\n  }\n\n  export async function pic(ctx: Context, picPath: string, summary = '', subType: 0 | 1 = 0, isFlashPic?: boolean): Promise<SendPicElement> {\n    const { md5, fileName, path, fileSize } = await ctx.ntFileApi.uploadFile(picPath, ElementType.Pic, subType)\n    if (fileSize === 0) {\n      throw '文件异常，大小为 0'\n    }\n    const imageSize = await ctx.ntFileApi.getImageSize(picPath)\n    const picElement = {\n      md5HexStr: md5,\n      fileSize: fileSize.toString(),\n      picWidth: imageSize.width,\n      picHeight: imageSize.height,\n      fileName: fileName,\n      sourcePath: path,\n      original: true,\n      picType: imageSize.type === 'gif' ? PicType.GIF : PicType.JPEG,\n      picSubType: subType,\n      fileUuid: '',\n      fileSubId: '',\n      thumbFileSize: 0,\n      summary,\n      isFlashPic,\n    }\n    ctx.logger.info('图片信息', picElement)\n    return {\n      elementType: ElementType.Pic,\n      elementId: '',\n      picElement,\n    }\n  }\n\n  export async function file(ctx: Context, filePath: string, fileName: string, folderId = ''): Promise<SendFileElement> {\n    const fileSize = (await stat(filePath)).size.toString()\n    if (fileSize === '0') {\n      ctx.logger.warn(`文件${fileName}异常，大小为 0`)\n      throw new Error('文件异常，大小为 0')\n    }\n    const element: SendFileElement = {\n      elementType: ElementType.File,\n      elementId: '',\n      fileElement: {\n        fileName,\n        folderId,\n        filePath,\n        fileSize,\n      },\n    }\n    return element\n  }\n\n  export async function video(ctx: Context, filePath: string, diyThumbPath = ''): Promise<SendVideoElement> {\n    await access(filePath)\n    const { fileName, path, fileSize, md5 } = await ctx.ntFileApi.uploadFile(filePath, ElementType.Video)\n\n    if (fileSize === 0) {\n      throw new Error('文件异常，大小为 0')\n    }\n    const maxMB = 100\n    if (fileSize > 1024 * 1024 * maxMB) {\n      throw new Error(`视频过大，最大支持${maxMB}MB，当前文件大小${fileSize}B`)\n    }\n    const thumbDir = pathLib.dirname(path.replaceAll('\\\\', '/').replace(`/Ori/`, `/Thumb/`))\n    let videoInfo = {\n      width: 1920,\n      height: 1080,\n      time: 15,\n      format: 'mp4',\n      size: fileSize,\n      filePath,\n    }\n    try {\n      videoInfo = await getVideoInfo(path)\n      ctx.logger.info('视频信息', videoInfo)\n    } catch (e) {\n      ctx.logger.info('获取视频信息失败', e)\n    }\n    const createThumb = new Promise<string>((resolve, reject) => {\n      const thumbFileName = `${md5}_0.png`\n      const thumbPath = pathLib.join(thumbDir, thumbFileName)\n      ctx.logger.info('开始生成视频缩略图', filePath)\n      let completed = false\n\n      function useDefaultThumb() {\n        if (completed) return\n        ctx.logger.info('获取视频封面失败，使用默认封面')\n        writeFile(thumbPath, defaultVideoThumb)\n          .then(() => {\n            resolve(thumbPath)\n          })\n          .catch(reject)\n      }\n\n      setTimeout(useDefaultThumb, 5000)\n      ffmpeg(filePath)\n        .on('error', () => {\n          if (diyThumbPath) {\n            copyFile(diyThumbPath, thumbPath)\n              .then(() => {\n                completed = true\n                resolve(thumbPath)\n              })\n              .catch(reject)\n          } else {\n            useDefaultThumb()\n          }\n        })\n        .screenshots({\n          timestamps: [0],\n          filename: thumbFileName,\n          folder: thumbDir,\n          size: videoInfo.width + 'x' + videoInfo.height,\n        })\n        .on('end', () => {\n          completed = true\n          resolve(thumbPath)\n        })\n    })\n    const thumbPath = new Map()\n    const _thumbPath = await createThumb\n    ctx.logger.info('生成视频缩略图', _thumbPath)\n    const thumbSize = (await stat(_thumbPath)).size\n    thumbPath.set(0, _thumbPath)\n    const thumbMd5 = await calculateFileMD5(_thumbPath)\n    const element: SendVideoElement = {\n      elementType: ElementType.Video,\n      elementId: '',\n      videoElement: {\n        fileName,\n        filePath: path,\n        videoMd5: md5,\n        thumbMd5,\n        fileTime: videoInfo.time,\n        thumbPath: thumbPath,\n        thumbSize,\n        thumbWidth: videoInfo.width,\n        thumbHeight: videoInfo.height,\n        fileSize: String(fileSize),\n      },\n    }\n    ctx.logger.info('videoElement', element)\n    return element\n  }\n\n  export async function ptt(ctx: Context, pttPath: string): Promise<SendPttElement> {\n    const { converted, path: silkPath, duration } = await encodeSilk(ctx, pttPath)\n    const { md5, fileName, path, fileSize } = await ctx.ntFileApi.uploadFile(silkPath, ElementType.Ptt)\n    if (fileSize === 0) {\n      throw new Error('文件异常，大小为 0')\n    }\n    if (converted) {\n        unlink(silkPath).then().catch(e=>{})\n    }\n    return {\n      elementType: ElementType.Ptt,\n      elementId: '',\n      pttElement: {\n        fileName: fileName,\n        filePath: path,\n        md5HexStr: md5,\n        fileSize: String(fileSize),\n        duration: duration,\n        formatType: 1,\n        voiceType: 1,\n        voiceChangeType: 0,\n        canConvert2Text: true,\n        waveAmplitudes: [0, 18, 9, 23, 16, 17, 16, 15, 44, 17, 24, 20, 14, 15, 17],\n        fileSubId: '',\n        playState: 1,\n        autoConvertText: 0,\n      },\n    }\n  }\n\n  export function face(faceId: number, faceType?: number): SendFaceElement {\n    // 从face_config.json中获取表情名称\n    const sysFaces = faceConfig.sysface\n    const face = sysFaces.find(face => face.QSid === String(faceId))\n    if (!faceType) {\n      if (faceId < 222) {\n        faceType = 1\n      } else if (faceId < 100000) {\n        faceType = 2\n      }\n      else {\n        faceType = 4\n      }\n      if (face?.AniStickerType) {\n        faceType = 3\n      }\n    }\n    return {\n      elementType: ElementType.Face,\n      elementId: '',\n      faceElement: {\n        faceIndex: faceId,\n        faceType,\n        faceText: face?.QDes,\n        stickerId: face?.AniStickerId,\n        stickerType: face?.AniStickerType,\n        packId: face?.AniStickerPackId,\n        sourceType: 1,\n      },\n    }\n  }\n\n  export function mface(emojiPackageId: number, emojiId: string, key: string, summary?: string): SendMarketFaceElement {\n    return {\n      elementType: ElementType.MarketFace,\n      elementId: '',\n      marketFaceElement: {\n        imageWidth: 300,\n        imageHeight: 300,\n        emojiPackageId,\n        emojiId,\n        key,\n        faceName: summary || '[商城表情]',\n      },\n    }\n  }\n\n  export function dice(resultId?: string | number): SendFaceElement {\n    // 实际测试并不能控制结果\n    // 随机1到6\n    if (isNullable(resultId)) resultId = Math.floor(Math.random() * 6) + 1\n    return {\n      elementType: ElementType.Face,\n      elementId: '',\n      faceElement: {\n        faceIndex: FaceIndex.Dice,\n        faceType: 3,\n        faceText: '[骰子]',\n        packId: '1',\n        stickerId: '33',\n        sourceType: 1,\n        stickerType: 2,\n        resultId: resultId.toString(),\n        surpriseId: '',\n        // \"randomType\": 1,\n      },\n    }\n  }\n\n  // 猜拳(石头剪刀布)表情\n  export function rps(resultId?: string | number): SendFaceElement {\n    // 实际测试并不能控制结果\n    if (isNullable(resultId)) resultId = Math.floor(Math.random() * 3) + 1\n    return {\n      elementType: ElementType.Face,\n      elementId: '',\n      faceElement: {\n        faceIndex: FaceIndex.RPS,\n        faceText: '[包剪锤]',\n        faceType: 3,\n        packId: '1',\n        stickerId: '34',\n        sourceType: 1,\n        stickerType: 2,\n        resultId: resultId.toString(),\n        surpriseId: '',\n        // \"randomType\": 1,\n      },\n    }\n  }\n\n  export function ark(data: string): SendArkElement {\n    return {\n      elementType: ElementType.Ark,\n      elementId: '',\n      arkElement: {\n        bytesData: data,\n        linkInfo: null,\n        subElementType: null,\n      },\n    }\n  }\n\n  export function shake(): SendFaceElement {\n    return {\n      elementType: ElementType.Face,\n      elementId: '',\n      faceElement: {\n        faceIndex: 1,\n        faceType: 5,\n        pokeType: 1,\n      },\n    }\n  }\n}\n","import { Context } from 'cordis'\n\nexport interface IdMusicSignPostData {\n  type: 'qq' | '163'\n  id: string | number\n}\n\nexport interface CustomMusicSignPostData {\n  type: 'custom'\n  url: string\n  audio: string\n  title: string\n  image?: string\n  singer?: string\n}\n\nexport type MusicSignPostData = IdMusicSignPostData | CustomMusicSignPostData\n\nexport class MusicSign {\n  private readonly url: string\n\n  constructor(protected ctx: Context, url: string) {\n    this.url = url\n  }\n\n  async sign(postData: MusicSignPostData): Promise<string> {\n    const resp = await fetch(this.url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(postData),\n    })\n    if (!resp.ok) throw new Error(resp.statusText)\n    const data = await resp.text()\n    this.ctx.logger.info('音乐消息生成成功', data)\n    return data\n  }\n}\n","import {\n  AtType,\n  ChatType,\n  GroupMemberRole,\n  SendMessageElement\n} from '@/ntqqapi/types'\nimport {\n  OB11MessageData,\n  OB11MessageDataType,\n  OB11MessageFileBase,\n  OB11MessageMixType\n} from '../types'\nimport { decodeCQCode } from '../cqcode'\nimport { Peer } from '@/ntqqapi/types/msg'\nimport { SendElement } from '@/ntqqapi/entities'\nimport { selfInfo } from '@/common/globalVars'\nimport { uri2local, isNumeric } from '@/common/utils'\nimport { Context } from 'cordis'\nimport { MusicSign, MusicSignPostData } from '@/common/utils/sign'\nimport { randomUUID } from 'node:crypto'\n\nexport async function createSendElements(\n  ctx: Context,\n  messageData: OB11MessageData[],\n  peer: Peer,\n  ignoreTypes: OB11MessageDataType[] = [],\n) {\n  const sendElements: SendMessageElement[] = []\n  const deleteAfterSentFiles: string[] = []\n  for (const segment of messageData) {\n    if (ignoreTypes.includes(segment.type)) {\n      continue\n    }\n    switch (segment.type) {\n      case OB11MessageDataType.Text: {\n        const text = segment.data?.text\n        if (text) {\n          sendElements.push(SendElement.text(segment.data!.text))\n        }\n      }\n        break\n      case OB11MessageDataType.At: {\n        if (!peer) {\n          continue\n        }\n        if (segment.data?.qq) {\n          const atQQ = String(segment.data.qq)\n          if (atQQ === 'all') {\n            const groupCode = peer.peerUid\n            let remainAtAllCount = 1\n            let isAdmin: boolean = true\n            if (groupCode) {\n              try {\n                remainAtAllCount = (await ctx.ntGroupApi.getGroupRemainAtTimes(groupCode)).atInfo\n                  .RemainAtAllCountForUin\n                ctx.logger.info(`群${groupCode}剩余at全体次数`, remainAtAllCount)\n                const self = await ctx.ntGroupApi.getGroupMember(groupCode, selfInfo.uid)\n                isAdmin = self?.role === GroupMemberRole.Admin || self?.role === GroupMemberRole.Owner\n              } catch (e) {\n              }\n            }\n            if (isAdmin && remainAtAllCount > 0) {\n              sendElements.push(SendElement.at(atQQ, atQQ, AtType.All, '@全体成员'))\n            }\n          }\n          else if (peer.chatType === ChatType.Group) {\n            const uid = await ctx.ntUserApi.getUidByUin(atQQ, peer.peerUid) ?? ''\n            let display = ''\n            if (segment.data.name) {\n              display = `@${segment.data.name}`\n            }\n            sendElements.push(SendElement.at(atQQ, uid, AtType.One, display))\n          }\n        }\n      }\n        break\n      case OB11MessageDataType.Reply: {\n        if (segment.data?.id) {\n          const info = await ctx.store.getMsgInfoByShortId(+segment.data.id)\n          if (!info) {\n            ctx.logger.warn('回复消息不存在', info)\n            continue\n          }\n          const source = (await ctx.ntMsgApi.getMsgsByMsgId(info.peer, [info.msgId])).msgList[0]\n          if (source) {\n            sendElements.push(SendElement.reply(source.msgSeq, source.msgId, source.senderUin))\n          }\n        }\n      }\n        break\n      case OB11MessageDataType.Face: {\n        const faceId = segment.data?.id\n        if (faceId) {\n          sendElements.push(SendElement.face(parseInt(faceId)))\n        }\n      }\n        break\n      case OB11MessageDataType.Mface: {\n        sendElements.push(\n          SendElement.mface(\n            +segment.data.emoji_package_id,\n            segment.data.emoji_id,\n            segment.data.key,\n            segment.data.summary,\n          ),\n        )\n      }\n        break\n      case OB11MessageDataType.Image: {\n        const res = await SendElement.pic(\n          ctx,\n          (await handleOb11RichMedia(ctx, segment, deleteAfterSentFiles)).path,\n          segment.data.summary || '',\n          segment.data.subType || 0,\n          segment.data.type === 'flash'\n        )\n        deleteAfterSentFiles.push(res.picElement.sourcePath!)\n        sendElements.push(res)\n      }\n        break\n      case OB11MessageDataType.File: {\n        const { path, fileName } = await handleOb11RichMedia(ctx, segment, deleteAfterSentFiles)\n        sendElements.push(await SendElement.file(ctx, path, fileName))\n      }\n        break\n      case OB11MessageDataType.Video: {\n        const { path } = await handleOb11RichMedia(ctx, segment, deleteAfterSentFiles)\n        let thumb = segment.data.thumb\n        if (thumb) {\n          const uri2LocalRes = await uri2local(ctx, thumb)\n          if (uri2LocalRes.success) thumb = uri2LocalRes.path\n        }\n        const res = await SendElement.video(ctx, path, thumb)\n        deleteAfterSentFiles.push(res.videoElement.filePath)\n        sendElements.push(res)\n      }\n        break\n      case OB11MessageDataType.Record: {\n        const { path } = await handleOb11RichMedia(ctx, segment, deleteAfterSentFiles)\n        sendElements.push(await SendElement.ptt(ctx, path))\n      }\n        break\n      case OB11MessageDataType.Json: {\n        sendElements.push(SendElement.ark(segment.data.data))\n      }\n        break\n      case OB11MessageDataType.Dice: {\n        const resultId = segment.data?.result\n        sendElements.push(SendElement.dice(resultId))\n      }\n        break\n      case OB11MessageDataType.Rps: {\n        const resultId = segment.data?.result\n        sendElements.push(SendElement.rps(resultId))\n      }\n        break\n      case OB11MessageDataType.Contact: {\n        const { type, id } = segment.data\n        const data = type === 'qq' ? ctx.ntFriendApi.getBuddyRecommendContact(id) : ctx.ntGroupApi.getGroupRecommendContact(id)\n        sendElements.push(SendElement.ark(await data))\n      }\n        break\n      case OB11MessageDataType.Shake: {\n        sendElements.push(SendElement.shake())\n      }\n        break\n      case OB11MessageDataType.Music: {\n        const { musicSignUrl } = ctx.config\n        if (!musicSignUrl) {\n          throw new Error('音乐卡片签名地址未配置')\n        }\n        const { type } = segment.data\n        if (!['qq', '163', 'kugou', 'kuwo', 'migu', 'custom'].includes(type)) {\n          throw new Error(`不支持的音乐卡片 type ${type}`)\n        }\n        if (type === 'custom') {\n          if (!segment.data.url) {\n            throw new Error('自定义音卡缺少参数url')\n          }\n          if (!segment.data.title) {\n            throw new Error('自定义音卡缺少参数title')\n          }\n        } else {\n          if (!segment.data.id) {\n            throw new Error('音乐卡片缺少id参数')\n          }\n        }\n        let postData: MusicSignPostData\n        if (type === 'custom' && segment.data.content) {\n          const { content, ...others } = segment.data\n          postData = { singer: content, ...others }\n        } else {\n          postData = segment.data\n        }\n        try {\n          const content = await new MusicSign(ctx, musicSignUrl).sign(postData)\n          if (!content) {\n            throw new Error('提交内容有误或者签名服务器签名失败')\n          }\n          sendElements.push(SendElement.ark(content))\n        } catch (e) {\n          throw new Error(`签名音乐消息失败：${e}`)\n        }\n      }\n        break\n      case OB11MessageDataType.Forward: {\n        let resid\n        let filename\n        let source = '聊天记录'\n        let news = [{\n          text: '查看转发消息'\n        }]\n        let summary = '查看转发消息'\n        if (isNumeric(segment.data.id)) {\n          const shortId = await ctx.store.getShortIdByMsgId(segment.data.id)\n          if (!shortId) {\n            throw new Error('msg not found')\n          }\n          const rootMsg = await ctx.store.getMsgInfoByShortId(shortId)\n          if (!rootMsg) {\n            throw new Error('msg not found')\n          }\n          const msg = await ctx.ntMsgApi.getMsgsByMsgId(rootMsg.peer, [rootMsg.msgId])\n          const { multiForwardMsgElement } = msg.msgList[0].elements[0]\n          resid = multiForwardMsgElement!.resId\n          filename = multiForwardMsgElement!.fileName\n          const { xmlContent } = multiForwardMsgElement!\n          const titles = Array.from(xmlContent.matchAll(/<title[^>]*>([^<]*)<\\/title>/g))\n          source = titles[0][1]\n          news = titles.slice(1).map(e => {\n            return { text: e[1] }\n          })\n          summary = xmlContent.match(/<summary[^>]*>([^<]*)<\\/summary>/)![1]\n        }\n        resid ??= segment.data.id\n        filename ??= randomUUID()\n        const content = JSON.stringify({\n          app: 'com.tencent.multimsg',\n          config: {\n            autosize: 1,\n            forward: 1,\n            round: 1,\n            type: 'normal',\n            width: 300\n          },\n          desc: '[聊天记录]',\n          extra: JSON.stringify({\n            filename,\n            tsum: 0,\n          }),\n          meta: {\n            detail: {\n              news,\n              resid,\n              source,\n              summary,\n              uniseq: filename,\n            }\n          },\n          prompt: '[聊天记录]',\n          ver: '0.0.0.5',\n          view: 'contact'\n        })\n        sendElements.push(SendElement.ark(content))\n      }\n        break\n    }\n  }\n\n  return {\n    sendElements,\n    deleteAfterSentFiles,\n  }\n}\n\nexport function message2List(message: OB11MessageMixType, autoEscape = false) {\n  if (typeof message === 'string') {\n    if (autoEscape === true) {\n      return [\n        {\n          type: OB11MessageDataType.Text,\n          data: {\n            text: message,\n          },\n        },\n      ] as OB11MessageData[]\n    } else {\n      return decodeCQCode(message)\n    }\n  } else if (!Array.isArray(message)) {\n    return [message]\n  }\n  return message\n}\n\nexport interface CreatePeerPayload {\n  group_id?: string | number\n  user_id?: string | number\n}\n\nexport enum CreatePeerMode {\n  Normal = 0,\n  Private = 1,\n  Group = 2\n}\n\nexport async function createPeer(ctx: Context, payload: CreatePeerPayload, mode = CreatePeerMode.Normal): Promise<Peer> {\n  if ((mode === CreatePeerMode.Group || mode === CreatePeerMode.Normal) && payload.group_id) {\n    return {\n      chatType: ChatType.Group,\n      peerUid: payload.group_id.toString(),\n      guildId: ''\n    }\n  }\n  if ((mode === CreatePeerMode.Private || mode === CreatePeerMode.Normal) && payload.user_id) {\n    const uid = await ctx.ntUserApi.getUidByUin(payload.user_id.toString())\n    if (!uid) throw new Error('无法获取用户信息')\n    const isBuddy = await ctx.ntFriendApi.isBuddy(uid)\n    return {\n      chatType: isBuddy ? ChatType.C2C : ChatType.TempC2CFromGroup,\n      peerUid: uid,\n      guildId: ''\n    }\n  }\n  throw new Error('请指定 group_id 或 user_id')\n}\n\nexport async function handleOb11RichMedia(ctx: Context, segment: OB11MessageFileBase, deleteAfterSentFiles: string[]) {\n  const res = await uri2local(ctx, segment.data.url || segment.data.file)\n\n  if (!res.success) {\n    ctx.logger.error(res.errMsg)\n    throw Error(res.errMsg)\n  }\n\n  if (!res.isLocal) {\n    deleteAfterSentFiles.push(res.path)\n  }\n\n  return { path: res.path, fileName: segment.data.name || res.fileName }\n}\n","import { OB11Message, OB11MessageData, OB11MessageDataType } from '../types'\nimport { OB11FriendRequestEvent } from '../event/request/OB11FriendRequest'\nimport { OB11GroupRequestEvent } from '../event/request/OB11GroupRequest'\nimport { GroupRequestOperateTypes } from '@/ntqqapi/types'\nimport { message2List, createSendElements, createPeer, CreatePeerMode } from '../helper/createMessage'\nimport { isNullable } from 'cosmokit'\nimport { Context } from 'cordis'\n\ninterface QuickOperationPrivateMessage {\n  reply?: string\n  auto_escape?: boolean\n}\n\ninterface QuickOperationGroupMessage extends QuickOperationPrivateMessage {\n  // 回复群消息\n  at_sender?: boolean\n  delete?: boolean\n  kick?: boolean\n  ban?: boolean\n  ban_duration?: number\n}\n\ninterface QuickOperationFriendRequest {\n  approve?: boolean\n  remark?: string\n}\n\ninterface QuickOperationGroupRequest {\n  approve?: boolean\n  reason?: string\n}\n\nexport type QuickOperation = QuickOperationPrivateMessage &\n  QuickOperationGroupMessage &\n  QuickOperationFriendRequest &\n  QuickOperationGroupRequest\n\nexport type QuickOperationEvent = OB11Message | OB11FriendRequestEvent | OB11GroupRequestEvent;\n\nexport async function handleQuickOperation(ctx: Context, event: QuickOperationEvent, quickAction: QuickOperation) {\n  if (event.post_type === 'message') {\n    handleMsg(ctx, event as OB11Message, quickAction).then().catch(e => ctx.logger.error(e))\n  }\n  if (event.post_type === 'request') {\n    const friendRequest = event as OB11FriendRequestEvent\n    const groupRequest = event as OB11GroupRequestEvent\n    if ((friendRequest).request_type === 'friend') {\n      handleFriendRequest(ctx, friendRequest, quickAction).then().catch(e => ctx.logger.error(e))\n    }\n    else if (groupRequest.request_type === 'group') {\n      handleGroupRequest(ctx, groupRequest, quickAction).then().catch(e => ctx.logger.error(e))\n    }\n  }\n}\n\nasync function handleMsg(ctx: Context, msg: OB11Message, quickAction: QuickOperationPrivateMessage | QuickOperationGroupMessage) {\n  const reply = quickAction.reply\n  let contextMode = CreatePeerMode.Normal\n  if (msg.message_type === 'group') {\n    contextMode = CreatePeerMode.Group\n  } else if (msg.message_type === 'private') {\n    contextMode = CreatePeerMode.Private\n  }\n  const peer = await createPeer(ctx, msg, contextMode)\n  if (reply) {\n    let replyMessage: OB11MessageData[] = []\n    replyMessage.push({\n      type: OB11MessageDataType.Reply,\n      data: {\n        id: msg.message_id.toString(),\n      },\n    })\n\n    if (msg.message_type == 'group') {\n      if ((quickAction as QuickOperationGroupMessage).at_sender) {\n        replyMessage.push({\n          type: OB11MessageDataType.At,\n          data: {\n            qq: msg.user_id.toString(),\n          },\n        })\n      }\n    }\n    replyMessage = replyMessage.concat(message2List(reply, quickAction.auto_escape))\n    const { sendElements, deleteAfterSentFiles } = await createSendElements(ctx, replyMessage, peer)\n    ctx.app.sendMessage(ctx, peer, sendElements, deleteAfterSentFiles).catch(e => ctx.logger.error(e))\n  }\n  if (msg.message_type === 'group') {\n    const groupMsgQuickAction = quickAction as QuickOperationGroupMessage\n    const rawMessage = await ctx.store.getMsgInfoByShortId(+(msg.message_id ?? 0))\n    if (!rawMessage) return\n    // handle group msg\n    if (groupMsgQuickAction.delete) {\n      ctx.ntMsgApi.recallMsg(peer, [rawMessage.msgId]).catch(e => ctx.logger.error(e))\n    }\n    if (groupMsgQuickAction.kick) {\n      const { msgList } = await ctx.ntMsgApi.getMsgsByMsgId(peer, [rawMessage.msgId])\n      ctx.ntGroupApi.kickMember(peer.peerUid, [msgList[0].senderUid]).catch(e => ctx.logger.error(e))\n    }\n    if (groupMsgQuickAction.ban) {\n      const { msgList } = await ctx.ntMsgApi.getMsgsByMsgId(peer, [rawMessage.msgId])\n      ctx.ntGroupApi.banMember(peer.peerUid, [\n        {\n          uid: msgList[0].senderUid,\n          timeStamp: groupMsgQuickAction.ban_duration || 60 * 30,\n        },\n      ]).catch(e => ctx.logger.error(e))\n    }\n  }\n}\n\nasync function handleFriendRequest(ctx: Context, request: OB11FriendRequestEvent, quickAction: QuickOperationFriendRequest) {\n  if (!isNullable(quickAction.approve)) {\n    const data = request.flag.split('|')\n    if (data.length < 2) {\n      return\n    }\n    const uid = data[0]\n    const reqTime = data[1]\n    await ctx.ntFriendApi.handleFriendRequest(uid, reqTime, quickAction.approve).catch(e => ctx.logger.error(e))\n    if (!isNullable(quickAction.remark)) {\n      ctx.ntFriendApi.setBuddyRemark(uid, quickAction.remark).catch(e => ctx.logger.error(e))\n    }\n  }\n}\n\n\nasync function handleGroupRequest(ctx: Context, request: OB11GroupRequestEvent, quickAction: QuickOperationGroupRequest) {\n  if (!isNullable(quickAction.approve)) {\n    ctx.ntGroupApi.handleGroupRequest(\n      request.flag,\n      quickAction.approve ? GroupRequestOperateTypes.Approve : GroupRequestOperateTypes.Reject,\n      quickAction.reason,\n    ).catch(e => ctx.logger.error(e))\n  }\n}\n","import http from 'node:http'\nimport cors from 'cors'\nimport crypto from 'node:crypto'\nimport express, { Express, Request, Response, NextFunction } from 'express'\nimport { BaseAction } from '../action/BaseAction'\nimport { Context } from 'cordis'\nimport { llonebotError, selfInfo } from '@/common/globalVars'\nimport { OB11Response } from '../action/OB11Response'\nimport { OB11BaseEvent } from '../event/OB11BaseEvent'\nimport { handleQuickOperation, QuickOperationEvent } from '../helper/quickOperation'\nimport { OB11HeartbeatEvent } from '../event/meta/OB11HeartbeatEvent'\nimport { Dict } from 'cosmokit'\nimport net from 'node:net'\n\nclass OB11Http {\n  private readonly expressAPP: Express\n  private server?: http.Server\n  private sseClients: Response[] = []\n  private sockets: Set<net.Socket> = new Set()\n\n  constructor(protected ctx: Context, public config: OB11Http.Config) {\n    this.expressAPP = express()\n    // 添加 CORS 中间件\n    this.expressAPP.use(cors())\n    this.expressAPP.use(express.urlencoded({ extended: true, limit: '5000mb' }))\n    this.expressAPP.use((req, res, next) => {\n      // 兼容处理没有带content-type的请求\n      req.headers['content-type'] = 'application/json'\n      const originalJson = express.json({ limit: '5000mb' })\n      // 调用原始的express.json()处理器\n      originalJson(req, res, (err) => {\n        if (err) {\n          ctx.logger.error('Error parsing JSON:', err)\n          return res.status(400).send('Invalid JSON')\n        }\n        next()\n      })\n    })\n    this.expressAPP.use((req, res, next) => this.authorize(req, res, next))\n    this.expressAPP.use((req, res, next) => this.handleRequest(req, res, next))\n  }\n\n  public start() {\n    if (this.server)\n      return\n    try {\n      this.expressAPP.get('/', (req: Request, res: Response) => {\n        res.send(`LLOneBot server 已启动`)\n      })\n      const host = this.config.listenLocalhost ? '127.0.0.1' : ''\n      llonebotError.httpServerError = ''\n      this.expressAPP.get('/_events', (req: Request, res: Response) => {\n        res.setHeader('Content-Type', 'text/event-stream; charset=utf-8')\n        res.setHeader('Cache-Control', 'no-cache')\n        res.setHeader('Connection', 'keep-alive')\n        res.setHeader('X-Accel-Buffering', 'no')\n        res.flushHeaders()\n        this.sseClients.push(res)\n\n        // 添加客户端断开连接时的清理逻辑\n        req.on('close', () => {\n          const index = this.sseClients.indexOf(res)\n          if (index > -1) {\n            this.sseClients.splice(index, 1)\n          }\n        })\n\n        req.on('error', () => {\n          const index = this.sseClients.indexOf(res)\n          if (index > -1) {\n            this.sseClients.splice(index, 1)\n          }\n        })\n      })\n      this.ctx.logger.info(`OneBot V11 HTTP SSE started ${host}:${this.config.port}/_events`)\n      try {\n        this.server = this.expressAPP.listen(this.config.port, host, (err) => {\n          if (err){\n            this.ctx.logger.error('OneBot V11 HTTP server start error:', err)\n          }\n          this.ctx.logger.info(`OneBot V11 HTTP server started ${host}:${this.config.port}`)\n        })\n        // 追踪所有 socket 连接\n        this.server.on('connection', (socket: net.Socket) => {\n          this.sockets.add(socket)\n          socket.on('close', () => this.sockets.delete(socket))\n        })\n      }catch (e) {\n        this.ctx.logger.error(`OneBot V11 HTTP server error ${host}:${this.config.port}`, e)\n      }\n    } catch (e) {\n      this.ctx.logger.error('OneBot V11 HTTP服务启动失败', e)\n      llonebotError.httpServerError = 'HTTP服务启动失败, ' + e\n    }\n  }\n\n  public stop() {\n    return new Promise<boolean>((resolve) => {\n      if (this.server) {\n        this.ctx.logger.info('OneBot V11 HTTP Server closing...')\n        // 主动销毁所有 socket\n        for (const socket of this.sockets) {\n          socket.destroy()\n        }\n        this.sockets.clear()\n        this.server.close((err) => {\n          if (err) {\n            this.ctx.logger.error(`OneBot V11 HTTP Server closing ${err}`)\n            return resolve(false)\n          }\n          this.ctx.logger.info('OneBot V11 HTTP Server closed')\n          this.server = undefined\n          resolve(true)\n        })\n      } else {\n        resolve(true)\n      }\n    })\n  }\n\n  public async emitEvent(event: OB11BaseEvent) {\n    if (this.sseClients.length === 0) {\n      return\n    }\n    const data = `data: ${JSON.stringify(event)}\\n\\n`\n    for (const client of this.sseClients) {\n      if (!client.closed) {\n        client.write(data)\n        if ('post_type' in event) {\n          const eventName = event.post_type + '.' + event[event.post_type + '_type']\n          this.ctx.logger.info('OneBot V11 HTTP SSE 事件上报', eventName)\n        }\n      }\n    }\n  }\n\n  public updateConfig(config: Partial<OB11Http.Config>) {\n    Object.assign(this.config, config)\n  }\n\n  private authorize(req: Request, res: Response, next: NextFunction) {\n    const serverToken = this.config.token\n    if (!serverToken) return next()\n\n    let clientToken = ''\n    const authHeader = req.get('authorization')\n    if (authHeader) {\n      clientToken = authHeader.split('Bearer ').pop()!\n      this.ctx.logger.info('receive http header token', clientToken)\n    } else if (req.query.access_token) {\n      if (Array.isArray(req.query.access_token)) {\n        clientToken = req.query.access_token[0].toString()\n      } else {\n        clientToken = req.query.access_token.toString()\n      }\n      this.ctx.logger.info('receive http url token', clientToken)\n    }\n\n    if (clientToken !== serverToken) {\n      res.status(403).json({ message: 'token verify failed!' })\n    } else {\n      next()\n    }\n  }\n\n  private async handleRequest(req: Request, res: Response, next: NextFunction) {\n    if (req.path === '/') {\n      return next()\n    }\n    if (req.path === '/_events') {\n      return next()\n    }\n    let payload = req.body\n    if (req.method === 'GET') {\n      payload = req.query\n    } else if (req.query) {\n      payload = { ...req.query, ...req.body }\n    }\n    this.ctx.logger.info('收到 HTTP 请求', req.url, payload)\n    const action = this.config.actionMap.get(req.path.replaceAll('/', ''))\n    if (action) {\n      res.json(await action.handle(payload))\n    } else {\n      res.status(404).json(OB11Response.error('API 不存在', 404))\n    }\n  }\n}\n\nnamespace OB11Http {\n  export interface Config {\n    port: number\n    token?: string\n    actionMap: Map<string, BaseAction<unknown, unknown>>\n    listenLocalhost: boolean\n    enableHttpSse?: boolean\n  }\n}\n\nclass OB11HttpPost {\n  private disposeInterval?: () => void\n  private activated = false\n\n  constructor(protected ctx: Context, public config: OB11HttpPost.Config) {\n  }\n\n  public start() {\n    this.activated = true\n    if (this.config.enableHttpHeart && !this.disposeInterval) {\n      this.disposeInterval = this.ctx.setInterval(() => {\n        // ws的心跳是ws自己维护的\n        this.emitEvent(new OB11HeartbeatEvent(selfInfo.online!, true, this.config.heartInterval))\n      }, this.config.heartInterval)\n    }\n  }\n\n  public stop() {\n    this.activated = false\n    this.disposeInterval?.()\n  }\n\n  public async emitEvent(event: OB11BaseEvent) {\n    if (!this.activated || !this.config.hosts.length) {\n      return\n    }\n    const msgStr = JSON.stringify(event)\n    const headers: Dict = {\n      'Content-Type': 'application/json',\n      'x-self-id': selfInfo.uin,\n    }\n    if (this.config.secret) {\n      const hmac = crypto.createHmac('sha1', this.config.secret)\n      hmac.update(msgStr)\n      const sig = hmac.digest('hex')\n      headers['x-signature'] = 'sha1=' + sig\n    }\n    for (const host of this.config.hosts) {\n      fetch(host, {\n        method: 'POST',\n        headers,\n        body: msgStr,\n      }).then(\n        async (res) => {\n          if (event.post_type) {\n            const eventName = event.post_type + '.' + event[event.post_type + '_type']\n            this.ctx.logger.info(`HTTP 事件上报: ${host}`, eventName, res.status)\n          }\n          try {\n            const resJson = await res.json()\n            this.ctx.logger.info(`HTTP 事件上报后返回快速操作:`, JSON.stringify(resJson))\n            handleQuickOperation(this.ctx, event as QuickOperationEvent, resJson).catch(e => this.ctx.logger.error(e))\n          } catch (e) {\n            this.ctx.logger.warn(`HTTP 事件上报返回数据解析失败: ${host}`, e)\n          }\n        },\n        (err) => {\n          this.ctx.logger.error(`HTTP 事件上报失败: ${host}`, err, event)\n        },\n      ).catch(e => {\n        this.ctx.logger.error(`HTTP 事件上报过程中发生异常: ${host}`, e)\n      })\n    }\n  }\n\n  public updateConfig(config: Partial<OB11HttpPost.Config>) {\n    Object.assign(this.config, config)\n  }\n}\n\nnamespace OB11HttpPost {\n  export interface Config {\n    hosts: string[]\n    secret?: string\n    enableHttpHeart?: boolean\n    heartInterval: number\n  }\n}\n\nexport { OB11Http, OB11HttpPost }\n\n","import { OB11Message } from '../types'\nimport { OB11BaseEvent } from '../event/OB11BaseEvent'\n\ntype PostEventType = OB11Message | OB11BaseEvent\n\ninterface HttpEventType {\n  seq: number\n  event: PostEventType\n}\n\ninterface HttpUserType {\n  lastAccessTime: number\n  userSeq: number\n}\n\nlet curentSeq: number = 0\nconst eventList: HttpEventType[] = []\nconst httpUser: Record<string, HttpUserType> = {}\n\nexport function postHttpEvent(event: PostEventType) {\n  curentSeq += 1\n  eventList.push({\n    seq: curentSeq,\n    event: event\n  })\n  while (eventList.length > 100) {\n    eventList.shift()\n  }\n}\n\nexport async function getHttpEvent(userKey: string, timeout = 0) {\n  if (typeof userKey !== 'string' || userKey === '__proto__' || userKey === 'constructor' || userKey === 'prototype') {\n    throw new Error('Invalid user key');\n  }\n  const toRetEvent: PostEventType[] = []\n\n  // 清除过时的user，5分钟没访问过的user将被删除\n  const now = Date.now()\n  for (const key in httpUser) {\n    const user = httpUser[key]\n    if (now - user.lastAccessTime > 1000 * 60 * 5) {\n      delete httpUser[key]\n    }\n  }\n  \n  // 限制httpUser大小，防止内存泄露\n  const userKeys = Object.keys(httpUser)\n  if (userKeys.length > 100) {\n    // 删除最旧的用户\n    const oldestKey = userKeys.reduce((oldest, current) => \n      httpUser[current].lastAccessTime < httpUser[oldest].lastAccessTime ? current : oldest\n    )\n    delete httpUser[oldestKey]\n  }\n\n  // 增加新的user\n  if (!httpUser[userKey]) {\n    httpUser[userKey] = {\n      lastAccessTime: now,\n      userSeq: curentSeq\n    }\n  }\n\n  const user = httpUser[userKey]\n  // 等待数据到来，暂时先这么写吧......\n  while (curentSeq == user.userSeq && Date.now() - now < timeout) {\n    await new Promise(resolve => setTimeout(resolve, 10))\n  }\n  // 取数据\n  for (let i = 0; i < eventList.length; i++) {\n    const evt = eventList[i]\n    if (evt.seq > user.userSeq) {\n      toRetEvent.push(evt.event)\n    }\n  }\n\n  // 更新user数据\n  user.lastAccessTime = Date.now()\n  user.userSeq = curentSeq\n  return toRetEvent\n}\n","import { ActionName } from './types'\nimport { OB11Response } from './OB11Response'\nimport { OB11Return } from '../types'\nimport { Context, Schema } from 'cordis'\nimport type Adapter from '../adapter'\n\nabstract class BaseAction<PayloadType, ReturnDataType> {\n  abstract actionName: ActionName\n  protected ctx: Context\n  payloadSchema?: Schema<PayloadType>\n\n  constructor(protected adapter: Adapter) {\n    this.ctx = adapter.ctx\n  }\n\n  public async handle(payload: PayloadType): Promise<OB11Return<ReturnDataType | null>> {\n    let params: PayloadType\n    try {\n      params = this.payloadSchema ? new this.payloadSchema(payload) : payload\n    } catch (e) {\n      return OB11Response.error((e as Error).message, 400)\n    }\n    try {\n      const resData = await this._handle(params)\n      return OB11Response.ok(resData)\n    } catch (e) {\n      this.ctx.logger.error('发生错误', e)\n      return OB11Response.error((e as Error)?.toString() ?? String(e), 200)\n    }\n  }\n\n  public async websocketHandle(payload: PayloadType, echo: unknown): Promise<OB11Return<ReturnDataType | null>> {\n    let params: PayloadType\n    try {\n      params = this.payloadSchema ? new this.payloadSchema(payload) : payload\n    } catch (e) {\n      return OB11Response.error((e as Error).message, 1400)\n    }\n    try {\n      const resData = await this._handle(params)\n      return OB11Response.ok(resData, echo)\n    } catch (e) {\n      this.ctx.logger.error('发生错误', e)\n      return OB11Response.error((e as Error)?.toString() ?? String(e), 1200, echo)\n    }\n  }\n\n  protected abstract _handle(payload: PayloadType): Promise<ReturnDataType>\n}\n\nexport { BaseAction, Schema }\n","export type BaseCheckResult = ValidCheckResult | InvalidCheckResult\n\nexport interface ValidCheckResult {\n  valid: true\n}\n\nexport interface InvalidCheckResult {\n  valid: false\n  message: string\n}\n\nexport enum ActionName {\n  // llonebot\n  GetFlashFileInfo = 'get_flash_file_info',\n  DownloadFlashFile = 'download_flash_file',\n  UploadFlashFile = 'upload_flash_file',\n  GetRKey = \"get_rkey\",\n  SendPB = \"send_pb\",\n  VoiceMsg2Text = 'voice_msg_to_text',\n  SendPoke = 'send_poke',\n  GetGroupIgnoreAddRequest = 'get_group_ignore_add_request',\n  SetQQAvatar = 'set_qq_avatar',\n  GetQQAvatar = 'get_qq_avatar',\n  GetConfig = 'get_config',\n  SetConfig = 'set_config',\n  Debug = 'llonebot_debug',\n  GetFile = 'get_file',\n  GetFriendsWithCategory = 'get_friends_with_category',\n  GetEvent = 'get_event',\n  SetOnlineStatus = 'set_online_status',\n  GetProfileLike = 'get_profile_like',\n  GetProfileLikeMe = 'get_profile_like_me',\n  FetchEmojiLike = 'fetch_emoji_like',\n  FetchCustomFace = 'fetch_custom_face',\n  GetFriendMsgHistory = 'get_friend_msg_history',\n  SendForwardMsg = 'send_forward_msg',\n  SetMsgEmojiLike = 'set_msg_emoji_like',\n  UnSetMsgEmojiLike = 'unset_msg_emoji_like',\n  GetRobotUinRange = 'get_robot_uin_range',\n  GroupPoke = 'group_poke',\n  FriendPoke = 'friend_poke',\n  SetFriendRemark = 'set_friend_remark',\n  SetFriendCategory = 'set_friend_category',\n  SetGroupMsgMask = 'set_group_msg_mask',\n  SetGroupRemark = 'set_group_remark',\n  MoveGroupFile ='move_group_file',\n  GetGroupShutList = 'get_group_shut_list',\n  RenameGroupFileFolder = 'rename_group_file_folder',\n  // onebot 11\n  SendLike = 'send_like',\n  GetLoginInfo = 'get_login_info',\n  GetFriendList = 'get_friend_list',\n  GetGroupInfo = 'get_group_info',\n  GetGroupList = 'get_group_list',\n  GetGroupMemberInfo = 'get_group_member_info',\n  GetGroupMemberList = 'get_group_member_list',\n  GetMsg = 'get_msg',\n  SendMsg = 'send_msg',\n  SendGroupMsg = 'send_group_msg',\n  SendPrivateMsg = 'send_private_msg',\n  DeleteMsg = 'delete_msg',\n  SetGroupAddRequest = 'set_group_add_request',\n  SetFriendAddRequest = 'set_friend_add_request',\n  SetGroupLeave = 'set_group_leave',\n  GetVersionInfo = 'get_version_info',\n  GetStatus = 'get_status',\n  SetRestart = 'set_restart',\n  CanSendRecord = 'can_send_record',\n  CanSendImage = 'can_send_image',\n  SetGroupKick = 'set_group_kick',\n  SetGroupBan = 'set_group_ban',\n  SetGroupWholeBan = 'set_group_whole_ban',\n  SetGroupAdmin = 'set_group_admin',\n  SetGroupCard = 'set_group_card',\n  SetGroupName = 'set_group_name',\n  GetImage = 'get_image',\n  GetRecord = 'get_record',\n  CleanCache = 'clean_cache',\n  GetCookies = 'get_cookies',\n  ForwardFriendSingleMsg = 'forward_friend_single_msg',\n  ForwardGroupSingleMsg = 'forward_group_single_msg',\n  GetCredentials = 'get_credentials',\n  GetCsrfToken = 'get_csrf_token',\n  // go-cqhttp\n  GoCQHTTP_SendGroupForwardMsg = 'send_group_forward_msg',\n  GoCQHTTP_SendPrivateForwardMsg = 'send_private_forward_msg',\n  GoCQHTTP_GetStrangerInfo = 'get_stranger_info',\n  GetGuildList = 'get_guild_list',\n  GoCQHTTP_MarkMsgAsRead = 'mark_msg_as_read',\n  GoCQHTTP_UploadGroupFile = 'upload_group_file',\n  GoCQHTTP_UploadPrivateFile = 'upload_private_file',\n  GoCQHTTP_DownloadFile = 'download_file',\n  GoCQHTTP_GetGroupMsgHistory = 'get_group_msg_history',\n  GoCQHTTP_GetForwardMsg = 'get_forward_msg',\n  GoCQHTTP_GetEssenceMsgList = 'get_essence_msg_list',\n  GoCQHTTP_HandleQuickOperation = '.handle_quick_operation',\n  GetGroupHonorInfo = 'get_group_honor_info',\n  GoCQHTTP_SetEssenceMsg = 'set_essence_msg',\n  GoCQHTTP_DelEssenceMsg = 'delete_essence_msg',\n  GoCQHTTP_DelGroupFile = 'delete_group_file',\n  GoCQHTTP_GetGroupSystemMsg = 'get_group_system_msg',\n  GoCQHTTP_CreateGroupFileFolder = 'create_group_file_folder',\n  GoCQHTTP_DelGroupFolder = 'delete_group_folder',\n  GoCQHTTP_GetGroupAtAllRemain = 'get_group_at_all_remain',\n  GoCQHTTP_GetGroupRootFiles = 'get_group_root_files',\n  GoCQHTTP_SendGroupNotice = '_send_group_notice',\n  GoCQHTTP_GetGroupFilesByFolder = 'get_group_files_by_folder',\n  GoCQHTTP_GetGroupFileUrl = 'get_group_file_url',\n  GoCQHTTP_GetGroupNotice = '_get_group_notice',\n  GoCQHTTP_DeleteFriend = 'delete_friend',\n  GoCQHTTP_OCRImage = 'ocr_image',\n  GoCQHTTP_GetGroupFileSystemInfo = 'get_group_file_system_info',\n  GoCQHTTP_SetGroupSpecialTitle = 'set_group_special_title',\n  GoCQHTTP_SendGroupSign = 'send_group_sign',\n  GoCQHTTP_SetQQProfile = 'set_qq_profile',\n  GoCQHTTP_SetGroupPortrait = 'set_group_portrait',\n}\n","import { BaseAction } from '../BaseAction'\nimport { OB11Message } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { ActionName } from '../types'\n\nexport interface PayloadType {\n  message_id: number | string\n}\n\nexport type ReturnDataType = OB11Message\n\nclass GetMsg extends BaseAction<PayloadType, OB11Message> {\n  actionName = ActionName.GetMsg\n\n  protected async _handle(payload: PayloadType) {\n    if (!payload.message_id) {\n      throw new Error('参数message_id不能为空')\n    }\n    const msgInfo = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msgInfo) {\n      throw new Error('消息不存在')\n    }\n    let msg = this.ctx.store.getMsgCache(msgInfo.msgId)\n    if (!msg) {\n      const res = await this.ctx.ntMsgApi.getMsgsByMsgId(msgInfo.peer, [msgInfo.msgId])\n      if (res.msgList.length === 0) {\n        throw new Error('无法获取该消息')\n      }\n      msg = res.msgList[0]\n    }\n    const retMsg = await OB11Entities.message(this.ctx, msg)\n    if (!retMsg) {\n      throw new Error('消息为空')\n    }\n    retMsg.real_id = retMsg.message_seq\n    return retMsg\n  }\n}\n\nexport default GetMsg\n","import { BaseAction } from '../BaseAction'\nimport { OB11User } from '../../types'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\n\nclass GetLoginInfo extends BaseAction<null, OB11User> {\n  actionName = ActionName.GetLoginInfo\n\n  protected async _handle() {\n    let nickname = selfInfo.nick\n    try {\n      nickname = await this.ctx.ntUserApi.getSelfNick(true)\n    } catch { }\n    return {\n      user_id: parseInt(selfInfo.uin),\n      nickname\n    }\n  }\n}\n\nexport default GetLoginInfo\n","import { BaseAction, Schema } from '../BaseAction'\nimport { OB11User } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { ActionName } from '../types'\nimport { parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  no_cache: boolean\n}\n\nexport class GetFriendList extends BaseAction<Payload, OB11User[]> {\n  actionName = ActionName.GetFriendList\n  payloadSchema = Schema.object({\n    no_cache: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(false)\n  })\n\n  protected async _handle(payload: Payload) {\n    const refresh = payload.no_cache\n    return OB11Entities.friendsV2(await this.ctx.ntFriendApi.getBuddyList())\n  }\n}\n","import { OB11Group } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  no_cache: boolean | string\n}\n\nclass GetGroupList extends BaseAction<Payload, OB11Group[]> {\n  actionName = ActionName.GetGroupList\n\n  protected async _handle() {\n    const groupList = await this.ctx.ntGroupApi.getGroups()\n    return OB11Entities.groups(groupList)\n  }\n}\n\nexport default GetGroupList\n","import { OB11Group } from '../../types'\nimport { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n}\n\nclass GetGroupInfo extends BaseAction<Payload, OB11Group> {\n  actionName = ActionName.GetGroupInfo\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const groupCode = payload.group_id.toString()\n    const groupAll = await this.ctx.ntGroupApi.getGroupAllInfo(groupCode)\n    const data = {\n      group_id: +groupAll.groupCode,\n      group_name: groupAll.groupName,\n      group_memo: groupAll.richFingerMemo,\n      group_create_time: 0,\n      member_count: groupAll.memberNum,\n      max_member_count: groupAll.maxMemberNum,\n      remark_name: groupAll.remarkName,\n      groupAll\n    }\n    const group = (await this.ctx.ntGroupApi.getGroups()).find(e => e.groupCode === groupCode)\n    if (group) {\n      data.group_create_time = +group.createTime\n    }\n    return data\n  }\n}\n\nexport default GetGroupInfo\n","import { OB11GroupMember } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  no_cache?: boolean | string\n}\n\nclass GetGroupMemberList extends BaseAction<Payload, OB11GroupMember[]> {\n  actionName = ActionName.GetGroupMemberList\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const groupCode = payload.group_id.toString()\n    let groupMembers = await this.ctx.ntGroupApi.getGroupMembers(groupCode)\n    for (let i = 0; i < 5; i++) {\n      if (groupMembers.size > 0) {\n        break\n      }\n      await this.ctx.sleep(60)\n      groupMembers = await this.ctx.ntGroupApi.getGroupMembers(groupCode)\n    }\n\n    const date = Math.trunc(Date.now() / 1000)\n    const groupId = Number(payload.group_id)\n    const ret: OB11GroupMember[] = []\n\n    for (const item of groupMembers.values()) {\n      const member = OB11Entities.groupMember(groupId, item)\n      member.join_time ??= date\n      member.last_sent_time ??= date\n      ret.push(member)\n    }\n\n    return ret\n  }\n}\n\nexport default GetGroupMemberList\n","import { BaseAction, Schema } from '../BaseAction'\nimport { OB11GroupMember } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { ActionName } from '../types'\nimport { calcQQLevel, parseBool } from '@/common/utils/misc'\nimport { SimpleInfo } from '@/ntqqapi/types'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n  no_cache: boolean\n}\n\nclass GetGroupMemberInfo extends BaseAction<Payload, OB11GroupMember> {\n  actionName = ActionName.GetGroupMemberInfo\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required(),\n    no_cache: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(false)\n  })\n\n  protected async _handle(payload: Payload) {\n    const groupCode = payload.group_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(payload.user_id.toString(), groupCode)\n    if (!uid) throw new Error('无法获取用户信息')\n    const member = await this.ctx.ntGroupApi.getGroupMember(groupCode, uid, payload.no_cache)\n    if (member) {\n      const ret = OB11Entities.groupMember(+groupCode, member)\n      const date = Math.trunc(Date.now() / 1000)\n      ret.last_sent_time ??= date\n      ret.join_time ??= date\n      let info: SimpleInfo | null = null\n      try {\n        info = await this.ctx.ntUserApi.getUserDetailInfoWithBizInfo(member.uid)\n      }catch (e) {\n        try {\n          const fetchInfo = await this.ctx.ntUserApi.fetchUserDetailInfo(member.uid)\n          if (fetchInfo) {\n            info = fetchInfo.simpleInfo\n          }\n        }catch (e) {\n        }\n      }\n      if (info) {\n        ret.sex = OB11Entities.sex(info.baseInfo.sex!)\n        // ret.qq_level = info.qqLevel && calcQQLevel(info.baseInfo.qqLevel) || 0\n        ret.age = info.baseInfo.age ?? 0\n      }\n      return ret\n    }\n    throw new Error(`群成员${payload.user_id}不存在`)\n  }\n}\n\nexport default GetGroupMemberInfo\n","import {\n  OB11MessageDataType,\n  OB11PostSendMsg,\n} from '../../types'\nimport { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { message2List, createSendElements, createPeer, CreatePeerMode } from '../../helper/createMessage'\n\ninterface ReturnData {\n  message_id: number\n}\n\nexport class SendMsg extends BaseAction<OB11PostSendMsg, ReturnData> {\n  actionName = ActionName.SendMsg\n\n  protected async _handle(payload: OB11PostSendMsg) {\n    let contextMode = CreatePeerMode.Normal\n    if (payload.message_type === 'group') {\n      contextMode = CreatePeerMode.Group\n    } else if (payload.message_type === 'private') {\n      contextMode = CreatePeerMode.Private\n    }\n    const peer = await createPeer(this.ctx, payload, contextMode)\n    const messages = message2List(\n      payload.message,\n      payload.auto_escape === true || payload.auto_escape === 'true',\n    )\n    if (messages.some(e => e.type === OB11MessageDataType.Node)) {\n      throw new Error('请使用 /send_group_forward_msg 或 /send_private_forward_msg 进行合并转发')\n    }\n    const { sendElements, deleteAfterSentFiles } = await createSendElements(this.ctx, messages, peer)\n    if (sendElements.length === 1) {\n      if (sendElements[0] === null) {\n        return { message_id: 0 }\n      }\n    }\n    const returnMsg = await this.ctx.app.sendMessage(this.ctx, peer, sendElements, deleteAfterSentFiles)\n    if (!returnMsg) {\n      throw new Error('消息发送失败')\n    }\n    const msgShortId = this.ctx.store.createMsgShortId({\n      chatType: returnMsg.chatType,\n      peerUid: returnMsg.peerUid\n    }, returnMsg.msgId)\n    return { message_id: msgShortId }\n  }\n}\n\nexport default SendMsg\n","import SendMsg from '../msg/SendMsg'\nimport { ActionName } from '../types'\nimport { OB11PostSendMsg } from '../../types'\n\nclass SendGroupMsg extends SendMsg {\n  actionName = ActionName.SendGroupMsg\n\n  protected _handle(payload: OB11PostSendMsg) {\n    payload.message_type = 'group'\n    return super._handle(payload)\n  }\n}\n\nexport default SendGroupMsg\n","import SendMsg from './SendMsg'\nimport { ActionName } from '../types'\nimport { OB11PostSendMsg } from '../../types'\n\nclass SendPrivateMsg extends SendMsg {\n  actionName = ActionName.SendPrivateMsg\n\n  protected _handle(payload: OB11PostSendMsg) {\n    payload.message_type = 'private'\n    return super._handle(payload)\n  }\n}\n\nexport default SendPrivateMsg\n","import { ActionName } from '../types'\nimport { BaseAction } from '../BaseAction'\n\ninterface Payload {\n  message_id: number | string\n}\n\nclass DeleteMsg extends BaseAction<Payload, void> {\n  actionName = ActionName.DeleteMsg\n\n  protected async _handle(payload: Payload) {\n    if (!payload.message_id) {\n      throw new Error('参数message_id不能为空')\n    }\n    const msg = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msg) {\n      throw new Error(`消息${payload.message_id}不存在`)\n    }\n    const data = await this.ctx.ntMsgApi.recallMsg(msg.peer, [msg.msgId])\n    if (data.result !== 0) {\n      this.ctx.logger.error('delete_msg', payload.message_id, data)\n      throw new Error(`消息撤回失败`)\n    }\n  }\n}\n\nexport default DeleteMsg\n","import { BaseAction } from '../BaseAction'\nimport { OB11Version } from '../../types'\nimport { ActionName } from '../types'\nimport { version } from '../../../version'\n\nexport default class GetVersionInfo extends BaseAction<null, OB11Version> {\n  actionName = ActionName.GetVersionInfo\n\n  protected async _handle(): Promise<OB11Version> {\n    return {\n      app_name: 'LLOneBot',\n      protocol_version: 'v11',\n      app_version: version,\n    }\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface ReturnType {\n  yes: boolean\n}\n\nexport default class CanSendRecord extends BaseAction<null, ReturnType> {\n  actionName = ActionName.CanSendRecord\n\n  protected async _handle() {\n    return {\n      yes: true,\n    }\n  }\n}\n","import { ActionName } from '../types'\nimport CanSendRecord from './CanSendRecord'\n\ninterface ReturnType {\n  yes: boolean\n}\n\nexport default class CanSendImage extends CanSendRecord {\n  actionName = ActionName.CanSendImage\n}\n","import { BaseAction } from '../BaseAction'\nimport { OB11Status } from '../../types'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\n\nexport default class GetStatus extends BaseAction<null, OB11Status> {\n  actionName = ActionName.GetStatus\n\n  protected async _handle(): Promise<OB11Status> {\n    return {\n      online: selfInfo.online!,\n      good: true,\n      stat: {\n        message_received: this.ctx.app.messageReceivedCount,\n        message_sent: this.ctx.app.messageSentCount,\n        last_message_time: this.ctx.app.lastMessageTime,\n        startup_time: this.ctx.app.startupTime\n      }\n    }\n  }\n}\n","import { Context } from 'cordis'\nimport { OB11MessageData, OB11MessageDataType } from '../types'\nimport { Msg, RichMedia } from '@/ntqqapi/proto/compiled'\nimport { handleOb11RichMedia } from './createMessage'\nimport { selfInfo } from '@/common/globalVars'\nimport { Peer, RichMediaUploadCompleteNotify } from '@/ntqqapi/types'\nimport { deflateSync } from 'node:zlib'\nimport faceConfig from '@/ntqqapi/helper/face_config.json'\n\nexport class MessageEncoder {\n  static support = ['text', 'face', 'image', 'markdown', 'forward']\n  results: Msg.Message[]\n  children: Msg.Elem[]\n  deleteAfterSentFiles: string[]\n  isGroup: boolean\n  seq: number\n  tsum: number\n  preview: string\n  news: { text: string }[]\n  name?: string\n  uin?: number\n\n  constructor(private ctx: Context, private peer: Peer) {\n    this.results = []\n    this.children = []\n    this.deleteAfterSentFiles = []\n    this.isGroup = peer.chatType === 2\n    this.seq = Math.trunc(Math.random() * 65430)\n    this.tsum = 0\n    this.preview = ''\n    this.news = []\n  }\n\n  async flush() {\n    if (this.children.length === 0) return\n\n    const nick = this.name || selfInfo.nick || 'QQ用户'\n\n    if (this.news.length < 4) {\n      this.news.push({\n        text: `${nick}: ${this.preview}`\n      })\n    }\n\n    this.results.push({\n      routingHead: {\n        fromUin: this.uin ?? +selfInfo.uin, // 或 1094950020\n        c2c: this.isGroup ? undefined : {\n          friendName: nick\n        },\n        group: this.isGroup ? {\n          groupCode: 284840486,\n          groupCard: nick\n        } : undefined\n      },\n      contentHead: {\n        msgType: this.isGroup ? 82 : 9,\n        random: Math.floor(Math.random() * 4294967290),\n        msgSeq: this.seq,\n        msgTime: Math.trunc(Date.now() / 1000),\n        pkgNum: 1,\n        pkgIndex: 0,\n        divSeq: 0,\n        field15: {\n          field1: 0,\n          field2: 0,\n          field3: 0,\n          field4: '',\n          field5: ''\n        }\n      },\n      body: {\n        richText: {\n          elems: this.children\n        }\n      }\n    })\n\n    this.seq++\n    this.tsum++\n    this.children = []\n    this.preview = ''\n  }\n\n  async packImage(data: RichMediaUploadCompleteNotify, busiType: number) {\n    const imageSize = await this.ctx.ntFileApi.getImageSize(data.filePath)\n    return {\n      commonElem: {\n        serviceType: 48,\n        pbElem: RichMedia.MsgInfo.encode({\n          msgInfoBody: [{\n            index: {\n              info: {\n                fileSize: +data.commonFileInfo.fileSize,\n                md5HexStr: data.commonFileInfo.md5,\n                sha1HexStr: data.commonFileInfo.sha,\n                fileName: data.commonFileInfo.fileName,\n                fileType: {\n                  type: 1,\n                  picFormat: imageSize.type === 'gif' ? 2000 : 1000\n                },\n                width: imageSize.width,\n                height: imageSize.height,\n                time: 0,\n                original: 1\n              },\n              fileUuid: data.fileId,\n              storeID: 1,\n              expire: 2678400\n            },\n            pic: {\n              urlPath: `/download?appid=${this.isGroup ? 1407 : 1406}&fileid=${data.fileId}`,\n              ext: {\n                originalParam: '&spec=0',\n                bigParam: '&spec=720',\n                thumbParam: '&spec=198'\n              },\n              domain: 'multimedia.nt.qq.com.cn'\n            },\n            fileExist: true\n          }],\n          extBizInfo: {\n            pic: {\n              bizType: 0,\n              summary: ''\n            },\n            busiType\n          }\n        }).finish(),\n        businessType: this.isGroup ? 20 : 10\n      }\n    }\n  }\n\n  packForwardMessage(resid: string) {\n    const uuid = crypto.randomUUID()\n    const content = JSON.stringify({\n      app: 'com.tencent.multimsg',\n      config: {\n        autosize: 1,\n        forward: 1,\n        round: 1,\n        type: 'normal',\n        width: 300\n      },\n      desc: '[聊天记录]',\n      extra: JSON.stringify({\n        filename: uuid,\n        tsum: 0,\n      }),\n      meta: {\n        detail: {\n          news: [{\n            text: '查看转发消息'\n          }],\n          resid,\n          source: '聊天记录',\n          summary: '查看转发消息',\n          uniseq: uuid,\n        }\n      },\n      prompt: '[聊天记录]',\n      ver: '0.0.0.5',\n      view: 'contact'\n    })\n    return {\n      lightApp: {\n        data: Buffer.concat([Buffer.from([1]), deflateSync(Buffer.from(content, 'utf-8'))])\n      }\n    }\n  }\n\n  async visit(segment: OB11MessageData) {\n    const { type, data } = segment\n    if (type === OB11MessageDataType.Node) {\n      await this.render(data.content as OB11MessageData[])\n      const id = data.uin ?? data.user_id\n      this.uin = id ? +id : undefined\n      this.name = data.name ?? data.nickname\n      await this.flush()\n    } else if (type === OB11MessageDataType.Text) {\n      this.children.push({\n        text: {\n          str: data.text\n        }\n      })\n      this.preview += data.text\n    } else if (type === OB11MessageDataType.Face) {\n      this.children.push({\n        face: {\n          index: +data.id\n        }\n      })\n      const face = faceConfig.sysface.find(e => e.QSid === String(data.id))\n      if (face) {\n        this.preview += face.QDes\n      }\n    } else if (type === OB11MessageDataType.Image) {\n      const { path } = await handleOb11RichMedia(this.ctx, segment, this.deleteAfterSentFiles)\n      const data = await this.ctx.ntFileApi.uploadRMFileWithoutMsg(path, this.isGroup ? 4 : 3, this.peer.peerUid)\n      const busiType = Number(segment.data.subType) || 0\n      this.children.push(await this.packImage(data, busiType))\n      this.preview += busiType === 1 ? '[动画表情]' : '[图片]'\n    } else if (type === OB11MessageDataType.Markdown) {\n      this.children.push({\n        commonElem: {\n          serviceType: 45,\n          pbElem: Msg.MarkdownElem.encode(data).finish(),\n          businessType: 1\n        }\n      })\n    } else if (type === OB11MessageDataType.Forward) {\n      this.children.push(this.packForwardMessage(data.id))\n      this.preview += '[聊天记录]'\n    }\n  }\n\n  async render(segments: OB11MessageData[]) {\n    for (const segment of segments) {\n      await this.visit(segment)\n    }\n  }\n\n  async generate(content: OB11MessageData[]) {\n    await this.render(content)\n    return {\n      multiMsgItems: [{\n        fileName: 'MultiMsg',\n        buffer: {\n          msg: this.results\n        }\n      }],\n      tsum: this.tsum,\n      source: this.isGroup ? '群聊的聊天记录' : '聊天记录',\n      summary: `查看${this.tsum}条转发消息`,\n      news: this.news\n    }\n  }\n}\n","import { unlink } from 'node:fs/promises'\nimport { OB11MessageData, OB11MessageNode } from '../../types'\nimport { ActionName } from '../types'\nimport { BaseAction, Schema } from '../BaseAction'\nimport { Peer } from '@/ntqqapi/types/msg'\nimport { ChatType, ElementType, RawMessage, SendMessageElement } from '@/ntqqapi/types'\nimport { selfInfo } from '@/common/globalVars'\nimport { message2List, createSendElements, createPeer, CreatePeerMode } from '../../helper/createMessage'\nimport { MessageEncoder } from '@/onebot11/helper/createMultiMessage'\nimport { randomUUID } from 'node:crypto'\n\ninterface Payload {\n  user_id?: string | number\n  group_id?: string | number\n  messages?: OB11MessageNode[]\n  message?: OB11MessageNode[]\n  message_type?: 'group' | 'private'\n}\n\ninterface Response {\n  message_id: number\n  forward_id: string\n}\n\nexport class SendForwardMsg extends BaseAction<Payload, Response> {\n  actionName = ActionName.SendForwardMsg\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]),\n    group_id: Schema.union([Number, String]),\n    messages: Schema.array(Schema.any()),\n    message: Schema.array(Schema.any()),\n    message_type: Schema.union(['group', 'private']),\n  })\n\n  protected async _handle(payload: Payload) {\n    const messages = payload.messages ?? payload.message\n    if (!messages) {\n      throw new Error('未指定消息内容')\n    }\n    let contextMode = CreatePeerMode.Normal\n    if (payload.message_type === 'group') {\n      contextMode = CreatePeerMode.Group\n    }\n    else if (payload.message_type === 'private') {\n      contextMode = CreatePeerMode.Private\n    }\n    const peer = await createPeer(this.ctx, payload, contextMode)\n\n    const nodes = this.parseNodeContent(messages)\n    let fake = true\n    for (const node of nodes) {\n      if (node.data.id) {\n        fake = false\n        break\n      }\n      if (node.data.content?.some(e => {\n        return !MessageEncoder.support.includes(e.type)\n      })) {\n        fake = false\n        break\n      }\n    }\n    return fake ? await this.handleFakeForwardNode(peer, nodes) : await this.handleForwardNode(peer, nodes)\n  }\n\n  private parseNodeContent(nodes: OB11MessageNode[]) {\n    return nodes.map(e => {\n      return {\n        type: e.type,\n        data: {\n          ...e.data,\n          content: e.data.content ? message2List(e.data.content) : undefined,\n        },\n      }\n    })\n  }\n\n  private async handleFakeForwardNode(peer: Peer, nodes: OB11MessageNode[]): Promise<Response> {\n    const encoder = new MessageEncoder(this.ctx, peer)\n    const raw = await encoder.generate(nodes)\n    const resid = await this.ctx.app.pmhq.uploadForward(peer, raw.multiMsgItems)\n    const uuid = randomUUID()\n    try {\n      const msg = await this.ctx.ntMsgApi.sendMsg(peer, [{\n        elementType: 10,\n        elementId: '',\n        arkElement: {\n          bytesData: JSON.stringify({\n            app: 'com.tencent.multimsg',\n            config: {\n              autosize: 1,\n              forward: 1,\n              round: 1,\n              type: 'normal',\n              width: 300,\n            },\n            desc: '[聊天记录]',\n            extra: JSON.stringify({\n              filename: uuid,\n              tsum: raw.tsum,\n            }),\n            meta: {\n              detail: {\n                news: raw.news,\n                resid,\n                source: raw.source,\n                summary: raw.summary,\n                uniseq: uuid,\n              },\n            },\n            prompt: '[聊天记录]',\n            ver: '0.0.0.5',\n            view: 'contact',\n          }),\n        },\n      }], 1800)\n      const msgShortId = this.ctx.store.createMsgShortId({\n        chatType: msg!.chatType,\n        peerUid: msg!.peerUid,\n      }, msg!.msgId)\n      return { message_id: msgShortId, forward_id: resid }\n    } catch (e) {\n      this.ctx.logger.error('合并转发失败', e)\n      throw new Error(`发送伪造合并转发消息失败 (res_id: ${resid} `)\n    }\n  }\n\n  private async cloneMsg(msg: RawMessage): Promise<RawMessage | undefined> {\n    this.ctx.logger.info('克隆的目标消息', msg)\n    const sendElements: SendMessageElement[] = []\n    for (const ele of msg.elements) {\n      sendElements.push(ele as SendMessageElement)\n    }\n    if (sendElements.length === 0) {\n      this.ctx.logger.warn('需要clone的消息无法解析，将会忽略掉', msg)\n    }\n    this.ctx.logger.info('克隆消息', sendElements)\n    try {\n      const peer = {\n        chatType: ChatType.C2C,\n        peerUid: selfInfo.uid,\n      }\n      const nodeMsg = await this.ctx.ntMsgApi.sendMsg(peer, sendElements)\n      await this.ctx.sleep(300)\n      return nodeMsg\n    } catch (e) {\n      this.ctx.logger.warn(e, '克隆转发消息失败,将忽略本条消息', msg)\n    }\n  }\n\n  // 返回一个合并转发的消息id\n  private async handleForwardNode(destPeer: Peer, messageNodes: OB11MessageNode[]): Promise<Response> {\n    const selfPeer = {\n      chatType: ChatType.C2C,\n      peerUid: selfInfo.uid,\n    }\n    const nodeMsgIds: { msgId: string, peer: Peer }[] = []\n    // 先判断一遍是不是id和自定义混用\n    for (const messageNode of messageNodes) {\n      // 一个node表示一个人的消息\n      const nodeId = messageNode.data.id\n      // 有nodeId表示一个子转发消息卡片\n      if (nodeId) {\n        const nodeMsg = await this.ctx.store.getMsgInfoByShortId(+nodeId)\n        if (!nodeMsg) {\n          this.ctx.logger.warn('转发消息失败，未找到消息', nodeId)\n          continue\n        }\n        nodeMsgIds.push(nodeMsg)\n      }\n      else {\n        // 自定义的消息\n        // 提取消息段，发给自己生成消息id\n        try {\n          const { sendElements, deleteAfterSentFiles } = await createSendElements(\n            this.ctx,\n            messageNode.data.content as OB11MessageData[],\n            destPeer,\n          )\n          this.ctx.logger.info('开始生成转发节点', sendElements)\n          const sendElementsSplit: SendMessageElement[][] = []\n          let splitIndex = 0\n          for (const ele of sendElements) {\n            if (!sendElementsSplit[splitIndex]) {\n              sendElementsSplit[splitIndex] = []\n            }\n\n            if (ele.elementType === ElementType.File || ele.elementType === ElementType.Video) {\n              if (sendElementsSplit[splitIndex].length > 0) {\n                splitIndex++\n              }\n              sendElementsSplit[splitIndex] = [ele]\n              splitIndex++\n            }\n            else {\n              sendElementsSplit[splitIndex].push(ele)\n            }\n          }\n          this.ctx.logger.info('分割后的转发节点', sendElementsSplit)\n          for (const eles of sendElementsSplit) {\n            const nodeMsg = await this.ctx.app.sendMessage(this.ctx, selfPeer, eles, [])\n            if (!nodeMsg) {\n              this.ctx.logger.warn('转发节点生成失败', eles)\n              continue\n            }\n            nodeMsgIds.push({ msgId: nodeMsg.msgId, peer: selfPeer })\n            await this.ctx.sleep(300)\n          }\n          deleteAfterSentFiles.map(path => unlink(path).then().catch(e => {\n          }))\n        } catch (e) {\n          this.ctx.logger.error('生成转发消息节点失败', e)\n        }\n      }\n    }\n\n    // 检查srcPeer是否一致，不一致则需要克隆成自己的消息, 让所有srcPeer都变成自己的，使其保持一致才能够转发\n    const nodeMsgArray: RawMessage[] = []\n    let srcPeer: Peer\n    let needSendSelf = false\n    for (const { msgId, peer } of nodeMsgIds) {\n      const nodeMsg = (await this.ctx.ntMsgApi.getMsgsByMsgId(peer, [msgId])).msgList[0]\n      srcPeer ??= { chatType: nodeMsg.chatType, peerUid: nodeMsg.peerUid }\n      if (srcPeer.peerUid !== nodeMsg.peerUid) {\n        needSendSelf = true\n      }\n      nodeMsgArray.push(nodeMsg)\n    }\n    let retMsgIds: string[] = []\n    if (needSendSelf) {\n      for (const msg of nodeMsgArray) {\n        if (msg.peerUid === selfPeer.peerUid) {\n          retMsgIds.push(msg.msgId)\n          continue\n        }\n        const clonedMsg = await this.cloneMsg(msg)\n        if (clonedMsg) retMsgIds.push(clonedMsg.msgId)\n      }\n    }\n    else {\n      retMsgIds = nodeMsgArray.map(msg => msg.msgId)\n    }\n    if (retMsgIds.length === 0) {\n      throw Error('转发消息失败，节点为空')\n    }\n    const msg = await this.ctx.ntMsgApi.multiForwardMsg(srcPeer!, destPeer, retMsgIds)\n    const resid = JSON.parse(msg.elements[0].arkElement!.bytesData).meta.detail.resid\n    const msgShortId = this.ctx.store.createMsgShortId({\n      chatType: msg.chatType,\n      peerUid: msg.peerUid,\n    }, msg.msgId)\n    return { message_id: msgShortId, forward_id: resid }\n  }\n}\n\nexport class SendPrivateForwardMsg extends SendForwardMsg {\n  actionName = ActionName.GoCQHTTP_SendPrivateForwardMsg\n\n  protected _handle(payload: Payload) {\n    payload.message_type = 'private'\n    return super._handle(payload)\n  }\n}\n\nexport class SendGroupForwardMsg extends SendForwardMsg {\n  actionName = ActionName.GoCQHTTP_SendGroupForwardMsg\n\n  protected _handle(payload: Payload) {\n    payload.message_type = 'group'\n    return super._handle(payload)\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { OB11User } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { ActionName } from '../types'\nimport { calcQQLevel } from '@/common/utils/misc'\n\ninterface Payload {\n  user_id: number | string\n}\n\ninterface Response extends OB11User {\n  reg_time: number\n  long_nick: string\n  city: string\n  country: string\n  birthday_year: number\n  birthday_month: number\n  birthday_day: number\n}\n\nexport class GetStrangerInfo extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetStrangerInfo\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const uin = payload.user_id.toString()\n    const data = await this.ctx.ntUserApi.getUserDetailInfoByUin(uin)\n    if (data.detail) {\n      return {\n        user_id: parseInt(data.detail.uin) || 0,\n        nickname: data.detail.simpleInfo.coreInfo.nick,\n        sex: OB11Entities.sex(data.detail.simpleInfo.baseInfo.sex),\n        age: data.detail.simpleInfo.baseInfo.age,\n        qid: data.detail.simpleInfo.baseInfo.qid,\n        level: data.detail.commonExt.qqLevel && calcQQLevel(data.detail.commonExt.qqLevel) || 0,\n        login_days: 0,\n        reg_time: data.detail.commonExt.regTime,\n        long_nick: data.detail.simpleInfo.baseInfo.longNick,\n        city: data.detail.commonExt.city,\n        country: data.detail.commonExt.country,\n        birthday_year: data.detail.simpleInfo.baseInfo.birthday_year,\n        birthday_month: data.detail.simpleInfo.baseInfo.birthday_month,\n        birthday_day: data.detail.simpleInfo.baseInfo.birthday_day\n      }\n    } else {\n      return {\n        user_id: parseInt(data.info!.uin) || 0,\n        nickname: data.info!.nick,\n        sex: OB11Entities.sex(data.info!.sex),\n        age: data.info!.birthday_year === 0 ? 0 : new Date().getFullYear() - data.info!.birthday_year,\n        qid: data.info!.qid,\n        level: data.info!.qqLevel && calcQQLevel(data.info!.qqLevel) || 0,\n        login_days: 0,\n        reg_time: data.info!.regTime,\n        long_nick: data.info!.longNick,\n        city: data.info!.city,\n        country: data.info!.country,\n        birthday_year: data.info!.birthday_year,\n        birthday_month: data.info!.birthday_month,\n        birthday_day: data.info!.birthday_day\n      }\n    }\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  user_id: number | string\n  times: number | string\n}\n\nexport default class SendLike extends BaseAction<Payload, null> {\n  actionName = ActionName.SendLike\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const uin = payload.user_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(uin)\n    if (!uid) throw new Error('无法获取用户信息')\n    const result = await this.ctx.ntUserApi.like(uid, +payload.times || 1)\n    if (result.result !== 0) {\n      throw new Error(result.errMsg)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { GroupRequestOperateTypes } from '@/ntqqapi/types'\nimport { ActionName } from '../types'\nimport { isNumeric, parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  flag: string\n  approve: boolean\n  reason?: string\n}\n\nexport default class SetGroupAddRequest extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupAddRequest\n  payloadSchema = Schema.object({\n    flag: Schema.string().required(),\n    approve: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(true),\n    reason: Schema.string()\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    let flag = payload.flag\n    if (isNumeric(flag)) {\n      const res = await this.ctx.ntGroupApi.getGroupRequest()\n      const normalEnd = res.normalCount - 1\n      for (const [i, v] of res.notifies.entries()) {\n        if (flag === v.seq) {\n          flag = `${v.group.groupCode}|${v.seq}|${v.type}|${i > normalEnd ? '1' : '0'}`\n          break\n        }\n      }\n      if (flag === payload.flag) {\n        throw new Error('flag 不存在')\n      }\n    }\n    const res = await this.ctx.ntGroupApi.handleGroupRequest(\n      flag,\n      payload.approve ? GroupRequestOperateTypes.Approve : GroupRequestOperateTypes.Reject,\n      payload.reason\n    )\n    if (res.result !== 0) {\n      throw new Error(res.errMsg)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  is_dismiss?: boolean\n}\n\nexport default class SetGroupLeave extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupLeave\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    await this.ctx.ntGroupApi.quitGroup(payload.group_id.toString())\n    return null\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\nexport default class GetGuildList extends BaseAction<null, null> {\n  actionName = ActionName.GetGuildList\n\n  protected async _handle() {\n    return null\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  apiClass: string\n  method: string\n  args: unknown[]\n}\n\nexport default class Debug extends BaseAction<Payload, unknown> {\n  actionName = ActionName.Debug\n\n  protected async _handle(payload: Payload) {\n    this.ctx.logger.info('debug call ntqq api', payload)\n    const api = this.ctx.get(payload.apiClass)\n    return await api[payload.method](...payload.args)\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { ChatType } from '@/ntqqapi/types'\n\ninterface Payload {\n  flag: string\n  approve?: boolean | string\n  remark?: string\n}\n\nexport default class SetFriendAddRequest extends BaseAction<Payload, null> {\n  actionName = ActionName.SetFriendAddRequest\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const approve = payload.approve?.toString() !== 'false'\n    const data = payload.flag.split('|')\n    if (data.length < 2) {\n      throw new Error('无效的flag')\n    }\n    const uid = data[0]\n    const reqTime = data[1]\n    await this.ctx.ntFriendApi.handleFriendRequest(uid, reqTime, approve)\n    if (payload.remark) {\n      await this.ctx.ntFriendApi.setBuddyRemark(uid, payload.remark)\n    }\n    /*await this.ctx.ntMsgApi.activateChat({\n      peerUid: uid,\n      chatType: ChatType.C2C,\n      guildId: ''\n    })*/\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  group_id: number | string\n  enable: boolean\n}\n\nexport default class SetGroupWholeBan extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupWholeBan\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    enable: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(true)\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    await this.ctx.ntGroupApi.banGroup(payload.group_id.toString(), payload.enable)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  group_name: string\n}\n\nexport default class SetGroupName extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupName\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    group_name: Schema.string().required()\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    await this.ctx.ntGroupApi.setGroupName(payload.group_id.toString(), payload.group_name)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n  duration: number | string\n}\n\nexport default class SetGroupBan extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupBan\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required(),\n    duration: Schema.union([Number, String]).default(30 * 60)\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const groupCode = payload.group_id.toString()\n    const uin = payload.user_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(uin, groupCode)\n    if (!uid) throw new Error('无法获取用户信息')\n    const res = await this.ctx.ntGroupApi.banMember(groupCode, [\n      { uid, timeStamp: +payload.duration },\n    ])\n    if (res.result !== 0) {\n      throw new Error(res.errMsg)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n  reject_add_request: boolean\n}\n\nexport default class SetGroupKick extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupKick\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required(),\n    reject_add_request: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(false)\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const groupCode = payload.group_id.toString()\n    const uin = payload.user_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(uin, groupCode)\n    if (!uid) throw new Error('无法获取用户信息')\n    await this.ctx.ntGroupApi.kickMember(groupCode, [uid], payload.reject_add_request)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { GroupMemberRole } from '@/ntqqapi/types'\nimport { ActionName } from '../types'\nimport { parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n  enable: boolean\n}\n\nexport default class SetGroupAdmin extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupAdmin\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required(),\n    enable: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(true)\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const groupCode = payload.group_id.toString()\n    const uin = payload.user_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(uin, groupCode)\n    if (!uid) throw new Error('无法获取用户信息')\n    await this.ctx.ntGroupApi.setMemberRole(\n      groupCode,\n      uid,\n      payload.enable ? GroupMemberRole.Admin : GroupMemberRole.Normal\n    )\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n  card: string\n}\n\nexport default class SetGroupCard extends BaseAction<Payload, null> {\n  actionName = ActionName.SetGroupCard\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required(),\n    card: Schema.string().default('')\n  })\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const groupCode = payload.group_id.toString()\n    const uin = payload.user_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(uin, groupCode)\n    if (!uid) throw new Error('无法获取用户信息')\n    await this.ctx.ntGroupApi.setMemberCard(groupCode, uid, payload.card)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { readFile } from 'node:fs/promises'\nimport { ActionName } from '../types'\nimport { Peer, ElementType } from '@/ntqqapi/types'\n\nexport interface GetFilePayload {\n  file: string // 文件名或者fileUuid\n}\n\nexport interface GetFileResponse {\n  file?: string // path\n  url?: string\n  file_size?: string\n  file_name?: string\n  base64?: string\n}\n\nexport abstract class GetFileBase extends BaseAction<GetFilePayload, GetFileResponse> {\n  payloadSchema = Schema.object({\n    file: Schema.string()\n  })\n\n  protected async _handle(payload: GetFilePayload): Promise<GetFileResponse> {\n    if (!payload.file){\n      throw new Error('file is required')\n    }\n    const { enableLocalFile2Url } = this.adapter.config\n\n    let fileCache = await this.ctx.store.getFileCacheById(payload.file)\n    if (!fileCache?.length) {\n      fileCache = await this.ctx.store.getFileCacheByName(payload.file)\n    }\n\n    if (fileCache?.length) {\n      const downloadPath = await this.ctx.ntFileApi.downloadMedia(\n        fileCache[0].msgId,\n        fileCache[0].chatType,\n        fileCache[0].peerUid,\n        fileCache[0].elementId,\n        '',\n        ''\n      )\n      const res: GetFileResponse = {\n        file: downloadPath,\n        url: downloadPath,\n        file_size: fileCache[0].fileSize,\n        file_name: fileCache[0].fileName,\n      }\n      const peer: Peer = {\n        chatType: fileCache[0].chatType,\n        peerUid: fileCache[0].peerUid,\n        guildId: ''\n      }\n      if (fileCache[0].elementType === ElementType.Pic) {\n        const msgList = await this.ctx.ntMsgApi.getMsgsByMsgId(peer, [fileCache[0].msgId])\n        if (msgList.msgList.length === 0) {\n          throw new Error('msg not found')\n        }\n        const msg = msgList.msgList[0]\n        const findEle = msg.elements.find(e => e.elementId === fileCache[0].elementId)\n        if (!findEle) {\n          throw new Error('element not found')\n        }\n        res.url = await this.ctx.ntFileApi.getImageUrl(findEle.picElement!)\n      } else if (fileCache[0].elementType === ElementType.Video) {\n        res.url = await this.ctx.ntFileApi.getVideoUrl(peer, fileCache[0].msgId, fileCache[0].elementId)\n      }\n      if (enableLocalFile2Url && downloadPath && (res.file === res.url || res.url === undefined)) {\n        try {\n          res.base64 = await readFile(downloadPath, 'base64')\n        } catch (e) {\n          throw new Error('文件下载失败. ' + e)\n        }\n      }\n      //不手动删除？文件持久化了\n      return res\n    }\n    throw new Error('file not found')\n  }\n}\n\nexport default class GetFile extends GetFileBase {\n  actionName = ActionName.GetFile\n  payloadSchema = Schema.object({\n    file: Schema.string().required(false),\n    file_id: Schema.string().required(false),\n  })\n\n  protected async _handle(payload: { file_id: string, file: string }): Promise<GetFileResponse> {\n    payload.file = payload.file || payload.file_id\n    return super._handle(payload)\n  }\n}\n","import { GetFileBase } from './GetFile'\nimport { ActionName } from '../types'\n\nexport default class GetImage extends GetFileBase {\n  actionName = ActionName.GetImage\n}\n","import path from 'node:path'\nimport { GetFileBase, GetFilePayload, GetFileResponse } from './GetFile'\nimport { ActionName } from '../types'\nimport { decodeSilk } from '@/common/utils/audio'\nimport { Schema } from '../BaseAction'\nimport { stat, readFile } from 'node:fs/promises'\n\ninterface Payload extends GetFilePayload {\n  out_format: 'mp3' | 'amr' | 'wma' | 'm4a' | 'spx' | 'ogg' | 'wav' | 'flac'\n}\n\nexport default class GetRecord extends GetFileBase {\n  actionName = ActionName.GetRecord\n  payloadSchema = Schema.object({\n    file: Schema.string().required(),\n    out_format: Schema.string().default('mp3')\n  })\n\n  protected async _handle(payload: Payload): Promise<GetFileResponse> {\n    const res = await super._handle(payload)\n    res.file = await decodeSilk(this.ctx, res.file!, payload.out_format)\n    res.file_name = path.basename(res.file)\n    res.file_size = (await stat(res.file)).size.toString()\n    if (this.adapter.config.enableLocalFile2Url) {\n      res.base64 = await readFile(res.file, 'base64')\n    }\n    return res\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  message_id: number | string\n}\n\nexport class MarkMsgAsRead extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_MarkMsgAsRead\n  payloadSchema = Schema.object({\n    message_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const msg = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msg) {\n      throw new Error('msg not found')\n    }\n    await this.ctx.ntMsgApi.setMsgRead(msg.peer)\n    return null\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport fs from 'node:fs'\nimport Path from 'node:path'\nimport { ChatCacheListItemBasic, CacheFileType } from '@/ntqqapi/types'\n\nexport default class CleanCache extends BaseAction<void, void> {\n  actionName = ActionName.CleanCache\n\n  protected async _handle(): Promise<void> {\n    return\n    const cacheFilePaths: string[] = []\n\n    await this.ctx.ntFileCacheApi.setCacheSilentScan(false)\n\n    cacheFilePaths.push(await this.ctx.ntFileCacheApi.getHotUpdateCachePath())\n    cacheFilePaths.push(await this.ctx.ntFileCacheApi.getDesktopTmpPath())\n\n    const list = await this.ctx.ntFileCacheApi.getCacheSessionPathList()\n    list.forEach((e) => cacheFilePaths.push(e.value))\n\n    // await NTQQApi.addCacheScannedPaths(); // XXX: 调用就崩溃，原因目前还未知\n    const cacheScanResult = await this.ctx.ntFileCacheApi.scanCache()\n    const cacheSize = parseInt(cacheScanResult.size[6])\n\n    if (cacheScanResult.result !== 0) {\n      throw 'Something went wrong while scanning cache. Code: ' + cacheScanResult.result\n    }\n\n    await this.ctx.ntFileCacheApi.setCacheSilentScan(true)\n    if (cacheSize > 0 && cacheFilePaths.length > 2) {\n      // 存在缓存文件且大小不为 0 时执行清理动作\n      // await NTQQApi.clearCache([ 'tmp', 'hotUpdate', ...cacheScanResult ]) // XXX: 也是调用就崩溃，调用 fs 删除得了\n      deleteCachePath(cacheFilePaths)\n    }\n\n    // 获取聊天记录列表\n    // NOTE: 以防有人不需要删除聊天记录，暂时先注释掉，日后加个开关\n    // const privateChatCache = await getCacheList(ChatType.friend); // 私聊消息\n    // const groupChatCache = await getCacheList(ChatType.group); // 群聊消息\n    // const chatCacheList = [ ...privateChatCache, ...groupChatCache ];\n    const chatCacheList: ChatCacheListItemBasic[] = []\n\n    // 获取聊天缓存文件列表\n    const cacheFileList: string[] = []\n\n    for (const name in CacheFileType) {\n      if (!isNaN(parseInt(name))) continue\n\n      const fileType = CacheFileType[name] as unknown as CacheFileType\n\n      cacheFileList.push(...(await this.ctx.ntFileCacheApi.getFileCacheInfo(fileType)).infos.map((file) => file.fileKey))\n    }\n\n    // 一并清除\n    await this.ctx.ntFileCacheApi.clearChatCache(chatCacheList, cacheFileList)\n  }\n}\n\nfunction deleteCachePath(pathList: string[]) {\n  const emptyPath = (path: string) => {\n    if (!fs.existsSync(path)) return\n    const files = fs.readdirSync(path)\n    files.forEach((file) => {\n      const filePath = Path.resolve(path, file)\n      const stats = fs.statSync(filePath)\n      if (stats.isDirectory()) emptyPath(filePath)\n      else {\n        try {\n          fs.unlinkSync(filePath)\n        }catch (e) {\n        }\n      }\n    })\n    try {\n      fs.rmdirSync(path)\n    }catch (e) {\n\n    }\n  }\n\n  for (const path of pathList) {\n    emptyPath(path)\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { Config } from '@/common/types'\nimport { ActionName } from '../types'\nimport { getConfigUtil } from '@/common/config'\n\nexport class GetConfigAction extends BaseAction<null, Config> {\n  actionName = ActionName.GetConfig\n\n  protected async _handle(): Promise<Config> {\n    return getConfigUtil().getConfig()\n  }\n}\n\nexport class SetConfigAction extends BaseAction<Config, void> {\n  actionName = ActionName.SetConfig\n\n  protected async _handle(payload: Config): Promise<void> {\n    getConfigUtil().setConfig(payload)\n    await this.ctx.parallel('llob/config-updated', payload)\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface OB11GroupRequestNotify {\n  group_id: number\n  user_id: number\n  flag: string\n}\n\nexport default class GetGroupAddRequest extends BaseAction<null, OB11GroupRequestNotify[]> {\n  actionName = ActionName.GetGroupIgnoreAddRequest\n\n  protected async _handle(): Promise<OB11GroupRequestNotify[]> {\n    throw new Error('请使用 get_group_system_msg API, 可获取被过滤的加群通知')\n  }\n}\n","import { unlink } from 'node:fs/promises'\nimport { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { checkFileReceived, uri2local } from '../../../common/utils/file'\n\ninterface Payload {\n  file: string\n}\n\nexport default class SetQQAvatar extends BaseAction<Payload, null> {\n  actionName = ActionName.SetQQAvatar\n\n  protected async _handle(payload: Payload): Promise<null> {\n    const { path, isLocal, errMsg } = await uri2local(this.ctx, payload.file)\n    if (errMsg) {\n      throw new Error(errMsg)\n    }\n    if (path) {\n      await checkFileReceived(path, 5000) // 文件不存在QQ会崩溃，需要提前判断\n      const ret = await this.ctx.ntUserApi.setSelfAvatar(path)\n      if (!isLocal) {\n          unlink(path).then().catch(err => {})\n      }\n      if (!ret) {\n        throw `头像${payload.file}设置失败,api无返回`\n      }\n      if ((ret.result as number) === 1004022) {\n        throw `头像${payload.file}设置失败，文件可能不是图片格式`\n      } else if (ret.result !== 0) {\n        throw `头像${payload.file}设置失败,未知的错误,${ret['result']}:${ret['errMsg']}`\n      }\n    } else {\n      if (!isLocal) {\n        unlink(path).then().catch(e => {\n          this.ctx.logger.error(`头像${payload.file}设置失败,无法获取头像,文件可能不存在`)\n        })\n      }\n    }\n    return null\n  }\n}\n","import fs from 'fs'\nimport fsPromise from 'fs/promises'\nimport path from 'node:path'\nimport { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { calculateFileMD5, fetchFile } from '@/common/utils'\nimport { TEMP_DIR } from '@/common/globalVars'\nimport { randomUUID } from 'node:crypto'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  thread_count?: number\n  url?: string\n  base64?: string\n  name?: string\n  headers?: string | string[]\n}\n\ninterface FileResponse {\n  file: string\n}\n\nexport class DownloadFile extends BaseAction<Payload, FileResponse> {\n  actionName = ActionName.GoCQHTTP_DownloadFile\n  payloadSchema = Schema.object({\n    url: Schema.string(),\n    base64: Schema.string(),\n    headers: Schema.union([String, Schema.array(String)])\n  })\n\n  protected async _handle(payload: Payload): Promise<FileResponse> {\n    const isRandomName = !payload.name\n    const name = payload.name ? path.basename(payload.name) : randomUUID()\n    const filePath = path.join(TEMP_DIR, name)\n\n    if (payload.base64) {\n      await fsPromise.writeFile(filePath, payload.base64, 'base64')\n    } else if (payload.url) {\n      const headers = this.getHeaders(payload.headers)\n      const res = await fetchFile(payload.url, headers)\n      await fsPromise.writeFile(filePath, res.data)\n    } else {\n      throw new Error('不存在任何文件, 无法下载')\n    }\n    if (fs.existsSync(filePath)) {\n      if (isRandomName) {\n        // 默认实现要名称未填写时文件名为文件 md5\n        const md5 = await calculateFileMD5(filePath)\n        const newPath = path.join(TEMP_DIR, md5)\n        await fsPromise.rename(filePath, newPath)\n        return { file: newPath }\n      }\n      return { file: filePath }\n    } else {\n      throw new Error('文件写入失败, 检查权限')\n    }\n  }\n\n  getHeaders(headersIn?: string | string[]): Record<string, string> {\n    const headers: Dict = {}\n    if (typeof headersIn == 'string') {\n      headersIn = headersIn.split('[\\\\r\\\\n]')\n    }\n    if (Array.isArray(headersIn)) {\n      for (const headerItem of headersIn) {\n        const spilt = headerItem.indexOf('=')\n        if (spilt < 0) {\n          headers[headerItem] = ''\n        } else {\n          const key = headerItem.substring(0, spilt)\n          headers[key] = headerItem.substring(0, spilt + 1)\n        }\n      }\n    }\n    if (!headers['Content-Type']) {\n      headers['Content-Type'] = 'application/octet-stream'\n    }\n    return headers\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { OB11Message } from '../../types'\nimport { ActionName } from '../types'\nimport { ChatType, Peer } from '@/ntqqapi/types'\nimport { OB11Entities } from '../../entities'\nimport { RawMessage } from '@/ntqqapi/types'\nimport { filterNullable, parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  group_id: number | string\n  message_seq?: number | string\n  count: number | string\n  reverseOrder: boolean\n}\n\ninterface Response {\n  messages: OB11Message[]\n}\n\nexport class GetGroupMsgHistory extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupMsgHistory\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    message_seq: Schema.union([Number, String]),\n    count: Schema.union([Number, String]).default(20),\n    reverseOrder: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(false)\n  })\n\n  private async getMessage(peer: Peer, count: number, seq?: number | string) {\n    let msgList: RawMessage[]\n    if (!seq || +seq === 0) {\n      msgList = (await this.ctx.ntMsgApi.getAioFirstViewLatestMsgs(peer, count)).msgList\n    } else {\n      msgList = (await this.ctx.ntMsgApi.getMsgsBySeqAndCount(peer, String(seq), count, true, true)).msgList\n    }\n    if (!msgList?.length) return\n    const ob11MsgList = await Promise.all(msgList.map(msg => OB11Entities.message(this.ctx, msg)))\n    return filterNullable(ob11MsgList)\n  }\n\n  protected async _handle(payload: Payload): Promise<Response> {\n    const peer = {\n      chatType: ChatType.Group,\n      peerUid: payload.group_id.toString()\n    }\n\n    const messages: OB11Message[] = []\n    let seq = payload.message_seq\n    let count = +payload.count\n\n    while (count > 0) {\n      const res = await this.getMessage(peer, count, seq)\n      if (!res || res.length == 0) break\n      seq = res[0].message_seq - 1\n      count -= res.length\n      messages.unshift(...res)\n    }\n\n    if (payload.reverseOrder) messages.reverse()\n    return { messages }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { OB11ForwardMessage, OB11MessageDataType } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { ActionName } from '../types'\nimport { filterNullable } from '@/common/utils/misc'\nimport { message2List } from '@/onebot11/helper/createMessage'\n\ninterface Payload {\n  message_id: string // long msg id，gocq\n  id?: string // long msg id, onebot11\n}\n\ninterface Response {\n  messages: OB11ForwardMessage[]\n}\n\nexport class GetForwardMsg extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetForwardMsg\n  payloadSchema = Schema.object({\n    message_id: Schema.string(),\n    id: Schema.string()\n  })\n\n  protected async _handle(payload: Payload) {\n    const msgId = payload.id || payload.message_id\n    if (!msgId) {\n      throw Error('message_id不能为空')\n    }\n    const shortId = await this.ctx.store.getShortIdByMsgId(msgId)\n    const msgInfo = await this.ctx.store.getMsgInfoByShortId(shortId || +msgId)\n    if (!msgInfo) {\n      throw Error('msg not found')\n    }\n    const multiMsgInfo = await this.ctx.store.getMultiMsgInfo(msgInfo.msgId)\n    const rootMsgId = multiMsgInfo[0]?.rootMsgId ?? msgInfo.msgId\n    const peer = multiMsgInfo[0]?.peerUid ? {\n      ...msgInfo.peer,\n      peerUid: multiMsgInfo[0].peerUid\n    } : msgInfo.peer\n    const data = await this.ctx.ntMsgApi.getMultiMsg(peer, rootMsgId, msgInfo.msgId)\n    if (data?.result !== 0) {\n      throw Error('找不到相关的聊天记录' + data?.errMsg)\n    }\n    const messages: (OB11ForwardMessage | undefined)[] = await Promise.all(\n      data.msgList.map(async (msg) => {\n        const res = await OB11Entities.message(this.ctx, msg, rootMsgId, peer)\n        if (res) {\n          const segments = message2List(res.message)\n          for (const item of segments) {\n            if (item.type === OB11MessageDataType.Forward) {\n              this.ctx.store.addMultiMsgInfo(rootMsgId, item.data.id, peer.peerUid)\n            }\n          }\n          return {\n            content: res.message,\n            sender: {\n              nickname: res.sender.nickname,\n              user_id: res.sender.user_id\n            },\n            time: res.time,\n            message_format: res.message_format,\n            message_type: res.message_type\n          }\n        }\n      })\n    )\n    return { messages: filterNullable(messages) }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  domain: string\n}\n\ninterface Response {\n  cookies: string\n  bkn: string\n}\n\nexport class GetCookies extends BaseAction<Payload, Response> {\n  actionName = ActionName.GetCookies\n  payloadSchema = Schema.object({\n    domain: Schema.string().required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const cookiesObject = await this.ctx.ntUserApi.getCookies(payload.domain)\n    //把获取到的cookiesObject转换成 k=v; 格式字符串拼接在一起\n    const cookies = Object.entries(cookiesObject).map(([key, value]) => `${key}=${value}`).join('; ')\n    const bkn = cookiesObject.skey ? this.ctx.ntWebApi.genBkn(cookiesObject.skey) : ''\n    return { cookies, bkn }\n  }\n}\n","import { ActionName } from '../types'\nimport { BaseAction } from '../BaseAction'\n\ninterface Payload {\n  message_id: number | string\n  emoji_id: number | string\n}\n\nexport class SetMsgEmojiLike extends BaseAction<Payload, unknown> {\n  actionName = ActionName.SetMsgEmojiLike\n  set: boolean = true\n\n  protected async _handle(payload: Payload) {\n    if (!payload.message_id) {\n      throw Error('message_id不能为空')\n    }\n    const msg = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msg) {\n      throw new Error('msg not found')\n    }\n    if (!payload.emoji_id) {\n      throw new Error('emojiId not found')\n    }\n    const msgData = (await this.ctx.ntMsgApi.getMsgsByMsgId(msg.peer, [msg.msgId])).msgList\n    if (!msgData || msgData.length == 0 || !msgData[0].msgSeq) {\n      throw new Error('find msg by msgid error')\n    }\n    return await this.ctx.ntMsgApi.setEmojiLike(\n      msg.peer,\n      msgData[0].msgSeq,\n      payload.emoji_id.toString(),\n      this.set\n    )\n  }\n}\n\nexport class UnSetMsgEmojiLike extends SetMsgEmojiLike{\n  actionName = ActionName.UnSetMsgEmojiLike\n  set = false\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { createPeer } from '@/onebot11/helper/createMessage'\n\ninterface Payload {\n  message_id: number | string\n  group_id: number | string\n  user_id?: number | string\n}\n\ninterface Response {\n  message_id: number\n}\n\nabstract class ForwardSingleMsg extends BaseAction<Payload, Response> {\n  protected async _handle(payload: Payload) {\n    // 判断为空\n    if (!payload.message_id) {\n      throw Error('message_id不能为空')\n    }\n\n    // 判断长id\n    if (!(+payload.message_id >= -2147483648 && +payload.message_id <= 2147483647)) {\n      const short_msg_id = await this.ctx.store.getShortIdByMsgId(String(payload.message_id))\n      if (!short_msg_id) {\n        throw new Error(`无法找到长id消息${payload.message_id}`)\n      }\n      payload.message_id = short_msg_id\n    }\n\n    // 获取源消息判断是否存在\n    const msg = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msg) {\n      throw new Error(`无法找到消息${payload.message_id}`)\n    }\n    \n    // 发送目标的peer\n    const peer = await createPeer(this.ctx, payload)\n\n    // 转发消息\n    const ret = await this.ctx.ntMsgApi.forwardMsg(msg.peer, peer, [msg.msgId])\n\n    // 判断是否成功\n    if (ret.length === 0) {\n      throw new Error(`转发消息失败`)\n    }\n\n    // 创建消息id\n    const msgShortId = this.ctx.store.createMsgShortId({\n      chatType: ret[0].chatType,\n      peerUid: ret[0].peerUid\n    }, ret[0].msgId)\n    return { message_id: msgShortId }\n  }\n}\n\nexport class ForwardFriendSingleMsg extends ForwardSingleMsg {\n  actionName = ActionName.ForwardFriendSingleMsg\n}\n\nexport class ForwardGroupSingleMsg extends ForwardSingleMsg {\n  actionName = ActionName.ForwardGroupSingleMsg\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { ChatType } from '@/ntqqapi/types'\n\ninterface Payload {\n  group_id: number | string\n}\n\ninterface EssenceMsg {\n  sender_id: number\n  sender_nick: string\n  sender_time: number\n  operator_id: number\n  operator_nick: string\n  operator_time: number\n  message_id: number\n}\n\nexport class GetEssenceMsgList extends BaseAction<Payload, EssenceMsg[]> {\n  actionName = ActionName.GoCQHTTP_GetEssenceMsgList\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const groupCode = payload.group_id.toString()\n    const peer = {\n      guildId: '',\n      chatType: ChatType.Group,\n      peerUid: groupCode\n    }\n    const essence = await this.ctx.ntGroupApi.queryCachedEssenceMsg(groupCode)\n    const data: EssenceMsg[] = []\n    for (const item of essence.items) {\n      const {msgList} = await this.ctx.ntMsgApi.queryMsgsWithFilterExBySeq(peer, String(item.msgSeq), String(0), [(await this.ctx.ntUserApi.getUidByUin(item.msgSenderUin)) as string])\n      const sourceMsg = msgList.find(e => e.msgRandom === String(item.msgRandom))\n      if (!sourceMsg) continue\n      data.push({\n        sender_id: +item.msgSenderUin,\n        sender_nick: item.msgSenderNick,\n        sender_time: +sourceMsg.msgTime,\n        operator_id: +item.opUin,\n        operator_nick: item.opNick,\n        operator_time: item.opTime,\n        message_id: this.ctx.store.createMsgShortId(peer, sourceMsg.msgId)\n      })\n    }\n    return data\n  }\n}\n","import { ActionName } from '../types'\nimport { BaseAction, Schema } from '../BaseAction'\n\ninterface Payload {\n  group_id: number | string\n  type: 'talkative' | 'performer' | 'legend' | 'strong_newbie' | 'emotion' | 'all'\n}\n\nexport class GetGroupHonorInfo extends BaseAction<Payload, unknown> {\n  actionName = ActionName.GetGroupHonorInfo\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    type: Schema.union(['talkative', 'performer', 'legend', 'strong_newbie', 'emotion', 'all']).default('all')\n  })\n\n  protected async _handle(payload: Payload) {\n    return await this.ctx.ntWebApi.getGroupHonorInfo(payload.group_id.toString(), payload.type)\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { handleQuickOperation, QuickOperation, QuickOperationEvent } from '../../helper/quickOperation'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  context: QuickOperationEvent,\n  operation: QuickOperation\n}\n\nexport class HandleQuickOperation extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_HandleQuickOperation\n\n  protected async _handle(payload: Payload): Promise<null> {\n    handleQuickOperation(this.ctx, payload.context, payload.operation).catch(e => this.ctx.logger.error(e))\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  message_id: number | string\n}\n\nexport class SetEssenceMsg extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_SetEssenceMsg\n  payloadSchema = Schema.object({\n    message_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const msg = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msg) {\n      throw new Error('msg not found')\n    }\n    await this.ctx.ntGroupApi.addGroupEssence(msg.peer.peerUid, msg.msgId)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  message_id: number | string\n}\n\nexport class DeleteEssenceMsg extends BaseAction<Payload, unknown> {\n  actionName = ActionName.GoCQHTTP_DelEssenceMsg\n  payloadSchema = Schema.object({\n    message_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const msg = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msg) {\n      throw new Error('msg not found')\n    }\n    return await this.ctx.ntGroupApi.removeGroupEssence(\n      msg.peer.peerUid,\n      msg.msgId,\n    )\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { getHttpEvent } from '../../helper/eventForHttp'\nimport { OB11Message } from '../../types'\nimport { OB11BaseEvent } from '../../event/OB11BaseEvent'\n\ntype PostEventType = OB11BaseEvent | OB11Message\n\ninterface Payload {\n  key: string\n  timeout: number\n}\n\nexport class GetEvent extends BaseAction<Payload, PostEventType[]> {\n  actionName = ActionName.GetEvent\n\n  protected async _handle(payload: Payload): Promise<PostEventType[]> {\n    let key = ''\n    if (payload.key) {\n      key = payload.key\n    }\n    const timeout = parseInt(payload.timeout?.toString()) || 0\n    const evts = await getHttpEvent(key, timeout)\n    return evts\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  file_id: string\n  busid: number | string\n}\n\nexport class DelGroupFile extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_DelGroupFile\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    file_id: Schema.string().required(),\n    busid: Schema.union([Number, String]).default(102)\n  })\n\n  async _handle(payload: Payload) {\n    await this.ctx.ntGroupApi.deleteGroupFile(payload.group_id.toString(), [payload.file_id], [+payload.busid])\n    return null\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { GroupNotify, GroupNotifyStatus, GroupNotifyType } from '@/ntqqapi/types'\n\ninterface Response {\n  invited_requests: {\n    request_id: number\n    invitor_uin: number\n    invitor_nick: string\n    group_id: number\n    group_name: string\n    checked: boolean\n    actor: number\n  }[]\n  join_requests: {\n    request_id: number\n    requester_uin: number\n    requester_nick: string\n    message: string\n    group_id: number\n    group_name: string\n    checked: boolean\n    actor: number\n  }[]\n}\n\nexport class GetGroupSystemMsg extends BaseAction<void, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupSystemMsg\n\n  private async parse(notifies: GroupNotify[]) {\n    const data: Response = { invited_requests: [], join_requests: [] }\n    for (const notify of notifies) {\n      if (notify.type === GroupNotifyType.InvitedByMember) {\n        data.invited_requests.push({\n          request_id: +notify.seq,\n          invitor_uin: Number(await this.ctx.ntUserApi.getUinByUid(notify.user1.uid)),\n          invitor_nick: notify.user1.nickName,\n          group_id: +notify.group.groupCode,\n          group_name: notify.group.groupName,\n          checked: notify.status !== GroupNotifyStatus.Unhandle,\n          actor: notify.user2?.uid ? Number(await this.ctx.ntUserApi.getUinByUid(notify.user2.uid)) : 0\n        })\n      } else if (notify.type === GroupNotifyType.RequestJoinNeedAdminiStratorPass) {\n        data.join_requests.push({\n          request_id: +notify.seq,\n          requester_uin: Number(await this.ctx.ntUserApi.getUinByUid(notify.user1.uid)),\n          requester_nick: notify.user1.nickName,\n          message: notify.postscript,\n          group_id: +notify.group.groupCode,\n          group_name: notify.group.groupName,\n          checked: notify.status !== GroupNotifyStatus.Unhandle,\n          actor: notify.user2?.uid ? Number(await this.ctx.ntUserApi.getUinByUid(notify.user2.uid)) : 0\n        })\n      }\n    }\n    return data\n  }\n\n  async _handle() {\n    const res = await this.ctx.ntGroupApi.getGroupRequest()\n    return await this.parse(res.notifies)\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  name: string\n  parent_id?: '/'\n}\n\ninterface Response {\n  folder_id: string\n}\n\nexport class CreateGroupFileFolder extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_CreateGroupFileFolder\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    name: Schema.string().required(),\n  })\n\n  async _handle(payload: Payload) {\n    const res = await this.ctx.ntGroupApi.createGroupFileFolder(payload.group_id.toString(), payload.name)\n    if (res.resultWithGroupItem.result.retCode !== 0) {\n      throw new Error(res.resultWithGroupItem.result.clientWording)\n    }\n    return {\n      folder_id: res.resultWithGroupItem.groupItem.folderInfo.folderId\n    }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  folder_id: string\n}\n\nexport class DelGroupFolder extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_DelGroupFolder\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    folder_id: Schema.string().required()\n  })\n\n  async _handle(payload: Payload) {\n    await this.ctx.ntGroupApi.deleteGroupFileFolder(payload.group_id.toString(), payload.folder_id)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n}\n\ninterface Response {\n  can_at_all: boolean\n  remain_at_all_count_for_group: number\n  remain_at_all_count_for_uin: number\n}\n\nexport class GetGroupAtAllRemain extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupAtAllRemain\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  async _handle(payload: Payload) {\n    const data = await this.ctx.ntGroupApi.getGroupRemainAtTimes(payload.group_id.toString())\n    return {\n      can_at_all: data.atInfo.canAtAll,\n      remain_at_all_count_for_group: data.atInfo.RemainAtAllCountForGroup,\n      remain_at_all_count_for_uin: data.atInfo.RemainAtAllCountForUin\n    }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { OB11GroupFile, OB11GroupFileFolder } from '../../types'\nimport { GroupFileInfo } from '@/ntqqapi/types'\n\ninterface Payload {\n  group_id: number | string\n}\n\ninterface Response {\n  files: OB11GroupFile[]\n  folders: OB11GroupFileFolder[]\n}\n\nexport class GetGroupRootFiles extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupRootFiles\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  async _handle(payload: Payload) {\n    const groupId = payload.group_id.toString()\n    const data: GroupFileInfo['item'] = []\n\n    let nextIndex: number | undefined\n    while (nextIndex !== 0) {\n      const res = await this.ctx.ntGroupApi.getGroupFileList(groupId, {\n        sortType: 1,\n        fileCount: 100,\n        startIndex: nextIndex ?? 0,\n        sortOrder: 2,\n        showOnlinedocFolder: 0,\n      })\n      data.push(...res.item)\n      nextIndex = res.nextIndex\n    }\n\n    return {\n      files: data.filter(item => item.fileInfo)\n        .map(item => {\n          const file = item.fileInfo!\n          return {\n            group_id: +item.peerId,\n            file_id: file.fileId,\n            file_name: file.fileName,\n            busid: file.busId,\n            file_size: +file.fileSize,\n            upload_time: file.uploadTime,\n            dead_time: file.deadTime,\n            modify_time: file.modifyTime,\n            download_times: file.downloadTimes,\n            uploader: +file.uploaderUin,\n            uploader_name: file.uploaderName\n          }\n        }),\n      folders: data.filter(item => item.folderInfo)\n        .map(item => {\n          const folder = item.folderInfo!\n          return {\n            group_id: +item.peerId,\n            folder_id: folder.folderId,\n            folder_name: folder.folderName,\n            create_time: folder.createTime,\n            creator: +folder.createUin,\n            creator_name: folder.creatorName,\n            total_file_count: folder.totalFileCount\n          }\n        })\n    }\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  status: number | string\n  ext_status: number | string\n  battery_status: number | string\n}\n\nexport class SetOnlineStatus extends BaseAction<Payload, null> {\n  actionName = ActionName.SetOnlineStatus\n\n  async _handle(payload: Payload) {\n    const ret = await this.ctx.ntUserApi.setSelfStatus(\n      Number(payload.status),\n      Number(payload.ext_status),\n      Number(payload.battery_status),\n    )\n    if (ret.result !== 0) {\n      this.ctx.logger.error(ret)\n      throw new Error('设置在线状态失败')\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { unlink } from 'fs/promises'\nimport { checkFileReceived, uri2local } from '@/common/utils/file'\n\ninterface Payload {\n  group_id: number | string\n  content: string\n  image?: string\n  pinned: number | string //扩展\n  confirm_required: number | string //扩展\n}\n\nexport class SendGroupNotice extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_SendGroupNotice\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    content: Schema.string().required(),\n    image: Schema.string(),\n    pinned: Schema.union([Number, String]).default(0),\n    confirm_required: Schema.union([Number, String]).default(1)\n  })\n\n  async _handle(payload: Payload) {\n    const groupCode = payload.group_id.toString()\n    const pinned = +payload.pinned\n    const confirmRequired = +payload.confirm_required\n\n    let picInfo: { id: string, width: number, height: number } | undefined\n    if (payload.image) {\n      const { path, isLocal, success, errMsg } = await uri2local(this.ctx, payload.image, true)\n      if (!success) {\n        throw new Error(`设置群公告失败, 错误信息: uri2local: ${errMsg}`)\n      }\n      await checkFileReceived(path, 5000) // 文件不存在QQ会崩溃，需要提前判断\n      const result = await this.ctx.ntGroupApi.uploadGroupBulletinPic(groupCode, path)\n      if (result.errCode !== 0) {\n        throw new Error(`设置群公告失败, 错误信息: uploadGroupBulletinPic: ${result.errMsg}`)\n      }\n      if (!isLocal) {\n        unlink(path).then().catch(e=>{})\n      }\n      picInfo = result.picInfo\n    }\n\n    const res = await this.ctx.ntGroupApi.publishGroupBulletin(groupCode, {\n      text: encodeURIComponent(payload.content),\n      oldFeedsId: '',\n      pinned,\n      confirmRequired,\n      picInfo\n    })\n    if (res.result !== 0) {\n      throw new Error(`设置群公告失败, 错误信息: ${res.errMsg}`)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  start: number | string\n  count: number | string\n}\n\ninterface Response {\n  users: Dict[]\n  nextStart: number\n}\n\nexport class GetProfileLikeMe extends BaseAction<Payload, Response> {\n  actionName = ActionName.GetProfileLikeMe\n  payloadSchema = Schema.object({\n    start: Schema.union([Number, String]).default(0), // 从0开始，-1表示获取全部\n    count: Schema.union([Number, String]).default(20) // 最多30一页\n  })\n\n  async _handle(payload: Payload): Promise<Response> {\n    const ret = await this.ctx.ntUserApi.getProfileLikeMe(selfInfo.uid, +payload.start, +payload.count)\n    const users = ret.info.userLikeInfos[0].voteInfo.userInfos\n    for (const item of users) {\n      try {\n        item.uin = Number(await this.ctx.ntUserApi.getUinByUid(item.uid)) || 0\n      } catch (e) {\n        item.uin = 0\n      }\n    }\n    return { users: users, nextStart: ret.info.start }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  emojiId: string\n  emojiType: string\n  message_id: string | number\n  count: string | number\n}\n\nexport class FetchEmojiLike extends BaseAction<Payload, Dict> {\n  actionName = ActionName.FetchEmojiLike\n  payloadSchema = Schema.object({\n    emojiId: Schema.string().required(),\n    emojiType: Schema.string().required(),\n    message_id: Schema.union([Number, String]).required(),\n    count: Schema.union([Number, String]).default(20)\n  })\n\n  async _handle(payload: Payload) {\n    const msgInfo = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msgInfo) throw new Error('消息不存在')\n    const { msgSeq } = (await this.ctx.ntMsgApi.getMsgsByMsgId(msgInfo.peer, [msgInfo.msgId])).msgList[0]\n    return await this.ctx.ntMsgApi.getMsgEmojiLikesList(msgInfo.peer, msgSeq, payload.emojiId, payload.emojiType, +payload.count)\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  count: number | string\n}\n\nexport class FetchCustomFace extends BaseAction<Payload, string[]> {\n  actionName = ActionName.FetchCustomFace\n  payloadSchema = Schema.object({\n    count: Schema.union([Number, String]).default(48)\n  })\n\n  async _handle(payload: Payload) {\n    const ret = await this.ctx.ntMsgApi.fetchFavEmojiList(+payload.count)\n    return ret.emojiInfoList.map(e => e.url)\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { OB11Message } from '@/onebot11/types'\nimport { ActionName } from '../types'\nimport { ChatType, RawMessage } from '@/ntqqapi/types'\nimport { OB11Entities } from '@/onebot11/entities'\nimport { filterNullable, parseBool } from '@/common/utils/misc'\n\ninterface Payload {\n  user_id: number | string\n  message_seq?: number | string\n  count: number | string\n  reverseOrder: boolean\n}\n\ninterface Response {\n  messages: OB11Message[]\n}\n\nexport class GetFriendMsgHistory extends BaseAction<Payload, Response> {\n  actionName = ActionName.GetFriendMsgHistory\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required(),\n    message_seq: Schema.union([Number, String]),\n    count: Schema.union([Number, String]).default(20),\n    reverseOrder: Schema.union([Boolean, Schema.transform(String, parseBool)]).default(false)\n  })\n\n  async _handle(payload: Payload): Promise<Response> {\n    const { count, reverseOrder } = payload\n    const uid = await this.ctx.ntUserApi.getUidByUin(payload.user_id.toString())\n    if (!uid) throw new Error(`无法获取用户信息`)\n    const isBuddy = await this.ctx.ntFriendApi.isBuddy(uid)\n    const peer = { chatType: isBuddy ? ChatType.C2C : ChatType.TempC2CFromGroup, peerUid: uid }\n\n    let msgList: RawMessage[]\n    if (!payload.message_seq || +payload.message_seq === 0) {\n      msgList = (await this.ctx.ntMsgApi.getAioFirstViewLatestMsgs(peer, +count)).msgList\n    } else {\n      msgList = (await this.ctx.ntMsgApi.getMsgsBySeqAndCount(peer, String(payload.message_seq), +count, true, true)).msgList\n    }\n\n    if (!msgList?.length) throw new Error('未找到消息')\n    if (reverseOrder) msgList.reverse()\n    const ob11MsgList = await Promise.all(msgList.map(msg => OB11Entities.message(this.ctx, msg)))\n    return { messages: filterNullable(ob11MsgList) }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { OB11GroupFile, OB11GroupFileFolder } from '@/onebot11/types'\nimport { GroupFileInfo } from '@/ntqqapi/types'\n\ninterface Payload {\n  group_id: number | string\n  folder_id: string\n}\n\ninterface Response {\n  files: OB11GroupFile[]\n  folders: OB11GroupFileFolder[]\n}\n\nexport class GetGroupFilesByFolder extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupFilesByFolder\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    folder_id: Schema.string().required()\n  })\n\n  async _handle(payload: Payload) {\n    const groupId = payload.group_id.toString()\n    const data: GroupFileInfo['item'] = []\n\n    let nextIndex: number | undefined\n    while (nextIndex !== 0) {\n      const res = await this.ctx.ntGroupApi.getGroupFileList(groupId, {\n        sortType: 1,\n        fileCount: 100,\n        startIndex: nextIndex ?? 0,\n        sortOrder: 2,\n        showOnlinedocFolder: 0,\n        folderId: payload.folder_id\n      })\n      data.push(...res.item)\n      nextIndex = res.nextIndex\n    }\n\n    return {\n      files: data.filter(item => item.fileInfo)\n        .map(item => {\n          const file = item.fileInfo!\n          return {\n            group_id: +item.peerId,\n            file_id: file.fileId,\n            file_name: file.fileName,\n            busid: file.busId,\n            file_size: +file.fileSize,\n            upload_time: file.uploadTime,\n            dead_time: file.deadTime,\n            modify_time: file.modifyTime,\n            download_times: file.downloadTimes,\n            uploader: +file.uploaderUin,\n            uploader_name: file.uploaderName\n          }\n        }),\n      folders: []\n    }\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { OB11User } from '../../types'\nimport { OB11Entities } from '../../entities'\nimport { ActionName } from '../types'\n\ninterface Category {\n  categoryId: number\n  categorySortId: number\n  categoryName: string\n  categoryMbCount: number\n  onlineCount: number\n  buddyList: OB11User[]\n}\n\nexport class GetFriendWithCategory extends BaseAction<void, Category[]> {\n  actionName = ActionName.GetFriendsWithCategory\n\n  protected async _handle() {\n    const data = await this.ctx.ntFriendApi.getBuddyV2WithCate(true)\n    return data.map(item => {\n      return {\n        categoryId: item.categoryId,\n        categorySortId: item.categorySortId,\n        categoryName: item.categroyName,\n        categoryMbCount: item.categroyMbCount,\n        onlineCount: item.onlineCount,\n        buddyList: item.buddyList.map(buddy => {\n          return OB11Entities.friendV2(buddy)\n        })\n      }\n    })\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { SendElement } from '@/ntqqapi/entities'\nimport { uri2local } from '@/common/utils'\nimport { createPeer, CreatePeerMode } from '../../helper/createMessage'\n\ninterface Payload {\n  group_id: number | string\n  file: string\n  name: string\n  folder?: string\n  folder_id?: string\n}\n\ninterface Response {\n  file_id: string\n}\n\nexport class UploadGroupFile extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_UploadGroupFile\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    file: Schema.string().required(),\n    name: Schema.string(),\n    folder: Schema.string(),\n    folder_id: Schema.string()\n  })\n\n  protected async _handle(payload: Payload) {\n    const { success, errMsg, path, fileName } = await uri2local(this.ctx, payload.file)\n    if (!success) {\n      throw new Error(errMsg)\n    }\n    const name = payload.name || fileName\n    if (name.includes('/') || name.includes('\\\\')) {\n      throw new Error(`文件名 ${name} 不合法`)\n    }\n    const file = await SendElement.file(this.ctx, path, name, payload.folder ?? payload.folder_id)\n    const peer = await createPeer(this.ctx, payload, CreatePeerMode.Group)\n    const msg = await this.ctx.app.sendMessage(this.ctx, peer, [file], [])\n    return {\n      file_id: msg!.elements[0].fileElement!.fileUuid\n    }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { SendElement } from '@/ntqqapi/entities'\nimport { uri2local } from '@/common/utils'\nimport { createPeer, CreatePeerMode } from '../../helper/createMessage'\n\ninterface UploadPrivateFilePayload {\n  user_id: number | string\n  file: string\n  name: string\n}\n\nexport class UploadPrivateFile extends BaseAction<UploadPrivateFilePayload, null> {\n  actionName = ActionName.GoCQHTTP_UploadPrivateFile\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required(),\n    file: Schema.string().required(),\n    name: Schema.string()\n  })\n\n  protected async _handle(payload: UploadPrivateFilePayload): Promise<null> {\n    const { success, errMsg, path, fileName } = await uri2local(this.ctx, payload.file)\n    if (!success) {\n      throw new Error(errMsg)\n    }\n    const name = payload.name || fileName\n    if (name.includes('/') || name.includes('\\\\')) {\n      throw new Error(`文件名 ${name} 不合法`)\n    }\n    const sendFileEle = await SendElement.file(this.ctx, path, name)\n    const peer = await createPeer(this.ctx, payload, CreatePeerMode.Private)\n    await this.ctx.app.sendMessage(this.ctx, peer, [sendFileEle], [])\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { pathToFileURL } from 'node:url'\nimport { ChatType } from '@/ntqqapi/types'\nimport { GroupFileInfo } from '@/ntqqapi/types'\n\nexport interface Payload {\n  group_id: number | string\n  file_id: string\n  busid?: number\n}\n\nexport interface Response {\n  url: string\n}\n\nexport class GetGroupFileUrl extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupFileUrl\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    file_id: Schema.string().required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const file = await this.ctx.store.getFileCacheById(payload.file_id)\n    if (file.length > 0) {\n      const { msgId, chatType, peerUid, elementId } = file[0]\n      const path = await this.ctx.ntFileApi.downloadMedia(msgId, chatType, peerUid, elementId)\n      return {\n        url: pathToFileURL(path).href\n      }\n    } else {\n      const groupId = payload.group_id.toString()\n      const modelId = await this.search(groupId, payload.file_id)\n      if (modelId) {\n        const peer = {\n          chatType: ChatType.Group,\n          peerUid: groupId,\n          guildId: ''\n        }\n        const path = await this.ctx.ntFileApi.downloadFileForModelId(peer, modelId)\n        return {\n          url: pathToFileURL(path).href\n        }\n      }\n      throw new Error('file not found')\n    }\n  }\n\n  private async search(groupId: string, fileId: string, folderId?: string) {\n    let modelId: string | undefined\n    let nextIndex: number | undefined\n    const folders: GroupFileInfo['item'] = []\n    while (nextIndex !== 0) {\n      const res = await this.ctx.ntGroupApi.getGroupFileList(groupId, {\n        sortType: 1,\n        fileCount: 100,\n        startIndex: nextIndex ?? 0,\n        sortOrder: 2,\n        showOnlinedocFolder: 0,\n        folderId\n      })\n      const file = res.item.find(item => item.fileInfo?.fileId === fileId)\n      if (file) {\n        modelId = file.fileInfo?.fileModelId\n        break\n      }\n      folders.push(...res.item.filter(item => item.folderInfo?.totalFileCount))\n      nextIndex = res.nextIndex\n    }\n    if (!modelId) {\n      for (const item of folders) {\n        const res = await this.search(groupId, fileId, item.folderInfo?.folderId)\n        if (res) {\n          modelId = res\n          break\n        }\n      }\n    }\n    return modelId\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n}\n\ninterface Notice {\n  sender_id: number\n  publish_time: number\n  message: {\n    text: string\n    images: {\n      height: string\n      width: string\n      id: string\n    }[]\n  }\n}\n\nexport class GetGroupNotice extends BaseAction<Payload, Notice[]> {\n  actionName = ActionName.GoCQHTTP_GetGroupNotice\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const data = await this.ctx.ntGroupApi.getGroupBulletinList(payload.group_id.toString())\n    const result: Notice[] = []\n    for (const feed of data.feeds) {\n      result.push({\n        sender_id: +feed.uin,\n        publish_time: +feed.publishTime,\n        message: {\n          text: feed.msg.text,\n          images: feed.msg.pics.map(image => {\n            return {\n              height: String(image.height),\n              width: String(image.width),\n              id: image.id\n            }\n          })\n        }\n      })\n    }\n    return result\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { Dict } from 'cosmokit'\n\nexport class GetRobotUinRange extends BaseAction<void, Dict[]> {\n  actionName = ActionName.GetRobotUinRange\n\n  async _handle() {\n    return await this.ctx.ntUserApi.getRobotUinRange()\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  user_id: number | string\n}\n\nexport class DeleteFriend extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_DeleteFriend\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const uin = payload.user_id.toString()\n    const uid = await this.ctx.ntUserApi.getUidByUin(uin)\n    if (!uid) throw new Error('无法获取用户信息')\n    await this.ctx.ntFriendApi.delBuddy(uid)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { uri2local } from '@/common/utils/file'\nimport { access, unlink } from 'node:fs/promises'\n\ninterface Payload {\n  image: string\n}\n\ninterface TextDetection {\n  text: string\n  confidence: number\n  coordinates: {\n    x: number //int32\n    y: number\n  }[]\n}\n\ninterface Response {\n  texts: TextDetection[]\n  language: string\n}\n\nexport class OCRImage extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_OCRImage\n  payloadSchema = Schema.object({\n    image: Schema.string().required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const { errMsg, isLocal, path, success } = await uri2local(this.ctx, payload.image, true)\n    if (!success) {\n      throw new Error(errMsg)\n    }\n    await access(path)\n\n    const data = await this.ctx.ntFileApi.ocrImage(path)\n    if (!isLocal) {\n        unlink(path).then().catch((e)=>{})\n    }\n\n    const texts = data.result.map(item => {\n      const ret: TextDetection = {\n        text: item.text,\n        confidence: 1,\n        coordinates: []\n      }\n      for (let i = 0; i < 4; i++) {\n        const pt = item[`pt${i + 1}`]\n        ret.coordinates.push({\n          x: parseInt(pt.x),\n          y: parseInt(pt.y)\n        })\n      }\n      return ret\n    })\n\n    return {\n      texts,\n      language: ''\n    }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n}\n\nexport class GroupPoke extends BaseAction<Payload, null> {\n  actionName = ActionName.GroupPoke\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required()\n  })\n\n  async _handle(payload: Payload) {\n    try{\n      await this.ctx.app.pmhq.sendGroupPoke(+payload.group_id, +payload.user_id)\n      return null\n    }catch (e) {\n      this.ctx.logger.error('pmhq 发包失败', e)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  user_id: number | string\n}\n\nexport class FriendPoke extends BaseAction<Payload, null> {\n  actionName = ActionName.FriendPoke\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required()\n  })\n\n  async _handle(payload: Payload) {\n    try {\n      await this.ctx.app.pmhq.sendFriendPoke(+payload.user_id)\n      return null\n    }catch (e) {\n      this.ctx.logger.error('pmhq 发包失败', e)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n}\n\ninterface Response {\n  file_count: number\n  limit_count: number\n  used_space: number\n  total_space: number\n}\n\nexport class GetGroupFileSystemInfo extends BaseAction<Payload, Response> {\n  actionName = ActionName.GoCQHTTP_GetGroupFileSystemInfo\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  async _handle(payload: Payload) {\n    const groupId = payload.group_id.toString()\n    const { groupFileCounts } = await this.ctx.ntGroupApi.getGroupFileCount(groupId)\n    const { groupSpaceResult } = await this.ctx.ntGroupApi.getGroupFileSpace(groupId)\n    return {\n      file_count: groupFileCounts[0],\n      limit_count: 10000,\n      used_space: +groupSpaceResult.usedSpace,\n      total_space: +groupSpaceResult.totalSpace,\n    }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  domain: string\n}\n\ninterface Response {\n  cookies: string\n  csrf_token: number\n}\n\nexport class GetCredentials extends BaseAction<Payload, Response> {\n  actionName = ActionName.GetCredentials\n  payloadSchema = Schema.object({\n    domain: Schema.string().required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const cookiesObject = await this.ctx.ntUserApi.getCookies(payload.domain)\n    //把获取到的cookiesObject转换成 k=v; 格式字符串拼接在一起\n    const cookies = Object.entries(cookiesObject).map(([key, value]) => `${key}=${value}`).join('; ')\n    const bkn = cookiesObject.skey ? this.ctx.ntWebApi.genBkn(cookiesObject.skey) : ''\n    return { cookies, csrf_token: +bkn }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\nimport { GroupMemberRole } from '@/ntqqapi/types'\n\ninterface Payload {\n  group_id: number | string\n  user_id: number | string\n  special_title: string\n}\n\nexport class SetGroupSpecialTitle extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_SetGroupSpecialTitle\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    user_id: Schema.union([Number, String]).required(),\n    special_title: Schema.string().default('')\n  })\n\n  async _handle(payload: Payload) {\n    const uid = await this.ctx.ntUserApi.getUidByUin(payload.user_id.toString(), payload.group_id.toString())\n    if (!uid) throw new Error(`用户${payload.user_id}的uid获取失败`)\n    const self = await this.ctx.ntGroupApi.getGroupMember(payload.group_id.toString(), selfInfo.uid, false)\n    if (self.role !== GroupMemberRole.Owner) {\n      throw new Error(`不是群${payload.group_id}的群主，无法设置群头衔`)\n    }\n    await this.ctx.app.pmhq.setSpecialTitle(+payload.group_id, uid, payload.special_title)\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\n\ninterface Payload {\n  group_id: number | string\n}\n\nexport class SendGroupSign extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_SendGroupSign\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n  })\n\n  async _handle() {\n    throw new Error('暂未实现群签到功能')\n    return null\n  }\n}\n","import { BaseAction } from '@/onebot11/action/BaseAction'\nimport { ActionName } from '@/onebot11/action/types'\n\nexport class SetRestart extends BaseAction<null, void> {\n  actionName = ActionName.SetRestart\n\n  protected async _handle() {\n    await this.ctx.ntSystemApi.restart()\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  user_id: number | string\n  category_id: number | string\n}\n\nexport class SetFriendCategory extends BaseAction<Payload, unknown> {\n  actionName = ActionName.SetFriendCategory\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required(),\n    category_id: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const uid = await this.ctx.ntUserApi.getUidByUin(payload.user_id.toString())\n    if (!uid) throw new Error('无法获取好友信息')\n    return this.ctx.ntFriendApi.setBuddyCategory(uid, +payload.category_id)\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  user_id: number | string\n  remark?: string\n}\n\nexport class SetFriendRemark extends BaseAction<Payload, unknown> {\n  actionName = ActionName.SetFriendRemark\n  payloadSchema = Schema.object({\n    user_id: Schema.union([Number, String]).required(),\n    remark: Schema.string()\n  })\n\n  protected async _handle(payload: Payload) {\n    const uid = await this.ctx.ntUserApi.getUidByUin(payload.user_id.toString())\n    if (!uid) throw new Error('无法获取好友信息')\n    return this.ctx.ntFriendApi.setBuddyRemark(uid, payload.remark || '')\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  mask: number | string  // 1, 2, 3, 4\n}\n\nexport class SetGroupMsgMask extends BaseAction<Payload, unknown> {\n  actionName = ActionName.SetGroupMsgMask\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    mask: Schema.union([Number, String]).required()\n  })\n\n  protected async _handle(payload: Payload) {\n    return this.ctx.ntGroupApi.setGroupMsgMask(payload.group_id.toString(), +payload.mask)\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: string,\n  remark?: string\n}\n\nexport class SetGroupRemark extends BaseAction<Payload, unknown> {\n  actionName = ActionName.SetGroupRemark\n\n  protected async _handle(payload: Payload): Promise<unknown>{\n    return this.ctx.ntGroupApi.setGroupRemark(payload.group_id.toString(), payload.remark)\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\n\ninterface Payload {\n  nickname?: string\n  personal_note?: string\n}\n\nexport class SetQQProfile extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_SetQQProfile\n  payloadSchema = Schema.object({\n    nickname: Schema.string(),\n    personal_note: Schema.string()\n  })\n\n  async _handle(payload: Payload) {\n    const old = await this.ctx.ntUserApi.getUserDetailInfoWithBizInfo(selfInfo.uid)\n    await this.ctx.ntUserApi.modifySelfProfile({\n      nick: payload.nickname ?? old.coreInfo.nick,\n      longNick: payload.personal_note ?? old.baseInfo.longNick,\n      sex: old.baseInfo.sex,\n      birthday: {\n        birthday_year: old.baseInfo.birthday_year,\n        birthday_month: old.baseInfo.birthday_month,\n        birthday_day: old.baseInfo.birthday_day,\n      },\n      location: {\n        country: '',\n        province: '',\n        city: '',\n        zone: ''\n      },\n    })\n    return null\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { selfInfo } from '@/common/globalVars'\nimport { Dict } from 'cosmokit'\nimport { Schema } from '@/onebot11/action/BaseAction'\n\ninterface Payload {\n  start: number | string\n  count: number | string\n}\n\ninterface Response {\n  users: Dict[]\n  nextStart: number\n}\n\nexport class GetProfileLike extends BaseAction<Payload, Response> {\n  actionName = ActionName.GetProfileLike\n  payloadSchema = Schema.object({\n    start: Schema.union([Number, String]).default(0), // 从0开始，-1表示获取全部\n    count: Schema.union([Number, String]).default(20)  // 最多30一页\n  })\n\n  async _handle(payload: Payload) {\n    const ret = await this.ctx.ntUserApi.getProfileLike(selfInfo.uid, +payload.start, +payload.count)\n    const users = ret.info.userLikeInfos[0].favoriteInfo.userInfos\n    for (const item of users) {\n      try {\n        item.uin = Number(await this.ctx.ntUserApi.getUinByUid(item.uid)) || 0\n      } catch (e) {\n        item.uin = 0\n      }\n    }\n    return { users, nextStart: ret.info.start }\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Response {\n  token: number\n}\n\nexport class GetCsrfToken extends BaseAction<null, Response> {\n  actionName = ActionName.GetCsrfToken\n\n  protected async _handle() {\n    const cookiesObject = await this.ctx.ntUserApi.getCookies('h5.qzone.qq.com')\n    const bkn = this.ctx.ntWebApi.genBkn(cookiesObject.skey)\n    return { token: +bkn }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { uri2local } from '@/common/utils/file'\nimport { unlink } from 'node:fs/promises'\n\ninterface Payload {\n  group_id: number | string\n  file: string\n  cache?: 0 | 1\n}\n\nexport class SetGroupPortrait extends BaseAction<Payload, null> {\n  actionName = ActionName.GoCQHTTP_SetGroupPortrait\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    file: Schema.string().required()\n  })\n\n  protected async _handle(payload: Payload) {\n    const { path, isLocal, errMsg } = await uri2local(this.ctx, payload.file)\n    if (errMsg) {\n      throw new Error(errMsg)\n    }\n    const groupCode = payload.group_id.toString()\n    const res = await this.ctx.ntGroupApi.setGroupAvatar(groupCode, path)\n    if (!isLocal) {\n        unlink(path).then().catch(e=>{})\n    }\n    if (res.result !== 0) {\n      throw new Error(res.errMsg)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  file_id: string\n  parent_directory: string\n  target_directory: string\n}\n\nexport class MoveGroupFile extends BaseAction<Payload, null> {\n  actionName = ActionName.MoveGroupFile\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    file_id: Schema.string().required(),\n    parent_directory: Schema.string().required(),\n    target_directory: Schema.string().required()\n  })\n\n  async _handle(payload: Payload) {\n    const groupId = payload.group_id.toString()\n    const res = await this.ctx.ntGroupApi.moveGroupFile(groupId, [payload.file_id], payload.parent_directory, payload.target_directory)\n    if (res.result !== 0) {\n      throw new Error(res.errMsg)\n    }\n    return null\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\nimport { GroupMember } from '@/ntqqapi/types'\nimport { DetailedError } from '@/common/utils'\n\ninterface Payload {\n  group_id: number | string\n}\n\nexport class GetGroupShutList extends BaseAction<Payload, GroupMember[]> {\n  actionName = ActionName.GetGroupShutList\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required()\n  })\n\n  async _handle(payload: Payload) {\n    try {\n      const groupCode = payload.group_id.toString()\n      return await this.ctx.ntGroupApi.getGroupShutUpMemberList(groupCode)\n    } catch (e) {\n      if (e instanceof DetailedError) {\n        if (e.data.result === 120271006) {\n          return []\n        } else {\n          throw new Error(e.data.errMsg)\n        }\n      }\n      throw e\n    }\n  }\n}\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  group_id: number | string\n  folder_id: string\n  new_folder_name: string\n}\n\nexport class RenameGroupFileFolder extends BaseAction<Payload, null> {\n  actionName = ActionName.RenameGroupFileFolder\n  payloadSchema = Schema.object({\n    group_id: Schema.union([Number, String]).required(),\n    folder_id: Schema.string().required(),\n    new_folder_name: Schema.string().required()\n  })\n\n  async _handle(payload: Payload) {\n    const groupId = payload.group_id.toString()\n    const res = await this.ctx.ntGroupApi.renameGroupFolder(groupId, payload.folder_id, payload.new_folder_name)\n    if (res.resultWithGroupItem.result.retCode !== 0) {\n      throw new Error(res.resultWithGroupItem.result.clientWording)\n    }\n    return null\n  }\n}\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/database.ts\nimport { deduplicate, defineProperty as defineProperty5, filterKeys as filterKeys3, isNullable as isNullable5, makeArray as makeArray2, mapValues as mapValues5, noop, omit, pick, remove } from \"cosmokit\";\nimport { Context, Service } from \"cordis\";\n\n// src/utils.ts\nimport { Binary as Binary2, isNullable as isNullable4 } from \"cosmokit\";\n\n// src/eval.ts\nimport { defineProperty as defineProperty3, isNullable as isNullable3, mapValues as mapValues3 } from \"cosmokit\";\n\n// src/type.ts\nimport { Binary, defineProperty, isNullable, mapValues } from \"cosmokit\";\nvar Type;\n((Type2) => {\n  Type2.kType = Symbol.for(\"minato.type\");\n  Type2.Any = fromField(\"expr\");\n  Type2.Boolean = fromField(\"boolean\");\n  Type2.Number = fromField(\"double\");\n  Type2.String = fromField(\"string\");\n  Type2.Object = /* @__PURE__ */ __name((obj) => defineProperty({\n    type: \"json\",\n    inner: globalThis.Object.keys(obj ?? {}).length ? mapValues(obj, (value) => isType(value) ? value : fromField(value)) : void 0\n  }, Type2.kType, true), \"Object\");\n  Type2.Array = /* @__PURE__ */ __name((type) => defineProperty({\n    type: \"json\",\n    inner: type,\n    array: true\n  }, Type2.kType, true), \"Array\");\n  function fromPrimitive(value) {\n    if (isNullable(value)) return fromField(\"expr\");\n    else if (typeof value === \"number\") return Type2.Number;\n    else if (typeof value === \"string\") return Type2.String;\n    else if (typeof value === \"boolean\") return Type2.Boolean;\n    else if (typeof value === \"bigint\") return fromField(\"bigint\");\n    else if (value instanceof Date) return fromField(\"timestamp\");\n    else if (Binary.is(value)) return fromField(\"binary\");\n    else if (globalThis.Array.isArray(value)) return (0, Type2.Array)(value.length ? fromPrimitive(value[0]) : void 0);\n    else if (typeof value === \"object\") return fromField(\"json\");\n    throw new TypeError(`invalid primitive: ${value}`);\n  }\n  Type2.fromPrimitive = fromPrimitive;\n  __name(fromPrimitive, \"fromPrimitive\");\n  function fromField(field) {\n    if (isType(field)) return field;\n    else if (field === \"array\") return (0, Type2.Array)();\n    else if (field === \"object\") return (0, Type2.Object)();\n    else if (typeof field === \"string\") return defineProperty({ type: field }, Type2.kType, true);\n    else if (field.type) return field.type;\n    else if (field.expr?.[Type2.kType]) return field.expr[Type2.kType];\n    throw new TypeError(`invalid field: ${field}`);\n  }\n  Type2.fromField = fromField;\n  __name(fromField, \"fromField\");\n  function fromTerm(value, initial) {\n    if (isEvalExpr(value)) return value[Type2.kType] ?? initial ?? fromField(\"expr\");\n    else return fromPrimitive(value);\n  }\n  Type2.fromTerm = fromTerm;\n  __name(fromTerm, \"fromTerm\");\n  function fromTerms(values, initial) {\n    return values.map((x) => fromTerm(x)).find((type) => type.type !== \"expr\") ?? initial ?? fromField(\"expr\");\n  }\n  Type2.fromTerms = fromTerms;\n  __name(fromTerms, \"fromTerms\");\n  function isType(value) {\n    return value?.[Type2.kType] === true;\n  }\n  Type2.isType = isType;\n  __name(isType, \"isType\");\n  function isArray(type) {\n    return type?.type === \"json\" && type?.array;\n  }\n  Type2.isArray = isArray;\n  __name(isArray, \"isArray\");\n  function getInner(type, key) {\n    if (!type?.inner) return;\n    if (isArray(type)) return type.inner;\n    if (isNullable(key)) return;\n    if (type.inner[key]) return type.inner[key];\n    if (key.includes(\".\")) return key.split(\".\").reduce((t, k) => getInner(t, k), type);\n    const fields = globalThis.Object.entries(type.inner).filter(([k]) => k.startsWith(`${key}.`)).map(([k, v]) => [k.slice(key.length + 1), v]);\n    return fields.length ? (0, Type2.Object)(globalThis.Object.fromEntries(fields)) : void 0;\n  }\n  Type2.getInner = getInner;\n  __name(getInner, \"getInner\");\n  function transform(value, type, callback) {\n    if (!isNullable(value) && type?.inner) {\n      if (Type2.isArray(type)) {\n        return value.map((x) => callback(x, Type2.getInner(type))).filter((x) => !type.ignoreNull || !isEmpty(x));\n      } else {\n        if (type.ignoreNull && isEmpty(value)) return null;\n        return mapValues(value, (x, k) => callback(x, Type2.getInner(type, k)));\n      }\n    }\n    return value;\n  }\n  Type2.transform = transform;\n  __name(transform, \"transform\");\n})(Type || (Type = {}));\n\n// src/model.ts\nimport { clone, deepEqual, defineProperty as defineProperty2, filterKeys, isNullable as isNullable2, makeArray, mapValues as mapValues2 } from \"cosmokit\";\nvar Primary = Symbol(\"minato.primary\");\nvar Relation;\n((Relation4) => {\n  const Marker = Symbol(\"minato.relation\");\n  Relation4.Type = [\"oneToOne\", \"oneToMany\", \"manyToOne\", \"manyToMany\"];\n  function buildAssociationTable(...tables) {\n    return \"_\" + tables.sort().join(\"_\");\n  }\n  Relation4.buildAssociationTable = buildAssociationTable;\n  __name(buildAssociationTable, \"buildAssociationTable\");\n  function buildAssociationKey(key, table) {\n    return `${table}.${key}`;\n  }\n  Relation4.buildAssociationKey = buildAssociationKey;\n  __name(buildAssociationKey, \"buildAssociationKey\");\n  function buildSharedKey(field, reference) {\n    return [field, reference].sort().join(\"_\");\n  }\n  Relation4.buildSharedKey = buildSharedKey;\n  __name(buildSharedKey, \"buildSharedKey\");\n  function parse(def, key, model, relmodel, subprimary) {\n    const shared = !def.shared ? {} : typeof def.shared === \"string\" ? { [def.shared]: def.shared } : Array.isArray(def.shared) ? Object.fromEntries(def.shared.map((x) => [x, x])) : def.shared;\n    const fields = def.fields ?? (subprimary || def.type === \"manyToOne\" || def.type === \"oneToOne\" && (model.name === relmodel.name || !makeArray(relmodel.primary).every((key2) => !relmodel.fields[key2]?.nullable)) ? makeArray(relmodel.primary).map((x) => `${key}.${x}`) : model.primary);\n    const relation = {\n      type: def.type,\n      table: def.table ?? relmodel.name,\n      fields: makeArray(fields),\n      shared,\n      references: makeArray(def.references ?? relmodel.primary),\n      required: def.type !== \"manyToOne\" && model.name !== relmodel.name && makeArray(fields).every((key2) => !model.fields[key2]?.nullable || makeArray(model.primary).includes(key2))\n    };\n    Object.entries(shared).forEach(([k, v]) => {\n      relation.fields = relation.fields.filter((x) => x !== k);\n      relation.references = relation.references.filter((x) => x !== v);\n    });\n    const inverse = {\n      type: relation.type === \"oneToMany\" ? \"manyToOne\" : relation.type === \"manyToOne\" ? \"oneToMany\" : relation.type,\n      table: model.name,\n      fields: relation.references,\n      references: relation.fields,\n      shared: Object.fromEntries(Object.entries(shared).map(([k, v]) => [v, k])),\n      required: relation.type !== \"oneToMany\" && relation.references.every((key2) => !relmodel.fields[key2]?.nullable || makeArray(relmodel.primary).includes(key2))\n    };\n    if (inverse.required) relation.required = false;\n    return [relation, inverse];\n  }\n  Relation4.parse = parse;\n  __name(parse, \"parse\");\n})(Relation || (Relation = {}));\nvar Field;\n((Field2) => {\n  Field2.number = [\"integer\", \"unsigned\", \"float\", \"double\", \"decimal\"];\n  Field2.string = [\"char\", \"string\", \"text\"];\n  Field2.boolean = [\"boolean\"];\n  Field2.date = [\"timestamp\", \"date\", \"time\"];\n  Field2.object = [\"list\", \"json\"];\n  const NewType = Symbol(\"minato.newtype\");\n  const regexp = /^(\\w+)(?:\\((.+)\\))?$/;\n  function parse(source) {\n    if (typeof source === \"function\") throw new TypeError(\"view field is not supported\");\n    if (typeof source !== \"string\") {\n      return {\n        initial: null,\n        deftype: source.type,\n        ...source,\n        type: Type.fromField(source.type)\n      };\n    }\n    const capture = regexp.exec(source);\n    if (!capture) throw new TypeError(\"invalid field definition\");\n    const type = capture[1];\n    const args = (capture[2] || \"\").split(\",\");\n    const field = { deftype: type, type: Type.fromField(type) };\n    if (field.initial === void 0) field.initial = getInitial(type);\n    if (type === \"decimal\") {\n      field.precision = +args[0];\n      field.scale = +args[1];\n    } else if (args[0]) {\n      field.length = +args[0];\n    }\n    return field;\n  }\n  Field2.parse = parse;\n  __name(parse, \"parse\");\n  function getInitial(type, initial) {\n    if (initial === void 0) {\n      if (Field2.number.includes(type)) return 0;\n      if (Field2.string.includes(type)) return \"\";\n      if (type === \"list\") return [];\n      if (type === \"json\") return {};\n    }\n    return initial;\n  }\n  Field2.getInitial = getInitial;\n  __name(getInitial, \"getInitial\");\n  function available(field) {\n    return !!field && !field.deprecated && !field.relation && field.deftype !== \"expr\";\n  }\n  Field2.available = available;\n  __name(available, \"available\");\n})(Field || (Field = {}));\nvar Model = class {\n  constructor(name) {\n    this.name = name;\n    this.autoInc = false;\n    this.primary = \"id\";\n    this.unique = [];\n    this.indexes = [];\n    this.foreign = {};\n  }\n  static {\n    __name(this, \"Model\");\n  }\n  fields = {};\n  migrations = /* @__PURE__ */ new Map();\n  extend(fields = {}, config = {}) {\n    const { primary, autoInc, unique = [], indexes = [], foreign, callback } = config;\n    this.primary = primary || this.primary;\n    this.autoInc = autoInc || this.autoInc;\n    unique.forEach((key) => this.unique.includes(key) || this.unique.push(key));\n    indexes.map((x) => this.parseIndex(x)).forEach((index) => this.indexes.some((ind) => deepEqual(ind, index)) || this.indexes.push(index));\n    Object.assign(this.foreign, foreign);\n    if (callback) this.migrations.set(callback, Object.keys(fields));\n    for (const key in fields) {\n      this.fields[key] = Field.parse(fields[key]);\n      this.fields[key].deprecated = !!callback;\n    }\n    if (typeof this.primary === \"string\" && this.fields[this.primary]?.deftype === \"primary\") {\n      this.autoInc = true;\n    }\n    this.checkIndex(this.primary);\n    this.unique.forEach((index) => this.checkIndex(index));\n    this.indexes.forEach((index) => this.checkIndex(index));\n  }\n  parseIndex(index) {\n    if (typeof index === \"string\" || Array.isArray(index)) {\n      return {\n        name: `index:${this.name}:` + makeArray(index).join(\"+\"),\n        unique: false,\n        keys: Object.fromEntries(makeArray(index).map((key) => [key, \"asc\"]))\n      };\n    } else {\n      return {\n        name: index.name ?? `index:${this.name}:` + Object.keys(index.keys).join(\"+\"),\n        unique: index.unique ?? false,\n        keys: index.keys\n      };\n    }\n  }\n  checkIndex(index) {\n    for (const key of typeof index === \"string\" || Array.isArray(index) ? makeArray(index) : Object.keys(index.keys)) {\n      if (!this.fields[key]) {\n        throw new TypeError(`missing field definition for index key \"${key}\"`);\n      }\n    }\n  }\n  resolveValue(field, value) {\n    if (isNullable2(value)) return value;\n    if (typeof field === \"string\") field = this.fields[field];\n    if (field) field = Type.fromField(field);\n    if (field?.type === \"time\") {\n      const date = /* @__PURE__ */ new Date(0);\n      date.setHours(value.getHours(), value.getMinutes(), value.getSeconds(), value.getMilliseconds());\n      return date;\n    } else if (field?.type === \"date\") {\n      const date = new Date(value);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    }\n    return value;\n  }\n  resolveModel(obj, model) {\n    if (!model) model = this.getType();\n    if (isNullable2(obj) || !model.inner) return obj;\n    if (Type.isArray(model) && Array.isArray(obj)) {\n      return obj.map((x) => this.resolveModel(x, Type.getInner(model)));\n    }\n    const result = {};\n    for (const key in obj) {\n      const type = Type.getInner(model, key);\n      if (!type || isNullable2(obj[key])) {\n        result[key] = obj[key];\n      } else if (type.type !== \"json\") {\n        result[key] = this.resolveValue(type, obj[key]);\n      } else if (isEvalExpr(obj[key])) {\n        result[key] = obj[key];\n      } else if (type.inner && Type.isArray(type) && Array.isArray(obj[key])) {\n        result[key] = obj[key].map((x) => this.resolveModel(x, Type.getInner(type)));\n      } else if (type.inner) {\n        result[key] = this.resolveModel(obj[key], type);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n    return result;\n  }\n  format(source, strict = true, prefix = \"\", result = {}) {\n    const fields = Object.keys(this.fields).filter((key) => !this.fields[key].relation);\n    Object.entries(source).map(([key, value]) => {\n      key = prefix + key;\n      if (value === void 0) return;\n      if (fields.includes(key)) {\n        result[key] = value;\n        return;\n      }\n      const field = fields.find((field2) => key.startsWith(field2 + \".\"));\n      if (field) {\n        result[key] = value;\n      } else if (isFlat(value)) {\n        if (strict && (typeof value !== \"object\" || Object.keys(value).length)) {\n          throw new TypeError(`unknown field \"${key}\" in model ${this.name}`);\n        }\n      } else {\n        this.format(value, strict, key + \".\", result);\n      }\n    });\n    return strict && prefix === \"\" ? this.resolveModel(result) : result;\n  }\n  parse(source, strict = true, prefix = \"\", result = {}) {\n    const fields = Object.keys(this.fields).filter((key) => !this.fields[key].relation);\n    if (strict && prefix === \"\") {\n      Object.assign(result, unravel(\n        Object.fromEntries(fields.filter((key) => key.includes(\".\")).map((key) => [key.slice(0, key.lastIndexOf(\".\")), {}]))\n      ));\n    }\n    for (const key in source) {\n      let node = result;\n      const segments = key.split(\".\").reverse();\n      for (let index = segments.length - 1; index > 0; index--) {\n        const segment = segments[index];\n        node = node[segment] ??= {};\n      }\n      if (key in source) {\n        const fullKey = prefix + key, value = source[key];\n        const field = fields.find((field2) => fullKey === field2 || fullKey.startsWith(field2 + \".\"));\n        if (field) {\n          node[segments[0]] = value;\n        } else if (isFlat(value)) {\n          if (strict) {\n            throw new TypeError(`unknown field \"${fullKey}\" in model ${this.name}`);\n          } else {\n            node[segments[0]] = value;\n          }\n        } else {\n          this.parse(value, strict, fullKey + \".\", node[segments[0]] ??= {});\n        }\n      }\n    }\n    return strict && prefix === \"\" ? this.resolveModel(result) : result;\n  }\n  create(data) {\n    const result = {};\n    const keys = makeArray(this.primary);\n    for (const key in this.fields) {\n      if (!Field.available(this.fields[key])) continue;\n      const { initial } = this.fields[key];\n      if (!keys.includes(key) && !isNullable2(initial)) {\n        result[key] = clone(initial);\n      }\n    }\n    return this.parse({ ...result, ...data });\n  }\n  avaiableFields() {\n    return filterKeys(this.fields, (_, field) => Field.available(field));\n  }\n  getType(key) {\n    if (!this.type) defineProperty2(this, \"type\", Type.Object(mapValues2(this.fields, (field) => Type.fromField(field))));\n    return key ? Type.getInner(this.type, key) : this.type;\n  }\n};\n\n// src/eval.ts\nfunction isEvalExpr(value) {\n  return value && Object.keys(value).some((key) => key.startsWith(\"$\"));\n}\n__name(isEvalExpr, \"isEvalExpr\");\nvar isUpdateExpr = isEvalExpr;\nfunction isAggrExpr(expr) {\n  return expr[\"$\"] || expr[\"$select\"];\n}\n__name(isAggrExpr, \"isAggrExpr\");\nfunction hasSubquery(value) {\n  if (!isEvalExpr(value)) return false;\n  return Object.entries(value).filter(([k]) => k.startsWith(\"$\")).some(([k, v]) => {\n    if (isNullable3(v) || isComparable(v)) return false;\n    if (k === \"$exec\") return true;\n    if (isEvalExpr(v)) return hasSubquery(v);\n    if (Array.isArray(v)) return v.some((x) => hasSubquery(x));\n    if (typeof v === \"object\") return Object.values(v).some((x) => hasSubquery(x));\n    return false;\n  });\n}\n__name(hasSubquery, \"hasSubquery\");\nvar kExpr = Symbol(\"expr\");\nvar kType = Symbol(\"type\");\nvar kAggr = Symbol(\"aggr\");\nvar Eval3 = /* @__PURE__ */ __name((key, value, type) => defineProperty3(defineProperty3({ [\"$\" + key]: value }, kExpr, true), Type.kType, type), \"Eval\");\nvar operators = /* @__PURE__ */ Object.create(null);\noperators[\"$\"] = getRecursive;\nfunction unary(key, callback, type) {\n  operators[`$${key}`] = callback;\n  return (value) => Eval3(key, value, typeof type === \"function\" ? type(value) : type);\n}\n__name(unary, \"unary\");\nfunction multary(key, callback, type) {\n  operators[`$${key}`] = callback;\n  return (...args) => Eval3(key, args, typeof type === \"function\" ? type(...args) : type);\n}\n__name(multary, \"multary\");\nfunction comparator(key, callback) {\n  operators[`$${key}`] = (args, data) => {\n    const left = executeEval(data, args[0]);\n    const right = executeEval(data, args[1]);\n    if (isNullable3(left) || isNullable3(right)) return true;\n    return callback(left.valueOf(), right.valueOf());\n  };\n  return (...args) => Eval3(key, args, Type.Boolean);\n}\n__name(comparator, \"comparator\");\nEval3.switch = (branches, vDefault) => Eval3(\"switch\", { branches, default: vDefault }, Type.fromTerm(branches[0]));\noperators.$switch = (args, data) => {\n  for (const branch of args.branches) {\n    if (executeEval(data, branch.case)) return executeEval(data, branch.then);\n  }\n  return executeEval(data, args.default);\n};\nEval3.ignoreNull = (expr) => (expr[\"$ignoreNull\"] = true, expr[Type.kType].ignoreNull = true, expr);\nEval3.select = multary(\"select\", (args, table) => args.map((arg) => executeEval(table, arg)), Type.Array());\nEval3.query = (row, query, expr = true) => ({ $expr: expr, ...query });\nEval3.exec = unary(\"exec\", (expr, data) => expr.driver.executeSelection(expr, data), (expr) => Type.fromTerm(expr.args[0]));\nEval3.if = multary(\"if\", ([cond, vThen, vElse], data) => executeEval(data, cond) ? executeEval(data, vThen) : executeEval(data, vElse), (cond, vThen, vElse) => Type.fromTerm(vThen));\nEval3.ifNull = multary(\"ifNull\", ([value, fallback], data) => executeEval(data, value) ?? executeEval(data, fallback), (value) => Type.fromTerm(value));\nEval3.add = multary(\"add\", (args, data) => args.reduce((prev, curr) => prev + executeEval(data, curr), 0), Type.Number);\nEval3.mul = Eval3.multiply = multary(\"multiply\", (args, data) => args.reduce((prev, curr) => prev * executeEval(data, curr), 1), Type.Number);\nEval3.sub = Eval3.subtract = multary(\"subtract\", ([left, right], data) => executeEval(data, left) - executeEval(data, right), Type.Number);\nEval3.div = Eval3.divide = multary(\"divide\", ([left, right], data) => executeEval(data, left) / executeEval(data, right), Type.Number);\nEval3.mod = Eval3.modulo = multary(\"modulo\", ([left, right], data) => executeEval(data, left) % executeEval(data, right), Type.Number);\nEval3.abs = unary(\"abs\", (arg, data) => Math.abs(executeEval(data, arg)), Type.Number);\nEval3.floor = unary(\"floor\", (arg, data) => Math.floor(executeEval(data, arg)), Type.Number);\nEval3.ceil = unary(\"ceil\", (arg, data) => Math.ceil(executeEval(data, arg)), Type.Number);\nEval3.round = unary(\"round\", (arg, data) => Math.round(executeEval(data, arg)), Type.Number);\nEval3.exp = unary(\"exp\", (arg, data) => Math.exp(executeEval(data, arg)), Type.Number);\nEval3.log = multary(\"log\", ([left, right], data) => Math.log(executeEval(data, left)) / Math.log(executeEval(data, right ?? Math.E)), Type.Number);\nEval3.pow = Eval3.power = multary(\"power\", ([left, right], data) => Math.pow(executeEval(data, left), executeEval(data, right)), Type.Number);\nEval3.random = () => Eval3(\"random\", {}, Type.Number);\noperators.$random = () => Math.random();\nEval3.eq = comparator(\"eq\", (left, right) => left === right);\nEval3.ne = comparator(\"ne\", (left, right) => left !== right);\nEval3.gt = comparator(\"gt\", (left, right) => left > right);\nEval3.ge = Eval3.gte = comparator(\"gte\", (left, right) => left >= right);\nEval3.lt = comparator(\"lt\", (left, right) => left < right);\nEval3.le = Eval3.lte = comparator(\"lte\", (left, right) => left <= right);\nEval3.in = (value, array) => Eval3(\"in\", [Array.isArray(value) ? Eval3.select(...value) : value, array], Type.Boolean);\noperators.$in = ([value, array], data) => {\n  const val = executeEval(data, value), arr = executeEval(data, array);\n  if (typeof val === \"object\") return arr.includes(val) || arr.map(JSON.stringify).includes(JSON.stringify(val));\n  return arr.includes(val);\n};\nEval3.nin = (value, array) => Eval3(\"nin\", [Array.isArray(value) ? Eval3.select(...value) : value, array], Type.Boolean);\noperators.$nin = ([value, array], data) => {\n  const val = executeEval(data, value), arr = executeEval(data, array);\n  if (typeof val === \"object\") return !arr.includes(val) && !arr.map(JSON.stringify).includes(JSON.stringify(val));\n  return !arr.includes(val);\n};\nEval3.concat = multary(\"concat\", (args, data) => args.map((arg) => executeEval(data, arg)).join(\"\"), Type.String);\nEval3.regex = multary(\"regex\", ([value, regex, flags], data) => makeRegExp(executeEval(data, regex), flags).test(executeEval(data, value)), Type.Boolean);\nEval3.and = multary(\"and\", (args, data) => {\n  const type = Type.fromTerms(args, Type.Boolean);\n  if (Field.boolean.includes(type.type)) return args.every((arg) => executeEval(data, arg));\n  else if (Field.number.includes(type.type)) return args.map((arg) => executeEval(data, arg)).reduce((prev, curr) => prev & curr);\n  else if (type.type === \"bigint\") return args.map((arg) => BigInt(executeEval(data, arg) ?? 0)).reduce((prev, curr) => prev & curr);\n}, (...args) => Type.fromTerms(args, Type.Boolean));\nEval3.or = multary(\"or\", (args, data) => {\n  const type = Type.fromTerms(args, Type.Boolean);\n  if (Field.boolean.includes(type.type)) return args.some((arg) => executeEval(data, arg));\n  else if (Field.number.includes(type.type)) return args.map((arg) => executeEval(data, arg)).reduce((prev, curr) => prev | curr);\n  else if (type.type === \"bigint\") return args.map((arg) => BigInt(executeEval(data, arg) ?? 0)).reduce((prev, curr) => prev | curr);\n}, (...args) => Type.fromTerms(args, Type.Boolean));\nEval3.not = unary(\"not\", (value, data) => {\n  const type = Type.fromTerms([value], Type.Boolean);\n  if (Field.boolean.includes(type.type)) return !executeEval(data, value);\n  else if (Field.number.includes(type.type)) return ~executeEval(data, value);\n  else if (type.type === \"bigint\") return ~BigInt(executeEval(data, value) ?? 0);\n}, (value) => Type.fromTerms([value], Type.Boolean));\nEval3.xor = multary(\"xor\", (args, data) => {\n  const type = Type.fromTerms(args, Type.Boolean);\n  if (Field.boolean.includes(type.type)) return args.map((arg) => executeEval(data, arg)).reduce((prev, curr) => prev !== curr);\n  else if (Field.number.includes(type.type)) return args.map((arg) => executeEval(data, arg)).reduce((prev, curr) => prev ^ curr);\n  else if (type.type === \"bigint\") return args.map((arg) => BigInt(executeEval(data, arg) ?? 0)).reduce((prev, curr) => prev ^ curr);\n}, (...args) => Type.fromTerms(args, Type.Boolean));\nEval3.literal = multary(\"literal\", ([value, type]) => value, (value, type) => type ? Type.fromField(type) : Type.fromTerm(value));\nEval3.number = unary(\"number\", (arg, data) => {\n  const value = executeEval(data, arg);\n  return value instanceof Date ? Math.floor(value.valueOf() / 1e3) : Number(value);\n}, Type.Number);\nvar unwrapAggr = /* @__PURE__ */ __name((expr, def) => {\n  let type = Type.fromTerm(expr);\n  type = Type.getInner(type) ?? type;\n  return def && type.type === \"expr\" ? def : type;\n}, \"unwrapAggr\");\nEval3.sum = unary(\"sum\", (expr, table) => Array.isArray(table) ? table.reduce((prev, curr) => prev + executeAggr(expr, curr), 0) : Array.from(executeEval(table, expr)).reduce((prev, curr) => prev + curr, 0), Type.Number);\nEval3.avg = unary(\"avg\", (expr, table) => {\n  if (Array.isArray(table)) return table.reduce((prev, curr) => prev + executeAggr(expr, curr), 0) / table.length;\n  else {\n    const array = Array.from(executeEval(table, expr));\n    return array.reduce((prev, curr) => prev + curr, 0) / array.length;\n  }\n}, Type.Number);\nEval3.max = unary(\"max\", (expr, table) => Array.isArray(table) ? table.map((data) => executeAggr(expr, data)).reduce((x, y) => x > y ? x : y, -Infinity) : Array.from(executeEval(table, expr)).reduce((x, y) => x > y ? x : y, -Infinity), (expr) => unwrapAggr(expr, Type.Number));\nEval3.min = unary(\"min\", (expr, table) => Array.isArray(table) ? table.map((data) => executeAggr(expr, data)).reduce((x, y) => x < y ? x : y, Infinity) : Array.from(executeEval(table, expr)).reduce((x, y) => x < y ? x : y, Infinity), (expr) => unwrapAggr(expr, Type.Number));\nEval3.count = unary(\"count\", (expr, table) => new Set(table.map((data) => executeAggr(expr, data))).size, Type.Number);\ndefineProperty3(Eval3, \"length\", unary(\"length\", (expr, table) => Array.isArray(table) ? table.map((data) => executeAggr(expr, data)).length : Array.from(executeEval(table, expr)).length, Type.Number));\noperators.$object = (field, table) => mapValues3(field, (value) => executeAggr(value, table));\nEval3.object = (fields) => {\n  if (fields.$model) {\n    const modelFields = Object.entries(fields.$model.fields);\n    const prefix = fields.$prefix;\n    fields = Object.fromEntries(modelFields.filter(([, field]) => Field.available(field)).filter(([path]) => path.startsWith(prefix)).map(([k]) => [k.slice(prefix.length), fields[k.slice(prefix.length)]]));\n    return Eval3(\"object\", fields, Type.Object(mapValues3(fields, (value) => Type.fromTerm(value))));\n  }\n  return Eval3(\"object\", fields, Type.Object(mapValues3(fields, (value) => Type.fromTerm(value))));\n};\nEval3.array = unary(\"array\", (expr, table) => Array.isArray(table) ? table.map((data) => executeAggr(expr, data)).filter((x) => !expr[Type.kType]?.ignoreNull || !isEmpty(x)) : Array.from(executeEval(table, expr)).filter((x) => !expr[Type.kType]?.ignoreNull || !isEmpty(x)), (expr) => Type.Array(Type.fromTerm(expr)));\nEval3.get = multary(\"get\", ([x, key], data) => executeEval(data, x)?.[executeEval(data, key)], (x, key) => Type.getInner(Type.fromTerm(x), key) ?? Type.Any);\nfunction getRecursive(args, data) {\n  if (typeof args === \"string\") {\n    return getRecursive([\"_\", args], data);\n  }\n  const [ref, path] = args;\n  let value = data[ref];\n  if (!value) return value;\n  if (path in value) return value[path];\n  const prefix = Object.keys(value).find((s) => path.startsWith(s + \".\")) || path.split(\".\", 1)[0];\n  const rest = path.slice(prefix.length + 1).split(\".\").filter(Boolean);\n  rest.unshift(prefix);\n  for (const key of rest) {\n    value = value[key];\n    if (!value) return value;\n  }\n  return value;\n}\n__name(getRecursive, \"getRecursive\");\nfunction executeEvalExpr(expr, data) {\n  for (const key in expr) {\n    if (key in operators) {\n      return operators[key](expr[key], data);\n    }\n  }\n  return expr;\n}\n__name(executeEvalExpr, \"executeEvalExpr\");\nfunction executeAggr(expr, data) {\n  if (typeof expr === \"string\") {\n    return getRecursive(expr, data);\n  }\n  return executeEvalExpr(expr, data);\n}\n__name(executeAggr, \"executeAggr\");\nfunction executeEval(data, expr) {\n  if (isComparable(expr) || isNullable3(expr)) {\n    return expr;\n  }\n  if (Array.isArray(expr)) {\n    return expr.map((item) => executeEval(data, item));\n  }\n  return executeEvalExpr(expr, data);\n}\n__name(executeEval, \"executeEval\");\nfunction executeUpdate(data, update, ref) {\n  for (const key in update) {\n    let root = data;\n    const path = key.split(\".\");\n    const last = path.pop();\n    for (const key2 of path) {\n      root = root[key2] ||= {};\n    }\n    root[last] = executeEval({ [ref]: data, _: data }, update[key]);\n  }\n  return data;\n}\n__name(executeUpdate, \"executeUpdate\");\n\n// src/utils.ts\nfunction isComparable(value) {\n  return typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\" || typeof value === \"bigint\" || value instanceof Date;\n}\n__name(isComparable, \"isComparable\");\nfunction isFlat(value) {\n  return !value || typeof value !== \"object\" || isEvalExpr(value) || Object.keys(value).length === 0 || Array.isArray(value) || value instanceof Date || value instanceof RegExp || Binary2.isSource(value);\n}\n__name(isFlat, \"isFlat\");\nvar letters = \"abcdefghijklmnopqrstuvwxyz\";\nfunction randomId() {\n  return Array(8).fill(0).map(() => letters[Math.floor(Math.random() * letters.length)]).join(\"\");\n}\n__name(randomId, \"randomId\");\nfunction makeRegExp(source, flags) {\n  return source instanceof RegExp && !flags ? source : new RegExp(source.source ?? source, flags ?? source.flags);\n}\n__name(makeRegExp, \"makeRegExp\");\nfunction unravel(source, init) {\n  const result = {};\n  for (const key in source) {\n    let node = result;\n    const segments = key.split(\".\").reverse();\n    for (let index = segments.length - 1; index > 0; index--) {\n      const segment = segments[index];\n      node = node[segment] ??= {};\n      if (init) node = init(node);\n    }\n    node[segments[0]] = source[key];\n  }\n  return result;\n}\n__name(unravel, \"unravel\");\nfunction flatten(source, prefix = \"\", ignore = isFlat) {\n  const result = {};\n  for (const key in source) {\n    const value = source[key];\n    if (ignore(value)) {\n      result[`${prefix}${key}`] = value;\n    } else {\n      Object.assign(result, flatten(value, `${prefix}${key}.`, ignore));\n    }\n  }\n  return result;\n}\n__name(flatten, \"flatten\");\nfunction getCell(row, path) {\n  if (path in row) return row[path];\n  if (path.includes(\".\")) {\n    const index = path.indexOf(\".\");\n    return getCell(row[path.slice(0, index)] ?? {}, path.slice(index + 1));\n  } else {\n    return row[path];\n  }\n}\n__name(getCell, \"getCell\");\nfunction isEmpty(value) {\n  if (isNullable4(value)) return true;\n  if (typeof value !== \"object\") return false;\n  for (const key in value) {\n    if (!isEmpty(value[key])) return false;\n  }\n  return true;\n}\n__name(isEmpty, \"isEmpty\");\n\n// src/selection.ts\nimport { defineProperty as defineProperty4, filterKeys as filterKeys2, mapValues as mapValues4 } from \"cosmokit\";\nvar createRow = /* @__PURE__ */ __name((ref, expr = {}, prefix = \"\", model, intermediate) => new Proxy(expr, {\n  get(target, key) {\n    if (key === \"$prefix\") return prefix;\n    if (key === \"$model\") return model;\n    if (typeof key === \"symbol\" || key in target || key.startsWith(\"$\")) return Reflect.get(target, key);\n    if (intermediate) {\n      if (Type.isArray(expr?.[Type.kType]) && Number.isInteger(+key)) {\n        return createRow(ref, Eval3.get(expr, +key), \"\", model, Eval3.get(expr, +key));\n      } else {\n        return createRow(ref, Eval3.get(intermediate, `${prefix}${key}`), `${prefix}${key}.`, model, intermediate);\n      }\n    }\n    let type;\n    const field = model?.fields[prefix + key];\n    if (Type.isArray(expr?.[Type.kType]) && Number.isInteger(+key)) {\n      type = Type.getInner(expr?.[Type.kType]) ?? Type.fromField(\"expr\");\n      return createRow(ref, Eval3.get(expr, +key), \"\", model, Eval3.get(expr, +key));\n    } else if (Type.getInner(expr?.[Type.kType], key)) {\n      type = Type.getInner(expr?.[Type.kType], key);\n    } else if (field) {\n      type = Type.fromField(field);\n    } else if (Object.keys(model?.fields).some((k) => k.startsWith(`${prefix}${key}.`))) {\n      type = Type.Object(Object.fromEntries(Object.entries(model?.fields).filter(([k]) => k.startsWith(`${prefix}${key}`)).map(([k, field2]) => [k.slice(prefix.length + key.length + 1), Type.fromField(field2)])));\n    } else {\n      type = model?.getType(`${prefix}${key}`) ?? Type.fromField(\"expr\");\n    }\n    const row = createRow(ref, Eval3(\"\", [ref, `${prefix}${key}`], type), `${prefix}${key}.`, model);\n    if (!field && Object.keys(model?.fields).some((k) => k.startsWith(`${prefix}${key}.`))) {\n      return createRow(ref, Eval3.object(row), `${prefix}${key}.`, model);\n    } else {\n      return row;\n    }\n  }\n}), \"createRow\");\nvar Executable = class {\n  static {\n    __name(this, \"Executable\");\n  }\n  row;\n  model;\n  driver;\n  constructor(driver, payload) {\n    Object.assign(this, payload);\n    defineProperty4(this, \"driver\", driver);\n    defineProperty4(this, \"model\", driver.model(this.table));\n    defineProperty4(this, \"row\", createRow(this.ref, {}, \"\", this.model));\n  }\n  resolveQuery(query = {}) {\n    if (typeof query === \"function\") {\n      const expr = query(this.row);\n      return expr[\"$expr\"] ? expr : isEvalExpr(expr) ? { $expr: expr } : expr;\n    }\n    if (Array.isArray(query) || query instanceof RegExp || [\"string\", \"number\", \"bigint\"].includes(typeof query)) {\n      const { primary } = this.model;\n      if (Array.isArray(primary)) {\n        throw new TypeError(\"invalid shorthand for composite primary key\");\n      }\n      return { [primary]: query };\n    }\n    return query;\n  }\n  resolveField(field) {\n    if (typeof field === \"string\") {\n      return this.row[field];\n    } else if (typeof field === \"function\") {\n      return field(this.row);\n    } else {\n      throw new TypeError(\"invalid field definition\");\n    }\n  }\n  resolveFields(fields) {\n    if (typeof fields === \"string\") fields = [fields];\n    if (Array.isArray(fields)) {\n      const modelFields = Object.keys(this.model.fields);\n      const entries = fields.flatMap((key) => {\n        if (this.model.fields[key]) return [[key, this.row[key]]];\n        else if (modelFields.some((path) => path.startsWith(key + \".\"))) {\n          return modelFields.filter((path) => path.startsWith(key + \".\")).map((path) => [path, this.row[path]]);\n        }\n        return [[key, key.split(\".\").reduce((row, k) => row[k], this.row)]];\n      });\n      return Object.fromEntries(entries);\n    } else {\n      const entries = Object.entries(fields).flatMap(([key, field]) => {\n        const expr = this.resolveField(field);\n        if (expr[\"$object\"] && !Type.fromTerm(expr).ignoreNull) {\n          return Object.entries(expr[\"$object\"]).map(([key2, expr2]) => [`${key}.${key2}`, expr2]);\n        }\n        return [[key, expr]];\n      });\n      return Object.fromEntries(entries);\n    }\n  }\n  async execute() {\n    await this.driver.database.prepared();\n    await this.driver._ensureSession();\n    return this.driver[this.type](this, ...this.args);\n  }\n};\nvar Selection = class _Selection extends Executable {\n  static {\n    __name(this, \"Selection\");\n  }\n  tables = {};\n  constructor(driver, table, query) {\n    super(driver, {\n      type: \"get\",\n      ref: randomId(),\n      table,\n      query: null,\n      args: [{ sort: [], limit: Infinity, offset: 0, group: void 0, having: Eval3.and(), optional: {} }]\n    });\n    this.tables[this.ref] = this.model;\n    this.query = this.resolveQuery(query);\n    if (typeof table !== \"string\") {\n      Object.assign(this.tables, table.tables);\n    }\n  }\n  where(query) {\n    this.query.$and ||= [];\n    this.query.$and.push(this.resolveQuery(query));\n    return this;\n  }\n  limit(...args) {\n    if (args.length > 1) this.offset(args.shift());\n    this.args[0].limit = args[0];\n    return this;\n  }\n  offset(offset) {\n    this.args[0].offset = offset;\n    return this;\n  }\n  orderBy(field, direction = \"asc\") {\n    this.args[0].sort.push([this.resolveField(field), direction]);\n    return this;\n  }\n  groupBy(fields, ...args) {\n    this.args[0].fields = this.resolveFields(fields);\n    this.args[0].group = Object.keys(this.args[0].fields);\n    const extra = typeof args[0] === \"function\" ? void 0 : args.shift();\n    Object.assign(this.args[0].fields, this.resolveFields(extra || {}));\n    if (args[0]) this.having(args[0]);\n    return new _Selection(this.driver, this);\n  }\n  having(query) {\n    this.args[0].having[\"$and\"].push(this.resolveField(query));\n    return this;\n  }\n  project(fields) {\n    this.args[0].fields = this.resolveFields(fields);\n    return new _Selection(this.driver, this);\n  }\n  join(name, selection, callback = () => Eval3.and(), optional = false) {\n    const fields = Object.fromEntries(Object.entries(this.model.fields).filter(([key, field]) => Field.available(field) && !key.startsWith(name + \".\")).map(([key]) => [key, (row) => getCell(row[this.ref], key)]));\n    const joinFields = Object.fromEntries(Object.entries(selection.model.fields).filter(([key, field]) => Field.available(field) || Field.available(this.model.fields[`${name}.${key}`])).map(([key]) => [\n      key,\n      (row) => Field.available(this.model.fields[`${name}.${key}`]) ? getCell(row[this.ref], `${name}.${key}`) : getCell(row[name], key)\n    ]));\n    if (optional) {\n      return this.driver.database.join({ [this.ref]: this, [name]: selection }, (t) => callback(t[this.ref], t[name]), { [this.ref]: false, [name]: true }).project({ ...fields, [name]: (row) => Eval3.ignoreNull(Eval3.object(mapValues4(joinFields, (x) => x(row)))) });\n    } else {\n      return this.driver.database.join({ [this.ref]: this, [name]: selection }, (t) => callback(t[this.ref], t[name])).project({ ...fields, [name]: (row) => Eval3.ignoreNull(Eval3.object(mapValues4(joinFields, (x) => x(row)))) });\n    }\n  }\n  _action(type, ...args) {\n    return new Executable(this.driver, { ...this, type, args });\n  }\n  evaluate(callback) {\n    const selection = new _Selection(this.driver, this);\n    if (!callback) callback = /* @__PURE__ */ __name((row) => Eval3.array(Eval3.object(row)), \"callback\");\n    const expr = Array.isArray(callback) ? Eval3.select(...callback.map((x) => this.resolveField(x))) : this.resolveField(callback);\n    if (isAggrExpr(expr)) defineProperty4(expr, Type.kType, Type.Array(Type.fromTerm(expr)));\n    return Eval3.exec(selection._action(\"eval\", expr));\n  }\n  async execute(cursor) {\n    if (typeof cursor === \"function\") {\n      const selection = new _Selection(this.driver, this);\n      return selection._action(\"eval\", this.resolveField(cursor)).execute();\n    }\n    if (Array.isArray(cursor)) {\n      cursor = { fields: cursor };\n    } else if (!cursor) {\n      cursor = {};\n    }\n    if (cursor.fields) this.project(cursor.fields);\n    if (cursor.limit !== void 0) this.limit(cursor.limit);\n    if (cursor.offset !== void 0) this.offset(cursor.offset);\n    if (cursor.sort) {\n      for (const field in cursor.sort) {\n        this.orderBy(field, cursor.sort[field]);\n      }\n    }\n    const rows = await super.execute();\n    if (!cursor.fields) return rows;\n    return rows.map((row) => {\n      return filterKeys2(row, (key) => {\n        return cursor.fields.some((k) => k === key || k.startsWith(`${key}.`));\n      });\n    });\n  }\n};\n((Selection2) => {\n  function is(sel) {\n    return sel && !!sel.tables;\n  }\n  Selection2.is = is;\n  __name(is, \"is\");\n})(Selection || (Selection = {}));\nfunction executeSort(data, modifier, name) {\n  const { limit, offset, sort } = modifier;\n  data.sort((a, b) => {\n    for (const [field, direction] of sort) {\n      const sign = direction === \"asc\" ? 1 : -1;\n      const x = executeEval({ [name]: a, _: a }, field);\n      const y = executeEval({ [name]: b, _: b }, field);\n      if (x < y) return -sign;\n      if (x > y) return sign;\n    }\n    return 0;\n  });\n  return data.slice(offset, offset + limit);\n}\n__name(executeSort, \"executeSort\");\n\n// src/database.ts\nfunction mergeQuery(base, query) {\n  if (typeof query === \"function\") {\n    return (row) => {\n      const q = query(row);\n      return { $expr: true, ...base, ...q.$expr ? q : { $expr: q } };\n    };\n  } else {\n    return (_) => ({ $expr: true, ...base, ...query });\n  }\n}\n__name(mergeQuery, \"mergeQuery\");\nvar Database = class _Database extends Service {\n  static {\n    __name(this, \"Database\");\n  }\n  static transact = Symbol(\"minato.transact\");\n  static migrate = Symbol(\"minato.migrate\");\n  tables = /* @__PURE__ */ Object.create(null);\n  drivers = [];\n  types = /* @__PURE__ */ Object.create(null);\n  _driver;\n  stashed = /* @__PURE__ */ new Set();\n  prepareTasks = /* @__PURE__ */ Object.create(null);\n  migrateTasks = /* @__PURE__ */ Object.create(null);\n  constructor(ctx) {\n    ctx ||= new Context();\n    super(ctx, \"model\", true);\n  }\n  async connect(driver, ...args) {\n    this.ctx.plugin(driver, args[0]);\n    await this.ctx.start();\n  }\n  refresh() {\n    for (const name in this.tables) {\n      this.prepareTasks[name] = this.prepare(name);\n    }\n  }\n  async prepared() {\n    if (this[_Database.migrate]) return;\n    await Promise.all(Object.values(this.prepareTasks));\n  }\n  getDriver(table) {\n    if (Selection.is(table)) return table.driver;\n    const model = this.tables[table];\n    if (!model) throw new Error(`cannot resolve table \"${table}\"`);\n    return model.ctx?.get(\"database\")?._driver;\n  }\n  async prepare(name) {\n    this.stashed.add(name);\n    await this.prepareTasks[name];\n    await Promise.resolve();\n    if (!this.stashed.delete(name)) return;\n    const driver = this.getDriver(name);\n    if (!driver) return;\n    const { fields } = driver.model(name);\n    Object.values(fields).forEach((field) => field?.transformers?.forEach((x) => driver.define(x)));\n    await driver.prepare(name);\n    await driver.prepareIndexes(name);\n  }\n  extend(name, fields, config = {}) {\n    let model = this.tables[name];\n    if (!model) {\n      model = this.tables[name] = new Model(name);\n    }\n    Object.entries(fields).forEach(([key, field]) => {\n      const transformer = [];\n      this.parseField(field, transformer, void 0, (value) => field = fields[key] = value);\n      if (typeof field === \"object\") field.transformers = transformer;\n    });\n    model.extend(fields, config);\n    if (makeArray2(model.primary).every((key) => key in fields)) {\n      defineProperty5(model, \"ctx\", this.ctx);\n    }\n    Object.entries(fields).forEach(([key, def]) => {\n      if (!Relation.Type.includes(def.type)) return;\n      const subprimary = !def.fields && makeArray2(model.primary).includes(key);\n      const [relation, inverse] = Relation.parse(def, key, model, this.tables[def.table ?? key], subprimary);\n      const relmodel = this.tables[relation.table];\n      if (!relmodel) throw new Error(`relation table ${relation.table} does not exist`);\n      (model.fields[key] = Field.parse(\"expr\")).relation = relation;\n      if (def.target) {\n        (relmodel.fields[def.target] ??= Field.parse(\"expr\")).relation = inverse;\n      }\n      if (relation.type === \"oneToOne\" || relation.type === \"manyToOne\") {\n        relation.fields.forEach((x, i) => {\n          model.fields[x] ??= { ...relmodel.fields[relation.references[i]] };\n          if (!relation.required) {\n            model.fields[x].nullable = true;\n            model.fields[x].initial = null;\n          }\n        });\n      } else if (relation.type === \"manyToMany\") {\n        const assocTable = Relation.buildAssociationTable(relation.table, name);\n        if (this.tables[assocTable]) return;\n        const shared = Object.entries(relation.shared).map(([x, y]) => [Relation.buildSharedKey(x, y), model.fields[x].deftype]);\n        const fields2 = relation.fields.map((x) => [Relation.buildAssociationKey(x, name), model.fields[x].deftype]);\n        const references = relation.references.map((x) => [Relation.buildAssociationKey(x, relation.table), relmodel.fields[x]?.deftype]);\n        this.extend(assocTable, {\n          ...Object.fromEntries([...shared, ...fields2, ...references]),\n          [name]: {\n            type: \"manyToOne\",\n            table: name,\n            fields: [...shared, ...fields2].map((x) => x[0]),\n            references: [...Object.keys(relation.shared), ...relation.fields]\n          },\n          [relation.table]: {\n            type: \"manyToOne\",\n            table: relation.table,\n            fields: [...shared, ...references].map((x) => x[0]),\n            references: [...Object.values(relation.shared), ...relation.references]\n          }\n        }, {\n          primary: [...shared, ...fields2, ...references].map((x) => x[0])\n        });\n      }\n    });\n    if (Array.isArray(model.primary) || model.fields[model.primary].relation) {\n      model.primary = deduplicate(makeArray2(model.primary).map((key) => model.fields[key].relation?.fields || key).flat());\n    }\n    model.unique = model.unique.map((keys) => typeof keys === \"string\" ? model.fields[keys].relation?.fields || keys : keys.map((key) => model.fields[key].relation?.fields || key).flat());\n    this.prepareTasks[name] = this.prepare(name);\n    this.ctx.emit(\"model\", name);\n  }\n  _parseField(field, transformers = [], setInitial, setField) {\n    if (field === \"object\") {\n      setInitial?.({});\n      setField?.({ initial: {}, deftype: \"json\", type: Type.Object() });\n      return Type.Object();\n    } else if (field === \"array\") {\n      setInitial?.([]);\n      setField?.({ initial: [], deftype: \"json\", type: Type.Array() });\n      return Type.Array();\n    } else if (typeof field === \"string\" && this.types[field]) {\n      transformers.push({\n        types: [field],\n        load: this.types[field].load,\n        dump: this.types[field].dump\n      }, ...this.types[field].transformers ?? []);\n      setInitial?.(this.types[field].initial);\n      setField?.({ ...this.types[field], type: field });\n      return Type.fromField(field);\n    } else if (typeof field === \"string\") {\n      setInitial?.(Field.getInitial(field.split(\"(\")[0]));\n      setField?.(field);\n      return Type.fromField(field.split(\"(\")[0]);\n    } else if (typeof field === \"object\" && field.type === \"object\") {\n      const inner = field.inner ? unravel(field.inner, (value) => (value.type = \"object\", value.inner ??= {})) : /* @__PURE__ */ Object.create(null);\n      const initial = /* @__PURE__ */ Object.create(null);\n      const res = Type.Object(mapValues5(inner, (x, k) => this.parseField(x, transformers, (value) => initial[k] = value)));\n      setInitial?.(Field.getInitial(\"json\", initial));\n      setField?.({ initial: Field.getInitial(\"json\", initial), ...field, deftype: \"json\", type: res });\n      return res;\n    } else if (typeof field === \"object\" && field.type === \"array\") {\n      const res = field.inner ? Type.Array(this.parseField(field.inner, transformers)) : Type.Array();\n      setInitial?.([]);\n      setField?.({ initial: [], ...field, deftype: \"json\", type: res });\n      return res;\n    } else if (typeof field === \"object\" && this.types[field.type]) {\n      transformers.push({\n        types: [field.type],\n        load: this.types[field.type].load,\n        dump: this.types[field.type].dump\n      }, ...this.types[field.type].transformers ?? []);\n      setInitial?.(field.initial === void 0 ? this.types[field.type].initial : field.initial);\n      setField?.({ initial: this.types[field.type].initial, ...field });\n      return Type.fromField(field.type);\n    } else {\n      setInitial?.(Field.getInitial(field.type, field.initial));\n      setField?.(field);\n      return Type.fromField(field.type);\n    }\n  }\n  parseField(field, transformers = [], setInitial, setField) {\n    let midfield;\n    let type = this._parseField(field, transformers, setInitial, (value) => (midfield = value, setField?.(value)));\n    if (typeof field === \"object\" && field.load && field.dump) {\n      if (type.inner) type = Type.fromField(this.define({ ...omit(midfield, [\"load\", \"dump\"]), type }));\n      const name = this.define({ ...field, deftype: midfield.deftype, type: type.type });\n      transformers.push({\n        types: [name],\n        load: field.load,\n        dump: field.dump\n      });\n      setInitial?.(field.initial);\n      setField?.({ ...field, deftype: midfield.deftype ?? this.types[type.type]?.deftype ?? type.type, initial: midfield.initial, type: name });\n      return Type.fromField(name);\n    }\n    if (typeof midfield === \"object\") setField?.({ ...midfield, deftype: midfield.deftype ?? this.types[type.type]?.deftype ?? type?.type });\n    return type;\n  }\n  define(name, field) {\n    if (typeof name === \"object\") {\n      field = name;\n      name = void 0;\n    }\n    if (name && this.types[name]) throw new Error(`type \"${name}\" already defined`);\n    if (!name) while (this.types[name = \"_define_\" + randomId()]) ;\n    const transformers = [];\n    const type = this._parseField(field, transformers, void 0, (value) => field = value);\n    field.transformers = transformers;\n    this.ctx.effect(() => {\n      this.types[name] = { ...field };\n      this.types[name].deftype ??= this.types[field.type]?.deftype ?? type.type;\n      return () => delete this.types[name];\n    });\n    return name;\n  }\n  migrate(name, fields, callback) {\n    this.extend(name, fields, { callback });\n  }\n  select(table, query, include) {\n    let sel = new Selection(this.getDriver(table), table, query);\n    if (typeof table !== \"string\") return sel;\n    const whereOnly = include === null, isAssoc = !!include?.$assoc;\n    const rawquery = typeof query === \"function\" ? query : () => query;\n    const modelFields = this.tables[table].fields;\n    if (include) include = filterKeys3(include, (key) => !!modelFields[key]?.relation);\n    for (const key in { ...sel.query, ...sel.query.$not }) {\n      if (modelFields[key]?.relation) {\n        if (sel.query[key] === null && !modelFields[key].relation.required) {\n          sel.query[key] = Object.fromEntries(modelFields[key].relation.references.map((k) => [k, null]));\n        }\n        if (sel.query[key] && typeof sel.query[key] !== \"function\" && typeof sel.query[key] === \"object\" && Object.keys(sel.query[key]).every((x) => modelFields[key].relation.fields.includes(`${key}.${x}`))) {\n          Object.entries(sel.query[key]).forEach(([k, v]) => sel.query[`${key}.${k}`] = v);\n          delete sel.query[key];\n        }\n        if (sel.query.$not?.[key] === null && !modelFields[key].relation.required) {\n          sel.query.$not[key] = Object.fromEntries(modelFields[key].relation.references.map((k) => [k, null]));\n        }\n        if (sel.query.$not?.[key] && typeof sel.query.$not[key] !== \"function\" && typeof sel.query.$not[key] === \"object\" && Object.keys(sel.query.$not[key]).every((x) => modelFields[key].relation.fields.includes(`${key}.${x}`))) {\n          Object.entries(sel.query.$not[key]).forEach(([k, v]) => sel.query.$not[`${key}.${k}`] = v);\n          delete sel.query.$not[key];\n        }\n        if (!include || !Object.getOwnPropertyNames(include).includes(key)) {\n          (include ??= {})[key] = true;\n        }\n      }\n    }\n    sel.query = omit(sel.query, Object.keys(include ?? {}));\n    if (Object.keys(sel.query.$not ?? {}).length) {\n      sel.query.$not = omit(sel.query.$not, Object.keys(include ?? {}));\n      if (Object.keys(sel.query.$not).length === 0) Reflect.deleteProperty(sel.query, \"$not\");\n    }\n    if (include && typeof include === \"object\") {\n      if (typeof table !== \"string\") throw new Error(\"cannot include relations on derived selection\");\n      const extraFields = [];\n      const applyQuery = /* @__PURE__ */ __name((sel2, key) => {\n        const query2 = rawquery(sel2.row);\n        const relquery = query2[key] !== void 0 ? query2[key] : query2.$not?.[key] !== void 0 ? { $not: query2.$not?.[key] } : void 0;\n        return relquery === void 0 ? sel2 : sel2.where(this.transformRelationQuery(table, sel2.row, key, relquery));\n      }, \"applyQuery\");\n      for (const key in include) {\n        if (!include[key] || !modelFields[key]?.relation) continue;\n        const relation = modelFields[key].relation;\n        const relmodel = this.tables[relation.table];\n        if (relation.type === \"oneToOne\" || relation.type === \"manyToOne\") {\n          sel = whereOnly ? sel : sel.join(key, this.select(\n            relation.table,\n            typeof include[key] === \"object\" ? filterKeys3(include[key], (k) => !relmodel.fields[k]?.relation) : {},\n            typeof include[key] === \"object\" ? filterKeys3(include[key], (k) => !!relmodel.fields[k]?.relation) : include[key]\n          ), (self, other) => Eval3.and(\n            ...relation.fields.map((k, i) => Eval3.eq(self[k], other[relation.references[i]]))\n          ), !isAssoc);\n          sel = applyQuery(sel, key);\n        } else if (relation.type === \"oneToMany\") {\n          sel = whereOnly ? sel : sel.join(key, this.select(\n            relation.table,\n            typeof include[key] === \"object\" ? filterKeys3(include[key], (k) => !relmodel.fields[k]?.relation) : {},\n            typeof include[key] === \"object\" ? filterKeys3(include[key], (k) => !!relmodel.fields[k]?.relation) : include[key]\n          ), (self, other) => Eval3.and(\n            ...relation.fields.map((k, i) => Eval3.eq(self[k], other[relation.references[i]]))\n          ), true);\n          sel = applyQuery(sel, key);\n          sel = whereOnly ? sel : sel.groupBy([\n            ...Object.entries(modelFields).filter(([k, field]) => !extraFields.some((x) => k.startsWith(`${x}.`)) && Field.available(field)).map(([k]) => k),\n            ...extraFields\n          ], {\n            [key]: (row) => Eval3.ignoreNull(Eval3.array(row[key]))\n          });\n        } else if (relation.type === \"manyToMany\") {\n          const assocTable = Relation.buildAssociationTable(relation.table, table);\n          const references = relation.fields.map((x) => Relation.buildAssociationKey(x, table));\n          const shared = Object.entries(relation.shared).map(([x, y]) => [Relation.buildSharedKey(x, y), {\n            field: x,\n            reference: y\n          }]);\n          sel = whereOnly ? sel : sel.join(\n            key,\n            this.select(assocTable, {}, { $assoc: true, [relation.table]: include[key] }),\n            (self, other) => Eval3.and(\n              ...shared.map(([k, v]) => Eval3.eq(self[v.field], other[k])),\n              ...relation.fields.map((k, i) => Eval3.eq(self[k], other[references[i]]))\n            ),\n            true\n          );\n          sel = applyQuery(sel, key);\n          sel = whereOnly ? sel : sel.groupBy([\n            ...Object.entries(modelFields).filter(([k, field]) => !extraFields.some((x) => k.startsWith(`${x}.`)) && Field.available(field)).map(([k]) => k),\n            ...extraFields\n          ], {\n            [key]: (row) => Eval3.ignoreNull(Eval3.array(row[key][relation.table]))\n          });\n        }\n        extraFields.push(key);\n      }\n    }\n    return sel;\n  }\n  join(tables, query = (...args) => Eval3.and(), optional) {\n    const oldTables = tables;\n    if (Array.isArray(oldTables)) {\n      tables = Object.fromEntries(oldTables.map((name) => [name, this.select(name)]));\n    }\n    let sels = mapValues5(tables, (t) => {\n      return typeof t === \"string\" ? this.select(t) : t;\n    });\n    if (Object.keys(sels).length === 0) throw new Error(\"no tables to join\");\n    const drivers = new Set(Object.values(sels).map((sel2) => sel2.driver[_Database.transact] ?? sel2.driver));\n    if (drivers.size !== 1) throw new Error(\"cannot join tables from different drivers\");\n    if (Object.keys(sels).length === 2 && (optional?.[0] || optional?.[Object.keys(sels)[0]])) {\n      if (optional[1] || optional[Object.keys(sels)[1]]) throw new Error(\"full join is not supported\");\n      sels = Object.fromEntries(Object.entries(sels).reverse());\n    }\n    const sel = new Selection([...drivers][0], sels);\n    if (Array.isArray(oldTables)) {\n      sel.args[0].having = Eval3.and(query(...oldTables.map((name) => sel.row[name])));\n      sel.args[0].optional = Object.fromEntries(oldTables.map((name, index) => [name, optional?.[index]]));\n    } else {\n      sel.args[0].having = Eval3.and(query(sel.row));\n      sel.args[0].optional = optional;\n    }\n    return this.select(sel);\n  }\n  async get(table, query, cursor) {\n    let fields = Array.isArray(cursor) ? cursor : cursor?.fields;\n    fields = fields ? Object.fromEntries(fields.map((x) => [x, true])) : cursor?.include;\n    return this.select(table, query, fields).execute(cursor);\n  }\n  async eval(table, expr, query) {\n    return this.select(table, query).execute(typeof expr === \"function\" ? expr : () => expr);\n  }\n  async set(table, query, update) {\n    const rawupdate = typeof update === \"function\" ? update : () => update;\n    let sel = this.select(table, query, null);\n    if (typeof update === \"function\") update = update(sel.row);\n    const primary = makeArray2(sel.model.primary);\n    if (primary.some((key) => key in update)) {\n      throw new TypeError(`cannot modify primary key`);\n    }\n    const relations = Object.entries(sel.model.fields).filter(([key, field]) => key in update && field.relation).map(([key, field]) => [key, field.relation]);\n    if (relations.length) {\n      return await this.ensureTransaction(async (database) => {\n        const rows = await database.get(table, query);\n        sel = database.select(table, query, null);\n        let baseUpdate = omit(rawupdate(sel.row), relations.map(([key]) => key));\n        baseUpdate = sel.model.format(baseUpdate);\n        for (const [key] of relations) {\n          await Promise.all(rows.map((row) => database.processRelationUpdate(table, row, key, rawupdate(row)[key])));\n        }\n        return Object.keys(baseUpdate).length === 0 ? {} : await sel._action(\"set\", baseUpdate).execute();\n      });\n    }\n    update = sel.model.format(update);\n    if (Object.keys(update).length === 0) return {};\n    return sel._action(\"set\", update).execute();\n  }\n  async remove(table, query) {\n    const sel = this.select(table, query, null);\n    return sel._action(\"remove\").execute();\n  }\n  async create(table, data) {\n    const sel = this.select(table);\n    if (!this.hasRelation(table, data)) {\n      const { primary, autoInc } = sel.model;\n      if (!autoInc) {\n        const keys = makeArray2(primary);\n        if (keys.some((key) => getCell(data, key) === void 0)) {\n          throw new Error(\"missing primary key\");\n        }\n      }\n      return sel._action(\"create\", sel.model.create(data)).execute();\n    } else {\n      return this.ensureTransaction((database) => database.createOrUpdate(table, data, false));\n    }\n  }\n  async upsert(table, upsert, keys) {\n    const sel = this.select(table);\n    if (typeof upsert === \"function\") upsert = upsert(sel.row);\n    upsert = upsert.map((item) => sel.model.format(item));\n    keys = makeArray2(keys || sel.model.primary);\n    return sel._action(\"upsert\", upsert, keys).execute();\n  }\n  makeProxy(marker, getDriver) {\n    const drivers = /* @__PURE__ */ new Map();\n    const database = new Proxy(this, {\n      get: /* @__PURE__ */ __name((target, p, receiver) => {\n        if (p === marker) return true;\n        if (p !== \"getDriver\") return Reflect.get(target, p, receiver);\n        return (name) => {\n          const original = this.getDriver(name);\n          let driver = drivers.get(original);\n          if (!driver) {\n            driver = getDriver?.(original, database) ?? new Proxy(original, {\n              get: /* @__PURE__ */ __name((target2, p2, receiver2) => {\n                if (p2 === \"database\") return database;\n                return Reflect.get(target2, p2, receiver2);\n              }, \"get\")\n            });\n            drivers.set(original, driver);\n          }\n          return driver;\n        };\n      }, \"get\")\n    });\n    return database;\n  }\n  withTransaction(callback) {\n    return this.transact(callback);\n  }\n  async transact(callback) {\n    if (this[_Database.transact]) throw new Error(\"nested transactions are not supported\");\n    const finalTasks = [];\n    const database = this.makeProxy(_Database.transact, (driver) => {\n      let initialized = false, session;\n      let _resolve;\n      const sessionTask = new Promise((resolve) => _resolve = resolve);\n      driver = new Proxy(driver, {\n        get: /* @__PURE__ */ __name((target, p, receiver) => {\n          if (p === _Database.transact) return target;\n          if (p === \"database\") return database;\n          if (p === \"session\") return session;\n          if (p === \"_ensureSession\") return () => sessionTask;\n          return Reflect.get(target, p, receiver);\n        }, \"get\")\n      });\n      finalTasks.push(driver.withTransaction((_session) => {\n        if (initialized) initialTask = initialTaskFactory();\n        initialized = true;\n        _resolve(session = _session);\n        return initialTask;\n      }));\n      return driver;\n    });\n    const initialTaskFactory = /* @__PURE__ */ __name(() => Promise.resolve().then(() => callback(database)), \"initialTaskFactory\");\n    let initialTask = initialTaskFactory();\n    return initialTask.catch(noop).finally(() => Promise.all(finalTasks));\n  }\n  async stopAll() {\n    await Promise.all(this.drivers.splice(0, Infinity).map((driver) => driver.stop()));\n  }\n  async drop(table) {\n    if (this[_Database.transact]) throw new Error(\"cannot drop table in transaction\");\n    await this.getDriver(table).drop(table);\n  }\n  async dropAll() {\n    if (this[_Database.transact]) throw new Error(\"cannot drop table in transaction\");\n    await Promise.all(Object.values(this.drivers).map((driver) => driver.dropAll()));\n  }\n  async stats() {\n    await this.prepared();\n    const stats = { size: 0, tables: {} };\n    await Promise.all(Object.values(this.drivers).map(async (driver) => {\n      const { size = 0, tables } = await driver.stats();\n      stats.size += size;\n      Object.assign(stats.tables, tables);\n    }));\n    return stats;\n  }\n  ensureTransaction(callback) {\n    if (this[_Database.transact]) {\n      return callback(this);\n    } else {\n      return this.transact(callback);\n    }\n  }\n  transformRelationQuery(table, row, key, query) {\n    const relation = this.tables[table].fields[key].relation;\n    const results = [];\n    if (relation.type === \"oneToOne\" || relation.type === \"manyToOne\") {\n      if (query === null) {\n        results.push(Eval3.nin(\n          relation.fields.map((x) => row[x]),\n          this.select(relation.table).evaluate(relation.references)\n        ));\n      } else {\n        results.push(Eval3.in(\n          relation.fields.map((x) => row[x]),\n          this.select(relation.table, query).evaluate(relation.references)\n        ));\n      }\n    } else if (relation.type === \"oneToMany\") {\n      if (query.$or) results.push(Eval3.or(...query.$or.map((q) => this.transformRelationQuery(table, row, key, q).$expr)));\n      if (query.$and) results.push(...query.$and.map((q) => this.transformRelationQuery(table, row, key, q).$expr));\n      if (query.$not) results.push(Eval3.not(this.transformRelationQuery(table, row, key, query.$not).$expr));\n      if (query.$some) {\n        results.push(Eval3.in(\n          relation.fields.map((x) => row[x]),\n          this.select(relation.table, query.$some).evaluate(relation.references)\n        ));\n      }\n      if (query.$none) {\n        results.push(Eval3.nin(\n          relation.fields.map((x) => row[x]),\n          this.select(relation.table, query.$none).evaluate(relation.references)\n        ));\n      }\n      if (query.$every) {\n        results.push(Eval3.nin(\n          relation.fields.map((x) => row[x]),\n          this.select(relation.table, Eval3.not(query.$every)).evaluate(relation.references)\n        ));\n      }\n    } else if (relation.type === \"manyToMany\") {\n      const assocTable = Relation.buildAssociationTable(table, relation.table);\n      const fields = relation.fields.map((x) => Relation.buildAssociationKey(x, table));\n      const references = relation.references.map((x) => Relation.buildAssociationKey(x, relation.table));\n      if (query.$or) results.push(Eval3.or(...query.$or.map((q) => this.transformRelationQuery(table, row, key, q).$expr)));\n      if (query.$and) results.push(...query.$and.map((q) => this.transformRelationQuery(table, row, key, q).$expr));\n      if (query.$not) results.push(Eval3.not(this.transformRelationQuery(table, row, key, query.$not).$expr));\n      if (query.$some) {\n        const innerTable = this.select(relation.table, query.$some).evaluate(relation.references);\n        const relTable = this.select(assocTable, (r) => Eval3.in(references.map((x) => r[x]), innerTable)).evaluate(fields);\n        results.push(Eval3.in(relation.fields.map((x) => row[x]), relTable));\n      }\n      if (query.$none) {\n        const innerTable = this.select(relation.table, query.$none).evaluate(relation.references);\n        const relTable = this.select(assocTable, (r) => Eval3.in(references.map((x) => r[x]), innerTable)).evaluate(fields);\n        results.push(Eval3.nin(relation.fields.map((x) => row[x]), relTable));\n      }\n      if (query.$every) {\n        const innerTable = this.select(relation.table, Eval3.not(query.$every)).evaluate(relation.references);\n        const relTable = this.select(assocTable, (r) => Eval3.in(references.map((x) => r[x]), innerTable)).evaluate(fields);\n        results.push(Eval3.nin(relation.fields.map((x) => row[x]), relTable));\n      }\n    }\n    return { $expr: Eval3.and(...results) };\n  }\n  async createOrUpdate(table, data, upsert = true) {\n    const sel = this.select(table);\n    data = { ...data };\n    const tasks = [\"\"];\n    for (const key in data) {\n      if (data[key] !== void 0 && this.tables[table].fields[key]?.relation) {\n        const relation = this.tables[table].fields[key].relation;\n        if (relation.type === \"oneToOne\" && relation.required) tasks.push(key);\n        else if (relation.type === \"oneToOne\") tasks.unshift(key);\n        else if (relation.type === \"oneToMany\") tasks.push(key);\n        else if (relation.type === \"manyToOne\") tasks.unshift(key);\n        else if (relation.type === \"manyToMany\") tasks.push(key);\n      }\n    }\n    for (const key of [...tasks]) {\n      if (!key) {\n        const { primary, autoInc } = sel.model;\n        const keys = makeArray2(primary);\n        if (keys.some((key2) => isNullable5(getCell(data, key2)))) {\n          if (!autoInc) {\n            throw new Error(\"missing primary key\");\n          } else {\n            delete data[primary];\n            upsert = false;\n          }\n        }\n        if (upsert) {\n          await sel._action(\"upsert\", [sel.model.format(omit(data, tasks))], keys).execute();\n        } else {\n          Object.assign(data, await sel._action(\"create\", sel.model.create(omit(data, tasks))).execute());\n        }\n        continue;\n      }\n      const value = data[key];\n      const relation = this.tables[table].fields[key].relation;\n      if (relation.type === \"oneToOne\") {\n        if (value.$literal) {\n          data[key] = value.$literal;\n          remove(tasks, key);\n        } else if (value.$create || !isUpdateExpr(value)) {\n          const result = await this.createOrUpdate(relation.table, {\n            ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(data, relation.fields[i])])),\n            ...value.$create ?? value\n          });\n          if (!relation.required) {\n            relation.references.forEach((k, i) => data[relation.fields[i]] = getCell(result, k));\n          }\n        } else if (value.$upsert) {\n          await this.upsert(relation.table, [{\n            ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(data, relation.fields[i])])),\n            ...value.$upsert\n          }]);\n          if (!relation.required) {\n            relation.references.forEach((k, i) => data[relation.fields[i]] = getCell(value.$upsert, k));\n          }\n        } else if (value.$connect) {\n          if (relation.required) {\n            await this.set(\n              relation.table,\n              value.$connect,\n              Object.fromEntries(relation.references.map((k, i) => [k, getCell(data, relation.fields[i])]))\n            );\n          } else {\n            const result = relation.references.every((k) => value.$connect[k] !== void 0) ? [value.$connect] : await this.get(relation.table, value.$connect);\n            if (result.length !== 1) throw new Error(\"related row not found or not unique\");\n            relation.references.forEach((k, i) => data[relation.fields[i]] = getCell(result[0], k));\n          }\n        }\n      } else if (relation.type === \"manyToOne\") {\n        if (value.$literal) {\n          data[key] = value.$literal;\n          remove(tasks, key);\n        } else if (value.$create || !isUpdateExpr(value)) {\n          const result = await this.createOrUpdate(relation.table, value.$create ?? value);\n          relation.references.forEach((k, i) => data[relation.fields[i]] = getCell(result, k));\n        } else if (value.$upsert) {\n          await this.upsert(relation.table, [value.$upsert]);\n          relation.references.forEach((k, i) => data[relation.fields[i]] = getCell(value.$upsert, k));\n        } else if (value.$connect) {\n          const result = relation.references.every((k) => value.$connect[k] !== void 0) ? [value.$connect] : await this.get(relation.table, value.$connect);\n          if (result.length !== 1) throw new Error(\"related row not found or not unique\");\n          relation.references.forEach((k, i) => data[relation.fields[i]] = getCell(result[0], k));\n        }\n      } else if (relation.type === \"oneToMany\") {\n        if (value.$create || Array.isArray(value)) {\n          for (const item of makeArray2(value.$create ?? value)) {\n            await this.createOrUpdate(relation.table, {\n              ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(data, relation.fields[i])])),\n              ...item\n            });\n          }\n        }\n        if (value.$upsert) {\n          await this.upsert(relation.table, makeArray2(value.$upsert).map((r) => ({\n            ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(data, relation.fields[i])])),\n            ...r\n          })));\n        }\n        if (value.$connect) {\n          await this.set(\n            relation.table,\n            value.$connect,\n            Object.fromEntries(relation.references.map((k, i) => [k, getCell(data, relation.fields[i])]))\n          );\n        }\n      } else if (relation.type === \"manyToMany\") {\n        const assocTable = Relation.buildAssociationTable(relation.table, table);\n        const fields = relation.fields.map((x) => Relation.buildAssociationKey(x, table));\n        const references = relation.references.map((x) => Relation.buildAssociationKey(x, relation.table));\n        const shared = Object.entries(relation.shared).map(([x, y]) => [Relation.buildSharedKey(x, y), {\n          field: x,\n          reference: y\n        }]);\n        const result = [];\n        if (value.$create || Array.isArray(value)) {\n          for (const item of makeArray2(value.$create ?? value)) {\n            result.push(await this.createOrUpdate(relation.table, {\n              ...Object.fromEntries(shared.map(([, v]) => [v.reference, getCell(item, v.reference) ?? getCell(data, v.field)])),\n              ...item\n            }));\n          }\n        }\n        if (value.$upsert) {\n          const upsert2 = makeArray2(value.$upsert).map((r) => ({\n            ...Object.fromEntries(shared.map(([, v]) => [v.reference, getCell(r, v.reference) ?? getCell(data, v.field)])),\n            ...r\n          }));\n          await this.upsert(relation.table, upsert2);\n          result.push(...upsert2);\n        }\n        if (value.$connect) {\n          for (const item of makeArray2(value.$connect)) {\n            if (references.every((k) => item[k] !== void 0)) result.push(item);\n            else result.push(...await this.get(relation.table, item));\n          }\n        }\n        await this.upsert(assocTable, result.map((r) => ({\n          ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(r, v.reference) ?? getCell(data, v.field)])),\n          ...Object.fromEntries(fields.map((k, i) => [k, getCell(data, relation.fields[i])])),\n          ...Object.fromEntries(references.map((k, i) => [k, getCell(r, relation.references[i])]))\n        })));\n      }\n    }\n    return data;\n  }\n  async processRelationUpdate(table, row, key, value) {\n    const model = this.tables[table], update = /* @__PURE__ */ Object.create(null);\n    const relation = this.tables[table].fields[key].relation;\n    if (relation.type === \"oneToOne\") {\n      if (value === null) {\n        value = relation.required ? { $remove: {} } : { $disconnect: {} };\n      }\n      if (typeof value === \"object\" && !isUpdateExpr(value)) {\n        value = { $create: value };\n      }\n      if (value.$remove) {\n        await this.remove(relation.table, Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])));\n      }\n      if (value.$disconnect) {\n        if (relation.required) {\n          await this.set(\n            relation.table,\n            mergeQuery(Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])), value.$disconnect),\n            Object.fromEntries(relation.references.map((k, i) => [k, null]))\n          );\n        } else {\n          Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, null])));\n        }\n      }\n      if (value.$set || typeof value === \"function\") {\n        await this.set(\n          relation.table,\n          Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          value.$set ?? value\n        );\n      }\n      if (value.$create) {\n        const result = await this.createOrUpdate(relation.table, {\n          ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          ...value.$create\n        });\n        if (!relation.required) {\n          Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, getCell(result, relation.references[i])])));\n        }\n      }\n      if (value.$upsert) {\n        await this.upsert(relation.table, makeArray2(value.$upsert).map((r) => ({\n          ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          ...r\n        })));\n        if (!relation.required) {\n          Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, getCell(value.$upsert, relation.references[i])])));\n        }\n      }\n      if (value.$connect) {\n        if (relation.required) {\n          await this.set(\n            relation.table,\n            value.$connect,\n            Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])]))\n          );\n        } else {\n          const result = await this.get(relation.table, value.$connect);\n          if (result.length !== 1) throw new Error(\"related row not found or not unique\");\n          Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, getCell(result[0], relation.references[i])])));\n        }\n      }\n    } else if (relation.type === \"manyToOne\") {\n      if (value === null) {\n        value = { $disconnect: {} };\n      }\n      if (typeof value === \"object\" && !isUpdateExpr(value)) {\n        value = { $create: value };\n      }\n      if (value.$remove) {\n        await this.remove(relation.table, Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])));\n      }\n      if (value.$disconnect) {\n        Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, null])));\n      }\n      if (value.$set || typeof value === \"function\") {\n        await this.set(\n          relation.table,\n          Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          value.$set ?? value\n        );\n      }\n      if (value.$create) {\n        const result = await this.createOrUpdate(relation.table, {\n          ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          ...value.$create\n        });\n        Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, getCell(result, relation.references[i])])));\n      }\n      if (value.$upsert) {\n        await this.upsert(relation.table, makeArray2(value.$upsert).map((r) => ({\n          ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          ...r\n        })));\n        Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, getCell(value.$upsert, relation.references[i])])));\n      }\n      if (value.$connect) {\n        const result = await this.get(relation.table, value.$connect);\n        if (result.length !== 1) throw new Error(\"related row not found or not unique\");\n        Object.assign(update, Object.fromEntries(relation.fields.map((k, i) => [k, getCell(result[0], relation.references[i])])));\n      }\n    } else if (relation.type === \"oneToMany\") {\n      if (Array.isArray(value)) {\n        const $create = [], $upsert = [];\n        value.forEach((item) => this.hasRelation(relation.table, item) ? $create.push(item) : $upsert.push(item));\n        value = { $remove: {}, $create, $upsert };\n      }\n      if (value.$remove) {\n        await this.remove(relation.table, mergeQuery(Object.fromEntries(relation.references.map((k, i) => [k, row[relation.fields[i]]])), value.$remove));\n      }\n      if (value.$disconnect) {\n        await this.set(\n          relation.table,\n          mergeQuery(Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])), value.$disconnect),\n          Object.fromEntries(relation.references.map((k, i) => [k, null]))\n        );\n      }\n      if (value.$set || typeof value === \"function\") {\n        for (const setexpr of makeArray2(value.$set ?? value)) {\n          const [query, update2] = setexpr.update ? [setexpr.where, setexpr.update] : [{}, setexpr];\n          await this.set(\n            relation.table,\n            mergeQuery(Object.fromEntries(relation.references.map((k, i) => [k, row[relation.fields[i]]])), query),\n            update2\n          );\n        }\n      }\n      if (value.$create) {\n        for (const item of makeArray2(value.$create)) {\n          await this.createOrUpdate(relation.table, {\n            ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n            ...item\n          });\n        }\n      }\n      if (value.$upsert) {\n        await this.upsert(relation.table, makeArray2(value.$upsert).map((r) => ({\n          ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          ...r\n        })));\n      }\n      if (value.$connect) {\n        await this.set(\n          relation.table,\n          value.$connect,\n          Object.fromEntries(relation.references.map((k, i) => [k, row[relation.fields[i]]]))\n        );\n      }\n    } else if (relation.type === \"manyToMany\") {\n      const assocTable = Relation.buildAssociationTable(table, relation.table);\n      const fields = relation.fields.map((x) => Relation.buildAssociationKey(x, table));\n      const references = relation.references.map((x) => Relation.buildAssociationKey(x, relation.table));\n      const shared = Object.entries(relation.shared).map(([x, y]) => [Relation.buildSharedKey(x, y), {\n        field: x,\n        reference: y\n      }]);\n      if (Array.isArray(value)) {\n        const $create = [], $upsert = [];\n        value.forEach((item) => this.hasRelation(relation.table, item) ? $create.push(item) : $upsert.push(item));\n        value = { $disconnect: {}, $create, $upsert };\n      }\n      if (value.$remove) {\n        const rows = await this.select(assocTable, {\n          ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(row, v.field)])),\n          ...Object.fromEntries(fields.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          [relation.table]: value.$remove\n        }, null).execute();\n        await this.remove(assocTable, (r) => Eval3.in(\n          [...shared.map(([k, v]) => r[k]), ...fields.map((x) => r[x]), ...references.map((x) => r[x])],\n          rows.map((r2) => [...shared.map(([k, v]) => getCell(r2, k)), ...fields.map((x) => getCell(r2, x)), ...references.map((x) => getCell(r2, x))])\n        ));\n        await this.remove(relation.table, (r) => Eval3.in(\n          [...shared.map(([k, v]) => r[v.reference]), ...relation.references.map((x) => r[x])],\n          rows.map((r2) => [...shared.map(([k, v]) => getCell(r2, k)), ...references.map((x) => getCell(r2, x))])\n        ));\n      }\n      if (value.$disconnect) {\n        const rows = await this.select(assocTable, {\n          ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(row, v.field)])),\n          ...Object.fromEntries(fields.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          [relation.table]: value.$disconnect\n        }, null).execute();\n        await this.remove(assocTable, (r) => Eval3.in(\n          [...shared.map(([k, v]) => r[k]), ...fields.map((x) => r[x]), ...references.map((x) => r[x])],\n          rows.map((r2) => [...shared.map(([k, v]) => getCell(r2, k)), ...fields.map((x) => getCell(r2, x)), ...references.map((x) => getCell(r2, x))])\n        ));\n      }\n      if (value.$set) {\n        for (const setexpr of makeArray2(value.$set)) {\n          const [query, update2] = setexpr.update ? [setexpr.where, setexpr.update] : [{}, setexpr];\n          const rows = await this.select(assocTable, (r) => ({\n            ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(row, v.field)])),\n            ...Object.fromEntries(fields.map((k, i) => [k, getCell(row, relation.fields[i])])),\n            [relation.table]: query\n          }), null).execute();\n          await this.set(\n            relation.table,\n            (r) => Eval3.in(\n              [...shared.map(([k, v]) => r[v.reference]), ...relation.references.map((x) => r[x])],\n              rows.map((r2) => [...shared.map(([k, v]) => getCell(r2, k)), ...references.map((x) => getCell(r2, x))])\n            ),\n            update2\n          );\n        }\n      }\n      if (value.$create) {\n        const result = [];\n        for (const item of makeArray2(value.$create)) {\n          result.push(await this.createOrUpdate(relation.table, {\n            ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n            ...item\n          }));\n        }\n        await this.upsert(assocTable, result.map((r) => ({\n          ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(row, v.field)])),\n          ...Object.fromEntries(fields.map((k, i) => [k, row[relation.fields[i]]])),\n          ...Object.fromEntries(references.map((k, i) => [k, r[relation.references[i]]]))\n        })));\n      }\n      if (value.$upsert) {\n        await this.upsert(relation.table, makeArray2(value.$upsert).map((r) => ({\n          ...Object.fromEntries(relation.references.map((k, i) => [k, getCell(row, relation.fields[i])])),\n          ...r\n        })));\n        await this.upsert(assocTable, makeArray2(value.$upsert).map((r) => ({\n          ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(row, v.field)])),\n          ...Object.fromEntries(fields.map((k, i) => [k, row[relation.fields[i]]])),\n          ...Object.fromEntries(references.map((k, i) => [k, r[relation.references[i]]]))\n        })));\n      }\n      if (value.$connect) {\n        const rows = await this.get(\n          relation.table,\n          mergeQuery(Object.fromEntries(shared.map(([k, v]) => [v.reference, getCell(row, v.field)])), value.$connect)\n        );\n        await this.upsert(assocTable, rows.map((r) => ({\n          ...Object.fromEntries(shared.map(([k, v]) => [k, getCell(row, v.field)])),\n          ...Object.fromEntries(fields.map((k, i) => [k, row[relation.fields[i]]])),\n          ...Object.fromEntries(references.map((k, i) => [k, r[relation.references[i]]]))\n        })));\n      }\n    }\n    if (Object.keys(update).length) {\n      await this.set(table, pick(model.format(row), makeArray2(model.primary)), update);\n    }\n  }\n  hasRelation(table, data) {\n    for (const key in data) {\n      if (data[key] !== void 0 && this.tables[table].fields[key]?.relation) return true;\n    }\n    return false;\n  }\n};\n\n// src/driver.ts\nimport { deepEqual as deepEqual2, defineProperty as defineProperty6, mapValues as mapValues6, remove as remove2 } from \"cosmokit\";\nimport { Context as Context2, Service as Service2 } from \"cordis\";\nvar Driver = class {\n  constructor(ctx, config) {\n    this.ctx = ctx;\n    this.config = config;\n    this.database = ctx.model;\n    this.logger = ctx.logger(this.constructor.name);\n    ctx.on(\"ready\", async () => {\n      await Promise.resolve();\n      await this.start();\n      ctx.model.drivers.push(this);\n      ctx.model.refresh();\n      const database = Object.create(ctx.model);\n      defineProperty6(database, \"ctx\", ctx);\n      database._driver = this;\n      database[Service2.tracker] = {\n        associate: \"database\",\n        property: \"ctx\"\n      };\n      ctx.set(\"database\", Context2.associate(database, \"database\"));\n    });\n    ctx.on(\"dispose\", async () => {\n      remove2(ctx.model.drivers, this);\n      await this.stop();\n    });\n  }\n  static {\n    __name(this, \"Driver\");\n  }\n  static inject = [\"model\"];\n  database;\n  logger;\n  types = /* @__PURE__ */ Object.create(null);\n  model(table) {\n    if (typeof table === \"string\") {\n      const model2 = this.database.tables[table];\n      if (model2) return model2;\n      throw new TypeError(`unknown table name \"${table}\"`);\n    }\n    if (Selection.is(table)) {\n      if (!table.args[0].fields && (typeof table.table === \"string\" || Selection.is(table.table))) {\n        return table.model;\n      }\n      const model2 = new Model(\"temp\");\n      if (table.args[0].fields) {\n        model2.fields = mapValues6(table.args[0].fields, (expr) => ({\n          type: Type.fromTerm(expr)\n        }));\n      } else {\n        model2.fields = mapValues6(table.model.fields, (field) => ({\n          type: Type.fromField(field)\n        }));\n      }\n      return model2;\n    }\n    const model = new Model(\"temp\");\n    for (const key in table) {\n      const submodel = this.model(table[key]);\n      for (const field in submodel.fields) {\n        if (!Field.available(submodel.fields[field])) continue;\n        model.fields[`${key}.${field}`] = {\n          expr: Eval3(\"\", [table[key].ref, field], Type.fromField(submodel.fields[field])),\n          type: Type.fromField(submodel.fields[field])\n        };\n      }\n    }\n    return model;\n  }\n  async migrate(name, hooks) {\n    const database = this.database.makeProxy(Database.migrate);\n    const model = this.model(name);\n    await (database.migrateTasks[name] = Promise.resolve(database.migrateTasks[name]).then(() => {\n      return Promise.all([...model.migrations].map(async ([migrate, keys]) => {\n        try {\n          if (!hooks.before(keys)) return;\n          await migrate(database);\n          hooks.after(keys);\n        } catch (reason) {\n          hooks.error(reason);\n        }\n      }));\n    }).then(hooks.finalize).catch(hooks.error));\n  }\n  define(converter) {\n    converter.types.forEach((type) => this.types[type] = converter);\n  }\n  async _ensureSession() {\n  }\n  async prepareIndexes(table) {\n    const oldIndexes = await this.getIndexes(table);\n    const { indexes } = this.model(table);\n    for (const index of indexes) {\n      const oldIndex = oldIndexes.find((info) => info.name === index.name);\n      if (!oldIndex) {\n        await this.createIndex(table, index);\n      } else if (!deepEqual2(oldIndex, index)) {\n        await this.dropIndex(table, index.name);\n        await this.createIndex(table, index);\n      }\n    }\n  }\n};\n\n// src/error.ts\nvar RuntimeError = class _RuntimeError extends Error {\n  constructor(code, message) {\n    super(message || code.replace(\"-\", \" \"));\n    this.code = code;\n  }\n  static {\n    __name(this, \"RuntimeError\");\n  }\n  name = \"RuntimeError\";\n  static check(error, code) {\n    if (!(error instanceof _RuntimeError)) return false;\n    return !code || error.message === code;\n  }\n};\n\n// src/query.ts\nimport { isNullable as isNullable6 } from \"cosmokit\";\nvar queryOperators = {\n  // logical\n  $or: /* @__PURE__ */ __name((query, data) => query.reduce((prev, query2) => prev || executeFieldQuery(query2, data), false), \"$or\"),\n  $and: /* @__PURE__ */ __name((query, data) => query.reduce((prev, query2) => prev && executeFieldQuery(query2, data), true), \"$and\"),\n  $not: /* @__PURE__ */ __name((query, data) => !executeFieldQuery(query, data), \"$not\"),\n  // existence\n  $exists: /* @__PURE__ */ __name((query, data) => query !== isNullable6(data), \"$exists\"),\n  // comparison\n  $eq: /* @__PURE__ */ __name((query, data) => data.valueOf() === query.valueOf(), \"$eq\"),\n  $ne: /* @__PURE__ */ __name((query, data) => data.valueOf() !== query.valueOf(), \"$ne\"),\n  $gt: /* @__PURE__ */ __name((query, data) => data.valueOf() > query.valueOf(), \"$gt\"),\n  $gte: /* @__PURE__ */ __name((query, data) => data.valueOf() >= query.valueOf(), \"$gte\"),\n  $lt: /* @__PURE__ */ __name((query, data) => data.valueOf() < query.valueOf(), \"$lt\"),\n  $lte: /* @__PURE__ */ __name((query, data) => data.valueOf() <= query.valueOf(), \"$lte\"),\n  // membership\n  $in: /* @__PURE__ */ __name((query, data) => query.includes(data), \"$in\"),\n  $nin: /* @__PURE__ */ __name((query, data) => !query.includes(data), \"$nin\"),\n  // regexp\n  $regex: /* @__PURE__ */ __name((query, data) => makeRegExp(query).test(data), \"$regex\"),\n  $regexFor: /* @__PURE__ */ __name((query, data) => typeof query === \"string\" ? makeRegExp(data).test(query) : makeRegExp(data, query.flags).test(query.input), \"$regexFor\"),\n  // bitwise\n  $bitsAllSet: /* @__PURE__ */ __name((query, data) => (query & data) === query, \"$bitsAllSet\"),\n  $bitsAllClear: /* @__PURE__ */ __name((query, data) => (query & data) === 0, \"$bitsAllClear\"),\n  $bitsAnySet: /* @__PURE__ */ __name((query, data) => (query & data) !== 0, \"$bitsAnySet\"),\n  $bitsAnyClear: /* @__PURE__ */ __name((query, data) => (query & data) !== query, \"$bitsAnyClear\"),\n  // list\n  $el: /* @__PURE__ */ __name((query, data) => data.some((item) => executeFieldQuery(query, item)), \"$el\"),\n  $size: /* @__PURE__ */ __name((query, data) => data.length === query, \"$size\")\n};\nfunction executeFieldQuery(query, data) {\n  if (Array.isArray(query)) {\n    return query.includes(data);\n  } else if (query instanceof RegExp) {\n    return query.test(data);\n  } else if (isComparable(query)) {\n    return data.valueOf() === query.valueOf();\n  } else if (isNullable6(query)) {\n    return isNullable6(data);\n  }\n  for (const key in query) {\n    if (key in queryOperators) {\n      if (!queryOperators[key](query[key], data)) return false;\n    }\n  }\n  return true;\n}\n__name(executeFieldQuery, \"executeFieldQuery\");\nfunction executeQuery(data, query, ref, env = {}) {\n  const entries = Object.entries(query);\n  return entries.every(([key, value]) => {\n    if (key === \"$and\") {\n      return value.reduce((prev, query2) => prev && executeQuery(data, query2, ref, env), true);\n    } else if (key === \"$or\") {\n      return value.reduce((prev, query2) => prev || executeQuery(data, query2, ref, env), false);\n    } else if (key === \"$not\") {\n      return !executeQuery(data, value, ref, env);\n    } else if (key === \"$expr\") {\n      return executeEval({ ...env, [ref]: data, _: data }, value);\n    }\n    try {\n      const flattenQuery = isFlat(query[key]) ? { [key]: query[key] } : flatten(query[key], `${key}.`);\n      return Object.entries(flattenQuery).every(([key2, value2]) => executeFieldQuery(value2, getCell(data, key2)));\n    } catch {\n      return false;\n    }\n  });\n}\n__name(executeQuery, \"executeQuery\");\n\n// src/index.ts\nimport { Logger as Logger2, Schema, Schema as Schema2 } from \"cordis\";\nvar Types = Symbol(\"minato.types\");\nvar Tables = Symbol(\"minato.tables\");\nvar src_default = Database;\nexport {\n  Eval3 as $,\n  Database,\n  Driver,\n  Eval3 as Eval,\n  Field,\n  Logger2 as Logger,\n  Model,\n  Relation,\n  RuntimeError,\n  Schema,\n  Selection,\n  Tables,\n  Type,\n  Types,\n  src_default as default,\n  executeEval,\n  executeQuery,\n  executeSort,\n  executeUpdate,\n  flatten,\n  getCell,\n  hasSubquery,\n  isAggrExpr,\n  isComparable,\n  isEmpty,\n  isEvalExpr,\n  isFlat,\n  isUpdateExpr,\n  makeRegExp,\n  randomId,\n  unravel,\n  Schema2 as z\n};\n//# sourceMappingURL=index.mjs.map\n","import { BaseAction, Schema } from '../BaseAction'\nimport { readFile } from 'node:fs/promises'\nimport { ActionName } from '../types'\nimport { Peer, ElementType } from '@/ntqqapi/types'\nimport { Type } from 'minato'\nimport Number = Type.Number\nimport String = Type.String\n\nexport interface Payload {\n  message_id: string | number\n}\n\nexport interface Response {\n  text: string\n}\n\nexport class VoiceMsg2Text extends BaseAction<Payload, Response> {\n  actionName = ActionName.VoiceMsg2Text\n\n  protected async _handle(payload: Payload): Promise<Response> {\n    const msgInfo = await this.ctx.store.getMsgInfoByShortId(+payload.message_id)\n    if (!msgInfo) {\n      throw new Error('消息不存在')\n    }\n    let msg = this.ctx.store.getMsgCache(msgInfo.msgId)\n    if (!msg) {\n      const res = await this.ctx.ntMsgApi.getMsgsByMsgId(msgInfo.peer, [msgInfo.msgId])\n      if (res.msgList.length === 0) {\n        throw new Error('无法获取该消息')\n      }\n      msg = res.msgList[0]\n    }\n    const voiceElement = msg.elements.find(e => e.elementType === ElementType.Ptt)\n    if (!voiceElement) {\n      throw new Error('该消息不是语音消息')\n    }\n    const text = await this.ctx.ntMsgApi.translatePtt2Text(msgInfo.msgId, msgInfo.peer, voiceElement)\n    if (!text) {\n      throw new Error('无法转换语音消息为文本')\n    }\n    return { text }\n  }\n\n}\n\n","import { BaseAction, Schema } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  cmd: string\n  hex: string\n}\ninterface PBData{\n  cmd: string\n  hex: string\n  echo?: string\n}\n\nexport class SendPB extends BaseAction<Payload, PBData> {\n  actionName = ActionName.SendPB\n  payloadSchema = Schema.object({\n    cmd: String,\n    hex: String\n  })\n\n  async _handle(payload: Payload) {\n    try {\n      const result = await this.ctx.app.pmhq.sendPB(payload.cmd, payload.hex)\n      return {\n        cmd: result.cmd,\n        hex: result.pb,\n        ...(result.echo !== undefined ? { echo: result.echo } : {})\n      }\n    }\n    catch (e) {\n      this.ctx.logger.error('pmhq 发包失败', e)\n      throw new Error(`pmhq 发包失败: ${e}`, { cause: e })\n    }\n  }\n}\n","import { BaseAction } from '@/onebot11/action/BaseAction'\nimport { ActionName } from '@/onebot11/action/types'\n\ninterface Response {\n  private_key: string | null | undefined\n  group_key: string | null | undefined\n  expired_time: number\n  updated_time: string\n}\n\nexport class GetRKey extends BaseAction<null, Response> {\n  actionName = ActionName.GetRKey\n\n  async _handle() {\n    const rkey = await this.ctx.app.pmhq.getRKey()\n    const now = new Date()\n    const updatedTime = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`\n    const expiredTime = Math.floor(now.getTime() / 1000) + 50 * 60\n    return {\n      private_key: rkey.privateRKey,\n      group_key: rkey.groupRKey,\n      expired_time: expiredTime,\n      updated_time: updatedTime,\n    }\n  }\n}\n","import { BaseAction } from '@/onebot11/action/BaseAction'\nimport { ActionName } from '@/onebot11/action/types'\nimport { uri2local } from '@/common/utils'\n\ninterface Payload {\n  title: string\n  paths: string[]\n}\n\ninterface Response {\n  file_set_id: string,\n  share_link: string,\n  expire_time: number,\n}\n\nexport class UploadFlashFile extends BaseAction<Payload, Response> {\n  actionName = ActionName.UploadFlashFile\n\n  async _handle(payload: Payload) {\n    const { title, paths } = payload\n    const localPaths: string[] = await Promise.all(\n      paths.map(async (path) => {\n        const { fileName, path: localPath, isLocal, errMsg } = await uri2local(this.ctx, path)\n        if (errMsg) {\n          throw new Error(errMsg)\n        }\n        if (localPath) {\n          return localPath\n        }\n        else {\n          throw new Error(`无法获取文件${path}的本地路径`)\n        }\n      }),\n    )\n    const res = await this.ctx.ntFileApi.uploadFlashFile(title, localPaths)\n    return {\n      file_set_id: res.fileSetId,\n      share_link: res.shareLink,\n      expire_time: parseInt(res.expireTime),\n    }\n  }\n}\n","import { BaseAction } from '../BaseAction'\nimport { ActionName } from '../types'\n\ninterface Payload {\n  user_id: string\n}\n\ninterface Response {\n  url: string\n}\n\nexport class GetQQAvatar extends BaseAction<Payload, Response> {\n  actionName = ActionName.GetQQAvatar\n\n  protected async _handle(payload: Payload) {\n    return { url: `https://thirdqq.qlogo.cn/g?b=qq&nk=${payload.user_id}&s=640` }\n  }\n}\n","import { BaseAction } from '@/onebot11/action/BaseAction'\nimport { ActionName } from '@/onebot11/action/types'\n\nexport interface GetFlashFilePayload {\n  share_link?: string\n  file_set_id?: string\n}\n\ninterface Response {\n  file_set_id: string\n  title: string\n  share_link: string\n  total_file_size: number\n  files: Array<{\n    name: string\n    size: number\n  }>\n}\n\nexport class GetFlashFileInfoBase<R> extends BaseAction<GetFlashFilePayload, R> {\n  actionName = ActionName.GetFlashFileInfo\n\n  protected async get_file_set_id(payload: GetFlashFilePayload): Promise<string> {\n    let { share_link, file_set_id } = payload\n    if (share_link) {\n      // 正则提取 code\n      const match = share_link.match(/qfile.qq.com\\/q\\/([\\w\\d]+)/)\n      if (!match) {\n        throw new Error('分享链接格式不正确')\n      }\n      const code = match[1]\n      file_set_id = await this.ctx.ntFileApi.getFlashFileSetIdByCode(code)\n    }\n    if (!file_set_id) {\n      throw new Error('请提供有效的 share_link 或 file_set_id')\n    }\n    return file_set_id\n  }\n\n  async _handle(payload: GetFlashFilePayload): Promise<R> {\n    throw new Error('Method not implemented.')\n  }\n\n}\n\n\nexport class GetFlashFileInfo extends GetFlashFileInfoBase<Response> {\n  actionName = ActionName.GetFlashFileInfo\n\n  async _handle(payload: GetFlashFilePayload) {\n    const file_set_id = await this.get_file_set_id(payload)\n    const fileInfo = await this.ctx.ntFileApi.getFlashFileInfo(file_set_id)\n    const fileList = await this.ctx.ntFileApi.getFlashFileList(file_set_id)\n    // return {\n    //   message: '闪传文件下载任务已创建，使用 get_flash_file_list 查看状态，或等待上报 notice_type:flash_file',\n    // }\n    const files = []\n    for (const file of fileList) {\n      for (const file2 of file.fileList) {\n        files.push({\n          name: file2.name,\n          size: parseInt(file2.fileSize),\n        })\n      }\n    }\n    return {\n      file_set_id,\n      title: fileInfo.name,\n      share_link: fileInfo.shareInfo.shareLink,\n      total_file_size: parseInt(fileInfo.totalFileSize),\n      files,\n    }\n  }\n}\n","import { ActionName } from '@/onebot11/action/types'\nimport { GetFlashFileInfoBase, GetFlashFilePayload } from '@/onebot11/action/llonebot/GetFlashFileInfo'\n\n\nexport class DownloadFlashFile extends GetFlashFileInfoBase<null> {\n  actionName = ActionName.DownloadFlashFile\n\n  async _handle(payload: GetFlashFilePayload) {\n    const file_set_id = await this.get_file_set_id(payload)\n    const res = await this.ctx.ntFileApi.downloadFlashFile(file_set_id)\n    // return {\n    //   message: '闪传文件下载任务已创建，等待上报 notice_type:flash_file 获取下载状态',\n    // }\n    return null\n  }\n}\n","import type Adapter from '../adapter'\nimport GetMsg from './msg/GetMsg'\nimport GetLoginInfo from './system/GetLoginInfo'\nimport { GetFriendList } from './user/GetFriendList'\nimport GetGroupList from './group/GetGroupList'\nimport GetGroupInfo from './group/GetGroupInfo'\nimport GetGroupMemberList from './group/GetGroupMemberList'\nimport GetGroupMemberInfo from './group/GetGroupMemberInfo'\nimport SendGroupMsg from './group/SendGroupMsg'\nimport SendPrivateMsg from './msg/SendPrivateMsg'\nimport SendMsg from './msg/SendMsg'\nimport DeleteMsg from './msg/DeleteMsg'\nimport GetVersionInfo from './system/GetVersionInfo'\nimport CanSendRecord from './system/CanSendRecord'\nimport CanSendImage from './system/CanSendImage'\nimport GetStatus from './system/GetStatus'\nimport {\n  SendForwardMsg,\n  SendGroupForwardMsg,\n  SendPrivateForwardMsg,\n} from './go-cqhttp/SendForwardMsg'\nimport { GetStrangerInfo } from './go-cqhttp/GetStrangerInfo'\nimport SendLike from './user/SendLike'\nimport SetGroupAddRequest from './group/SetGroupAddRequest'\nimport SetGroupLeave from './group/SetGroupLeave'\nimport GetGuildList from './group/GetGuildList'\nimport Debug from './llonebot/Debug'\nimport SetFriendAddRequest from './user/SetFriendAddRequest'\nimport SetGroupWholeBan from './group/SetGroupWholeBan'\nimport SetGroupName from './group/SetGroupName'\nimport SetGroupBan from './group/SetGroupBan'\nimport SetGroupKick from './group/SetGroupKick'\nimport SetGroupAdmin from './group/SetGroupAdmin'\nimport SetGroupCard from './group/SetGroupCard'\nimport GetImage from './file/GetImage'\nimport GetRecord from './file/GetRecord'\nimport { MarkMsgAsRead } from './go-cqhttp/MarkMsgAsRead'\nimport CleanCache from './system/CleanCache'\nimport { GetConfigAction, SetConfigAction } from './llonebot/Config'\nimport GetGroupAddRequest from './llonebot/GetGroupAddRequest'\nimport SetQQAvatar from './llonebot/SetQQAvatar'\nimport { DownloadFile } from './go-cqhttp/DownloadFile'\nimport { GetGroupMsgHistory } from './go-cqhttp/GetGroupMsgHistory'\nimport GetFile from './file/GetFile'\nimport { GetForwardMsg } from './go-cqhttp/GetForwardMsg'\nimport { GetCookies } from './user/GetCookie'\nimport {SetMsgEmojiLike, UnSetMsgEmojiLike} from './llonebot/SetMsgEmojiLike'\nimport { ForwardFriendSingleMsg, ForwardGroupSingleMsg } from './llonebot/ForwardSingleMsg'\nimport { GetEssenceMsgList } from './go-cqhttp/GetGroupEssence'\nimport { GetGroupHonorInfo } from './group/GetGroupHonorInfo'\nimport { HandleQuickOperation } from './go-cqhttp/QuickOperation'\nimport { SetEssenceMsg } from './go-cqhttp/SetEssenceMsg'\nimport { DeleteEssenceMsg } from './go-cqhttp/DelEssenceMsg'\nimport { GetEvent } from './llonebot/GetEvent'\nimport { DelGroupFile } from './go-cqhttp/DelGroupFile'\nimport { GetGroupSystemMsg } from './go-cqhttp/GetGroupSystemMsg'\nimport { CreateGroupFileFolder } from './go-cqhttp/CreateGroupFileFolder'\nimport { DelGroupFolder } from './go-cqhttp/DelGroupFolder'\nimport { GetGroupAtAllRemain } from './go-cqhttp/GetGroupAtAllRemain'\nimport { GetGroupRootFiles } from './go-cqhttp/GetGroupRootFiles'\nimport { SetOnlineStatus } from './llonebot/SetOnlineStatus'\nimport { SendGroupNotice } from './go-cqhttp/SendGroupNotice'\nimport { GetProfileLikeMe } from './llonebot/GetProfileLikeMe'\nimport { FetchEmojiLike } from './llonebot/FetchEmojiLike'\nimport { FetchCustomFace } from './llonebot/FetchCustomFace'\nimport { GetFriendMsgHistory } from './llonebot/GetFriendMsgHistory'\nimport { GetGroupFilesByFolder } from './go-cqhttp/GetGroupFilesByFolder'\nimport { GetFriendWithCategory } from './llonebot/GetFriendWithCategory'\nimport { UploadGroupFile } from './go-cqhttp/UploadGroupFile'\nimport { UploadPrivateFile } from './go-cqhttp/UploadPrivateFile'\nimport { GetGroupFileUrl } from './go-cqhttp/GetGroupFileUrl'\nimport { GetGroupNotice } from './go-cqhttp/GetGroupNotice'\nimport { GetRobotUinRange } from './llonebot/GetRobotUinRange'\nimport { DeleteFriend } from './go-cqhttp/DeleteFriend'\nimport { OCRImage } from './go-cqhttp/OCRImage'\nimport { GroupPoke } from './llonebot/GroupPoke'\nimport { FriendPoke } from './llonebot/FriendPoke'\nimport { GetGroupFileSystemInfo } from './go-cqhttp/GetGroupFileSystemInfo'\nimport { GetCredentials } from './system/GetCredentials'\nimport { SetGroupSpecialTitle } from './go-cqhttp/SetGroupSpecialTitle'\nimport { SendGroupSign } from './go-cqhttp/SendGroupSign'\nimport { SetRestart } from './system/SetRestart'\nimport { SetFriendCategory } from './llonebot/SetFriendCategory'\nimport { SetFriendRemark } from './llonebot/SetFriendRemark'\nimport { SetGroupMsgMask } from './llonebot/SetGroupMsgMask'\nimport { SetGroupRemark } from './llonebot/SetGroupRemark'\nimport { SetQQProfile } from './go-cqhttp/SetQQProfile'\nimport { GetProfileLike } from './llonebot/GetProfileLike'\nimport { GetCsrfToken } from './system/GetCsrfToken'\nimport { SetGroupPortrait } from './go-cqhttp/SetGroupPortrait'\nimport { MoveGroupFile } from './llonebot/MoveGroupFile'\nimport { GetGroupShutList } from './llonebot/GetGroupShutList'\nimport { RenameGroupFileFolder } from './llonebot/RenameGroupFileFolder'\nimport { VoiceMsg2Text } from '@/onebot11/action/llonebot/VoiceMsg2Text'\nimport { SendPB } from './llonebot/SendPB'\nimport { GetRKey } from '@/onebot11/action/llonebot/GetRkey'\nimport { UploadFlashFile } from '@/onebot11/action/llonebot/UploadFlashFile'\nimport { GetQQAvatar } from '@/onebot11/action/llonebot/GetQQAvatar'\nimport { DownloadFlashFile } from '@/onebot11/action/llonebot/DownloadFlashFile'\nimport { GetFlashFileInfo } from '@/onebot11/action/llonebot/GetFlashFileInfo'\n\nexport function initActionMap(adapter: Adapter) {\n  const actionHandlers = [\n    // llonebot\n    new GetFlashFileInfo(adapter),\n    new DownloadFlashFile(adapter),\n    new UploadFlashFile(adapter),\n    new GetRKey(adapter),\n    new SendPB(adapter),\n    new VoiceMsg2Text(adapter),\n    new GetFile(adapter),\n    new Debug(adapter),\n    new GetConfigAction(adapter),\n    new SetConfigAction(adapter),\n    new GetGroupAddRequest(adapter),\n    new SetQQAvatar(adapter),\n    new GetQQAvatar(adapter),\n    new GetFriendWithCategory(adapter),\n    new GetEvent(adapter),\n    new SetOnlineStatus(adapter),\n    new GetProfileLike(adapter),\n    new GetProfileLikeMe(adapter),\n    new GetFriendMsgHistory(adapter),\n    new FetchEmojiLike(adapter),\n    new FetchCustomFace(adapter),\n    new SetMsgEmojiLike(adapter),\n    new UnSetMsgEmojiLike(adapter),\n    new GetRobotUinRange(adapter),\n    new GroupPoke(adapter),\n    new FriendPoke(adapter),\n    new SetFriendCategory(adapter),\n    new SetFriendRemark(adapter),\n    new SetGroupMsgMask(adapter),\n    new SetGroupRemark(adapter),\n    new MoveGroupFile(adapter),\n    new GetGroupShutList(adapter),\n    new RenameGroupFileFolder(adapter),\n    // onebot11\n    new SendLike(adapter),\n    new GetMsg(adapter),\n    new GetLoginInfo(adapter),\n    new GetFriendList(adapter),\n    new GetGroupList(adapter),\n    new GetGroupInfo(adapter),\n    new GetGroupMemberList(adapter),\n    new GetGroupMemberInfo(adapter),\n    new SendGroupMsg(adapter),\n    new SendPrivateMsg(adapter),\n    new SendMsg(adapter),\n    new DeleteMsg(adapter),\n    new SetGroupAddRequest(adapter),\n    new SetFriendAddRequest(adapter),\n    new SetGroupLeave(adapter),\n    new GetVersionInfo(adapter),\n    new CanSendRecord(adapter),\n    new CanSendImage(adapter),\n    new GetStatus(adapter),\n    new SetGroupWholeBan(adapter),\n    new SetGroupBan(adapter),\n    new SetGroupKick(adapter),\n    new SetGroupAdmin(adapter),\n    new SetGroupName(adapter),\n    new SetGroupCard(adapter),\n    new GetImage(adapter),\n    new GetRecord(adapter),\n    new CleanCache(adapter),\n    new GetCookies(adapter),\n    new ForwardFriendSingleMsg(adapter),\n    new ForwardGroupSingleMsg(adapter),\n    new GetCredentials(adapter),\n    new SetRestart(adapter),\n    new GetCsrfToken(adapter),\n    // go-cqhttp\n    new GetEssenceMsgList(adapter),\n    new GetGroupHonorInfo(adapter),\n    new SendForwardMsg(adapter),\n    new SendGroupForwardMsg(adapter),\n    new SendPrivateForwardMsg(adapter),\n    new GetStrangerInfo(adapter),\n    new DownloadFile(adapter),\n    new GetGuildList(adapter),\n    new MarkMsgAsRead(adapter),\n    new UploadGroupFile(adapter),\n    new UploadPrivateFile(adapter),\n    new GetGroupMsgHistory(adapter),\n    new GetForwardMsg(adapter),\n    new HandleQuickOperation(adapter),\n    new SetEssenceMsg(adapter),\n    new DeleteEssenceMsg(adapter),\n    new DelGroupFile(adapter),\n    new GetGroupSystemMsg(adapter),\n    new CreateGroupFileFolder(adapter),\n    new DelGroupFolder(adapter),\n    new GetGroupAtAllRemain(adapter),\n    new GetGroupRootFiles(adapter),\n    new SendGroupNotice(adapter),\n    new GetGroupFilesByFolder(adapter),\n    new GetGroupFileUrl(adapter),\n    new GetGroupNotice(adapter),\n    new DeleteFriend(adapter),\n    new OCRImage(adapter),\n    new GetGroupFileSystemInfo(adapter),\n    new SetGroupSpecialTitle(adapter),\n    new SendGroupSign(adapter),\n    new SetQQProfile(adapter),\n    new SetGroupPortrait(adapter),\n  ]\n  const actionMap = new Map()\n  for (const action of actionHandlers) {\n    actionMap.set(action.actionName, action)\n    actionMap.set(action.actionName + '_async', action)\n    actionMap.set(action.actionName + '_rate_limited', action)\n  }\n\n  return actionMap\n}\n","import { OB11GroupNoticeEvent } from './OB11GroupNoticeEvent'\n\nexport class OB11GroupAdminNoticeEvent extends OB11GroupNoticeEvent {\n  notice_type = 'group_admin'\n  sub_type: 'set' | 'unset'\n  group_id: number\n  user_id: number\n\n  constructor(subType: 'set' | 'unset', groupId: number, userId: number) {\n    super()\n    this.sub_type = subType\n    this.group_id = groupId\n    this.user_id = userId\n  }\n}\n","import { OB11BaseNoticeEvent } from './OB11BaseNoticeEvent'\n\nexport class OB11ProfileLikeEvent extends OB11BaseNoticeEvent {\n  notice_type = 'notify'\n  sub_type = 'profile_like'\n  operator_id: number\n  operator_nick: string\n  times: number\n\n  constructor(operatorId: number, operatorNick: string, times: number) {\n    super()\n    this.operator_id = operatorId\n    this.operator_nick = operatorNick\n    this.times = times\n  }\n}","export enum FlashFileDownloadStatus {\n  DOWNLOADING = 1,\n  DOWNLOADED = 2,\n}\n\nexport enum FlashFileUploadStatus {\n  // UPLOADING = 1,\n  UPLOADED = 4,\n}\n\nexport interface FlashFileSetInfo {\n  fileSetId: string,\n  name: string,\n  totalFileCount: string,\n  totalFileSize: string,\n  shareInfo: {\n    shareLink: string,\n    extractionCode: string\n  },\n  uploaders: Array<{\n    uin: string,\n    nickname: string,\n    uid: string,\n    sendEntrance: string\n  }>,\n  uploadInfo: {\n    totalUploadedFileSize: string,\n    successCount: number,\n    failedCount: number\n  },\n  expireTime: string,\n  expireLeftTime: number,\n  status: number,  // 2 是 ok？\n  uploadStatus: FlashFileUploadStatus,\n  downloadStatus: number, // 0 是未下载?\n}\n\n\nexport interface FlashFileUploadingInfo {\n  uploadedFileCount: string\n  failedFileCount: string\n  totalFileCount: string\n  uploadedFileSize: string\n  uploadSpeed: string, // 上传速度，字节每秒\n  vipUploadSpeed: string,  // VIP 上传速度，字节每秒\n  timeRemain: string, // 剩余时间，单位秒\n  reportSpeed: string // 字节每秒，暂时不知这个字段作用\n}\n\nexport interface FlashFileDownloadingInfo {\n  curDownLoadFailFileNum: number,\n  curDownLoadedPauseFileNum: number,\n  curDownLoadedFileNum: number,\n  curDownloadingFileNum: number,\n  totalDownLoadedFileNum: number,\n  curDownLoadedBytes: string,\n  totalDownLoadedBytes: string,\n  curSpeedBps: number,\n  avgSpeedBps: number,\n  maxSpeedBps: number,\n  remainDownLoadSeconds: number,\n  failFileIdList: string[],\n  allFileIdList: string[],\n  hasNormalFileDownloading: boolean,\n  onlyCompressInnerFileDownloading: boolean,\n  isAllFileAlreadyDownloaded: boolean,\n  saveFileSetDir: string,\n  allWaitingStatusTask: boolean,\n  downloadSceneType: number,\n  retryCount: number\n}\n\nexport interface FlashFileListItem {\n  fileList: {\n    fileSetId: string,\n    cliFileId: string,\n    fileType: number,\n    name: string,\n    fileSize: string,\n    saveFilePath?: string,\n    status: number,\n    uploadStatus: number,  // 3 是完成\n    downloadStatus: number, // 3 是完成\n    filePhysicalSize: string,\n    physical: {\n      id: string,\n      status: number, // 2 是已完成?\n      localPath: string,\n    }\n  }[],\n  isEnd: boolean,\n  isCache: boolean\n}\n","import { OB11BaseNoticeEvent } from './OB11BaseNoticeEvent'\n\nexport interface OB11FlashFile {\n  name: string,\n  size: number,\n  path?: string,\n}\n\n\nabstract class OB11FlashFileEvent extends OB11BaseNoticeEvent {\n  notice_type = 'flash_file'\n  sub_type: 'downloaded' | 'downloading' | 'uploaded' | 'uploading' | undefined\n  title: string = ''\n  share_link: string = ''\n  file_set_id: string = ''\n  files: Array<OB11FlashFile> = []\n\n  protected constructor(title: string, share_link: string, file_set_id: string, files: OB11FlashFile[]) {\n    super()\n    this.title = title\n    this.share_link = share_link\n    this.file_set_id = file_set_id\n    this.files = []\n  }\n}\n\nexport class OB11FlashFileDownloadingEvent extends OB11FlashFileEvent {\n  downloaded_size: number\n  total_size: number\n  speed: number\n  remain_seconds: number\n\n  constructor(title: string, share_link: string, file_set_id: string,\n              downloaded_size: number, total_size: number,\n              speed: number,\n              remain_seconds: number,\n              files: OB11FlashFile[]) {\n    super(title, share_link, file_set_id, files)\n    this.sub_type = 'downloading'\n    this.downloaded_size = downloaded_size\n    this.total_size = total_size\n    this.speed = speed\n    this.remain_seconds = remain_seconds\n    this.files = files\n  }\n}\n\nexport class OB11FlashFileDownloadedEvent extends OB11FlashFileEvent {\n  constructor(title: string, share_link: string, file_set_id: string, files: OB11FlashFile[]) {\n    super(title, share_link, file_set_id, files)\n    this.sub_type = 'downloaded'\n  }\n}\n\nexport class OB11FlashFileUploadingEvent extends OB11FlashFileEvent {\n  uploaded_size: number\n  total_size: number\n  speed: number\n  remain_seconds: number\n\n  constructor(title: string, share_link: string, file_set_id: string,\n              uploaded_size: number, total_size: number,\n              speed: number,\n              remain_seconds: number,\n              files: OB11FlashFile[] = []) {\n    super(title, share_link, file_set_id, files)\n    this.sub_type = 'uploading'\n    this.uploaded_size = uploaded_size\n    this.total_size = total_size\n    this.speed = speed\n    this.remain_seconds = remain_seconds\n    this.files = files\n  }\n}\n\nexport class OB11FlashFileUploadedEvent extends OB11FlashFileEvent {\n  constructor(title: string, share_link: string, file_set_id: string, files: OB11FlashFile[] = []) {\n    super(title, share_link, file_set_id, files)\n    this.sub_type = 'uploaded'\n  }\n}\n","import { Context, Service } from 'cordis'\nimport { OB11Entities } from './entities'\nimport { FriendRequest, GroupNotify, GroupNotifyStatus, GroupNotifyType, RawMessage } from '../ntqqapi/types'\nimport { OB11GroupRequestEvent } from './event/request/OB11GroupRequest'\nimport { OB11FriendRequestEvent } from './event/request/OB11FriendRequest'\nimport { OB11GroupDecreaseEvent } from './event/notice/OB11GroupDecreaseEvent'\nimport { llonebotError, selfInfo } from '../common/globalVars'\nimport { Config as LLOBConfig, OB11Config } from '../common/types'\nimport { OB11WebSocket, OB11WebSocketReverseManager } from './connect/ws'\nimport { OB11Http, OB11HttpPost } from './connect/http'\nimport { OB11BaseEvent } from './event/OB11BaseEvent'\nimport { OB11BaseMetaEvent } from './event/meta/OB11BaseMetaEvent'\nimport { postHttpEvent } from './helper/eventForHttp'\nimport { initActionMap } from './action'\nimport { OB11GroupAdminNoticeEvent } from './event/notice/OB11GroupAdminNoticeEvent'\nimport { OB11ProfileLikeEvent } from './event/notice/OB11ProfileLikeEvent'\nimport { Msg, SysMsg } from '@/ntqqapi/proto/compiled'\nimport { OB11GroupIncreaseEvent } from './event/notice/OB11GroupIncreaseEvent'\nimport { FlashFileDownloadStatus, FlashFileUploadStatus } from '@/ntqqapi/types/flashfile'\nimport {\n  OB11FlashFile,\n  OB11FlashFileDownloadedEvent, OB11FlashFileDownloadingEvent,\n  OB11FlashFileUploadedEvent, OB11FlashFileUploadingEvent,\n} from '@/onebot11/event/notice/OB11FlashFileEvent'\n\ndeclare module 'cordis' {\n  interface Context {\n    onebot: OneBot11Adapter\n  }\n}\n\nclass OneBot11Adapter extends Service {\n  static inject = [\n    'ntMsgApi', 'ntFileApi', 'ntFileCacheApi',\n    'ntFriendApi', 'ntGroupApi', 'ntUserApi',\n    'ntWebApi', 'ntSystemApi', 'store', 'app',\n  ]\n  private ob11WebSocket\n  private ob11WebSocketReverseManager\n  private ob11Http\n  private ob11HttpPost\n\n  constructor(public ctx: Context, public config: OneBot11Adapter.Config) {\n    super(ctx, 'onebot', true)\n    const actionMap = initActionMap(this)\n    this.ob11Http = new OB11Http(ctx, {\n      port: config.httpPort,\n      token: config.token,\n      actionMap,\n      listenLocalhost: config.onlyLocalhost,\n    })\n    this.ob11HttpPost = new OB11HttpPost(ctx, {\n      hosts: config.httpPostUrls,\n      heartInterval: config.heartInterval,\n      secret: config.httpSecret,\n      enableHttpHeart: config.enableHttpHeart,\n    })\n    this.ob11WebSocket = new OB11WebSocket(ctx, {\n      port: config.wsPort,\n      heartInterval: config.heartInterval,\n      token: config.token,\n      actionMap,\n      listenLocalhost: config.onlyLocalhost,\n    })\n    this.ob11WebSocketReverseManager = new OB11WebSocketReverseManager(ctx, {\n      hosts: config.wsReverseUrls,\n      heartInterval: config.heartInterval,\n      token: config.token,\n      actionMap,\n    })\n  }\n\n  public dispatch(event: OB11BaseEvent) {\n    if (this.config.enableWs) {\n      this.ob11WebSocket.emitEvent(event)\n    }\n    if (this.config.enableWsReverse) {\n      this.ob11WebSocketReverseManager.emitEvent(event)\n    }\n    if (this.config.enableHttpPost) {\n      this.ob11HttpPost.emitEvent(event)\n    }\n    if (this.config.enableHttp) {\n      this.ob11Http.emitEvent(event)\n    }\n    if ((event as OB11BaseMetaEvent).meta_event_type !== 'heartbeat') {\n      // 不上报心跳\n      postHttpEvent(event)\n    }\n  }\n\n  private async handleGroupNotify(notify: GroupNotify, doubt: boolean) {\n    try {\n      const flag = `${notify.group.groupCode}|${notify.seq}|${notify.type}|${doubt ? '1' : '0'}`\n      if ([GroupNotifyType.MemberLeaveNotifyAdmin, GroupNotifyType.KickMemberNotifyAdmin].includes(notify.type)) {\n        if (notify.user2.uid) {\n          this.ctx.logger.info('有群成员被踢', notify.group.groupCode, notify.user1.uid, notify.user2.uid)\n          const memberUin = await this.ctx.ntUserApi.getUinByUid(notify.user1.uid)\n          const adminUin = await this.ctx.ntUserApi.getUinByUid(notify.user2.uid)\n          const event = new OB11GroupDecreaseEvent(\n            parseInt(notify.group.groupCode),\n            parseInt(memberUin),\n            parseInt(adminUin),\n            'kick',\n          )\n          this.dispatch(event)\n        }\n      }\n      else if (notify.type === GroupNotifyType.RequestJoinNeedAdminiStratorPass && notify.status === GroupNotifyStatus.Unhandle) {\n        this.ctx.logger.info('有加群请求')\n        const requestUin = await this.ctx.ntUserApi.getUinByUid(notify.user1.uid)\n        const event = new OB11GroupRequestEvent(\n          parseInt(notify.group.groupCode),\n          parseInt(requestUin) || 0,\n          flag,\n          notify.postscript,\n          'add',\n        )\n        this.dispatch(event)\n      }\n        // 邀请 bot 加群会发送一条 ark 消息，因此在消息那边处理，此处忽略\n        // else if (notify.type === GroupNotifyType.InvitedByMember && notify.status === GroupNotifyStatus.Unhandle) {\n        //   this.ctx.logger.info('收到邀请我加群通知')\n        //   const userId = await this.ctx.ntUserApi.getUinByUid(notify.user2.uid)\n        //   const event = new OB11GroupRequestEvent(\n        //     parseInt(notify.group.groupCode),\n        //     parseInt(userId) || 0,\n        //     flag,\n        //     notify.postscript,\n        //     'invite'\n        //   )\n        //   this.dispatch(event)\n      // }\n      else if (notify.type === GroupNotifyType.InvitedNeedAdminiStratorPass && notify.status === GroupNotifyStatus.Unhandle) {\n        this.ctx.logger.info('收到群员邀请加群通知')\n        const userId = await this.ctx.ntUserApi.getUinByUid(notify.user1.uid)\n        const invitorId = await this.ctx.ntUserApi.getUinByUid(notify.user2.uid)\n        const event = new OB11GroupRequestEvent(\n          parseInt(notify.group.groupCode),\n          parseInt(userId) || 0,\n          flag,\n          notify.postscript,\n          'add',\n          parseInt(invitorId) || 0,\n        )\n        this.dispatch(event)\n      }\n      else if ([\n        GroupNotifyType.SetAdmin,\n        GroupNotifyType.CancelAdminNotifyCanceled,\n        GroupNotifyType.CancelAdminNotifyAdmin,\n      ].includes(notify.type)) {\n        this.ctx.logger.info('收到管理员变动通知')\n        const uin = await this.ctx.ntUserApi.getUinByUid(notify.user1.uid)\n        const event = new OB11GroupAdminNoticeEvent(\n          notify.type === GroupNotifyType.SetAdmin ? 'set' : 'unset',\n          parseInt(notify.group.groupCode),\n          parseInt(uin),\n        )\n        this.dispatch(event)\n      }\n    } catch (e) {\n      this.ctx.logger.error('解析群通知失败', (e as Error).stack)\n    }\n  }\n\n  private handleMsg(message: RawMessage) {\n    OB11Entities.message(this.ctx, message).then(msg => {\n      if (!msg) {\n        return\n      }\n      if (!this.config.debug && msg.message.length === 0) {\n        return\n      }\n      const isSelfMsg = msg.user_id.toString() === selfInfo.uin\n      if (isSelfMsg) {\n        msg.target_id = parseInt(message.peerUin)\n      }\n      this.dispatch(msg)\n    }).catch(e => this.ctx.logger.error('handling incoming messages', e))\n\n    OB11Entities.groupEvent(this.ctx, message).then(groupEvent => {\n      if (groupEvent) {\n        this.dispatch(groupEvent)\n      }\n    }).catch(e => this.ctx.logger.error('handling incoming group events', e))\n\n    OB11Entities.privateEvent(this.ctx, message).then(privateEvent => {\n      if (privateEvent) {\n        this.dispatch(privateEvent)\n      }\n    }).catch(e => this.ctx.logger.error('handling incoming buddy events', e))\n  }\n\n  private handleRecallMsg(message: RawMessage) {\n    const peer = {\n      peerUid: message.peerUid,\n      chatType: message.chatType,\n    }\n    const oriMessageId = this.ctx.store.getShortIdByMsgInfo(peer, message.msgId)\n    if (!oriMessageId) {\n      return\n    }\n    OB11Entities.recallEvent(this.ctx, message, oriMessageId).then((recallEvent) => {\n      if (recallEvent) {\n        this.dispatch(recallEvent)\n      }\n    }).catch(e => this.ctx.logger.error('handling recall events', e))\n  }\n\n  private async handleFriendRequest(req: FriendRequest) {\n    let userId = 0\n    try {\n      const requesterUin = await this.ctx.ntUserApi.getUinByUid(req.friendUid)\n      userId = parseInt(requesterUin)\n    } catch (e) {\n      this.ctx.logger.error('获取加好友者QQ号失败', e)\n    }\n    const flag = req.friendUid + '|' + req.reqTime\n    const comment = req.extWords\n    const friendRequestEvent = new OB11FriendRequestEvent(\n      userId,\n      comment,\n      flag,\n    )\n    this.dispatch(friendRequestEvent)\n  }\n\n  private async handleConfigUpdated(config: LLOBConfig) {\n    const old = this.config\n    this.ob11Http.updateConfig({\n      listenLocalhost: config.onlyLocalhost,\n      port: config.ob11.httpPort,\n      token: config.ob11.token,\n    })\n    this.ob11HttpPost.updateConfig({\n      hosts: config.ob11.httpPostUrls,\n      heartInterval: config.heartInterval,\n      secret: config.ob11.httpSecret,\n      enableHttpHeart: config.ob11.enableHttpHeart,\n    })\n    this.ob11WebSocket.updateConfig({\n      listenLocalhost: config.onlyLocalhost,\n      port: config.ob11.wsPort,\n      heartInterval: config.heartInterval,\n      token: config.ob11.token,\n    })\n    this.ob11WebSocketReverseManager.updateConfig({\n      hosts: config.ob11.wsReverseUrls,\n      heartInterval: config.heartInterval,\n      token: config.ob11.token,\n    })\n    if (config.ob11.enable) {\n      if (config.ob11.enableHttp !== old.enableHttp || config.ob11.enable !== old.enable) {\n        if (!config.ob11.enableHttp) {\n          await this.ob11Http.stop()\n        }\n        else {\n          this.ob11Http.start()\n        }\n      }\n      // HTTP 端口变化，重启服务\n      if ((config.ob11.httpPort !== old.httpPort || config.onlyLocalhost !== old.onlyLocalhost) && config.ob11.enableHttp) {\n        await this.ob11Http.stop()\n        this.ob11Http.start()\n      }\n      // 判断是否启用或关闭正向 WebSocket\n      if (config.ob11.enableWs !== old.enableWs || config.ob11.enable !== old.enable) {\n        if (config.ob11.enableWs) {\n          this.ob11WebSocket.start()\n        }\n        else {\n          await this.ob11WebSocket.stop()\n        }\n      }\n      // 正向 WebSocket 端口变化，重启服务\n      if ((config.ob11.wsPort !== old.wsPort || config.onlyLocalhost !== old.onlyLocalhost) && config.ob11.enableWs) {\n        await this.ob11WebSocket.stop()\n        this.ob11WebSocket.start()\n        llonebotError.wsServerError = ''\n      }\n      // 判断是否启用或关闭反向ws\n      if (config.ob11.enableWsReverse !== old.enableWsReverse || config.ob11.enable !== old.enable) {\n        if (config.ob11.enableWsReverse) {\n          this.ob11WebSocketReverseManager.start()\n        }\n        else {\n          this.ob11WebSocketReverseManager.stop()\n        }\n      }\n      // 判断反向 WebSocket 地址有变化\n      if (config.ob11.enableWsReverse) {\n        if (config.ob11.wsReverseUrls.length !== old.wsReverseUrls.length) {\n          this.ob11WebSocketReverseManager.stop()\n          this.ob11WebSocketReverseManager.start()\n        }\n        else {\n          for (const newHost of config.ob11.wsReverseUrls) {\n            if (!old.wsReverseUrls.includes(newHost)) {\n              this.ob11WebSocketReverseManager.stop()\n              this.ob11WebSocketReverseManager.start()\n              break\n            }\n          }\n        }\n      }\n      if (config.ob11.enableHttpHeart !== old.enableHttpHeart || config.ob11.enable !== old.enable) {\n        this.ob11HttpPost.stop()\n      }\n      if (config.ob11.enableHttpPost) {\n        this.ob11HttpPost.start()\n      }\n    }\n    else {\n      this.ob11Http.stop()\n      this.ob11HttpPost.stop()\n      this.ob11WebSocket.stop()\n      this.ob11WebSocketReverseManager.stop()\n    }\n    Object.assign(this.config, {\n      ...config.ob11,\n      heartInterval: config.heartInterval,\n      debug: config.debug,\n      msgCacheExpire: config.msgCacheExpire,\n      musicSignUrl: config.musicSignUrl,\n      enableLocalFile2Url: config.enableLocalFile2Url,\n      ffmpeg: config.ffmpeg,\n    })\n  }\n\n  public start() {\n    if (this.config.enable) {\n      if (this.config.enableWs) {\n        this.ob11WebSocket.start()\n      }\n      if (this.config.enableWsReverse) {\n        this.ob11WebSocketReverseManager.start()\n      }\n      if (this.config.enableHttp) {\n        this.ob11Http.start()\n      }\n      if (this.config.enableHttpPost) {\n        this.ob11HttpPost.start()\n      }\n    }\n    this.ctx.on('llob/config-updated', input => {\n      this.handleConfigUpdated(input).catch(e => {\n      })\n    })\n    this.ctx.on('nt/message-created', (input: RawMessage) => {\n      // 其他终端自己发送的消息会进入这里\n      if (input.senderUid === selfInfo.uid) {\n        if (!this.config.reportSelfMessage) {\n          return\n        }\n      }\n      this.handleMsg(input)\n    })\n    this.ctx.on('nt/message-deleted', input => {\n      this.handleRecallMsg(input)\n    })\n    this.ctx.on('nt/message-sent', input => {\n      if (!this.config.reportSelfMessage) {\n        return\n      }\n      this.handleMsg(input)\n    })\n    this.ctx.on('nt/group-notify', input => {\n      const { doubt, notify } = input\n      this.handleGroupNotify(notify, doubt)\n    })\n    this.ctx.on('nt/friend-request', input => {\n      this.handleFriendRequest(input)\n    })\n    this.ctx.on('nt/system-message-created', async input => {\n      const sysMsg = Msg.Message.decode(input)\n      const { msgType, subType } = sysMsg.contentHead ?? {}\n      if (msgType === 528 && subType === 39) {\n        const tip = SysMsg.ProfileLikeTip.decode(sysMsg.body!.msgContent!)\n        if (tip.msgType !== 0 || tip.subType !== 203) return\n        const detail = tip.content?.msg?.detail\n        if (!detail) return\n        const [times] = detail.txt?.match(/\\d+/) ?? ['0']\n        const event = new OB11ProfileLikeEvent(detail.uin!, detail.nickname!, +times)\n        this.dispatch(event)\n      }\n      else if (msgType === 33) {\n        const tip = SysMsg.GroupMemberChange.decode(sysMsg.body!.msgContent!)\n        if (tip.type !== 130) return\n        this.ctx.logger.info('群成员增加', tip)\n        const memberUin = await this.ctx.ntUserApi.getUinByUid(tip.memberUid)\n        const operatorUin = await this.ctx.ntUserApi.getUinByUid(tip.adminUid)\n        const event = new OB11GroupIncreaseEvent(tip.groupCode, +memberUin, +operatorUin)\n        this.dispatch(event)\n      }\n      else if (msgType === 34) {\n        const tip = SysMsg.GroupMemberChange.decode(sysMsg.body!.msgContent!)\n        if (tip.type !== 130) return // adminUid: 0\n        this.ctx.logger.info('群成员减少', tip)\n        const memberUin = await this.ctx.ntUserApi.getUinByUid(tip.memberUid)\n        const userId = Number(memberUin)\n        const event = new OB11GroupDecreaseEvent(tip.groupCode, userId, userId)\n        this.dispatch(event)\n      }\n    })\n\n    this.ctx.on('nt/flash-file-download-status', input => {\n      if (input.status === FlashFileDownloadStatus.DOWNLOADED) {\n        const files: OB11FlashFile[] = []\n        this.ctx.ntFileApi.getFlashFileList(input.info.fileSetId).then((res) => {\n          for (const file of res) {\n            for (const file2 of file.fileList) {\n              files.push({\n                name: file2.name,\n                size: parseInt(file2.filePhysicalSize),\n                path: file2.saveFilePath,\n              })\n            }\n          }\n          const event = new OB11FlashFileDownloadedEvent(\n            input.info.name,\n            input.info.shareInfo.shareLink,\n            input.info.fileSetId,\n            files,\n          )\n          this.dispatch(event)\n        }).catch((err) => {\n          this.ctx.logger.error(err, { fileSetId: input.info.fileSetId })\n        })\n\n      }\n    })\n\n    this.ctx.on('nt/flash-file-upload-status', fileSetInfo => {\n      if (fileSetInfo.uploadStatus === FlashFileUploadStatus.UPLOADED) {\n        const event = new OB11FlashFileUploadedEvent(\n          fileSetInfo.name,\n          fileSetInfo.shareInfo.shareLink,\n          fileSetInfo.fileSetId,\n        )\n        this.dispatch(event)\n      }\n    })\n\n    this.ctx.on('nt/flash-file-downloading', input => {\n      const [fileSetId, downloadingInfo] = input\n      this.ctx.ntFileApi.getFlashFileInfo(fileSetId, false).then((res) => {\n        this.ctx.ntFileApi.getFlashFileList(fileSetId, false).then((fileList) => {\n          const files: OB11FlashFile[] = []\n          for (const file of fileList) {\n            for (const file2 of file.fileList) {\n              files.push({\n                name: file2.name,\n                size: parseInt(file2.filePhysicalSize),\n                path: file2.saveFilePath,\n              })\n            }\n          }\n          const event = new OB11FlashFileDownloadingEvent(\n            res.name,\n            res.shareInfo.shareLink,\n            fileSetId,\n            parseInt(downloadingInfo.curDownLoadedBytes),\n            parseInt(downloadingInfo.totalDownLoadedBytes),\n            downloadingInfo.curSpeedBps,\n            downloadingInfo.remainDownLoadSeconds,\n            files,\n          )\n          this.dispatch(event)\n        }).catch((err) => {\n          this.ctx.logger.error(err)\n        })\n\n      }).catch((err) => {\n        this.ctx.logger.error(err)\n      })\n    })\n\n    this.ctx.on('nt/flash-file-uploading', info => {\n      this.ctx.ntFileApi.getFlashFileList(info.fileSet.fileSetId, false).then(fileList => {\n        const files: OB11FlashFile[] = []\n        for (const file of fileList) {\n          for (const file2 of file.fileList) {\n            files.push({\n              name: file2.name,\n              size: parseInt(file2.filePhysicalSize),\n              path: file2.physical.localPath,\n            })\n          }\n        }\n\n        const event = new OB11FlashFileUploadingEvent(\n          info.fileSet.name,\n          info.fileSet.shareInfo.shareLink,\n          info.fileSet.fileSetId,\n          parseInt(info.uploadedFileSize),\n          parseInt(info.fileSet.totalFileSize),\n          parseInt(info.uploadSpeed),\n          parseInt(info.timeRemain),\n          files,\n        )\n        this.dispatch(event)\n      })\n\n    })\n  }\n}\n\nnamespace OneBot11Adapter {\n  export interface Config extends OB11Config {\n    onlyLocalhost: boolean\n    heartInterval: number\n    debug: boolean\n    musicSignUrl?: string\n    enableLocalFile2Url: boolean\n    ffmpeg?: string\n  }\n}\n\nexport default OneBot11Adapter\n","var __defProp = Object.defineProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\n\n// src/index.ts\nimport { Binary, camelize, defineProperty, hyphenate, is, isNonNullable, isNullable, makeArray } from \"cosmokit\";\nvar require_index = __commonJS({\n  \"src/index.ts\"(exports, module) {\n    var kElement = Symbol.for(\"satori.element\");\n    var ElementConstructor = class {\n      static {\n        __name(this, \"ElementConstructor\");\n      }\n      get data() {\n        return this.attrs;\n      }\n      getTagName() {\n        if (this.type === \"component\") {\n          return this.attrs.is?.name ?? \"component\";\n        } else {\n          return this.type;\n        }\n      }\n      toAttrString() {\n        return Object.entries(this.attrs).map(([key, value]) => {\n          if (isNullable(value)) return \"\";\n          key = hyphenate(key);\n          if (value === true) return ` ${key}`;\n          if (value === false) return ` no-${key}`;\n          return ` ${key}=\"${Element.escape(\"\" + value, true)}\"`;\n        }).join(\"\");\n      }\n      toString(strip = false) {\n        if (this.type === \"text\" && \"content\" in this.attrs) {\n          return strip ? this.attrs.content : Element.escape(this.attrs.content);\n        }\n        const inner = this.children.map((child) => child.toString(strip)).join(\"\");\n        if (strip) return inner;\n        const attrs = this.toAttrString();\n        const tag = this.getTagName();\n        if (!this.children.length) return `<${tag}${attrs}/>`;\n        return `<${tag}${attrs}>${inner}</${tag}>`;\n      }\n    };\n    defineProperty(ElementConstructor, \"name\", \"Element\");\n    defineProperty(ElementConstructor.prototype, kElement, true);\n    function Element(type, ...args) {\n      const el = Object.create(ElementConstructor.prototype);\n      const attrs = {}, children = [];\n      if (args[0] && typeof args[0] === \"object\" && !Element.isElement(args[0]) && !Array.isArray(args[0])) {\n        const props = args.shift();\n        for (const [key, value] of Object.entries(props)) {\n          if (isNullable(value)) continue;\n          if (key === \"children\") {\n            args.push(...makeArray(value));\n          } else {\n            attrs[camelize(key)] = value;\n          }\n        }\n      }\n      for (const child of args) {\n        children.push(...Element.toElementArray(child));\n      }\n      if (typeof type === \"function\") {\n        attrs.is = type;\n        type = \"component\";\n      }\n      return Object.assign(el, { type, attrs, children });\n    }\n    __name(Element, \"Element\");\n    var evaluate = new Function(\"expr\", \"context\", `\n  try {\n    with (context) {\n      return eval(expr)\n    }\n  } catch {}\n`);\n    ((Element2) => {\n      Element2.jsx = Element2;\n      Element2.jsxs = Element2;\n      Element2.jsxDEV = Element2;\n      Element2.Fragment = \"template\";\n      function isElement(source) {\n        return source && typeof source === \"object\" && source[kElement];\n      }\n      Element2.isElement = isElement;\n      __name(isElement, \"isElement\");\n      function toElement(content) {\n        if (typeof content === \"string\" || typeof content === \"number\" || typeof content === \"boolean\") {\n          content = \"\" + content;\n          if (content) return Element2(\"text\", { content });\n        } else if (isElement(content)) {\n          return content;\n        } else if (!isNullable(content)) {\n          throw new TypeError(`Invalid content: ${content}`);\n        }\n      }\n      Element2.toElement = toElement;\n      __name(toElement, \"toElement\");\n      function toElementArray(content) {\n        if (Array.isArray(content)) {\n          return content.map(toElement).filter(isNonNullable);\n        } else {\n          return [toElement(content)].filter(isNonNullable);\n        }\n      }\n      Element2.toElementArray = toElementArray;\n      __name(toElementArray, \"toElementArray\");\n      function normalize(source, context) {\n        return typeof source === \"string\" ? parse(source, context) : toElementArray(source);\n      }\n      Element2.normalize = normalize;\n      __name(normalize, \"normalize\");\n      function escape(source, inline = false) {\n        const result = (source ?? \"\").replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n        return inline ? result.replace(/\"/g, \"&quot;\") : result;\n      }\n      Element2.escape = escape;\n      __name(escape, \"escape\");\n      function unescape(source) {\n        return source.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&quot;/g, '\"').replace(/&#(\\d+);/g, (_, code) => code === \"38\" ? _ : String.fromCharCode(+code)).replace(/&#x([0-9a-f]+);/gi, (_, code) => code === \"26\" ? _ : String.fromCharCode(parseInt(code, 16))).replace(/&(amp|#38|#x26);/g, \"&\");\n      }\n      Element2.unescape = unescape;\n      __name(unescape, \"unescape\");\n      function from(source, options = {}) {\n        const elements = parse(source);\n        if (options.caret) {\n          if (options.type && elements[0]?.type !== options.type) return;\n          return elements[0];\n        }\n        return select(elements, options.type || \"*\")[0];\n      }\n      Element2.from = from;\n      __name(from, \"from\");\n      const combRegExp = / *([ >+~]) */g;\n      function parseSelector(input) {\n        return input.split(\",\").map((query) => {\n          const selectors = [];\n          query = query.trim();\n          let combCap, combinator = \" \";\n          while (combCap = combRegExp.exec(query)) {\n            selectors.push({ type: query.slice(0, combCap.index), combinator });\n            combinator = combCap[1];\n            query = query.slice(combCap.index + combCap[0].length);\n          }\n          selectors.push({ type: query, combinator });\n          return selectors;\n        });\n      }\n      Element2.parseSelector = parseSelector;\n      __name(parseSelector, \"parseSelector\");\n      function select(source, query) {\n        if (!source || !query) return [];\n        if (typeof source === \"string\") source = parse(source);\n        if (typeof query === \"string\") query = parseSelector(query);\n        if (!query.length) return [];\n        let adjacent = [];\n        const results = [];\n        for (const [index, element] of source.entries()) {\n          const inner = [];\n          const local = [...query, ...adjacent];\n          adjacent = [];\n          let matched = false;\n          for (const group of local) {\n            const { type, combinator } = group[0];\n            if (type === element.type || type === \"*\") {\n              if (group.length === 1) {\n                matched = true;\n              } else if ([\" \", \">\"].includes(group[1].combinator)) {\n                inner.push(group.slice(1));\n              } else if (group[1].combinator === \"+\") {\n                adjacent.push(group.slice(1));\n              } else {\n                query.push(group.slice(1));\n              }\n            }\n            if (combinator === \" \") {\n              inner.push(group);\n            }\n          }\n          if (matched) results.push(source[index]);\n          results.push(...select(element.children, inner));\n        }\n        return results;\n      }\n      Element2.select = select;\n      __name(select, \"select\");\n      function interpolate(expr, context) {\n        expr = expr.trim();\n        if (!/^[\\w.]+$/.test(expr)) {\n          return evaluate(expr, context) ?? \"\";\n        }\n        let value = context;\n        for (const part of expr.split(\".\")) {\n          value = value[part];\n          if (isNullable(value)) return \"\";\n        }\n        return value ?? \"\";\n      }\n      Element2.interpolate = interpolate;\n      __name(interpolate, \"interpolate\");\n      const tagRegExp1 = /(?<comment><!--[\\s\\S]*?-->)|(?<tag><(\\/?)([^!\\s>/]*)([^>]*?)\\s*(\\/?)>)/;\n      const tagRegExp2 = /(?<comment><!--[\\s\\S]*?-->)|(?<tag><(\\/?)([^!\\s>/]*)([^>]*?)\\s*(\\/?)>)|(?<curly>\\{(?<derivative>[@:/#][^\\s}]*)?[\\s\\S]*?\\})/;\n      const attrRegExp1 = /([^\\s=]+)(?:=\"(?<value1>[^\"]*)\"|='(?<value2>[^']*)')?/g;\n      const attrRegExp2 = /([^\\s=]+)(?:=\"(?<value1>[^\"]*)\"|='(?<value2>[^']*)'|=\\{(?<curly>[^}]+)\\})?/g;\n      let Position;\n      ((Position2) => {\n        Position2[Position2[\"OPEN\"] = 0] = \"OPEN\";\n        Position2[Position2[\"CLOSE\"] = 1] = \"CLOSE\";\n        Position2[Position2[\"EMPTY\"] = 2] = \"EMPTY\";\n        Position2[Position2[\"CONTINUE\"] = 3] = \"CONTINUE\";\n      })(Position || (Position = {}));\n      function parse(source, context) {\n        const tokens = [];\n        function pushText(content) {\n          if (content) tokens.push(content);\n        }\n        __name(pushText, \"pushText\");\n        const tagRegExp = context ? tagRegExp2 : tagRegExp1;\n        let tagCap;\n        let trimStart = true;\n        while (tagCap = tagRegExp.exec(source)) {\n          const { curly, comment, derivative } = tagCap.groups;\n          const trimEnd = !curly;\n          parseContent(source.slice(0, tagCap.index), trimStart, trimEnd);\n          trimStart = trimEnd;\n          source = source.slice(tagCap.index + tagCap[0].length);\n          const [_, , , close, type, extra, empty] = tagCap;\n          if (comment) continue;\n          if (curly) {\n            let name = \"\", position = 2 /* EMPTY */;\n            if (derivative) {\n              name = derivative.slice(1);\n              position = {\n                \"@\": 2 /* EMPTY */,\n                \"#\": 0 /* OPEN */,\n                \"/\": 1 /* CLOSE */,\n                \":\": 3 /* CONTINUE */\n              }[derivative[0]];\n            }\n            tokens.push({\n              type: \"curly\",\n              name,\n              position,\n              source: curly,\n              extra: curly.slice(1 + (derivative ?? \"\").length, -1)\n            });\n            continue;\n          }\n          tokens.push({\n            type: \"angle\",\n            source: _,\n            name: type || Element2.Fragment,\n            position: close ? 1 /* CLOSE */ : empty ? 2 /* EMPTY */ : 0 /* OPEN */,\n            extra\n          });\n        }\n        parseContent(source, trimStart, true);\n        function parseContent(source2, trimStart2, trimEnd) {\n          source2 = unescape(source2);\n          if (trimStart2) source2 = source2.replace(/^\\s*\\n\\s*/, \"\");\n          if (trimEnd) source2 = source2.replace(/\\s*\\n\\s*$/, \"\");\n          pushText(source2);\n        }\n        __name(parseContent, \"parseContent\");\n        return parseTokens(foldTokens(tokens), context);\n      }\n      Element2.parse = parse;\n      __name(parse, \"parse\");\n      function foldTokens(tokens) {\n        const stack = [[{\n          type: \"angle\",\n          name: Element2.Fragment,\n          position: 0 /* OPEN */,\n          source: \"\",\n          extra: \"\",\n          children: { default: [] }\n        }, \"default\"]];\n        function pushToken(...tokens2) {\n          const [token, slot] = stack[0];\n          token.children[slot].push(...tokens2);\n        }\n        __name(pushToken, \"pushToken\");\n        for (const token of tokens) {\n          if (typeof token === \"string\") {\n            pushToken(token);\n            continue;\n          }\n          const { name, position } = token;\n          if (position === 1 /* CLOSE */) {\n            if (stack[0][0].name === name) {\n              stack.shift();\n            }\n          } else if (position === 3 /* CONTINUE */) {\n            stack[0][0].children[name] = [];\n            stack[0][1] = name;\n          } else if (position === 0 /* OPEN */) {\n            pushToken(token);\n            token.children = { default: [] };\n            stack.unshift([token, \"default\"]);\n          } else {\n            pushToken(token);\n          }\n        }\n        return stack[stack.length - 1][0].children.default;\n      }\n      __name(foldTokens, \"foldTokens\");\n      function parseTokens(tokens, context) {\n        const result = [];\n        for (const token of tokens) {\n          if (typeof token === \"string\") {\n            result.push(Element2(\"text\", { content: token }));\n          } else if (token.type === \"angle\") {\n            const attrs = {};\n            const attrRegExp = context ? attrRegExp2 : attrRegExp1;\n            let attrCap;\n            while (attrCap = attrRegExp.exec(token.extra)) {\n              const [, key, v1, v2 = v1, v3] = attrCap;\n              if (v3) {\n                attrs[key] = interpolate(v3, context);\n              } else if (!isNullable(v2)) {\n                attrs[key] = unescape(v2);\n              } else if (key.startsWith(\"no-\")) {\n                attrs[key.slice(3)] = false;\n              } else {\n                attrs[key] = true;\n              }\n            }\n            result.push(Element2(token.name, attrs, token.children && parseTokens(token.children.default, context)));\n          } else if (!token.name) {\n            result.push(...toElementArray(interpolate(token.extra, context)));\n          } else if (token.name === \"if\") {\n            if (evaluate(token.extra, context)) {\n              result.push(...parseTokens(token.children.default, context));\n            } else {\n              result.push(...parseTokens(token.children.else || [], context));\n            }\n          } else if (token.name === \"each\") {\n            const [expr, ident] = token.extra.split(/\\s+as\\s+/);\n            const items = interpolate(expr, context);\n            if (!items || !items[Symbol.iterator]) continue;\n            for (const item of items) {\n              result.push(...parseTokens(token.children.default, { ...context, [ident]: item }));\n            }\n          }\n        }\n        return result;\n      }\n      __name(parseTokens, \"parseTokens\");\n      function visit(element, rules, session) {\n        const { type, attrs, children } = element;\n        if (typeof rules === \"function\") {\n          return rules(element, session);\n        } else {\n          let result = rules[typeof type === \"string\" ? type : \"\"] ?? rules.default ?? true;\n          if (typeof result === \"function\") {\n            result = result(attrs, children, session);\n          }\n          return result;\n        }\n      }\n      __name(visit, \"visit\");\n      function transform(source, rules, session) {\n        const elements = typeof source === \"string\" ? parse(source) : source;\n        const output = [];\n        elements.forEach((element) => {\n          const { type, attrs, children } = element;\n          const result = visit(element, rules, session);\n          if (result === true) {\n            output.push(Element2(type, attrs, transform(children, rules, session)));\n          } else if (result !== false) {\n            output.push(...toElementArray(result));\n          }\n        });\n        return typeof source === \"string\" ? output.join(\"\") : output;\n      }\n      Element2.transform = transform;\n      __name(transform, \"transform\");\n      async function transformAsync(source, rules, session) {\n        const elements = typeof source === \"string\" ? parse(source) : source;\n        const children = (await Promise.all(elements.map(async (element) => {\n          const { type, attrs, children: children2 } = element;\n          const result = await visit(element, rules, session);\n          if (result === true) {\n            return [Element2(type, attrs, await transformAsync(children2, rules, session))];\n          } else if (result !== false) {\n            return toElementArray(result);\n          } else {\n            return [];\n          }\n        }))).flat(1);\n        return typeof source === \"string\" ? children.join(\"\") : children;\n      }\n      Element2.transformAsync = transformAsync;\n      __name(transformAsync, \"transformAsync\");\n      function createFactory(type, ...keys) {\n        return (...args) => {\n          const element = Element2(type);\n          keys.forEach((key, index) => {\n            if (!isNullable(args[index])) {\n              element.attrs[key] = args[index];\n            }\n          });\n          if (args[keys.length]) {\n            Object.assign(element.attrs, args[keys.length]);\n          }\n          return element;\n        };\n      }\n      __name(createFactory, \"createFactory\");\n      Element2.warn = /* @__PURE__ */ __name(() => {\n      }, \"warn\");\n      function createAssetFactory(type) {\n        return (src, ...args) => {\n          let prefix = \"base64://\";\n          if (typeof args[0] === \"string\") {\n            prefix = `data:${args.shift()};base64,`;\n          }\n          if (is(\"Buffer\", src)) {\n            src = prefix + src.toString(\"base64\");\n          } else if (is(\"ArrayBuffer\", src)) {\n            src = prefix + Binary.toBase64(src);\n          } else if (ArrayBuffer.isView(src)) {\n            src = prefix + Binary.toBase64(src.buffer);\n          }\n          if (src.startsWith(\"base64://\")) {\n            (0, Element2.warn)(`protocol \"base64:\" is deprecated and will be removed in the future, please use \"data:\" instead`);\n          }\n          return Element2(type, { ...args[0], src });\n        };\n      }\n      __name(createAssetFactory, \"createAssetFactory\");\n      Element2.text = createFactory(\"text\", \"content\");\n      Element2.at = createFactory(\"at\", \"id\");\n      Element2.sharp = createFactory(\"sharp\", \"id\");\n      Element2.quote = createFactory(\"quote\", \"id\");\n      Element2.image = createAssetFactory(\"img\");\n      Element2.img = createAssetFactory(\"img\");\n      Element2.video = createAssetFactory(\"video\");\n      Element2.audio = createAssetFactory(\"audio\");\n      Element2.file = createAssetFactory(\"file\");\n      function i18n(path, children) {\n        return Element2(\"i18n\", typeof path === \"string\" ? { path } : path, children);\n      }\n      Element2.i18n = i18n;\n      __name(i18n, \"i18n\");\n    })(Element || (Element = {}));\n    module.exports = Element;\n  }\n});\nexport default require_index();\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport Element from \"@satorijs/element\";\nimport { isNullable, pick } from \"cosmokit\";\nfunction Field(name) {\n  return { name };\n}\n__name(Field, \"Field\");\nfunction Method(name, fields, isForm = false) {\n  return { name, fields: fields.map(Field), isForm };\n}\n__name(Method, \"Method\");\nvar Methods = {\n  \"channel.get\": Method(\"getChannel\", [\"channel_id\", \"guild_id\"]),\n  \"channel.list\": Method(\"getChannelList\", [\"guild_id\", \"next\"]),\n  \"channel.create\": Method(\"createChannel\", [\"guild_id\", \"data\"]),\n  \"channel.update\": Method(\"updateChannel\", [\"channel_id\", \"data\"]),\n  \"channel.delete\": Method(\"deleteChannel\", [\"channel_id\"]),\n  \"channel.mute\": Method(\"muteChannel\", [\"channel_id\", \"guild_id\", \"enable\"]),\n  \"message.create\": Method(\"createMessage\", [\"channel_id\", \"content\", \"referrer\"]),\n  \"message.update\": Method(\"editMessage\", [\"channel_id\", \"message_id\", \"content\"]),\n  \"message.delete\": Method(\"deleteMessage\", [\"channel_id\", \"message_id\"]),\n  \"message.get\": Method(\"getMessage\", [\"channel_id\", \"message_id\"]),\n  \"message.list\": Method(\"getMessageList\", [\"channel_id\", \"next\", \"direction\", \"limit\", \"order\"]),\n  \"reaction.create\": Method(\"createReaction\", [\"channel_id\", \"message_id\", \"emoji\"]),\n  \"reaction.delete\": Method(\"deleteReaction\", [\"channel_id\", \"message_id\", \"emoji\", \"user_id\"]),\n  \"reaction.clear\": Method(\"clearReaction\", [\"channel_id\", \"message_id\", \"emoji\"]),\n  \"reaction.list\": Method(\"getReactionList\", [\"channel_id\", \"message_id\", \"emoji\", \"next\"]),\n  \"upload.create\": Method(\"createUpload\", [], true),\n  \"guild.get\": Method(\"getGuild\", [\"guild_id\"]),\n  \"guild.list\": Method(\"getGuildList\", [\"next\"]),\n  \"guild.member.get\": Method(\"getGuildMember\", [\"guild_id\", \"user_id\"]),\n  \"guild.member.list\": Method(\"getGuildMemberList\", [\"guild_id\", \"next\"]),\n  \"guild.member.kick\": Method(\"kickGuildMember\", [\"guild_id\", \"user_id\", \"permanent\"]),\n  \"guild.member.mute\": Method(\"muteGuildMember\", [\"guild_id\", \"user_id\", \"duration\", \"reason\"]),\n  \"guild.member.role.set\": Method(\"setGuildMemberRole\", [\"guild_id\", \"user_id\", \"role_id\"]),\n  \"guild.member.role.unset\": Method(\"unsetGuildMemberRole\", [\"guild_id\", \"user_id\", \"role_id\"]),\n  \"guild.member.role.list\": Method(\"getGuildMemberRoleList\", [\"guild_id\", \"user_id\", \"next\"]),\n  \"guild.role.list\": Method(\"getGuildRoleList\", [\"guild_id\", \"next\"]),\n  \"guild.role.create\": Method(\"createGuildRole\", [\"guild_id\", \"data\"]),\n  \"guild.role.update\": Method(\"updateGuildRole\", [\"guild_id\", \"role_id\", \"data\"]),\n  \"guild.role.delete\": Method(\"deleteGuildRole\", [\"guild_id\", \"role_id\"]),\n  \"login.get\": Method(\"getLogin\", []),\n  \"user.get\": Method(\"getUser\", [\"user_id\"]),\n  \"user.channel.create\": Method(\"createDirectChannel\", [\"user_id\", \"guild_id\"]),\n  \"friend.list\": Method(\"getFriendList\", [\"next\"]),\n  \"friend.delete\": Method(\"deleteFriend\", [\"user_id\"]),\n  \"friend.approve\": Method(\"handleFriendRequest\", [\"message_id\", \"approve\", \"comment\"]),\n  \"guild.approve\": Method(\"handleGuildRequest\", [\"message_id\", \"approve\", \"comment\"]),\n  \"guild.member.approve\": Method(\"handleGuildMemberRequest\", [\"message_id\", \"approve\", \"comment\"])\n};\nvar Channel;\n((Channel2) => {\n  let Type;\n  ((Type2) => {\n    Type2[Type2[\"TEXT\"] = 0] = \"TEXT\";\n    Type2[Type2[\"DIRECT\"] = 1] = \"DIRECT\";\n    Type2[Type2[\"CATEGORY\"] = 2] = \"CATEGORY\";\n    Type2[Type2[\"VOICE\"] = 3] = \"VOICE\";\n  })(Type = Channel2.Type || (Channel2.Type = {}));\n})(Channel || (Channel = {}));\nfunction Resource(attrs = [], children = [], content) {\n  return { attrs, children, content };\n}\n__name(Resource, \"Resource\");\n((Resource2) => {\n  const Definitions = {\n    user: Resource2([\"id\", \"name\", \"nick\", \"avatar\", \"isBot\"]),\n    member: Resource2([\"name\", \"nick\", \"avatar\"]),\n    channel: Resource2([\"id\", \"type\", \"name\"]),\n    guild: Resource2([\"id\", \"name\", \"avatar\"]),\n    quote: Resource2([\"id\"], [\"quote\", \"user\", \"member\", \"channel\"], \"content\")\n  };\n  function encode(type, data) {\n    const resource = Definitions[type];\n    const element = Element(type, pick(data, resource.attrs));\n    for (const key of resource.children) {\n      if (isNullable(data[key])) continue;\n      element.children.push(encode(key, data[key]));\n    }\n    if (resource.content && !isNullable(data[resource.content])) {\n      element.children.push(...Element.parse(data[resource.content]));\n    }\n    return element;\n  }\n  Resource2.encode = encode;\n  __name(encode, \"encode\");\n  function decode(element) {\n    const data = element.attrs;\n    const resource = Definitions[element.type];\n    for (const key of resource.children) {\n      const index = element.children.findIndex((el) => el.type === key);\n      if (index === -1) continue;\n      const [child] = element.children.splice(index, 1);\n      data[key] = decode(child);\n    }\n    if (resource.content && element.children.length) {\n      data[resource.content] = element.children.join(\"\");\n    }\n    return data;\n  }\n  Resource2.decode = decode;\n  __name(decode, \"decode\");\n})(Resource || (Resource = {}));\nfunction transformKey(source, callback) {\n  if (!source || typeof source !== \"object\") return source;\n  if (Array.isArray(source)) return source.map((value) => transformKey(value, callback));\n  return Object.fromEntries(Object.entries(source).map(([key, value]) => {\n    if (key.startsWith(\"_\") || key === \"referrer\") return [key, value];\n    return [callback(key), transformKey(value, callback)];\n  }));\n}\n__name(transformKey, \"transformKey\");\nvar Status = /* @__PURE__ */ ((Status2) => {\n  Status2[Status2[\"OFFLINE\"] = 0] = \"OFFLINE\";\n  Status2[Status2[\"ONLINE\"] = 1] = \"ONLINE\";\n  Status2[Status2[\"CONNECT\"] = 2] = \"CONNECT\";\n  Status2[Status2[\"DISCONNECT\"] = 3] = \"DISCONNECT\";\n  Status2[Status2[\"RECONNECT\"] = 4] = \"RECONNECT\";\n  return Status2;\n})(Status || {});\nvar Opcode = /* @__PURE__ */ ((Opcode2) => {\n  Opcode2[Opcode2[\"EVENT\"] = 0] = \"EVENT\";\n  Opcode2[Opcode2[\"PING\"] = 1] = \"PING\";\n  Opcode2[Opcode2[\"PONG\"] = 2] = \"PONG\";\n  Opcode2[Opcode2[\"IDENTIFY\"] = 3] = \"IDENTIFY\";\n  Opcode2[Opcode2[\"READY\"] = 4] = \"READY\";\n  Opcode2[Opcode2[\"META\"] = 5] = \"META\";\n  return Opcode2;\n})(Opcode || {});\nvar WebSocket;\n((WebSocket2) => {\n  WebSocket2.CONNECTING = 0;\n  WebSocket2.OPEN = 1;\n  WebSocket2.CLOSING = 2;\n  WebSocket2.CLOSED = 3;\n})(WebSocket || (WebSocket = {}));\nexport {\n  Channel,\n  Methods,\n  Opcode,\n  Resource,\n  Status,\n  WebSocket,\n  transformKey\n};\n","import { Channel } from '@satorijs/protocol'\nimport { Handler } from '../index'\n\ninterface Payload {\n  channel_id: string\n}\n\nexport const getChannel: Handler<Channel, Payload> = async (ctx, payload) => {\n  const info = await ctx.ntGroupApi.getGroupAllInfo(payload.channel_id)\n  return {\n    id: payload.channel_id,\n    type: Channel.Type.TEXT,\n    name: info.groupName\n  }\n}\n","import { Channel, List } from '@satorijs/protocol'\nimport { Handler } from '../index'\n\ninterface Payload {\n  guild_id: string\n  next?: string\n}\n\nexport const getChannelList: Handler<List<Channel>, Payload> = async (ctx, payload) => {\n  const info = await ctx.ntGroupApi.getGroupAllInfo(payload.guild_id)\n  return {\n    data: [{\n      id: payload.guild_id,\n      type: Channel.Type.TEXT,\n      name: info.groupName\n    }]\n  }\n}\n","import { Channel } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { ObjectToSnake } from 'ts-case-convert'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  channel_id: string\n  data: ObjectToSnake<Channel>\n}\n\nexport const updateChannel: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  if (payload.data.name) {\n    await ctx.ntGroupApi.setGroupName(payload.channel_id, payload.data.name)\n  }\n  return {}\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  channel_id: string\n}\n\nexport const deleteChannel: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  await ctx.ntGroupApi.quitGroup(payload.channel_id)\n  return {}\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  channel_id: string\n  duration: number\n}\n\nexport const muteChannel: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  await ctx.ntGroupApi.banGroup(payload.channel_id, payload.duration !== 0)\n  return {}\n}\n","import { Channel } from '@satorijs/protocol'\nimport { Handler } from '../../index'\n\ninterface Payload {\n  user_id: string\n  guild_id?: string\n}\n\nexport const createDirectChannel: Handler<Channel, Payload> = async (ctx, payload) => {\n  return {\n    id: 'private:' + payload.user_id,\n    type: Channel.Type.DIRECT\n  }\n}\n","import h from '@satorijs/element'\nimport * as NT from '@/ntqqapi/types'\nimport * as Universal from '@satorijs/protocol'\nimport { Context } from 'cordis'\nimport { ObjectToSnake } from 'ts-case-convert'\nimport { pick } from 'cosmokit'\nimport { pathToFileURL } from 'node:url'\n\nexport function decodeUser(user: NT.User): ObjectToSnake<Universal.User> {\n  return {\n    id: user.uin,\n    name: user.nick,\n    nick: user.remark || user.nick,\n    avatar: `http://q.qlogo.cn/headimg_dl?dst_uin=${user.uin}&spec=640`,\n    is_bot: false\n  }\n}\n\nfunction decodeGuildChannelId(data: NT.RawMessage) {\n  if (data.chatType === NT.ChatType.Group) {\n    return [data.peerUin, data.peerUin]\n  } else {\n    return [undefined, 'private:' + data.peerUin]\n  }\n}\n\nfunction decodeMessageUser(data: NT.RawMessage) {\n  return {\n    id: data.senderUin,\n    name: data.sendNickName,\n    nick: data.sendRemarkName || data.sendNickName,\n    avatar: `http://q.qlogo.cn/headimg_dl?dst_uin=${data.senderUin}&spec=640`\n  }\n}\n\nasync function decodeElement(ctx: Context, data: NT.RawMessage, quoted = false) {\n  const buffer: h[] = []\n  for (const v of data.elements) {\n    if (v.textElement && v.textElement.atType !== NT.AtType.Unknown) {\n      // at\n      const { atNtUid, atUid, atType, content } = v.textElement\n      if (atType === NT.AtType.All) {\n        buffer.push(h.at(undefined, { type: 'all' }))\n      } else if (atType === NT.AtType.One) {\n        let id: string\n        if (atUid && atUid !== '0') {\n          id = atUid\n        } else {\n          id = await ctx.ntUserApi.getUinByUid(atNtUid)\n        }\n        buffer.push(h.at(id, { name: content.replace('@', '') }))\n      }\n    } else if (v.textElement && v.textElement.content) {\n      // text\n      buffer.push(h.text(v.textElement.content))\n    } else if (v.replyElement && !quoted) {\n      // quote\n      const peer = {\n        chatType: data.chatType,\n        peerUid: data.peerUid,\n        guildId: ''\n      }\n      const { replayMsgSeq, replyMsgTime, sourceMsgIdInRecords } = v.replyElement\n      const records = data.records.find(msgRecord => msgRecord.msgId === sourceMsgIdInRecords)\n      const senderUid = v.replyElement.senderUidStr || records?.senderUid\n      if (!records || !replyMsgTime || !senderUid) {\n        ctx.logger.error('找不到引用消息', v.replyElement)\n        continue\n      }\n      if (data.multiTransInfo) {\n        buffer.push(h.quote(records.msgId))\n        continue\n      }\n\n      try {\n        const { msgList } = await ctx.ntMsgApi.getMsgsBySeqAndCount(peer, replayMsgSeq, 1, true, true)\n        let replyMsg: NT.RawMessage | undefined\n        if (records.msgRandom !== '0') {\n          replyMsg = msgList.find(msg => msg.msgRandom === records.msgRandom)\n        } else {\n          ctx.logger.info('msgRandom is missing', v.replyElement, records)\n          replyMsg = msgList[0]\n        }\n        if (!replyMsg) {\n          ctx.logger.warn('引用消息可能不完整', v.replyElement, records)\n          continue\n        }\n        const elements = await decodeElement(ctx, replyMsg, true)\n        buffer.push(h('quote', { id: replyMsg.msgId }, elements))\n      } catch (e) {\n        ctx.logger.error('获取不到引用的消息', e, v.replyElement, (e as Error).stack)\n      }\n    } else if (v.picElement) {\n      // img\n      const src = await ctx.ntFileApi.getImageUrl(v.picElement)\n      buffer.push(h.img(src, {\n        width: v.picElement.picWidth,\n        height: v.picElement.picHeight,\n        subType: v.picElement.picSubType\n      }))\n    } else if (v.pttElement) {\n      // audio\n      const src = pathToFileURL(v.pttElement.filePath).href\n      buffer.push(h.audio(src, { duration: v.pttElement.duration }))\n    } else if (v.videoElement) {\n      // video\n      const src = (await ctx.ntFileApi.getVideoUrl({\n        chatType: data.chatType,\n        peerUid: data.peerUid,\n      }, data.msgId, v.elementId)) || pathToFileURL(v.videoElement.filePath).href\n      buffer.push(h.video(src))\n    } else if (v.marketFaceElement) {\n      // mface\n      const { emojiId, supportSize } = v.marketFaceElement\n      const { width = 300, height = 300 } = supportSize?.[0] ?? {}\n      const dir = emojiId.substring(0, 2)\n      const src = `https://gxh.vip.qq.com/club/item/parcel/item/${dir}/${emojiId}/raw${width}.gif`\n      buffer.push(h('mface', {\n        emojiPackageId: v.marketFaceElement.emojiPackageId,\n        emojiId,\n        key: v.marketFaceElement.key,\n        summary: v.marketFaceElement.faceName\n      }, [h.image(src, { width, height })]))\n    } else if (v.faceElement) {\n      // face\n      const { faceIndex, faceType } = v.faceElement\n      buffer.push(h('face', {\n        id: String(faceIndex),\n        type: String(faceType),\n        platform: 'llonebot'\n      }))\n    } else if (v.arkElement) {\n      // llonebot:ark\n      buffer.push(h('llonebot:ark', {\n        data: v.arkElement.bytesData\n      }))\n    }\n  }\n  return buffer\n}\n\nexport async function decodeMessage(\n  ctx: Context,\n  data: NT.RawMessage,\n  message: ObjectToSnake<Universal.Message> = {}\n) {\n  if (!data.senderUin || data.senderUin === '0') return //跳过空消息\n\n  const [guildId, channelId] = decodeGuildChannelId(data)\n  const elements = await decodeElement(ctx, data)\n\n  if (elements.length === 0) return\n\n  message.id = data.msgId\n  message.content = elements.join('')\n  message.channel = {\n    id: channelId!,\n    name: data.peerName,\n    type: guildId ? Universal.Channel.Type.TEXT : Universal.Channel.Type.DIRECT\n  }\n  message.user = decodeMessageUser(data)\n  message.created_at = +data.msgTime * 1000\n  if (!message.user.name) {\n    const info = (await ctx.ntUserApi.getUserSimpleInfo(data.senderUid)).coreInfo\n    message.user.name = info.nick\n    message.user.nick = info.remark || info.nick\n    if (message.channel.type === Universal.Channel.Type.DIRECT) {\n      message.channel.name = info.nick\n    }\n  }\n  if (guildId) {\n    message.guild = {\n      id: guildId,\n      name: data.peerName,\n      avatar: `https://p.qlogo.cn/gh/${guildId}/${guildId}/640`\n    }\n    message.member = {\n      user: message.user,\n      nick: data.sendMemberName || message.user.name\n    }\n  }\n\n  return message\n}\n\nexport function decodeGuildMember(data: NT.GroupMember): ObjectToSnake<Universal.GuildMember> {\n  return {\n    user: {\n      ...decodeUser(data),\n      is_bot: data.isRobot\n    },\n    nick: data.cardName || data.nick,\n    avatar: `http://q.qlogo.cn/headimg_dl?dst_uin=${data.uin}&spec=640`,\n    joined_at: data.joinTime * 1000\n  }\n}\n\nexport function decodeGuild(data: Record<'groupCode' | 'groupName', string>): ObjectToSnake<Universal.Guild> {\n  return {\n    id: data.groupCode,\n    name: data.groupName,\n    avatar: `https://p.qlogo.cn/gh/${data.groupCode}/${data.groupCode}/640`\n  }\n}\n\nexport async function getPeer(ctx: Context, channelId: string): Promise<NT.Peer> {\n  let peerUid = channelId\n  let chatType: NT.ChatType = NT.ChatType.Group\n  if (peerUid.includes('private:')) {\n    const uin = channelId.replace('private:', '')\n    const uid = await ctx.ntUserApi.getUidByUin(uin)\n    if (!uid) throw new Error('无法获取用户信息')\n    const isBuddy = await ctx.ntFriendApi.isBuddy(uid)\n    chatType = isBuddy ? NT.ChatType.C2C : NT.ChatType.TempC2CFromGroup\n    peerUid = uid\n  }\n  return {\n    chatType,\n    peerUid,\n    guildId: ''\n  }\n}\n","import { Guild } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeGuild } from '../../utils'\n\ninterface Payload {\n  guild_id: string\n}\n\nexport const getGuild: Handler<Guild, Payload> = async (ctx, payload) => {\n  const info = await ctx.ntGroupApi.getGroupAllInfo(payload.guild_id)\n  return decodeGuild(info)\n}\n","import { Guild, List } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeGuild } from '../../utils'\n\ninterface Payload {\n  next?: string\n}\n\nexport const getGuildList: Handler<List<Guild>, Payload> = async (ctx) => {\n  const groups = await ctx.ntGroupApi.getGroups()\n  return {\n    data: groups.map(decodeGuild)\n  }\n}\n","import { Handler } from '../index'\nimport { GroupRequestOperateTypes } from '@/ntqqapi/types'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  message_id: string\n  approve: boolean\n  comment: string\n}\n\nexport const handleGuildRequest: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  await ctx.ntGroupApi.handleGroupRequest(\n    payload.message_id,\n    payload.approve ? GroupRequestOperateTypes.Approve : GroupRequestOperateTypes.Reject,\n    payload.comment\n  )\n  return {}\n}\n","import { Login, Status, Methods } from '@satorijs/protocol'\nimport { decodeUser } from '../../utils'\nimport { selfInfo } from '@/common/globalVars'\nimport { Handler } from '../index'\nimport { handlers } from '../index'\n\nexport const getLogin: Handler<Login> = async (ctx) => {\n  const features: string[] = []\n  for (const [feature, info] of Object.entries(Methods)) {\n    if (info.name in handlers) {\n      features.push(feature)\n    }\n  }\n  features.push('guild.plain')\n  await ctx.ntUserApi.getSelfNick()\n  return {\n    sn: ctx.get('satori')!._loginSeq,\n    user: decodeUser(selfInfo),\n    adapter: 'llonebot',\n    platform: 'llonebot',\n    status: selfInfo.online ? Status.ONLINE : Status.OFFLINE,\n    features,\n    proxy_urls: []\n  }\n}\n","import { GuildMember } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeGuildMember } from '../../utils'\n\ninterface Payload {\n  guild_id: string\n  user_id: string\n}\n\nexport const getGuildMember: Handler<GuildMember, Payload> = async (ctx, payload) => {\n  const uid = await ctx.ntUserApi.getUidByUin(payload.user_id)\n  if (!uid) throw new Error('无法获取用户信息')\n  const info = await ctx.ntGroupApi.getGroupMember(payload.guild_id, uid)\n  if (!info) {\n    throw new Error(`群成员${payload.user_id}不存在`)\n  }\n  return decodeGuildMember(info)\n}\n","import { GuildMember, List } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeGuildMember } from '../../utils'\n\ninterface Payload {\n  guild_id: string\n  next?: string\n}\n\nexport const getGuildMemberList: Handler<List<GuildMember>, Payload> = async (ctx, payload) => {\n  let members = await ctx.ntGroupApi.getGroupMembers(payload.guild_id)\n  if (members.size === 0) {\n    await ctx.sleep(100)\n    members = await ctx.ntGroupApi.getGroupMembers(payload.guild_id)\n  }\n  return {\n    data: Array.from(members.values()).map(decodeGuildMember)\n  }\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  guild_id: string\n  user_id: string\n  permanent?: boolean\n}\n\nexport const kickGuildMember: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const uid = await ctx.ntUserApi.getUidByUin(payload.user_id, payload.guild_id)\n  if (!uid) throw new Error('无法获取用户信息')\n  await ctx.ntGroupApi.kickMember(payload.guild_id, [uid], Boolean(payload.permanent))\n  return {}\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  guild_id: string\n  user_id: string\n  duration: number //毫秒\n}\n\nexport const muteGuildMember: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const uid = await ctx.ntUserApi.getUidByUin(payload.user_id, payload.guild_id)\n  if (!uid) throw new Error('无法获取用户信息')\n  await ctx.ntGroupApi.banMember(payload.guild_id, [\n    { uid, timeStamp: payload.duration / 1000 }\n  ])\n  return {}\n}\n","import { Handler } from '../index'\nimport { GroupRequestOperateTypes } from '@/ntqqapi/types'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  message_id: string\n  approve: boolean\n  comment?: string\n}\n\nexport const handleGuildMemberRequest: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  await ctx.ntGroupApi.handleGroupRequest(\n    payload.message_id,\n    payload.approve ? GroupRequestOperateTypes.Approve : GroupRequestOperateTypes.Reject,\n    payload.comment\n  )\n  return {}\n}\n","import h from '@satorijs/element'\nimport pathLib from 'node:path'\nimport * as NT from '@/ntqqapi/types'\nimport { Context } from 'cordis'\nimport { Message } from '@satorijs/protocol'\nimport { SendElement } from '@/ntqqapi/entities'\nimport { decodeMessage, getPeer } from './utils'\nimport { ObjectToSnake } from 'ts-case-convert'\nimport { uri2local } from '@/common/utils'\nimport { unlink } from 'node:fs/promises'\nimport { selfInfo } from '@/common/globalVars'\n\nclass State {\n  children: (NT.SendMessageElement | string)[] = []\n\n  constructor(public type: 'message' | 'multiForward') { }\n}\n\nexport class MessageEncoder {\n  public errors: Error[] = []\n  public results: ObjectToSnake<Message>[] = []\n  private elements: NT.SendMessageElement[] = []\n  private deleteAfterSentFiles: string[] = []\n  private stack: State[] = [new State('message')]\n  private peer?: NT.Peer\n\n  constructor(private ctx: Context, private channelId: string) { }\n\n  async flush() {\n    if (this.elements.length === 0) return\n\n    if (this.stack[0].type === 'multiForward') {\n      this.stack[0].children.push(...this.elements)\n      this.elements = []\n      return\n    }\n\n    this.peer ??= await getPeer(this.ctx, this.channelId)\n    const sent = await this.ctx.ntMsgApi.sendMsg(this.peer, this.elements)\n    if (sent) {\n      this.ctx.logger.info('消息发送', this.peer)\n      const result = await decodeMessage(this.ctx, sent)\n      if (result) {\n        this.results.push(result)\n      }\n    }\n    this.deleteAfterSentFiles.forEach(path => {\n      try {\n        unlink(path).then().catch((e)=>{})\n      }catch (e) {\n\n      }\n    })\n    this.deleteAfterSentFiles = []\n    this.elements = []\n  }\n\n  private async fetchFile(url: string) {\n    const res = await uri2local(this.ctx, url)\n    if (!res.success) {\n      this.ctx.logger.error(res.errMsg)\n      throw Error(res.errMsg)\n    }\n    if (!res.isLocal) {\n      this.deleteAfterSentFiles.push(res.path)\n    }\n    return res.path\n  }\n\n  private async getPeerFromMsgId(msgId: string): Promise<NT.Peer | undefined> {\n    this.peer ??= await getPeer(this.ctx, this.channelId)\n    const msg = (await this.ctx.ntMsgApi.getMsgsByMsgId(this.peer, [msgId])).msgList\n    if (msg.length > 0) {\n      return this.peer\n    } else {\n      const cacheMsg = this.ctx.store.getMsgCache(msgId)\n      if (cacheMsg) {\n        return {\n          peerUid: cacheMsg.peerUid,\n          chatType: cacheMsg.chatType\n        }\n      }\n      const c2cMsg = await this.ctx.ntMsgApi.queryMsgsById(NT.ChatType.C2C, msgId)\n      if (c2cMsg.msgList.length) {\n        return {\n          peerUid: c2cMsg.msgList[0].peerUid,\n          chatType: c2cMsg.msgList[0].chatType\n        }\n      }\n      const groupMsg = await this.ctx.ntMsgApi.queryMsgsById(NT.ChatType.Group, msgId)\n      if (groupMsg.msgList.length) {\n        return {\n          peerUid: groupMsg.msgList[0].peerUid,\n          chatType: groupMsg.msgList[0].chatType\n        }\n      }\n    }\n  }\n\n  private async forward(msgId: string, srcPeer: NT.Peer, destPeer: NT.Peer) {\n    const list = await this.ctx.ntMsgApi.forwardMsg(srcPeer, destPeer, [msgId])\n    return list[0]\n  }\n\n  private async multiForward() {\n    if (!this.stack[0].children.length) return\n\n    const selfPeer = {\n      chatType: NT.ChatType.C2C,\n      peerUid: selfInfo.uid,\n    }\n    const nodeMsgIds: { msgId: string, peer: NT.Peer }[] = []\n    for (const node of this.stack[0].children) {\n      if (typeof node === 'string') {\n        if (node.length !== 19) {\n          this.ctx.logger.warn('转发消息失败，消息 ID 不合法', node)\n          continue\n        }\n        const peer = await this.getPeerFromMsgId(node)\n        if (!peer) {\n          this.ctx.logger.warn('转发消息失败，未找到消息', node)\n          continue\n        }\n        nodeMsgIds.push({ msgId: node, peer })\n      } else {\n        try {\n          const sent = await this.ctx.ntMsgApi.sendMsg(selfPeer, [node])\n          if (!sent) {\n            this.ctx.logger.warn('转发节点生成失败', node)\n            continue\n          }\n          nodeMsgIds.push({ msgId: sent.msgId, peer: selfPeer })\n          await this.ctx.sleep(100)\n        } catch (e) {\n          this.ctx.logger.error('生成转发消息节点失败', e)\n        }\n      }\n    }\n\n    let srcPeer: NT.Peer\n    let needSendSelf = false\n    for (const { peer } of nodeMsgIds) {\n      srcPeer ??= { chatType: peer.chatType, peerUid: peer.peerUid }\n      if (srcPeer.peerUid !== peer.peerUid) {\n        needSendSelf = true\n        break\n      }\n    }\n    let retMsgIds: string[] = []\n    if (needSendSelf) {\n      for (const { msgId, peer } of nodeMsgIds) {\n        const srcPeer = {\n          peerUid: peer.peerUid,\n          chatType: peer.chatType\n        }\n        const clonedMsg = await this.forward(msgId, srcPeer, selfPeer)\n        if (clonedMsg) {\n          retMsgIds.push(clonedMsg.msgId)\n        }\n        await this.ctx.sleep(100)\n      }\n      srcPeer = selfPeer\n    } else {\n      retMsgIds = nodeMsgIds.map(e => e.msgId)\n    }\n    if (retMsgIds.length === 0) {\n      throw Error('转发消息失败，节点为空')\n    }\n\n    if (this.stack[1].type === 'multiForward') {\n      this.peer ??= await getPeer(this.ctx, this.channelId)\n      const msg = await this.ctx.ntMsgApi.multiForwardMsg(srcPeer!, selfPeer, retMsgIds)\n      this.stack[1].children.push(...msg.elements as NT.SendMessageElement[])\n    } else {\n      this.peer ??= await getPeer(this.ctx, this.channelId)\n      await this.ctx.ntMsgApi.multiForwardMsg(srcPeer!, this.peer, retMsgIds)\n      this.ctx.logger.info('消息发送', this.peer)\n    }\n  }\n\n  async visit(element: h) {\n    const { type, attrs, children } = element\n    if (type === 'text') {\n      this.elements.push(SendElement.text(attrs.content))\n    } else if (type === 'at') {\n      this.peer ??= await getPeer(this.ctx, this.channelId)\n      if (this.peer.chatType !== NT.ChatType.Group) {\n        return\n      }\n      if (attrs.type === 'all') {\n        this.elements.push(SendElement.at('', '', NT.AtType.All, '@全体成员'))\n      } else {\n        const uid = await this.ctx.ntUserApi.getUidByUin(attrs.id, this.peer.peerUid) ?? ''\n        const display = attrs.name ? '@' + attrs.name : ''\n        this.elements.push(SendElement.at(attrs.id, uid, NT.AtType.One, display))\n      }\n    } else if (type === 'a') {\n      await this.render(children)\n      const prev = this.elements.at(-1)\n      if (prev?.elementType === 1 && prev.textElement.atType === 0) {\n        prev.textElement.content += ` ( ${attrs.href} )`\n      }\n    } else if (type === 'img' || type === 'image') {\n      const url = attrs.src ?? attrs.url\n      const path = await this.fetchFile(url)\n      const element = await SendElement.pic(this.ctx, path)\n      this.deleteAfterSentFiles.push(element.picElement.sourcePath!)\n      this.elements.push(element)\n    } else if (type === 'audio') {\n      await this.flush()\n      const url = attrs.src ?? attrs.url\n      const path = await this.fetchFile(url)\n      this.elements.push(await SendElement.ptt(this.ctx, path))\n      await this.flush()\n    } else if (type === 'video') {\n      await this.flush()\n      const url = attrs.src ?? attrs.url\n      const path = await this.fetchFile(url)\n      let thumb: string | undefined\n      if (attrs.poster) {\n        thumb = await this.fetchFile(attrs.poster)\n      }\n      const element = await SendElement.video(this.ctx, path, thumb)\n      this.deleteAfterSentFiles.push(element.videoElement.filePath)\n      this.elements.push(element)\n      await this.flush()\n    } else if (type === 'file') {\n      await this.flush()\n      const url = attrs.src ?? attrs.url\n      const path = await this.fetchFile(url)\n      const fileName = attrs.title ?? pathLib.basename(path)\n      this.elements.push(await SendElement.file(this.ctx, path, fileName))\n      await this.flush()\n    } else if (type === 'br') {\n      this.elements.push(SendElement.text('\\n'))\n    } else if (type === 'p') {\n      const prev = this.elements.at(-1)\n      if (prev?.elementType === 1 && prev.textElement.atType === 0) {\n        if (!prev.textElement.content.endsWith('\\n')) {\n          prev.textElement.content += '\\n'\n        }\n      } else if (prev) {\n        this.elements.push(SendElement.text('\\n'))\n      }\n      await this.render(children)\n      const last = this.elements.at(-1)\n      if (last?.elementType === 1 && last.textElement.atType === 0) {\n        if (!last.textElement.content.endsWith('\\n')) {\n          last.textElement.content += '\\n'\n        }\n      } else {\n        this.elements.push(SendElement.text('\\n'))\n      }\n    } else if (type === 'message') {\n      if (attrs.id && attrs.forward) {\n        await this.flush()\n        const srcPeer = await this.getPeerFromMsgId(attrs.id)\n        if (srcPeer) {\n          this.peer ??= await getPeer(this.ctx, this.channelId)\n          const sent = await this.forward(attrs.id, srcPeer, this.peer)\n          if (sent) {\n            this.ctx.logger.info('消息发送', this.peer)\n            const result = await decodeMessage(this.ctx, sent)\n            if (result) {\n              this.results.push(result)\n            }\n          }\n        }\n      } else if (attrs.forward) {\n        await this.flush()\n        this.stack.unshift(new State('multiForward'))\n        await this.render(children)\n        await this.flush()\n        await this.multiForward()\n        this.stack.shift()\n      } else if (attrs.id && this.stack[0].type === 'multiForward') {\n        this.stack[0].children.push(attrs.id)\n      } else {\n        await this.render(children)\n        await this.flush()\n      }\n    } else if (type === 'quote') {\n      this.peer ??= await getPeer(this.ctx, this.channelId)\n      const source = (await this.ctx.ntMsgApi.getMsgsByMsgId(this.peer, [attrs.id])).msgList[0]\n      if (source) {\n        this.elements.push(SendElement.reply(source.msgSeq, source.msgId, source.senderUin))\n      }\n    } else if (type === 'face') {\n      this.elements.push(SendElement.face(+attrs.id, +attrs.type))\n    } else if (type === 'mface') {\n      this.elements.push(SendElement.mface(\n        +attrs.emojiPackageId,\n        attrs.emojiId,\n        attrs.key,\n        attrs.summary\n      ))\n    } else {\n      await this.render(children)\n    }\n  }\n\n  async render(elements: h[], flush?: boolean) {\n    for (const element of elements) {\n      await this.visit(element)\n    }\n    if (flush) {\n      await this.flush()\n    }\n  }\n\n  async send(content: h.Fragment) {\n    const elements = h.normalize(content)\n    await this.render(elements)\n    await this.flush()\n    if (this.errors.length) {\n      throw new AggregateError(this.errors)\n    } else {\n      return this.results\n    }\n  }\n}\n","import { Message } from '@satorijs/protocol'\nimport { MessageEncoder } from '../../message'\nimport { Handler } from '../index'\n\ninterface Payload {\n  channel_id: string\n  content: string\n}\n\nexport const createMessage: Handler<Message[], Payload> = (ctx, payload) => {\n  const encoder = new MessageEncoder(ctx, payload.channel_id)\n  return encoder.send(payload.content)\n}\n","import { Message } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeMessage, getPeer } from '../../utils'\n\ninterface Payload {\n  channel_id: string\n  message_id: string\n}\n\nexport const getMessage: Handler<Message, Payload> = async (ctx, payload) => {\n  const peer = await getPeer(ctx, payload.channel_id)\n  const raw = ctx.store.getMsgCache(payload.message_id) ?? (await ctx.ntMsgApi.getMsgsByMsgId(peer, [payload.message_id])).msgList[0]\n  const result = await decodeMessage(ctx, raw)\n  if (!result) {\n    throw new Error('消息为空')\n  }\n  return result\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\nimport { getPeer } from '../../utils'\n\ninterface Payload {\n  channel_id: string\n  message_id: string\n}\n\nexport const deleteMessage: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const peer = await getPeer(ctx, payload.channel_id)\n  const data = await ctx.ntMsgApi.recallMsg(peer, [payload.message_id])\n  if (data.result !== 0) {\n    ctx.logger.error('message.delete', payload.message_id, data)\n    throw new Error(`消息撤回失败`)\n  }\n  return {}\n}\n","import { Direction, Message, Order, BidiList } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeMessage, getPeer } from '../../utils'\nimport { RawMessage } from '@/ntqqapi/types'\nimport { filterNullable } from '@/common/utils/misc'\n\ninterface Payload {\n  channel_id: string\n  next?: string\n  direction?: Direction\n  limit?: number\n  order?: Order\n}\n\nexport const getMessageList: Handler<BidiList<Message>, Payload> = async (ctx, payload) => {\n  const count = payload.limit ?? 50\n  const peer = await getPeer(ctx, payload.channel_id)\n  let msgList: RawMessage[]\n  if (!payload.next) {\n    msgList = (await ctx.ntMsgApi.getAioFirstViewLatestMsgs(peer, count)).msgList\n  } else {\n    msgList = (await ctx.ntMsgApi.getMsgHistory(peer, payload.next, count)).msgList\n  }\n  const data = filterNullable(await Promise.all(msgList.map(e => decodeMessage(ctx, e))))\n  if (payload.order === 'desc') data.reverse()\n  return {\n    data,\n    next: msgList.at(-1)?.msgId\n  }\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\nimport { getPeer } from '../../utils'\n\ninterface Payload {\n  channel_id: string\n  message_id: string\n  emoji: string\n}\n\nexport const createReaction: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const peer = await getPeer(ctx, payload.channel_id)\n  const { msgList } = await ctx.ntMsgApi.getMsgsByMsgId(peer, [payload.message_id])\n  if (!msgList.length || !msgList[0].msgSeq) {\n    throw new Error('无法获取该消息')\n  }\n  await ctx.ntMsgApi.setEmojiLike(peer, msgList[0].msgSeq, payload.emoji, true)\n  return {}\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\nimport { getPeer } from '../../utils'\n\ninterface Payload {\n  channel_id: string\n  message_id: string\n  emoji: string\n  user_id?: string\n}\n\nexport const deleteReaction: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const peer = await getPeer(ctx, payload.channel_id)\n  const { msgList } = await ctx.ntMsgApi.getMsgsByMsgId(peer, [payload.message_id])\n  if (!msgList.length || !msgList[0].msgSeq) {\n    throw new Error('无法获取该消息')\n  }\n  await ctx.ntMsgApi.setEmojiLike(peer, msgList[0].msgSeq, payload.emoji, false)\n  return {}\n}\n","import { List, User } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeUser, getPeer } from '../../utils'\nimport { filterNullable } from '@/common/utils/misc'\n\ninterface Payload {\n  channel_id: string\n  message_id: string\n  emoji: string\n  next?: string\n}\n\nexport const getReactionList: Handler<List<User>, Payload> = async (ctx, payload) => {\n  const peer = await getPeer(ctx, payload.channel_id)\n  const { msgList } = await ctx.ntMsgApi.getMsgsByMsgId(peer, [payload.message_id])\n  if (!msgList.length || !msgList[0].msgSeq) {\n    throw new Error('无法获取该消息')\n  }\n  const emojiType = payload.emoji.length > 3 ? '2' : '1'\n  const count = msgList[0].emojiLikesList.find(e => e.emojiId === payload.emoji)?.likesCnt ?? '50'\n  const data = await ctx.ntMsgApi.getMsgEmojiLikesList(peer, msgList[0].msgSeq, payload.emoji, emojiType, +count)\n  const uids = await Promise.all(data.emojiLikesList.map(e => ctx.ntUserApi.getUidByUin(e.tinyId, peer.peerUid)))\n  const raw = await ctx.ntUserApi.getCoreAndBaseInfo(filterNullable(uids))\n  return {\n    data: Array.from(raw.values()).map(e => decodeUser(e.coreInfo))\n  }\n}\n","import { Handler } from '../../index'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  guild_id: string\n  user_id: string\n  role_id: string\n}\n\nexport const setGuildMemberRole: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const uid = await ctx.ntUserApi.getUidByUin(payload.user_id, payload.guild_id)\n  if (!uid) {\n    throw new Error('无法获取用户信息')\n  }\n  if (payload.role_id !== '2' && payload.role_id !== '3') {\n    throw new Error('role_id 仅可以为 2 或 3')\n  }\n  await ctx.ntGroupApi.setMemberRole(payload.guild_id, uid, +payload.role_id)\n  return {}\n}\n","import { GuildRole, List } from '@satorijs/protocol'\nimport { Handler } from '../index'\n\ninterface Payload {\n  guild_id: string\n  next?: string\n}\n\nexport const getGuildRoleList: Handler<List<Partial<GuildRole>>, Payload> = () => {\n  return {\n    data: [\n      {\n        id: '4',\n        name: 'owner'\n      },\n      {\n        id: '3',\n        name: 'admin'\n      },\n      {\n        id: '2',\n        name: 'member'\n      }\n    ]\n  }\n}\n","import { User } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeUser } from '../../utils'\n\ninterface Payload {\n  user_id: string\n}\n\nexport const getUser: Handler<User, Payload> = async (ctx, payload) => {\n  const uin = payload.user_id\n  const uid = await ctx.ntUserApi.getUidByUin(uin)\n  if (!uid) throw new Error('无法获取用户信息')\n  const data = await ctx.ntUserApi.getUserSimpleInfo(uid)\n  const ranges = await ctx.ntUserApi.getRobotUinRange()\n  return {\n    ...decodeUser(data.coreInfo),\n    is_bot: ranges.some(e => uin >= e.minUin && uin <= e.maxUin)\n  }\n}\n","import { User, List } from '@satorijs/protocol'\nimport { Handler } from '../index'\nimport { decodeUser } from '../../utils'\n\ninterface Payload {\n  next?: string\n}\n\nexport const getFriendList: Handler<List<User>, Payload> = async (ctx) => {\n  const friends = await ctx.ntFriendApi.getBuddyList()\n  return {\n    data: friends.map(e => decodeUser(e.coreInfo))\n  }\n\n}\n","import { Handler } from '../index'\nimport { Dict } from 'cosmokit'\n\ninterface Payload {\n  message_id: string\n  approve: boolean\n  comment?: string\n}\n\nexport const handleFriendRequest: Handler<Dict<never>, Payload> = async (ctx, payload) => {\n  const data = payload.message_id.split('|')\n  if (data.length < 2) {\n    throw new Error('无效的 message_id')\n  }\n  const uid = data[0]\n  const reqTime = data[1]\n  await ctx.ntFriendApi.handleFriendRequest(uid, reqTime, payload.approve)\n  return {}\n}\n","import { Context } from 'cordis'\nimport { Awaitable, Dict } from 'cosmokit'\nimport { ObjectToSnake } from 'ts-case-convert'\nimport { getChannel } from './channel/get'\nimport { getChannelList } from './channel/list'\nimport { updateChannel } from './channel/update'\nimport { deleteChannel } from './channel/delete'\nimport { muteChannel } from './channel/mute'\nimport { createDirectChannel } from './channel/user/create'\nimport { getGuild } from './guild/get'\nimport { getGuildList } from './guild/list'\nimport { handleGuildRequest } from './guild/approve'\nimport { getLogin } from './login/get'\nimport { getGuildMember } from './member/get'\nimport { getGuildMemberList } from './member/list'\nimport { kickGuildMember } from './member/kick'\nimport { muteGuildMember } from './member/mute'\nimport { handleGuildMemberRequest } from './member/approve'\nimport { createMessage } from './message/create'\nimport { getMessage } from './message/get'\nimport { deleteMessage } from './message/delete'\nimport { getMessageList } from './message/list'\nimport { createReaction } from './reaction/create'\nimport { deleteReaction } from './reaction/delete'\nimport { getReactionList } from './reaction/list'\nimport { setGuildMemberRole } from './role/member/set'\nimport { getGuildRoleList } from './role/list'\nimport { getUser } from './user/get'\nimport { getFriendList } from './user/list'\nimport { handleFriendRequest } from './user/approve'\n\nexport type Handler<\n  R extends Dict = Dict,\n  P extends Dict = any\n> = (ctx: Context, payload: P) => Awaitable<ObjectToSnake<R>>\n\nexport const handlers: Record<string, Handler> = {\n  // 频道 (Channel)\n  getChannel,\n  getChannelList,\n  updateChannel,\n  deleteChannel,\n  muteChannel,\n  createDirectChannel,\n  // 群组 (Guild)\n  getGuild,\n  getGuildList,\n  handleGuildRequest,\n  // 登录信息 (Login)\n  getLogin,\n  // 群组成员 (GuildMember)\n  getGuildMember,\n  getGuildMemberList,\n  kickGuildMember,\n  muteGuildMember,\n  handleGuildMemberRequest,\n  // 消息 (Message)\n  createMessage,\n  getMessage,\n  deleteMessage,\n  getMessageList,\n  // 表态 (Reaction)\n  createReaction,\n  deleteReaction,\n  getReactionList,\n  // 群组角色 (GuildRole)\n  setGuildMemberRole,\n  getGuildRoleList,\n  // 用户 (User)\n  getUser,\n  getFriendList,\n  handleFriendRequest,\n}\n","import net from 'node:net';\nimport os from 'node:os';\n\nclass Locked extends Error {\n\tconstructor(port) {\n\t\tsuper(`${port} is locked`);\n\t}\n}\n\nconst lockedPorts = {\n\told: new Set(),\n\tyoung: new Set(),\n};\n\n// On this interval, the old locked ports are discarded,\n// the young locked ports are moved to old locked ports,\n// and a new young set for locked ports are created.\nconst releaseOldLockedPortsIntervalMs = 1000 * 15;\n\nconst minPort = 1024;\nconst maxPort = 65_535;\n\n// Lazily create timeout on first use\nlet timeout;\n\nconst getLocalHosts = () => {\n\tconst interfaces = os.networkInterfaces();\n\n\t// Add undefined value for createServer function to use default host,\n\t// and default IPv4 host in case createServer defaults to IPv6.\n\tconst results = new Set([undefined, '0.0.0.0']);\n\n\tfor (const _interface of Object.values(interfaces)) {\n\t\tfor (const config of _interface) {\n\t\t\tresults.add(config.address);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nconst checkAvailablePort = options =>\n\tnew Promise((resolve, reject) => {\n\t\tconst server = net.createServer();\n\t\tserver.unref();\n\t\tserver.on('error', reject);\n\n\t\tserver.listen(options, () => {\n\t\t\tconst {port} = server.address();\n\t\t\tserver.close(() => {\n\t\t\t\tresolve(port);\n\t\t\t});\n\t\t});\n\t});\n\nconst getAvailablePort = async (options, hosts) => {\n\tif (options.host || options.port === 0) {\n\t\treturn checkAvailablePort(options);\n\t}\n\n\tfor (const host of hosts) {\n\t\ttry {\n\t\t\tawait checkAvailablePort({port: options.port, host}); // eslint-disable-line no-await-in-loop\n\t\t} catch (error) {\n\t\t\tif (!['EADDRNOTAVAIL', 'EINVAL'].includes(error.code)) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn options.port;\n};\n\nconst portCheckSequence = function * (ports) {\n\tif (ports) {\n\t\tyield * ports;\n\t}\n\n\tyield 0; // Fall back to 0 if anything else failed\n};\n\nexport default async function getPorts(options) {\n\tlet ports;\n\tlet exclude = new Set();\n\n\tif (options) {\n\t\tif (options.port) {\n\t\t\tports = typeof options.port === 'number' ? [options.port] : options.port;\n\t\t}\n\n\t\tif (options.exclude) {\n\t\t\tconst excludeIterable = options.exclude;\n\n\t\t\tif (typeof excludeIterable[Symbol.iterator] !== 'function') {\n\t\t\t\tthrow new TypeError('The `exclude` option must be an iterable.');\n\t\t\t}\n\n\t\t\tfor (const element of excludeIterable) {\n\t\t\t\tif (typeof element !== 'number') {\n\t\t\t\t\tthrow new TypeError('Each item in the `exclude` option must be a number corresponding to the port you want excluded.');\n\t\t\t\t}\n\n\t\t\t\tif (!Number.isSafeInteger(element)) {\n\t\t\t\t\tthrow new TypeError(`Number ${element} in the exclude option is not a safe integer and can't be used`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texclude = new Set(excludeIterable);\n\t\t}\n\t}\n\n\tif (timeout === undefined) {\n\t\ttimeout = setTimeout(() => {\n\t\t\ttimeout = undefined;\n\n\t\t\tlockedPorts.old = lockedPorts.young;\n\t\t\tlockedPorts.young = new Set();\n\t\t}, releaseOldLockedPortsIntervalMs);\n\n\t\t// Does not exist in some environments (Electron, Jest jsdom env, browser, etc).\n\t\tif (timeout.unref) {\n\t\t\ttimeout.unref();\n\t\t}\n\t}\n\n\tconst hosts = getLocalHosts();\n\n\tfor (const port of portCheckSequence(ports)) {\n\t\ttry {\n\t\t\tif (exclude.has(port)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet availablePort = await getAvailablePort({...options, port}, hosts); // eslint-disable-line no-await-in-loop\n\t\t\twhile (lockedPorts.old.has(availablePort) || lockedPorts.young.has(availablePort)) {\n\t\t\t\tif (port !== 0) {\n\t\t\t\t\tthrow new Locked(port);\n\t\t\t\t}\n\n\t\t\t\tavailablePort = await getAvailablePort({...options, port}, hosts); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\n\t\t\tlockedPorts.young.add(availablePort);\n\n\t\t\treturn availablePort;\n\t\t} catch (error) {\n\t\t\tif (!['EADDRINUSE', 'EACCES'].includes(error.code) && !(error instanceof Locked)) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow new Error('No available ports found');\n}\n\nexport function portNumbers(from, to) {\n\tif (!Number.isInteger(from) || !Number.isInteger(to)) {\n\t\tthrow new TypeError('`from` and `to` must be integer numbers');\n\t}\n\n\tif (from < minPort || from > maxPort) {\n\t\tthrow new RangeError(`'from' must be between ${minPort} and ${maxPort}`);\n\t}\n\n\tif (to < minPort || to > maxPort) {\n\t\tthrow new RangeError(`'to' must be between ${minPort} and ${maxPort}`);\n\t}\n\n\tif (from > to) {\n\t\tthrow new RangeError('`to` must be greater than or equal to `from`');\n\t}\n\n\tconst generator = function * (from, to) {\n\t\tfor (let port = from; port <= to; port++) {\n\t\t\tyield port;\n\t\t}\n\t};\n\n\treturn generator(from, to);\n}\n\nexport function clearLockedPorts() {\n\tlockedPorts.old.clear();\n\tlockedPorts.young.clear();\n}\n","import getPort from 'get-port'\nimport path from 'node:path'\nimport { getFixedDataDir } from '@/common/globalVars'\nimport fs from 'node:fs/promises'\n\nexport async function getAvailablePort(startPort: number, range: number = 100) {\n  const ports = Array.from({ length: range }, (_, i) => startPort + i)\n  return await getPort({ port: ports })\n}\n\n// getAvailablePort(3000).then(port => {\n//   console.log(port);\n// })\n\ninterface SavePort{\n  webUIPort: number,\n}\n\nexport async function recordPort(uin: string, savePort: SavePort){\n  const savePath = path.join(getFixedDataDir(), `ports_${uin}.json`)\n  fs.writeFile(savePath, JSON.stringify(savePort, null, 2)).then().catch(console.error)\n}\n","import * as Universal from '@satorijs/protocol'\nimport express, { Express, Request, Response } from 'express'\nimport { Server } from 'node:http'\nimport { Context } from 'cordis'\nimport { handlers } from './api'\nimport { WebSocket, WebSocketServer } from 'ws'\nimport { promisify } from 'node:util'\nimport { ObjectToSnake } from 'ts-case-convert'\nimport { selfInfo } from '@/common/globalVars'\nimport { initActionMap } from '@/onebot11/action'\nimport { OB11Response } from '@/onebot11/action/OB11Response'\nimport { getAvailablePort } from '@/common/utils/port'\n\nexport class SatoriServer {\n  private express: Express\n  private httpServer?: Server\n  private wsServer?: WebSocketServer\n  private wsClients: WebSocket[] = []\n  private actionMap: Map<string, { handle: (params: any) => Promise<any> }>\n\n  constructor(private ctx: Context, private config: SatoriServer.Config) {\n    this.express = express()\n    this.express.use(express.json({ limit: '50mb' }))\n    this.actionMap = initActionMap(this as any) // 初始化 OB11 actionMap\n  }\n\n  async CallOneBot11API(action: string, params: any): Promise<any> {\n    const handler = this.actionMap.get(action)\n    if (!handler) {\n      throw new Error(`Unsupported OB11 action: ${action}`)\n    }\n    return handler.handle(params)\n  }\n\n  private async handleOneBotRequest(req: Request, res: Response) {\n    if (this.checkAuth(req, res)) return\n\n    const action = req.params.action\n    const params = req.method === 'POST' ? req.body : req.query\n    let result\n    try {\n      result = await this.CallOneBot11API(action, params)\n    } catch (e) {\n      result = OB11Response.error((e as Error)?.toString() ?? String(e), 200)\n    }\n\n    res.json(result)\n  }\n\n  public start() {\n\n    this.express.route('/v1/internal/onebot11/:action')\n      .post(this.handleOneBotRequest.bind(this))\n      .get(this.handleOneBotRequest.bind(this))\n\n    this.express.get('/v1/:name', async (req, res) => {\n      res.status(405).send('Please use POST method to send requests.')\n    })\n\n    this.express.post('/v1/:name', async (req, res) => {\n      const method = Universal.Methods[req.params.name]\n      if (!method) {\n        res.status(404).send('method not found')\n        return\n      }\n\n      if (this.checkAuth(req, res)) return\n\n      const selfId = req.headers['satori-user-id'] ?? req.headers['x-self-id']\n      const platform = req.headers['satori-platform'] ?? req.headers['x-platform']\n      if (selfId !== selfInfo.uin || !platform) {\n        res.status(403).send('login not found')\n        return\n      }\n\n      const handle = handlers[method.name]\n      if (!handle) {\n        res.status(404).send('method not found')\n        return\n      }\n      try {\n        const result = await handle(this.ctx, req.body)\n        res.json(result)\n      } catch (e) {\n        this.ctx.logger.error(e)\n        throw e\n      }\n    })\n\n    let { onlyLocalhost, port } = this.config\n    let host = onlyLocalhost ? '127.0.0.1' : ''\n    getAvailablePort(port).then(availablePort => {\n      if (availablePort !== port) {\n        return this.ctx.logger.warn(`端口 ${port} 已被占用`)\n      }\n      this.httpServer = this.express.listen(port, host, (error) => {\n        this.ctx.logger.info(`Satori server started ${host}:${port}`)\n        if (error) {\n          this.ctx.logger.error('Failed to start Satori server:', error)\n        }\n      })\n      this.wsServer = new WebSocketServer({\n        server: this.httpServer,\n      })\n      this.wsServer.on('connection', (socket, req) => {\n        const url = req.url?.split('?').shift()\n        if (!['/v1/events', '/v1/events/'].includes(url!)) {\n          return socket.close(1008, 'invalid address')\n        }\n\n        socket.addEventListener('message', async (event) => {\n          let payload: Universal.ClientPayload\n          try {\n            payload = JSON.parse(event.data.toString())\n          } catch (error) {\n            return socket.close(4000, 'invalid message')\n          }\n\n          if (payload.op === Universal.Opcode.IDENTIFY) {\n            if (this.config.token && payload.body?.token !== this.config.token) {\n              return socket.close(4004, 'invalid token')\n            }\n            this.ctx.logger.info('ws connect', url)\n            socket.send(JSON.stringify({\n              op: Universal.Opcode.READY,\n              body: {\n                logins: [await handlers.getLogin(this.ctx, {}) as Universal.Login],\n                proxy_urls: [],\n              },\n            } as ObjectToSnake<Universal.ServerPayload>))\n            this.wsClients.push(socket)\n          }\n          else if (payload.op === Universal.Opcode.PING) {\n            socket.send(JSON.stringify({\n              op: Universal.Opcode.PONG,\n              body: {},\n            } as Universal.ServerPayload))\n          }\n        })\n      })\n    })\n  }\n\n  public async stop() {\n    if (this.wsClients.length > 0) {\n      for (const socket of this.wsClients) {\n        try {\n          if (socket.readyState === WebSocket.OPEN) {\n            socket.close(1000)\n          }\n        } catch {\n        }\n      }\n    }\n    if (this.wsServer) {\n      const close = promisify(this.wsServer.close)\n      await close.call(this.wsServer)\n      this.wsServer = undefined\n    }\n    if (this.httpServer) {\n      const close = promisify(this.httpServer.close)\n      await close.call(this.httpServer)\n      this.httpServer = undefined\n    }\n  }\n\n  private checkAuth(req: Request, res: Response) {\n    if (!this.config.token) return\n    if (req.headers.authorization !== `Bearer ${this.config.token}`) {\n      res.status(403).send('invalid token')\n      return true\n    }\n  }\n\n  public async dispatch(body: ObjectToSnake<Universal.Event>) {\n    this.wsClients.forEach(socket => {\n      if (socket.readyState === WebSocket.OPEN) {\n        socket.send(JSON.stringify({\n          op: Universal.Opcode.EVENT,\n          body,\n        } as ObjectToSnake<Universal.ServerPayload>))\n        this.ctx.logger.info('WebSocket 事件上报', socket.url ?? '', body.type)\n      }\n    })\n  }\n\n  public updateConfig(config: SatoriServer.Config) {\n    Object.assign(this.config, config)\n  }\n}\n\nnamespace SatoriServer {\n  export interface Config {\n    port: number\n    onlyLocalhost: boolean\n    token: string\n  }\n}\n","import SatoriAdapter from '../adapter'\nimport { RawMessage } from '@/ntqqapi/types'\nimport { decodeMessage, decodeUser } from '../utils'\nimport { omit } from 'cosmokit'\n\nexport async function parseMessageCreated(bot: SatoriAdapter, input: RawMessage) {\n  const message = await decodeMessage(bot.ctx, input)\n  if (!message) return\n\n  return bot.event('message-created', {\n    message: omit(message, ['member', 'user', 'channel', 'guild']),\n    member: message.member,\n    user: message.user,\n    channel: message.channel,\n    guild: message.guild\n  })\n}\n\nexport async function parseMessageDeleted(bot: SatoriAdapter, input: RawMessage) {\n  const origin = bot.ctx.store.getMsgCache(input.msgId)\n  if (!origin) return\n  const message = await decodeMessage(bot.ctx, origin)\n  if (!message) return\n  const operatorUid = input.elements[0].grayTipElement!.revokeElement!.operatorUid\n  const user = await bot.ctx.ntUserApi.getUserSimpleInfo(operatorUid)\n\n  return bot.event('message-deleted', {\n    message: omit(message, ['member', 'user', 'channel', 'guild']),\n    member: message.member,\n    user: message.user,\n    channel: message.channel,\n    guild: message.guild,\n    operator: omit(decodeUser(user.coreInfo), ['is_bot'])\n  })\n}\n","import SatoriAdapter from '../adapter'\nimport { RawMessage, GroupNotify } from '@/ntqqapi/types'\nimport { decodeGuild } from '../utils'\n\nexport async function parseGuildAdded(bot: SatoriAdapter, input: RawMessage) {\n  const groupAll = await bot.ctx.ntGroupApi.getGroupAllInfo(input.peerUid)\n\n  return bot.event('guild-added', {\n    guild: decodeGuild(groupAll)\n  })\n}\n\nexport async function parseGuildRemoved(bot: SatoriAdapter, input: RawMessage) {\n  const groupAll = await bot.ctx.ntGroupApi.getGroupAllInfo(input.peerUid)\n\n  return bot.event('guild-removed', {\n    guild: decodeGuild(groupAll)\n  })\n}\n\nexport async function parseGuildRequest(bot: SatoriAdapter, notify: GroupNotify) {\n  const groupCode = notify.group.groupCode\n  const flag = groupCode + '|' + notify.seq + '|' + notify.type\n\n  return bot.event('guild-request', {\n    guild: decodeGuild(notify.group),\n    message: {\n      id: flag,\n      content: notify.postscript\n    }\n  })\n}\n","import SatoriAdapter from '../adapter'\nimport { RawMessage, GroupNotify } from '@/ntqqapi/types'\nimport { decodeGuild, decodeUser } from '../utils'\n\nexport async function parseGuildMemberAdded(bot: SatoriAdapter, input: RawMessage, isBot = false) {\n  const groupAll = await bot.ctx.ntGroupApi.getGroupAllInfo(input.peerUid)\n\n  let memberUid: string | undefined\n  if (input.elements[0].grayTipElement?.groupElement) {\n    memberUid = input.elements[0].grayTipElement.groupElement.memberUid\n  } else if (input.elements[0].grayTipElement?.jsonGrayTipElement) {\n    const json = JSON.parse(input.elements[0].grayTipElement.jsonGrayTipElement.jsonStr)\n    const uin = new URL(json.items[2].jp).searchParams.get('robot_uin')\n    if (!uin) return\n    memberUid = await bot.ctx.ntUserApi.getUidByUin(uin)\n  } else {\n    const iterator = input.elements[0].grayTipElement?.xmlElement?.members.keys()\n    iterator?.next()\n    memberUid = iterator?.next().value\n  }\n  if (!memberUid) return\n\n  const user = decodeUser((await bot.ctx.ntUserApi.getUserSimpleInfo(memberUid)).coreInfo)\n  user.is_bot = isBot\n\n  return bot.event('guild-member-added', {\n    guild: decodeGuild(groupAll),\n    user,\n    member: {\n      user,\n      nick: user.name\n    }\n  })\n}\n\nexport async function parseGuildMemberRemoved(bot: SatoriAdapter, input: GroupNotify) {\n  const user = decodeUser((await bot.ctx.ntUserApi.getUserSimpleInfo(input.user1.uid)).coreInfo)\n\n  return bot.event('guild-member-removed', {\n    guild: decodeGuild(input.group),\n    user,\n    member: {\n      user,\n      nick: user.name\n    }\n  })\n}\n\nexport async function parseGuildMemberRequest(bot: SatoriAdapter, input: GroupNotify, doubt: boolean) {\n  const groupCode = input.group.groupCode\n  const flag = `${groupCode}|${input.seq}|${input.type}|${doubt === true ? '1' : '0'}`\n\n  return bot.event('guild-member-request', {\n    guild: decodeGuild(input.group),\n    message: {\n      id: flag,\n      content: input.postscript\n    }\n  })\n}\n","import SatoriAdapter from '../adapter'\nimport { FriendRequest } from '@/ntqqapi/types'\nimport { decodeUser } from '../utils'\n\nexport async function parseFriendRequest(bot: SatoriAdapter, input: FriendRequest) {\n  const flag = input.friendUid + '|' + input.reqTime\n  const user = await bot.ctx.ntUserApi.getUserSimpleInfo(input.friendUid)\n\n  return bot.event('friend-request', {\n    user: decodeUser(user.coreInfo),\n    message: {\n      id: flag,\n      content: input.extWords\n    }\n  })\n}\n","import * as NT from '@/ntqqapi/types'\nimport { omit } from 'cosmokit'\nimport { Event } from '@satorijs/protocol'\nimport { Service, Context } from 'cordis'\nimport { SatoriConfig } from '@/common/types'\nimport { SatoriServer } from './server'\nimport { selfInfo } from '@/common/globalVars'\nimport { ObjectToSnake } from 'ts-case-convert'\nimport { isDeepStrictEqual } from 'node:util'\nimport { parseMessageCreated, parseMessageDeleted } from './event/message'\nimport { parseGuildAdded, parseGuildRemoved, parseGuildRequest } from './event/guild'\nimport { parseGuildMemberAdded, parseGuildMemberRemoved, parseGuildMemberRequest } from './event/member'\nimport { parseFriendRequest } from './event/user'\n\ndeclare module 'cordis' {\n  interface Context {\n    satori: SatoriAdapter\n  }\n}\n\nclass SatoriAdapter extends Service {\n  static inject = [\n    'ntMsgApi', 'ntFileApi', 'ntFileCacheApi',\n    'ntFriendApi', 'ntGroupApi', 'ntUserApi',\n    'ntWebApi', 'store',\n  ]\n  private selfId: string\n  private server: SatoriServer\n  private _eventSeq: number\n  public _loginSeq: number\n\n  constructor(public ctx: Context, public config: SatoriAdapter.Config) {\n    super(ctx, 'satori', true)\n    this.selfId = selfInfo.uin\n    this.server = new SatoriServer(ctx, config)\n    this._eventSeq = 0\n    this._loginSeq = 1\n  }\n\n  async handleMessage(input: NT.RawMessage) {\n    if (\n      input.msgType === 5 &&\n      input.subMsgType === 8 &&\n      input.elements[0]?.grayTipElement?.groupElement?.type === 1 &&\n      input.elements[0].grayTipElement.groupElement.memberUid === selfInfo.uid\n    ) {\n      // 自身主动申请\n      return await parseGuildAdded(this, input)\n    } else if (\n      input.msgType === 5 &&\n      input.subMsgType === 12 &&\n      input.elements[0]?.grayTipElement?.xmlElement?.templId === '10179' &&\n      input.elements[0].grayTipElement.xmlElement.templParam.get('invitee') === selfInfo.uin\n    ) {\n      // 自身被邀请\n      return await parseGuildAdded(this, input)\n    } else if (\n      input.msgType === 5 &&\n      input.subMsgType === 8 &&\n      input.elements[0]?.grayTipElement?.groupElement?.type === 3\n    ) {\n      // 自身被踢出\n      return await parseGuildRemoved(this, input)\n    } else if (\n      input.msgType === 5 &&\n      input.subMsgType === 8 &&\n      input.elements[0]?.grayTipElement?.groupElement?.type === 1\n    ) {\n      // 他人主动申请\n      return await parseGuildMemberAdded(this, input)\n    } else if (\n      input.msgType === 5 &&\n      input.subMsgType === 12 &&\n      input.elements[0]?.grayTipElement?.xmlElement?.templId === '10179'\n    ) {\n      // 他人被邀请\n      return await parseGuildMemberAdded(this, input)\n    } else if (\n      input.msgType === 5 &&\n      input.subMsgType === 12 &&\n      input.elements[0]?.grayTipElement?.jsonGrayTipElement?.busiId === '19217'\n    ) {\n      // 机器人被邀请\n      return await parseGuildMemberAdded(this, input, true)\n    } else if (\n      input.msgType === 5 &&\n      input.subMsgType === 12 &&\n      input.elements[0]?.grayTipElement?.xmlElement?.templId === '10382'\n    ) {\n      // 机器人被表情回应\n    } else {\n      // 普通的消息\n      return await parseMessageCreated(this, input)\n    }\n  }\n\n  async handleGroupNotify(input: NT.GroupNotify, doubt: boolean) {\n    if (\n      input.type === NT.GroupNotifyType.InvitedByMember &&\n      input.status === NT.GroupNotifyStatus.Unhandle\n    ) {\n      // 自身被邀请，需自身同意\n      return await parseGuildRequest(this, input)\n    } else if (\n      input.type === NT.GroupNotifyType.MemberLeaveNotifyAdmin ||\n      input.type === NT.GroupNotifyType.KickMemberNotifyAdmin\n    ) {\n      // 他人主动退出或被踢\n      return await parseGuildMemberRemoved(this, input)\n    } else if (\n      input.type === NT.GroupNotifyType.RequestJoinNeedAdminiStratorPass &&\n      input.status === NT.GroupNotifyStatus.Unhandle\n    ) {\n      // 他人主动申请，需管理员同意\n      return await parseGuildMemberRequest(this, input, doubt)\n    } else if (\n      input.type === NT.GroupNotifyType.InvitedNeedAdminiStratorPass &&\n      input.status === NT.GroupNotifyStatus.Unhandle\n    ) {\n      // 他人被邀请，需管理员同意\n      return await parseGuildMemberRequest(this, input, doubt)\n    }\n  }\n\n  start() {\n    if(this.config.enable){\n      this.server.start()\n    }\n    this.ctx.on('nt/message-created', async input => {\n      const event = await this.handleMessage(input)\n        .catch(e => this.ctx.logger.error(e))\n      if (event) {\n        this.server.dispatch(event)\n      }\n    })\n\n    this.ctx.on('nt/group-notify', async input => {\n      const { doubt, notify } = input\n      const event = await this.handleGroupNotify(notify, doubt)\n        .catch(e => this.ctx.logger.error(e))\n      if (event) {\n        this.server.dispatch(event)\n      }\n    })\n\n    this.ctx.on('nt/message-deleted', async input => {\n      const event = await parseMessageDeleted(this, input)\n        .catch(e => this.ctx.logger.error(e))\n      if (event) {\n        this.server.dispatch(event)\n      }\n    })\n\n    this.ctx.on('nt/friend-request', async input => {\n      const event = await parseFriendRequest(this, input)\n        .catch(e => this.ctx.logger.error(e))\n      if (event) {\n        this.server.dispatch(event)\n      }\n    })\n\n    this.ctx.on('llob/config-updated', async input => {\n      const old = omit(this.config, ['ffmpeg'])\n      const inputSatoriConfig = {\n        ...input.satori,\n        onlyLocalhost: input.onlyLocalhost\n      }\n      if (!isDeepStrictEqual(old, inputSatoriConfig)) {\n        await this.server.stop()\n        this.server.updateConfig(inputSatoriConfig)\n        if (inputSatoriConfig.enable) {\n          this.server.start()\n        }\n      }\n      Object.assign(this.config, {...inputSatoriConfig, ffmpeg: input.ffmpeg })\n    })\n  }\n\n  event(type: string, data: Partial<ObjectToSnake<Event>>): ObjectToSnake<Event> {\n    const sn = ++this._eventSeq\n    return {\n      // @ts-expect-error: For backward compatibility\n      id: sn,\n      sn,\n      type,\n      self_id: this.selfId,\n      platform: 'llonebot',\n      timestamp: Date.now(),\n      ...data,\n    }\n  }\n}\n\nnamespace SatoriAdapter {\n  export interface Config extends SatoriConfig {\n    onlyLocalhost: boolean,\n    ffmpeg?: string\n  }\n}\n\nexport default SatoriAdapter\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport { isNullable } from \"cosmokit\";\nimport {\n  Eval,\n  Field,\n  flatten,\n  isAggrExpr,\n  isComparable,\n  isEvalExpr,\n  isFlat,\n  randomId,\n  Selection,\n  Type,\n  unravel\n} from \"minato\";\nfunction escapeId(value) {\n  return \"`\" + value + \"`\";\n}\n__name(escapeId, \"escapeId\");\nfunction isBracketed(value) {\n  return value.startsWith(\"(\") && value.endsWith(\")\");\n}\n__name(isBracketed, \"isBracketed\");\nfunction isSqlJson(type) {\n  return type ? type.type === \"json\" || !!type.inner : false;\n}\n__name(isSqlJson, \"isSqlJson\");\nvar Builder = class {\n  constructor(driver, tables) {\n    this.driver = driver;\n    this.state.tables = tables;\n    this.queryOperators = {\n      // logical\n      $or: /* @__PURE__ */ __name((key, value) => this.logicalOr(value.map((value2) => this.parseFieldQuery(key, value2))), \"$or\"),\n      $and: /* @__PURE__ */ __name((key, value) => this.logicalAnd(value.map((value2) => this.parseFieldQuery(key, value2))), \"$and\"),\n      $not: /* @__PURE__ */ __name((key, value) => this.logicalNot(this.parseFieldQuery(key, value)), \"$not\"),\n      // existence\n      $exists: /* @__PURE__ */ __name((key, value) => this.createNullQuery(key, value), \"$exists\"),\n      // comparison\n      $eq: this.createEqualQuery,\n      $ne: this.comparator(\"!=\"),\n      $gt: this.comparator(\">\"),\n      $gte: this.comparator(\">=\"),\n      $lt: this.comparator(\"<\"),\n      $lte: this.comparator(\"<=\"),\n      // membership\n      $in: /* @__PURE__ */ __name((key, value) => this.createMemberQuery(key, value, \"\"), \"$in\"),\n      $nin: /* @__PURE__ */ __name((key, value) => this.createMemberQuery(key, value, \" NOT\"), \"$nin\"),\n      // regexp\n      $regex: /* @__PURE__ */ __name((key, value) => this.createRegExpQuery(key, value), \"$regex\"),\n      $regexFor: /* @__PURE__ */ __name((key, value) => typeof value === \"string\" ? `${this.escape(value)} collate utf8mb4_bin regexp ${key}` : `${this.escape(value.input)} ${value.flags?.includes(\"i\") ? \"regexp\" : \"collate utf8mb4_bin regexp\"} ${key}`, \"$regexFor\"),\n      // bitwise\n      $bitsAllSet: /* @__PURE__ */ __name((key, value) => `${key} & ${this.escape(value)} = ${this.escape(value)}`, \"$bitsAllSet\"),\n      $bitsAllClear: /* @__PURE__ */ __name((key, value) => `${key} & ${this.escape(value)} = 0`, \"$bitsAllClear\"),\n      $bitsAnySet: /* @__PURE__ */ __name((key, value) => `${key} & ${this.escape(value)} != 0`, \"$bitsAnySet\"),\n      $bitsAnyClear: /* @__PURE__ */ __name((key, value) => `${key} & ${this.escape(value)} != ${this.escape(value)}`, \"$bitsAnyClear\"),\n      // list\n      $el: /* @__PURE__ */ __name((key, value) => {\n        if (Array.isArray(value)) {\n          return this.logicalOr(value.map((value2) => this.createElementQuery(key, value2)));\n        } else if (typeof value !== \"number\" && typeof value !== \"string\") {\n          throw new TypeError(\"query expr under $el is not supported\");\n        } else {\n          return this.createElementQuery(key, value);\n        }\n      }, \"$el\"),\n      $size: /* @__PURE__ */ __name((key, value) => {\n        if (this.isJsonQuery(key)) {\n          return `${this.jsonLength(key)} = ${this.escape(value)}`;\n        } else {\n          if (!value) return this.logicalNot(key);\n          return `${key} AND LENGTH(${key}) - LENGTH(REPLACE(${key}, ${this.escape(\",\")}, ${this.escape(\"\")})) = ${this.escape(value)} - 1`;\n        }\n      }, \"$size\")\n    };\n    this.evalOperators = {\n      // universal\n      $: /* @__PURE__ */ __name((key) => this.getRecursive(key), \"$\"),\n      $select: /* @__PURE__ */ __name((args) => `${args.map((arg) => this.parseEval(arg)).join(\", \")}`, \"$select\"),\n      $if: /* @__PURE__ */ __name((args) => `if(${args.map((arg) => this.parseEval(arg)).join(\", \")})`, \"$if\"),\n      $ifNull: /* @__PURE__ */ __name((args) => `ifnull(${args.map((arg) => this.parseEval(arg)).join(\", \")})`, \"$ifNull\"),\n      // number\n      $add: /* @__PURE__ */ __name((args) => `(${args.map((arg) => this.parseEval(arg)).join(\" + \")})`, \"$add\"),\n      $multiply: /* @__PURE__ */ __name((args) => `(${args.map((arg) => this.parseEval(arg)).join(\" * \")})`, \"$multiply\"),\n      $subtract: this.binary(\"-\"),\n      $divide: this.binary(\"/\"),\n      $modulo: this.binary(\"%\"),\n      // mathemetic\n      $abs: /* @__PURE__ */ __name((arg) => `abs(${this.parseEval(arg)})`, \"$abs\"),\n      $floor: /* @__PURE__ */ __name((arg) => `floor(${this.parseEval(arg)})`, \"$floor\"),\n      $ceil: /* @__PURE__ */ __name((arg) => `ceil(${this.parseEval(arg)})`, \"$ceil\"),\n      $round: /* @__PURE__ */ __name((arg) => `round(${this.parseEval(arg)})`, \"$round\"),\n      $exp: /* @__PURE__ */ __name((arg) => `exp(${this.parseEval(arg)})`, \"$exp\"),\n      $log: /* @__PURE__ */ __name((args) => `log(${args.filter((x) => !isNullable(x)).map((arg) => this.parseEval(arg)).reverse().join(\", \")})`, \"$log\"),\n      $power: /* @__PURE__ */ __name((args) => `power(${args.map((arg) => this.parseEval(arg)).join(\", \")})`, \"$power\"),\n      $random: /* @__PURE__ */ __name(() => `rand()`, \"$random\"),\n      // string\n      $concat: /* @__PURE__ */ __name((args) => `concat(${args.map((arg) => this.parseEval(arg)).join(\", \")})`, \"$concat\"),\n      $regex: /* @__PURE__ */ __name(([key, value, flags]) => `(${this.parseEval(key)} ${flags?.includes(\"i\") || value instanceof RegExp && value.flags.includes(\"i\") ? \"regexp\" : \"collate utf8mb4_bin regexp\"} ${this.parseEval(value)})`, \"$regex\"),\n      // logical / bitwise\n      $or: /* @__PURE__ */ __name((args) => {\n        const type = Type.fromTerm(this.state.expr, Type.Boolean);\n        if (Field.boolean.includes(type.type)) return this.logicalOr(args.map((arg) => this.parseEval(arg)));\n        else return `(${args.map((arg) => this.parseEval(arg)).join(\" | \")})`;\n      }, \"$or\"),\n      $and: /* @__PURE__ */ __name((args) => {\n        const type = Type.fromTerm(this.state.expr, Type.Boolean);\n        if (Field.boolean.includes(type.type)) return this.logicalAnd(args.map((arg) => this.parseEval(arg)));\n        else return `(${args.map((arg) => this.parseEval(arg)).join(\" & \")})`;\n      }, \"$and\"),\n      $not: /* @__PURE__ */ __name((arg) => {\n        const type = Type.fromTerm(this.state.expr, Type.Boolean);\n        if (Field.boolean.includes(type.type)) return this.logicalNot(this.parseEval(arg));\n        else return `(~(${this.parseEval(arg)}))`;\n      }, \"$not\"),\n      // boolean\n      $eq: this.binary(\"=\"),\n      $ne: this.binary(\"!=\"),\n      $gt: this.binary(\">\"),\n      $gte: this.binary(\">=\"),\n      $lt: this.binary(\"<\"),\n      $lte: this.binary(\"<=\"),\n      // membership\n      $in: /* @__PURE__ */ __name(([key, value]) => this.asEncoded(this.createMemberQuery(this.parseEval(key, false), value, \"\"), false), \"$in\"),\n      $nin: /* @__PURE__ */ __name(([key, value]) => this.asEncoded(this.createMemberQuery(this.parseEval(key, false), value, \" NOT\"), false), \"$nin\"),\n      // typecast\n      $literal: /* @__PURE__ */ __name(([value, type]) => this.escape(value, type), \"$literal\"),\n      // aggregation\n      $sum: /* @__PURE__ */ __name((expr) => this.createAggr(expr, (value) => `ifnull(sum(${value}), 0)`), \"$sum\"),\n      $avg: /* @__PURE__ */ __name((expr) => this.createAggr(expr, (value) => `avg(${value})`), \"$avg\"),\n      $min: /* @__PURE__ */ __name((expr) => this.createAggr(expr, (value) => `min(${value})`), \"$min\"),\n      $max: /* @__PURE__ */ __name((expr) => this.createAggr(expr, (value) => `max(${value})`), \"$max\"),\n      $count: /* @__PURE__ */ __name((expr) => this.createAggr(expr, (value) => `count(distinct ${value})`), \"$count\"),\n      $length: /* @__PURE__ */ __name((expr) => this.createAggr(expr, (value) => `count(${value})`, (value) => this.isEncoded() ? this.jsonLength(value) : this.asEncoded(`if(${value}, LENGTH(${value}) - LENGTH(REPLACE(${value}, ${this.escape(\",\")}, ${this.escape(\"\")})) + 1, 0)`, false)), \"$length\"),\n      $object: /* @__PURE__ */ __name((fields) => this.groupObject(fields), \"$object\"),\n      $array: /* @__PURE__ */ __name((expr) => this.groupArray(this.transform(this.parseEval(expr, false), expr, \"encode\")), \"$array\"),\n      $get: /* @__PURE__ */ __name(([x, key]) => typeof key === \"string\" ? this.asEncoded(`json_extract(${this.parseEval(x, false)}, '$.${key}')`, true) : this.asEncoded(`json_extract(${this.parseEval(x, false)}, concat('$[', ${this.parseEval(key)}, ']'))`, true), \"$get\"),\n      $exec: /* @__PURE__ */ __name((sel) => this.parseSelection(sel), \"$exec\")\n    };\n  }\n  static {\n    __name(this, \"Builder\");\n  }\n  escapeMap = {};\n  escapeRegExp;\n  createEqualQuery = this.comparator(\"=\");\n  queryOperators;\n  evalOperators;\n  state = {};\n  $true = \"1\";\n  $false = \"0\";\n  modifiedTable;\n  transformers = /* @__PURE__ */ Object.create(null);\n  createNullQuery(key, value) {\n    return `${key} is ${value ? \"not \" : \"\"}null`;\n  }\n  createMemberQuery(key, value, notStr = \"\") {\n    if (Array.isArray(value)) {\n      if (!value.length) return notStr ? this.$true : this.$false;\n      if (Array.isArray(value[0])) {\n        return `(${key})${notStr} in (${value.map((val) => `(${val.map((x) => this.escape(x)).join(\", \")})`).join(\", \")})`;\n      }\n      return `${key}${notStr} in (${value.map((val) => this.escape(val)).join(\", \")})`;\n    } else if (value.$exec) {\n      return `(${key})${notStr} in ${this.parseSelection(value.$exec, true)}`;\n    } else {\n      const res = this.jsonContains(this.parseEval(value, false), this.encode(key, true, true));\n      return notStr ? this.logicalNot(res) : res;\n    }\n  }\n  createRegExpQuery(key, value) {\n    if (typeof value !== \"string\" && value.flags?.includes(\"i\")) {\n      return `${key} regexp ${this.escape(value.source)}`;\n    } else {\n      return `${key} collate utf8mb4_bin regexp ${this.escape(typeof value === \"string\" ? value : value.source)}`;\n    }\n  }\n  createElementQuery(key, value) {\n    if (this.isJsonQuery(key)) {\n      return this.jsonContains(key, this.encode(value, true, true));\n    } else {\n      return `find_in_set(${this.escape(value)}, ${key})`;\n    }\n  }\n  isJsonQuery(key) {\n    return Type.fromTerm(this.state.expr)?.type === \"json\" || this.isEncoded(key);\n  }\n  comparator(operator) {\n    return (key, value) => {\n      return `${key} ${operator} ${this.escape(value)}`;\n    };\n  }\n  binary(operator) {\n    return ([left, right]) => {\n      return `(${this.parseEval(left)} ${operator} ${this.parseEval(right)})`;\n    };\n  }\n  logicalAnd(conditions) {\n    if (!conditions.length) return this.$true;\n    if (conditions.includes(this.$false)) return this.$false;\n    return conditions.join(\" AND \");\n  }\n  logicalOr(conditions) {\n    if (!conditions.length) return this.$false;\n    if (conditions.includes(this.$true)) return this.$true;\n    return `(${conditions.join(\" OR \")})`;\n  }\n  logicalNot(condition) {\n    return `NOT(${condition})`;\n  }\n  parseSelection(sel, inline = false) {\n    const { args: [expr], ref, table, tables } = sel;\n    const restore = this.saveState({ tables });\n    const inner = this.get(table, true, true);\n    const output = this.parseEval(expr, false);\n    const fields = expr[\"$select\"]?.map((x) => this.getRecursive(x[\"$\"]));\n    const where = fields && this.logicalAnd(fields.map((x) => `(${x} is not null)`));\n    restore();\n    if (inline || !isAggrExpr(expr)) {\n      return `(SELECT ${output} FROM ${inner} ${isBracketed(inner) ? ref : \"\"}${where ? ` WHERE ${where}` : \"\"})`;\n    } else {\n      return [\n        `(ifnull((SELECT ${this.groupArray(this.transform(output, Type.getInner(Type.fromTerm(expr)), \"encode\"))}`,\n        `FROM ${inner} ${isBracketed(inner) ? ref : \"\"}), json_array()))`\n      ].join(\" \");\n    }\n  }\n  jsonLength(value) {\n    return this.asEncoded(`json_length(${value})`, false);\n  }\n  jsonContains(obj, value) {\n    return this.asEncoded(`json_contains(${obj}, ${value})`, false);\n  }\n  asEncoded(value, encoded) {\n    if (encoded !== void 0) this.state.encoded = encoded;\n    return value;\n  }\n  encode(value, encoded, pure = false, type) {\n    return this.asEncoded(encoded === this.isEncoded() && !pure ? value : encoded ? `cast(${this.transform(value, type, \"encode\")} as json)` : this.transform(`json_unquote(${value})`, type, \"decode\"), pure ? void 0 : encoded);\n  }\n  isEncoded(key) {\n    return key ? this.state.encodedMap?.[key] : this.state.encoded;\n  }\n  createAggr(expr, aggr, nonaggr) {\n    if (this.state.group) {\n      this.state.group = false;\n      const value = aggr(this.parseEval(expr, false));\n      this.state.group = true;\n      return value;\n    } else {\n      const value = this.parseEval(expr, false);\n      const res = nonaggr ? nonaggr(value) : `(select ${aggr(`json_unquote(${this.escapeId(\"value\")})`)} from json_table(${value}, '$[*]' columns (value json path '$')) ${randomId()})`;\n      return res;\n    }\n  }\n  /**\n   * Convert value from SQL field to JSON field\n   */\n  transform(value, type, method, miss) {\n    type = Type.isType(type) ? type : Type.fromTerm(type);\n    const transformer = this.transformers[type.type] ?? this.transformers[this.driver.database.types[type.type]?.type];\n    return transformer?.[method] ? transformer[method](value) : miss ?? value;\n  }\n  groupObject(_fields) {\n    const _groupObject = /* @__PURE__ */ __name((fields, type, prefix = \"\") => {\n      const parse = /* @__PURE__ */ __name((expr, key) => {\n        const value = !_fields[`${prefix}${key}`] && type && Type.getInner(type, key)?.inner ? _groupObject(expr, Type.getInner(type, key), `${prefix}${key}.`) : this.parseEval(expr, false);\n        return this.isEncoded() ? `json_extract(${value}, '$')` : this.transform(value, expr, \"encode\");\n      }, \"parse\");\n      return `json_object(` + Object.entries(fields).map(([key, expr]) => `'${key}', ${parse(expr, key)}`).join(\",\") + `)`;\n    }, \"_groupObject\");\n    return this.asEncoded(_groupObject(unravel(_fields), Type.fromTerm(this.state.expr), \"\"), true);\n  }\n  groupArray(value) {\n    return this.asEncoded(`ifnull(json_arrayagg(${value}), json_array())`, true);\n  }\n  parseFieldQuery(key, query) {\n    const conditions = [];\n    if (Array.isArray(query)) {\n      conditions.push(this.createMemberQuery(key, query));\n    } else if (query instanceof RegExp) {\n      conditions.push(this.createRegExpQuery(key, query));\n    } else if (isComparable(query)) {\n      conditions.push(this.createEqualQuery(key, query));\n    } else if (isNullable(query)) {\n      conditions.push(this.createNullQuery(key, false));\n    } else {\n      for (const prop in query) {\n        if (prop in this.queryOperators) {\n          conditions.push(this.queryOperators[prop](key, query[prop]));\n        }\n      }\n    }\n    return this.logicalAnd(conditions);\n  }\n  parseQuery(query) {\n    const conditions = [];\n    for (const key in query) {\n      if (key === \"$not\") {\n        conditions.push(this.logicalNot(this.parseQuery(query.$not)));\n      } else if (key === \"$and\") {\n        conditions.push(this.logicalAnd(query.$and.map(this.parseQuery.bind(this))));\n      } else if (key === \"$or\") {\n        conditions.push(this.logicalOr(query.$or.map(this.parseQuery.bind(this))));\n      } else if (key === \"$expr\") {\n        conditions.push(this.parseEval(query.$expr));\n      } else {\n        const flattenQuery = isFlat(query[key]) ? { [key]: query[key] } : flatten(query[key], `${key}.`);\n        for (const key2 in flattenQuery) {\n          const model = this.state.tables[this.state.table] ?? Object.values(this.state.tables)[0];\n          const expr = Eval(\"\", [this.state.table ?? Object.keys(this.state.tables)[0], key2], model.getType(key2));\n          conditions.push(this.parseFieldQuery(this.parseEval(expr), flattenQuery[key2]));\n        }\n      }\n    }\n    return this.logicalAnd(conditions);\n  }\n  parseEvalExpr(expr) {\n    this.state.encoded = false;\n    for (const key in expr) {\n      if (key in this.evalOperators) {\n        this.state.expr = expr;\n        return this.evalOperators[key](expr[key]);\n      }\n    }\n    return this.escape(expr);\n  }\n  transformJsonField(obj, path) {\n    return this.asEncoded(`json_extract(${obj}, '$${path}')`, true);\n  }\n  transformKey(key, fields, prefix) {\n    if (key in fields || !key.includes(\".\")) {\n      return this.asEncoded(prefix + this.escapeId(key), this.isEncoded(key) ?? isSqlJson(fields[key]?.type));\n    }\n    const field = Object.keys(fields).find((k) => key.startsWith(k + \".\")) || key.split(\".\")[0];\n    const rest = key.slice(field.length + 1).split(\".\");\n    return this.transformJsonField(`${prefix}${this.escapeId(field)}`, rest.map((key2) => `.${this.escapeKey(key2)}`).join(\"\"));\n  }\n  getRecursive(args) {\n    if (typeof args === \"string\") {\n      return this.getRecursive([\"_\", args]);\n    }\n    const [table, key] = args;\n    const fields = this.state.tables?.[table]?.fields || {};\n    const fkey = Object.keys(fields).find((field) => key === field || key.startsWith(field + \".\"));\n    if (fkey && fields[fkey]?.expr) {\n      if (key === fkey) {\n        return this.parseEvalExpr(fields[fkey]?.expr);\n      } else {\n        const field = this.parseEvalExpr(fields[fkey]?.expr);\n        const rest = key.slice(fkey.length + 1).split(\".\");\n        return this.transformJsonField(`${field}`, rest.map((key2) => `.${this.escapeKey(key2)}`).join(\"\"));\n      }\n    }\n    const prefix = this.modifiedTable ? `${this.escapeId(this.state.tables?.[table]?.name ?? this.modifiedTable)}.` : !this.state.tables || table === \"_\" || key in fields || table in this.state.tables ? \"\" : `${this.escapeId(table)}.`;\n    if (!(table in (this.state.tables || {})) && table in (this.state.innerTables || {})) {\n      const fields2 = this.state.innerTables?.[table]?.fields || {};\n      const res = fields2[key]?.expr ? this.parseEvalExpr(fields2[key]?.expr) : this.transformKey(key, fields2, `${this.escapeId(table)}.`);\n      return res;\n    }\n    if (!(table in (this.state.tables || {})) && table in (this.state.refTables || {})) {\n      const fields2 = this.state.refTables?.[table]?.fields || {};\n      const res = fields2[key]?.expr ? this.parseEvalExpr(fields2[key]?.expr) : this.transformKey(key, fields2, `${this.escapeId(table)}.`);\n      if (this.state.wrappedSubquery) {\n        if (res in (this.state.refFields ?? {})) return this.state.refFields[res];\n        const key2 = `minato_tvar_${randomId()}`;\n        (this.state.refFields ??= {})[res] = key2;\n        return this.asEncoded(this.escapeId(key2), true);\n      } else return res;\n    }\n    return this.transformKey(key, fields, prefix);\n  }\n  parseEval(expr, unquote = true) {\n    this.state.encoded = false;\n    if (typeof expr === \"string\" || typeof expr === \"number\" || typeof expr === \"boolean\" || expr instanceof Date || expr instanceof RegExp) {\n      return this.escape(expr);\n    }\n    return unquote ? this.encode(this.parseEvalExpr(expr), false, false, Type.fromTerm(expr)) : this.parseEvalExpr(expr);\n  }\n  saveState(extra = {}) {\n    const thisState = this.state;\n    this.state = { refTables: { ...this.state.refTables || {}, ...this.state.tables || {} }, ...extra };\n    return () => {\n      thisState.encoded = this.state.encoded;\n      this.state = thisState;\n    };\n  }\n  suffix(modifier) {\n    const { limit, offset, sort, group, having } = modifier;\n    let sql = \"\";\n    if (group?.length) {\n      sql += ` GROUP BY ${group.map(this.escapeId).join(\", \")}`;\n      const filter = this.parseEval(having);\n      if (filter !== this.$true) sql += ` HAVING ${filter}`;\n    }\n    if (sort.length) {\n      sql += \" ORDER BY \" + sort.map(([expr, dir]) => {\n        return `${this.parseEval(expr)} ${dir.toUpperCase()}`;\n      }).join(\", \");\n    }\n    if (limit < Infinity) sql += \" LIMIT \" + limit;\n    if (offset > 0) sql += \" OFFSET \" + offset;\n    return sql;\n  }\n  get(sel, inline = false, group = false, addref = true) {\n    const { args, table, query, ref, model } = sel;\n    this.state.table = ref;\n    let prefix;\n    if (typeof table === \"string\") {\n      prefix = this.escapeId(table);\n    } else if (Selection.is(table)) {\n      prefix = this.get(table, true);\n      if (!prefix) return;\n    } else {\n      this.state.innerTables = Object.fromEntries(Object.values(table).map((t) => [t.ref, t.model]));\n      const joins = Object.entries(table).map(([key, table2]) => {\n        const restore = this.saveState({ tables: { ...table2.tables } });\n        const t = `${this.get(table2, true, false, false)} AS ${this.escapeId(table2.ref)}`;\n        restore();\n        return [key, t];\n      });\n      prefix = [\n        // the leading space is to prevent from being parsed as bracketed and added ref\n        \" \",\n        joins[0][1],\n        ...joins.slice(1, -1).map(([key, join]) => `${args[0].optional?.[key] ? \"LEFT\" : \"\"} JOIN ${join} ON ${this.$true}`),\n        `${args[0].optional?.[joins.at(-1)[0]] ? \"LEFT \" : \"\"}JOIN`,\n        joins.at(-1)[1]\n      ].join(\" \");\n      const filter2 = this.parseEval(args[0].having);\n      prefix += ` ON ${filter2}`;\n    }\n    const filter = this.parseQuery(query);\n    if (filter === this.$false) return;\n    this.state.group = group || !!args[0].group;\n    const encodedMap = {};\n    const fields = args[0].fields ?? Object.fromEntries(Object.entries(model.fields).filter(([, field]) => Field.available(field)).map(([key, field]) => [key, field.expr ? field.expr : Eval(\"\", [ref, key], Type.fromField(field))]));\n    const keys = Object.entries(fields).map(([key, value]) => {\n      value = this.parseEval(value, false);\n      encodedMap[key] = this.state.encoded;\n      return this.escapeId(key) === value ? this.escapeId(key) : `${value} AS ${this.escapeId(key)}`;\n    }).join(\", \");\n    let suffix = this.suffix(args[0]);\n    this.state.encodedMap = encodedMap;\n    if (filter !== this.$true) {\n      suffix = ` WHERE ${filter}` + suffix;\n    }\n    if (inline && !args[0].fields && !suffix && (typeof table === \"string\" || Selection.is(table))) {\n      return addref && isBracketed(prefix) ? `${prefix} ${ref}` : prefix;\n    }\n    if (!prefix.includes(\" \") || isBracketed(prefix)) {\n      suffix = ` ${ref}` + suffix;\n    }\n    const result = `SELECT ${keys} FROM ${prefix}${suffix}`;\n    return inline ? `(${result})` : result;\n  }\n  /**\n   * Convert value from Type to Field.Type.\n   * @param root indicate whether the context is inside json\n   */\n  dump(value, type, root = true) {\n    if (!type) return value;\n    if (Type.isType(type) || isEvalExpr(type)) {\n      type = Type.isType(type) ? type : Type.fromTerm(type);\n      const converter = type.inner || type.type === \"json\" ? root ? this.driver.types[\"json\"] : void 0 : this.driver.types[type.type];\n      if (type.inner || type.type === \"json\") root = false;\n      let res = value;\n      res = Type.transform(res, type, (value2, type2) => this.dump(value2, type2, root));\n      res = converter?.dump ? converter.dump(res) : res;\n      const ancestor = this.driver.database.types[type.type]?.type;\n      if (!root && !ancestor) res = this.transform(res, type, \"dump\");\n      res = this.dump(res, ancestor ? Type.fromField(ancestor) : void 0, root);\n      return res;\n    }\n    value = type.format(value);\n    const result = {};\n    for (const key in value) {\n      const { type: ftype } = type.fields[key];\n      result[key] = this.dump(value[key], ftype);\n    }\n    return result;\n  }\n  /**\n   * Convert value from Field.Type to Type.\n   */\n  load(value, type, root = true) {\n    if (!type) return value;\n    if (Type.isType(type) || isEvalExpr(type)) {\n      type = Type.isType(type) ? type : Type.fromTerm(type);\n      const converter = this.driver.types[root && value && type.type === \"json\" ? \"json\" : type.type];\n      const ancestor = this.driver.database.types[type.type]?.type;\n      let res = this.load(value, ancestor ? Type.fromField(ancestor) : void 0, root);\n      res = this.transform(res, type, \"load\");\n      res = converter?.load ? converter.load(res) : res;\n      res = Type.transform(res, type, (value2, type2) => this.load(value2, type2, false));\n      return !isNullable(res) && type.inner && !Type.isArray(type) ? unravel(res) : res;\n    }\n    const result = {};\n    for (const key in value) {\n      if (!(key in type.fields)) continue;\n      result[key] = value[key];\n      let subroot = root;\n      if (subroot && result[key] && this.isEncoded(key)) {\n        subroot = false;\n        result[key] = this.driver.types[\"json\"].load(result[key]);\n      }\n      result[key] = this.load(result[key], type.fields[key].type, subroot);\n    }\n    return type.parse(result);\n  }\n  /**\n   * Convert value from Type to SQL.\n   */\n  escape(value, type) {\n    type &&= Type.fromField(type);\n    return this.escapePrimitive(type ? this.dump(value, type) : value, type);\n  }\n  /**\n   * Convert value from Field.Type to SQL.\n   */\n  escapePrimitive(value, type) {\n    if (isNullable(value)) return \"NULL\";\n    switch (typeof value) {\n      case \"boolean\":\n      case \"number\":\n      case \"bigint\":\n        return value + \"\";\n      case \"object\":\n        return this.quote(JSON.stringify(value));\n      default:\n        return this.quote(value);\n    }\n  }\n  escapeId(value) {\n    return escapeId(value);\n  }\n  escapeKey(value) {\n    return `\"${value}\"`;\n  }\n  quote(value) {\n    this.escapeRegExp ??= new RegExp(`[${Object.values(this.escapeMap).join(\"\")}]`, \"g\");\n    let chunkIndex = this.escapeRegExp.lastIndex = 0;\n    let escapedVal = \"\";\n    let match;\n    while (match = this.escapeRegExp.exec(value)) {\n      escapedVal += value.slice(chunkIndex, match.index) + this.escapeMap[match[0]];\n      chunkIndex = this.escapeRegExp.lastIndex;\n    }\n    if (chunkIndex === 0) {\n      return \"'\" + value + \"'\";\n    }\n    if (chunkIndex < value.length) {\n      return \"'\" + escapedVal + value.slice(chunkIndex) + \"'\";\n    }\n    return \"'\" + escapedVal + \"'\";\n  }\n};\nexport {\n  Builder,\n  escapeId,\n  isBracketed,\n  isSqlJson\n};\n//# sourceMappingURL=index.mjs.map\n","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/index.ts\nimport { Binary as Binary2, deepEqual, difference, isNullable as isNullable2, makeArray, mapValues } from \"cosmokit\";\nimport { Driver as Driver2, Eval, executeUpdate, Field as Field2, getCell, hasSubquery, isEvalExpr, z } from \"minato\";\nimport { escapeId as escapeId2 } from \"@minatojs/sql-utils\";\nimport { resolve } from \"node:path\";\nimport { access, readFile, writeFile } from \"node:fs/promises\";\nimport { createRequire } from \"node:module\";\nimport init from \"@minatojs/sql.js\";\n\n// src/locales/en-US.yml\nvar en_US_default = { path: \"Database path.\" };\n\n// src/locales/zh-CN.yml\nvar zh_CN_default = { path: \"数据库路径。\" };\n\n// src/builder.ts\nimport { Builder, escapeId } from \"@minatojs/sql-utils\";\nimport { Binary, isNullable } from \"cosmokit\";\nimport { Field, randomId, Type } from \"minato\";\nvar SQLiteBuilder = class extends Builder {\n  constructor(driver, tables) {\n    super(driver, tables);\n    this.driver = driver;\n    this.queryOperators.$regexFor = (key, value) => typeof value === \"string\" ? `${this.escape(value)} regexp ${key}` : value.flags?.includes(\"i\") ? `regexp2(${key}, ${this.escape(value.input)}, 'i')` : `${this.escape(value.input)} regexp ${key}`;\n    this.evalOperators.$if = (args) => `iif(${args.map((arg) => this.parseEval(arg)).join(\", \")})`;\n    this.evalOperators.$regex = ([key, value, flags]) => flags?.includes(\"i\") || value instanceof RegExp && value.flags?.includes(\"i\") ? `regexp2(${this.parseEval(value)}, ${this.parseEval(key)}, ${this.escape(flags ?? value.flags)})` : `regexp(${this.parseEval(value)}, ${this.parseEval(key)})`;\n    this.evalOperators.$concat = (args) => `(${args.map((arg) => this.parseEval(arg)).join(\"||\")})`;\n    this.evalOperators.$modulo = ([left, right]) => `modulo(${this.parseEval(left)}, ${this.parseEval(right)})`;\n    this.evalOperators.$log = ([left, right]) => isNullable(right) ? `log(${this.parseEval(left)})` : `log(${this.parseEval(left)}) / log(${this.parseEval(right)})`;\n    this.evalOperators.$length = (expr) => this.createAggr(expr, (value) => `count(${value})`, (value) => this.isEncoded() ? this.jsonLength(value) : this.asEncoded(`iif(${value}, LENGTH(${value}) - LENGTH(REPLACE(${value}, ${this.escape(\",\")}, ${this.escape(\"\")})) + 1, 0)`, false));\n    this.evalOperators.$number = (arg) => {\n      const type = Type.fromTerm(arg);\n      const value = this.parseEval(arg);\n      const res = Field.date.includes(type.type) ? `cast(${value} / 1000 as integer)` : `cast(${this.parseEval(arg)} as double)`;\n      return this.asEncoded(`ifnull(${res}, 0)`, false);\n    };\n    const binaryXor = /* @__PURE__ */ __name((left, right) => `((${left} & ~${right}) | (~${left} & ${right}))`, \"binaryXor\");\n    this.evalOperators.$xor = (args) => {\n      const type = Type.fromTerm(this.state.expr, Type.Boolean);\n      if (Field.boolean.includes(type.type)) return args.map((arg) => this.parseEval(arg)).reduce((prev, curr) => `(${prev} != ${curr})`);\n      else return args.map((arg) => this.parseEval(arg)).reduce((prev, curr) => binaryXor(prev, curr));\n    };\n    this.evalOperators.$get = ([x, key]) => typeof key === \"string\" ? this.asEncoded(`(${this.parseEval(x, false)} -> '$.${key}')`, true) : this.asEncoded(`(${this.parseEval(x, false)} -> ('$[' || ${this.parseEval(key)} || ']'))`, true);\n    this.transformers[\"bigint\"] = {\n      encode: /* @__PURE__ */ __name((value) => `cast(${value} as text)`, \"encode\"),\n      decode: /* @__PURE__ */ __name((value) => `cast(${value} as integer)`, \"decode\"),\n      load: /* @__PURE__ */ __name((value) => isNullable(value) ? value : BigInt(value), \"load\"),\n      dump: /* @__PURE__ */ __name((value) => isNullable(value) ? value : `${value}`, \"dump\")\n    };\n    this.transformers[\"binary\"] = {\n      encode: /* @__PURE__ */ __name((value) => `hex(${value})`, \"encode\"),\n      decode: /* @__PURE__ */ __name((value) => `unhex(${value})`, \"decode\"),\n      load: /* @__PURE__ */ __name((value) => isNullable(value) || typeof value === \"object\" ? value : Binary.fromHex(value), \"load\"),\n      dump: /* @__PURE__ */ __name((value) => isNullable(value) || typeof value === \"string\" ? value : Binary.toHex(value), \"dump\")\n    };\n  }\n  static {\n    __name(this, \"SQLiteBuilder\");\n  }\n  escapeMap = {\n    \"'\": \"''\"\n  };\n  escapePrimitive(value, type) {\n    if (value instanceof Date) value = +value;\n    else if (value instanceof RegExp) value = value.source;\n    else if (Binary.is(value)) return `X'${Binary.toHex(value)}'`;\n    else if (Binary.isSource(value)) return `X'${Binary.toHex(Binary.fromSource(value))}'`;\n    return super.escapePrimitive(value, type);\n  }\n  createElementQuery(key, value) {\n    if (this.isJsonQuery(key)) {\n      return this.jsonContains(key, this.escape(value, \"json\"));\n    } else {\n      return `(',' || ${key} || ',') LIKE ${this.escape(\"%,\" + value + \",%\")}`;\n    }\n  }\n  createRegExpQuery(key, value) {\n    if (typeof value !== \"string\" && value.flags?.includes(\"i\")) {\n      return `regexp2(${this.escape(typeof value === \"string\" ? value : value.source)}, ${key}, ${this.escape(value.flags)})`;\n    } else {\n      return `regexp(${this.escape(typeof value === \"string\" ? value : value.source)}, ${key})`;\n    }\n  }\n  jsonLength(value) {\n    return this.asEncoded(`json_array_length(${value})`, false);\n  }\n  jsonContains(obj, value) {\n    return this.asEncoded(`json_array_contains(${obj}, ${value})`, false);\n  }\n  encode(value, encoded, pure = false, type) {\n    return encoded ? super.encode(value, encoded, pure, type) : encoded === this.isEncoded() && !pure ? value : this.asEncoded(this.transform(`(${value} ->> '$')`, type, \"decode\"), pure ? void 0 : false);\n  }\n  createAggr(expr, aggr, nonaggr) {\n    if (!this.state.group && !nonaggr) {\n      const value = this.parseEval(expr, false);\n      return `(select ${aggr(escapeId(\"value\"))} from json_each(${value}) ${randomId()})`;\n    } else {\n      return super.createAggr(expr, aggr, nonaggr);\n    }\n  }\n  groupArray(value) {\n    const res = this.isEncoded() ? `('[' || group_concat(${value}) || ']')` : `('[' || group_concat(json_quote(${value})) || ']')`;\n    return this.asEncoded(`ifnull(${res}, json_array())`, true);\n  }\n  transformJsonField(obj, path) {\n    return this.asEncoded(`(${obj} -> '$${path}')`, true);\n  }\n};\n\n// src/index.ts\nimport { pathToFileURL } from \"node:url\";\nfunction getTypeDef({ deftype: type }) {\n  switch (type) {\n    case \"primary\":\n    case \"boolean\":\n    case \"integer\":\n    case \"unsigned\":\n    case \"bigint\":\n    case \"date\":\n    case \"time\":\n    case \"timestamp\":\n      return `INTEGER`;\n    case \"float\":\n    case \"double\":\n    case \"decimal\":\n      return `REAL`;\n    case \"char\":\n    case \"string\":\n    case \"text\":\n    case \"list\":\n    case \"json\":\n      return `TEXT`;\n    case \"binary\":\n      return `BLOB`;\n    default:\n      throw new Error(`unsupported type: ${type}`);\n  }\n}\n__name(getTypeDef, \"getTypeDef\");\nvar SQLiteDriver = class extends Driver2 {\n  static name = \"sqlite\";\n  path;\n  db;\n  sql = new SQLiteBuilder(this);\n  beforeUnload;\n  _transactionTask;\n  /** synchronize table schema */\n  async prepare(table, dropKeys) {\n    const columns = this._all(`PRAGMA table_info(${escapeId2(table)})`);\n    const model = this.model(table);\n    const columnDefs = [];\n    const indexDefs = [];\n    const alter = [];\n    const mapping = {};\n    let shouldMigrate = false;\n    for (const key in model.fields) {\n      if (!Field2.available(model.fields[key])) {\n        if (dropKeys?.includes(key)) shouldMigrate = true;\n        continue;\n      }\n      const legacy = [key, ...model.fields[key].legacy || []];\n      const column = columns.find(({ name }) => legacy.includes(name));\n      const { initial, nullable = true } = model.fields[key];\n      const typedef = getTypeDef(model.fields[key]);\n      let def = `${escapeId2(key)} ${typedef}`;\n      if (key === model.primary && model.autoInc) {\n        def += \" NOT NULL PRIMARY KEY AUTOINCREMENT\";\n      } else {\n        def += (nullable ? \" \" : \" NOT \") + \"NULL\";\n        if (!isNullable2(initial)) {\n          def += \" DEFAULT \" + this.sql.escape(this.sql.dump({ [key]: initial }, model)[key]);\n        }\n      }\n      columnDefs.push(def);\n      if (!column) {\n        alter.push(\"ADD \" + def);\n      } else {\n        mapping[column.name] = key;\n        shouldMigrate ||= column.name !== key || column.type !== typedef;\n      }\n    }\n    if (model.primary && !model.autoInc) {\n      indexDefs.push(`PRIMARY KEY (${this._joinKeys(makeArray(model.primary))})`);\n    }\n    if (model.unique) {\n      indexDefs.push(...model.unique.map((keys) => `UNIQUE (${this._joinKeys(makeArray(keys))})`));\n    }\n    if (model.foreign) {\n      indexDefs.push(...Object.entries(model.foreign).map(([key, value]) => {\n        const [table2, key2] = value;\n        return `FOREIGN KEY (\\`${key}\\`) REFERENCES ${escapeId2(table2)} (\\`${key2}\\`)`;\n      }));\n    }\n    if (!columns.length) {\n      this.logger.info(\"auto creating table %c\", table);\n      this._run(`CREATE TABLE ${escapeId2(table)} (${[...columnDefs, ...indexDefs].join(\", \")})`);\n    } else if (shouldMigrate) {\n      for (const { name, type, notnull, pk, dflt_value: value } of columns) {\n        if (mapping[name] || dropKeys?.includes(name)) continue;\n        let def = `${escapeId2(name)} ${type}`;\n        def += (notnull ? \" NOT \" : \" \") + \"NULL\";\n        if (pk) def += \" PRIMARY KEY\";\n        if (value !== null) def += \" DEFAULT \" + this.sql.escape(value);\n        columnDefs.push(def);\n        mapping[name] = name;\n      }\n      const temp = table + \"_temp\";\n      const fields = Object.keys(mapping).map(escapeId2).join(\", \");\n      this.logger.info(\"auto migrating table %c\", table);\n      this._run(`CREATE TABLE ${escapeId2(temp)} (${[...columnDefs, ...indexDefs].join(\", \")})`);\n      try {\n        this._run(`INSERT INTO ${escapeId2(temp)} SELECT ${fields} FROM ${escapeId2(table)}`);\n        this._run(`DROP TABLE ${escapeId2(table)}`);\n      } catch (error) {\n        this._run(`DROP TABLE ${escapeId2(temp)}`);\n        throw error;\n      }\n      this._run(`ALTER TABLE ${escapeId2(temp)} RENAME TO ${escapeId2(table)}`);\n    } else if (alter.length) {\n      this.logger.info(\"auto updating table %c\", table);\n      for (const def of alter) {\n        this._run(`ALTER TABLE ${escapeId2(table)} ${def}`);\n      }\n    }\n    if (dropKeys) return;\n    dropKeys = [];\n    await this.migrate(table, {\n      error: this.logger.warn,\n      before: /* @__PURE__ */ __name((keys) => keys.every((key) => columns.some(({ name }) => name === key)), \"before\"),\n      after: /* @__PURE__ */ __name((keys) => dropKeys.push(...keys), \"after\"),\n      finalize: /* @__PURE__ */ __name(() => {\n        if (!dropKeys.length) return;\n        this.prepare(table, dropKeys);\n      }, \"finalize\")\n    });\n  }\n  async start() {\n    this.path = this.config.path;\n    if (this.path !== \":memory:\") {\n      this.path = resolve(this.ctx.baseDir, this.path);\n    }\n    const isBrowser = process.env.KOISHI_ENV === \"browser\";\n    const sqlite = await init({\n      locateFile: /* @__PURE__ */ __name((file) => process.env.KOISHI_BASE ? process.env.KOISHI_BASE + \"/\" + file : isBrowser ? \"/modules/@koishijs/plugin-database-sqlite/\" + file : createRequire(import.meta.url || pathToFileURL(__filename).href).resolve(\"@minatojs/sql.js/dist/\" + file), \"locateFile\")\n    });\n    if (this.path !== \":memory:\") {\n      const dir = resolve(this.path, \"..\");\n      try {\n        await access(dir);\n      } catch {\n        throw new Error(`The database directory '${resolve(this.path, \"..\")}' is not accessible. You may have to create it first.`);\n      }\n    }\n    if (!isBrowser || this.path === \":memory:\") {\n      this.db = new sqlite.Database(this.path);\n    } else {\n      const buffer = await readFile(this.path).catch(() => null);\n      this.db = new sqlite.Database(this.path, buffer);\n      if (isBrowser) {\n        window.addEventListener(\"beforeunload\", this.beforeUnload = () => {\n          this._export();\n        });\n      }\n    }\n    this.db.create_function(\"regexp\", (pattern, str) => +new RegExp(pattern).test(str));\n    this.db.create_function(\"regexp2\", (pattern, str, flags) => +new RegExp(pattern, flags).test(str));\n    this.db.create_function(\"json_array_contains\", (array, value) => +JSON.parse(array).includes(JSON.parse(value)));\n    this.db.create_function(\"modulo\", (left, right) => left % right);\n    this.db.create_function(\"rand\", () => Math.random());\n    this.define({\n      types: [\"boolean\"],\n      dump: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : +value, \"dump\"),\n      load: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : !!value, \"load\")\n    });\n    this.define({\n      types: [\"json\"],\n      dump: /* @__PURE__ */ __name((value) => JSON.stringify(value), \"dump\"),\n      load: /* @__PURE__ */ __name((value) => typeof value === \"string\" ? JSON.parse(value) : value, \"load\")\n    });\n    this.define({\n      types: [\"list\"],\n      dump: /* @__PURE__ */ __name((value) => Array.isArray(value) ? value.join(\",\") : value, \"dump\"),\n      load: /* @__PURE__ */ __name((value) => value ? value.split(\",\") : [], \"load\")\n    });\n    this.define({\n      types: [\"date\", \"time\", \"timestamp\"],\n      dump: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : +new Date(value), \"dump\"),\n      load: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : new Date(Number(value)), \"load\")\n    });\n    this.define({\n      types: [\"binary\"],\n      dump: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : new Uint8Array(value), \"dump\"),\n      load: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : Binary2.fromSource(value), \"load\")\n    });\n    this.define({\n      types: [\"primary\", ...Field2.number],\n      dump: /* @__PURE__ */ __name((value) => value, \"dump\"),\n      load: /* @__PURE__ */ __name((value) => isNullable2(value) ? value : Number(value), \"load\")\n    });\n  }\n  _joinKeys(keys) {\n    return keys?.length ? keys.map((key) => `\\`${key}\\``).join(\", \") : \"*\";\n  }\n  async stop() {\n    await new Promise((resolve2) => setTimeout(resolve2, 0));\n    this.db?.close();\n    if (this.beforeUnload) {\n      this.beforeUnload();\n      window.removeEventListener(\"beforeunload\", this.beforeUnload);\n    }\n  }\n  _exec(sql, params, callback) {\n    try {\n      const stmt = this.db.prepare(sql);\n      const result = callback(stmt);\n      stmt.free();\n      this.logger.debug(\"> %s\", sql, params);\n      return result;\n    } catch (e) {\n      this.logger.warn(\"> %s\", sql, params);\n      throw e;\n    }\n  }\n  _all(sql, params = [], config) {\n    return this._exec(sql, params, (stmt) => {\n      stmt.bind(params);\n      const result = [];\n      while (stmt.step()) {\n        result.push(stmt.getAsObject(null, config));\n      }\n      return result;\n    });\n  }\n  _get(sql, params = [], config) {\n    return this._exec(sql, params, (stmt) => stmt.getAsObject(params, config));\n  }\n  _export() {\n    const data = this.db.export();\n    return writeFile(this.path, data);\n  }\n  _run(sql, params = [], callback) {\n    this._exec(sql, params, (stmt) => stmt.run(params));\n    const result = callback?.();\n    return result;\n  }\n  async drop(table) {\n    this._run(`DROP TABLE ${escapeId2(table)}`);\n  }\n  async dropAll() {\n    const tables = Object.keys(this.database.tables);\n    for (const table of tables) {\n      this._run(`DROP TABLE ${escapeId2(table)}`);\n    }\n  }\n  async stats() {\n    const stats = { size: this.db.size(), tables: {} };\n    const tableNames = this._all('SELECT name FROM sqlite_master WHERE type=\"table\" ORDER BY name;');\n    const dbstats = this._all('SELECT name, pgsize as size FROM \"dbstat\" WHERE aggregate=TRUE;');\n    tableNames.forEach((tbl) => {\n      stats.tables[tbl.name] = this._get(`SELECT COUNT(*) as count FROM ${escapeId2(tbl.name)};`);\n      stats.tables[tbl.name].size = dbstats.find((o) => o.name === tbl.name).size;\n    });\n    return stats;\n  }\n  async remove(sel) {\n    const { query, table, tables } = sel;\n    const builder = new SQLiteBuilder(this, tables);\n    const filter = builder.parseQuery(query);\n    if (filter === \"0\") return {};\n    const result = this._run(`DELETE FROM ${escapeId2(table)} WHERE ${filter}`, [], () => this._get(`SELECT changes() AS count`));\n    return { matched: result.count, removed: result.count };\n  }\n  async get(sel) {\n    const { model, tables } = sel;\n    const builder = new SQLiteBuilder(this, tables);\n    const sql = builder.get(sel);\n    if (!sql) return [];\n    const rows = this._all(sql, [], { useBigInt: true });\n    return rows.map((row) => builder.load(row, model));\n  }\n  async eval(sel, expr) {\n    const builder = new SQLiteBuilder(this, sel.tables);\n    const inner = builder.get(sel.table, true, true);\n    const output = builder.parseEval(expr, false);\n    const { value } = this._get(`SELECT ${output} AS value FROM ${inner}`, [], { useBigInt: true });\n    return builder.load(value, expr);\n  }\n  _update(sel, indexFields, updateFields, update, data) {\n    const { ref, table, tables, model } = sel;\n    const builder = new SQLiteBuilder(this, tables);\n    executeUpdate(data, update, ref);\n    const row = builder.dump(data, model);\n    const assignment = updateFields.map((key) => `${escapeId2(key)} = ?`).join(\",\");\n    const query = Object.fromEntries(indexFields.map((key) => [key, row[key]]));\n    const filter = builder.parseQuery(query);\n    this._run(`UPDATE ${escapeId2(table)} SET ${assignment} WHERE ${filter}`, updateFields.map((key) => row[key] ?? null));\n  }\n  async set(sel, update) {\n    const { model, table, query } = sel;\n    const { primary } = model, fields = model.avaiableFields();\n    const updateFields = [...new Set(Object.keys(update).map((key) => {\n      return Object.keys(fields).find((field) => field === key || key.startsWith(field + \".\"));\n    }))];\n    const primaryFields = makeArray(primary);\n    if (query.$expr || hasSubquery(sel.query) || Object.values(update).some((x) => hasSubquery(x))) {\n      const sel2 = this.database.select(table, query);\n      sel2.tables[sel.ref] = sel2.tables[sel2.ref];\n      delete sel2.tables[sel2.ref];\n      sel2.ref = sel.ref;\n      const project = mapValues(update, (value, key) => () => isEvalExpr(value) ? value : Eval.literal(value, model.getType(key)));\n      const rawUpsert = await sel2.project({\n        ...project,\n        // do not touch sel2.row since it is not patched\n        ...Object.fromEntries(primaryFields.map((x) => [x, () => Eval(\"\", [sel.ref, x], sel2.model.getType(x))]))\n      }).execute();\n      const upsert = rawUpsert.map((row) => ({\n        ...mapValues(update, (_, key) => getCell(row, key)),\n        ...Object.fromEntries(primaryFields.map((x) => [x, getCell(row, x)]))\n      }));\n      return this.database.upsert(table, upsert);\n    } else {\n      const data = await this.database.get(table, query);\n      for (const row of data) {\n        this._update(sel, primaryFields, updateFields, update, row);\n      }\n      return { matched: data.length };\n    }\n  }\n  _create(table, data) {\n    const model = this.model(table);\n    data = this.sql.dump(data, model);\n    const keys = Object.keys(data);\n    const sql = `INSERT INTO ${escapeId2(table)} (${this._joinKeys(keys)}) VALUES (${Array(keys.length).fill(\"?\").join(\", \")})`;\n    return this._run(sql, keys.map((key) => data[key] ?? null), () => this._get(`SELECT last_insert_rowid() AS id`));\n  }\n  async create(sel, data) {\n    const { model, table } = sel;\n    const { id } = this._create(table, data);\n    const { autoInc, primary } = model;\n    if (!autoInc || Array.isArray(primary)) return data;\n    return { ...data, [primary]: id };\n  }\n  async upsert(sel, data, keys) {\n    if (!data.length) return {};\n    const { model, table, ref } = sel;\n    const fields = model.avaiableFields();\n    const result = { inserted: 0, matched: 0, modified: 0 };\n    const dataFields = [...new Set(Object.keys(Object.assign({}, ...data)).map((key) => {\n      return Object.keys(fields).find((field) => field === key || key.startsWith(field + \".\"));\n    }))];\n    let updateFields = difference(dataFields, keys);\n    if (!updateFields.length) updateFields = [dataFields[0]];\n    const step = Math.floor(960 / keys.length);\n    for (let i = 0; i < data.length; i += step) {\n      const chunk = data.slice(i, i + step);\n      const results = await this.database.get(table, {\n        $or: chunk.map((item) => Object.fromEntries(keys.map((key) => [key, item[key]])))\n      });\n      for (const item of chunk) {\n        const row = results.find((row2) => {\n          row2 = model.format(row2);\n          return keys.every((key) => deepEqual(row2[key], item[key], true));\n        });\n        if (row) {\n          this._update(sel, keys, updateFields, item, row);\n          result.matched++;\n        } else {\n          this._create(table, executeUpdate(model.create(), item, ref));\n          result.inserted++;\n        }\n      }\n    }\n    return result;\n  }\n  async withTransaction(callback) {\n    if (this._transactionTask) await this._transactionTask.catch(() => {\n    });\n    return this._transactionTask = new Promise((resolve2, reject) => {\n      this._run(\"BEGIN TRANSACTION\");\n      callback().then(\n        () => resolve2(this._run(\"COMMIT\")),\n        (e) => (this._run(\"ROLLBACK\"), reject(e))\n      );\n    });\n  }\n  async getIndexes(table) {\n    const indexes = this._all(`SELECT type,name,tbl_name,sql FROM sqlite_master WHERE type = 'index' AND tbl_name = ?`, [table]);\n    const result = [];\n    for (const { name, sql } of indexes) {\n      result.push({\n        name,\n        unique: !sql || sql.toUpperCase().startsWith(\"CREATE UNIQUE\"),\n        keys: this._parseIndexDef(sql)\n      });\n    }\n    return result;\n  }\n  async createIndex(table, index) {\n    const name = index.name ?? Object.entries(index.keys).map(([key, direction]) => `${key}_${direction ?? \"asc\"}`).join(\"+\");\n    const keyFields = Object.entries(index.keys).map(([key, direction]) => `${escapeId2(key)} ${direction ?? \"asc\"}`).join(\", \");\n    await this._run(`create ${index.unique ? \"UNIQUE\" : \"\"} index ${escapeId2(name)} ON ${escapeId2(table)} (${keyFields})`);\n  }\n  async dropIndex(table, name) {\n    await this._run(`DROP INDEX ${escapeId2(name)}`);\n  }\n  _parseIndexDef(def) {\n    if (!def) return {};\n    try {\n      const keys = {}, matches = def.match(/\\((.*)\\)/);\n      matches[1].split(\",\").forEach((key) => {\n        const [name, direction] = key.trim().split(\" \");\n        keys[name.startsWith(\"`\") ? name.slice(1, -1) : name] = direction?.toLowerCase() === \"desc\" ? \"desc\" : \"asc\";\n      });\n      return keys;\n    } catch {\n      return {};\n    }\n  }\n};\n((SQLiteDriver2) => {\n  SQLiteDriver2.Config = z.object({\n    path: z.string().role(\"path\").required()\n  }).i18n({\n    \"en-US\": en_US_default,\n    \"zh-CN\": zh_CN_default\n  });\n})(SQLiteDriver || (SQLiteDriver = {}));\nvar src_default = SQLiteDriver;\nexport {\n  SQLiteDriver,\n  src_default as default\n};\n//# sourceMappingURL=index.mjs.map\n","export class BidiMap<K, V> {\n  private key2Value: Map<K, V> = new Map()\n  private value2Key: Map<V, K> = new Map()\n  public maxSize: number\n\n  constructor(maxSize: number) {\n    this.maxSize = maxSize\n  }\n\n\n  set(key: K, value: V): void {\n    this.key2Value.set(key, value)\n    this.value2Key.set(value, key)\n    if (this.maxSize !== -1 && this.key2Value.size > this.maxSize) {\n      const oldestKey = this.key2Value.keys().next().value!\n      this.value2Key.delete(this.key2Value.get(oldestKey)!)\n      this.key2Value.delete(oldestKey)\n    }\n  }\n\n  get(key: K): V | undefined {\n    return this.key2Value.get(key)\n  }\n\n  getValue(key: K): V | undefined {\n    return this.key2Value.get(key)\n  }\n\n  getKey(value: V): K | undefined {\n    return this.value2Key.get(value)\n  }\n}\n","import { Peer, RawMessage } from '@/ntqqapi/types'\nimport { createHash } from 'node:crypto'\nimport { BidiMap } from '@/common/utils/table'\nimport { FileCacheV2 } from '@/common/types'\nimport { Context, Service } from 'cordis'\n\ndeclare module 'cordis' {\n  interface Context {\n    store: Store\n  }\n  interface Tables {\n    message: {\n      shortId: number\n      msgId: string\n      chatType: number\n      peerUid: string\n    }\n    file_v2: FileCacheV2\n    forward: {\n      rootMsgId: string\n      parentMsgId: string\n      peerUid: string\n    }\n  }\n}\n\ninterface MsgInfo {\n  msgId: string\n  peer: Peer\n}\n\nclass Store extends Service {\n  static inject = ['database', 'model', 'logger']\n  private cache: BidiMap<string, number>\n  private messages: Map<string, RawMessage>\n\n  constructor(protected ctx: Context, public config: Store.Config) {\n    super(ctx, 'store', true)\n    this.cache = new BidiMap(1000)\n    this.messages = new Map()\n    this.initDatabase().then().catch(console.error)\n  }\n\n  private async initDatabase() {\n    this.ctx.model.extend('message', {\n      shortId: 'integer(10)',\n      chatType: 'unsigned',\n      msgId: 'string(24)',\n      peerUid: 'string(24)'\n    }, {\n      primary: 'shortId'\n    })\n    this.ctx.model.extend('file_v2', {\n      fileName: 'string',\n      fileSize: 'string',\n      fileUuid: 'string(128)',\n      msgId: 'string(24)',\n      msgTime: 'unsigned(10)',\n      peerUid: 'string(24)',\n      chatType: 'unsigned',\n      elementId: 'string(24)',\n      elementType: 'unsigned',\n    }, {\n      primary: 'fileUuid',\n      indexes: ['fileName']\n    })\n    this.ctx.model.extend('forward', {\n      rootMsgId: 'string(24)',\n      parentMsgId: 'string(24)',\n      peerUid: 'string(24)'\n    }, {\n      primary: 'parentMsgId'\n    })\n  }\n\n  createMsgShortId(peer: Peer, msgId: string): number {\n    // OneBot 11 要求 message_id 为 int32\n    const cacheKey = `${msgId}|${peer.chatType}|${peer.peerUid}`\n    const existingShortId = this.getShortIdByMsgInfo(peer, msgId)\n    if (existingShortId){\n      return existingShortId\n    }\n    const hash = createHash('md5').update(cacheKey).digest()\n    hash[0] &= 0x7f //保证shortId为正数\n    const shortId = hash.readInt32BE()\n    this.cache.set(cacheKey, shortId)\n    this.ctx.database.upsert('message', [{\n      msgId,\n      shortId,\n      chatType: peer.chatType,\n      peerUid: peer.peerUid\n    }], 'shortId').then().catch(e=>this.ctx.logger.error('createMsgShortId database error:', e))\n    return shortId\n  }\n\n  async getMsgInfoByShortId(shortId: number): Promise<MsgInfo | undefined> {\n    const data = this.cache.getKey(shortId)\n    if (data) {\n      const [msgId, chatTypeStr, peerUid] = data.split('|')\n      return {\n        msgId,\n        peer: {\n          chatType: +chatTypeStr,\n          peerUid,\n          guildId: ''\n        }\n      }\n    }\n    const items = await this.ctx.database.get('message', { shortId })\n    if (items?.length) {\n      const { msgId, chatType, peerUid } = items[0]\n      return {\n        msgId,\n        peer: {\n          chatType,\n          peerUid,\n          guildId: ''\n        }\n      }\n    }\n  }\n\n  async getShortIdByMsgId(msgId: string): Promise<number | undefined> {\n    return (await this.ctx.database.get('message', { msgId }))[0]?.shortId\n  }\n\n  getShortIdByMsgInfo(peer: Peer, msgId: string) {\n    const cacheKey = `${msgId}|${peer.chatType}|${peer.peerUid}`\n    return this.cache.getValue(cacheKey)\n  }\n\n  async addFileCache(data: FileCacheV2) {\n    // 判断 fileUuid 是否存在\n    const existingFile = await this.ctx.database.get('file_v2', { fileUuid: data.fileUuid })\n    if (existingFile.length) {\n      return existingFile\n    }\n    this.ctx.database.upsert('file_v2', [data], 'fileUuid').then()\n      .catch(e=>this.ctx.logger.error('addFileCache database error:', e))\n  }\n\n  getFileCacheByName(fileName: string) {\n    return this.ctx.database.get('file_v2', { fileName }, {\n      sort: { msgTime: 'desc' }\n    })\n  }\n\n  getFileCacheById(fileUuid: string) {\n    return this.ctx.database.get('file_v2', { fileUuid })\n  }\n\n  async addMsgCache(msg: RawMessage) {\n    const expire = this.config.msgCacheExpire\n    if (expire === 0) {\n      return\n    }\n    const id = msg.msgId\n    this.messages.set(id, msg)\n    if (this.messages.size > 10000) {\n      // 如果缓存超过10000条，清理最早的\n      const firstKey = this.messages.keys().next().value\n      if (firstKey) {\n        this.messages.delete(firstKey)\n      }\n    }\n    setTimeout(() => {\n      this.messages.delete(id)\n    }, expire)\n  }\n\n  getMsgCache(msgId: string) {\n    return this.messages.get(msgId)\n  }\n\n  addMultiMsgInfo(rootMsgId: string, parentMsgId: string, peerUid: string) {\n    this.ctx.database.upsert('forward', [{ rootMsgId, parentMsgId, peerUid }]).then()\n      .catch(e=>this.ctx.logger.error('addMultiMsgInfo database error:', e))\n  }\n\n  getMultiMsgInfo(parentMsgId: string) {\n    return this.ctx.database.get('forward', { parentMsgId })\n  }\n}\n\nnamespace Store {\n  export interface Config {\n    /** 单位为毫秒 */\n    msgCacheExpire: number\n  }\n}\n\nexport default Store\n","import { hookApiCallbacks, ReceiveCmdS, registerReceiveHook, removeReceiveHook } from './hook'\nimport { DetailedError, log } from '../common/utils'\nimport { randomUUID } from 'node:crypto'\nimport {\n  GeneralCallResult,\n  NodeIKernelBuddyService,\n  NodeIKernelProfileService,\n  NodeIKernelGroupService,\n  NodeIKernelProfileLikeService,\n  NodeIKernelMsgService,\n  NodeIKernelMSFService,\n  NodeIKernelUixConvertService,\n  NodeIKernelRichMediaService,\n  NodeIKernelTicketService,\n  NodeIKernelTipOffService,\n  NodeIKernelRobotService,\n  NodeIKernelNodeMiscService,\n  NodeIKernelRecentContactService,\n} from './services'\nimport { pmhq } from '@/ntqqapi/native/pmhq'\nimport { NodeIKernelFlashTransferService } from '@/ntqqapi/services/NodeIKernelFlashTransferService'\n\nexport enum NTMethod {\n  ACTIVE_CHAT_PREVIEW = 'nodeIKernelMsgService/getAioFirstViewLatestMsgsAndAddActiveChat', // 激活聊天窗口，有时候必须这样才能收到消息, 并返回最新预览消息\n  ACTIVE_CHAT_HISTORY = 'nodeIKernelMsgService/getMsgsIncludeSelfAndAddActiveChat', // 激活聊天窗口，有时候必须这样才能收到消息, 并返回历史消息\n  HISTORY_MSG = 'nodeIKernelMsgService/getMsgsIncludeSelf',\n  GET_MULTI_MSG = 'nodeIKernelMsgService/getMultiMsg',\n  DELETE_ACTIVE_CHAT = 'nodeIKernelMsgService/deleteActiveChatByUid',\n  MEDIA_FILE_PATH = 'nodeIKernelMsgService/getRichMediaFilePathForGuild',\n  RECALL_MSG = 'nodeIKernelMsgService/recallMsg',\n  EMOJI_LIKE = 'nodeIKernelMsgService/setMsgEmojiLikes',\n\n  GROUP_MEMBER_SCENE = 'nodeIKernelGroupService/createMemberListScene',\n  GROUP_MEMBERS = 'nodeIKernelGroupService/getAllMemberList',\n  HANDLE_GROUP_REQUEST = 'nodeIKernelGroupService/operateSysNotify',\n  QUIT_GROUP = 'nodeIKernelGroupService/quitGroup',\n  GROUP_AT_ALL_REMAIN_COUNT = 'nodeIKernelGroupService/getGroupRemainAtTimes',\n  KICK_MEMBER = 'nodeIKernelGroupService/kickMember',\n  MUTE_MEMBER = 'nodeIKernelGroupService/setMemberShutUp',\n  MUTE_GROUP = 'nodeIKernelGroupService/setGroupShutUp',\n  SET_MEMBER_CARD = 'nodeIKernelGroupService/modifyMemberCardName',\n  SET_MEMBER_ROLE = 'nodeIKernelGroupService/modifyMemberRole',\n  SET_GROUP_NAME = 'nodeIKernelGroupService/modifyGroupName',\n\n  HANDLE_FRIEND_REQUEST = 'nodeIKernelBuddyService/approvalFriendRequest',\n\n  CACHE_SET_SILENCE = 'nodeIKernelStorageCleanService/setSilentScan',\n  CACHE_ADD_SCANNED_PATH = 'nodeIKernelStorageCleanService/addCacheScanedPaths',\n  CACHE_SCAN = 'nodeIKernelStorageCleanService/scanCache',\n  CACHE_CLEAR = 'nodeIKernelStorageCleanService/clearCacheDataByKeys',\n  CACHE_CHAT_GET = 'nodeIKernelStorageCleanService/getChatCacheInfo',\n  CACHE_FILE_GET = 'nodeIKernelStorageCleanService/getFileCacheInfo',\n  CACHE_CHAT_CLEAR = 'nodeIKernelStorageCleanService/clearChatCacheInfo',\n}\n\n\ninterface NTService {\n  nodeIKernelBuddyService: NodeIKernelBuddyService\n  nodeIKernelProfileService: NodeIKernelProfileService\n  nodeIKernelGroupService: NodeIKernelGroupService\n  nodeIKernelProfileLikeService: NodeIKernelProfileLikeService\n  nodeIKernelMsgService: NodeIKernelMsgService\n  nodeIKernelMSFService: NodeIKernelMSFService\n  nodeIKernelUixConvertService: NodeIKernelUixConvertService\n  nodeIKernelRichMediaService: NodeIKernelRichMediaService\n  nodeIKernelTicketService: NodeIKernelTicketService\n  nodeIKernelTipOffService: NodeIKernelTipOffService\n  nodeIKernelRobotService: NodeIKernelRobotService\n  nodeIKernelNodeMiscService: NodeIKernelNodeMiscService\n  nodeIKernelRecentContactService: NodeIKernelRecentContactService\n  nodeIKernelFlashTransferService: NodeIKernelFlashTransferService\n}\n\ninterface InvokeOptions<ReturnType> {\n  resultCmd?: ReceiveCmdS | string // 表示这次call是异步的，返回结果会通过这个命令上报\n  resultCb?: (data: ReturnType, firstResult: any) => boolean // 结果回调，直到返回true才会移除钩子\n  timeout?: number\n}\n\nconst NT_SERVICE_TO_PMHQ: Record<string, string> = {\n  'nodeIKernelBuddyService': 'getBuddyService',\n  'nodeIKernelProfileService': 'getProfileService',\n  'nodeIKernelGroupService': 'getGroupService',\n  'nodeIKernelProfileLikeService': 'getProfileLikeService',\n  'nodeIKernelMsgService': 'getMsgService',\n  'nodeIKernelMSFService': 'getMSFService',\n  'nodeIKernelUixConvertService': 'getUixConvertService',\n  'nodeIKernelRichMediaService': 'getRichMediaService',\n  'nodeIKernelTicketService': 'getTicketService',\n  'nodeIKernelTipOffService': 'getTipOffService',\n  'nodeIKernelRobotService': 'getRobotService',\n  'nodeIKernelNodeMiscService': 'getNodeMiscService',\n  'nodeIKernelRecentContactService': 'getRecentContactService',\n  'nodeIKernelFlashTransferService': 'getFlashTransferService',\n}\n\nexport function invoke<\n  R extends Awaited<ReturnType<Extract<NTService[S][M], (...args: any) => unknown>>>,\n  S extends keyof NTService = any,\n  M extends keyof NTService[S] & string = any\n>(method: Extract<unknown, `${S}/${M}`> | string, args: unknown[], options: InvokeOptions<R> = {}): Promise<R> {\n  const splitMethod = method.split('/')\n  const serviceName = splitMethod[0] as keyof NTService\n  const methodName = splitMethod.slice(1).join('/')\n  const pmhqService = NT_SERVICE_TO_PMHQ[serviceName]\n  let funcName = `wrapperSession.${pmhqService}().${methodName}`\n  if (!pmhqService) {\n    funcName = method\n    // console.error('unknown service:', serviceName);\n  }\n  let timeout = options.timeout ?? 5000\n\n  return new Promise<R>((resolve, reject) => {\n    let timeoutId = null\n    let hookId: string = ''\n    if (timeout) {\n      timeoutId = setTimeout(() => {\n        removeReceiveHook(hookId)\n        reject(`invoke timeout, ${funcName}, ${args}`)\n      }, timeout)\n    }\n    if (options.resultCmd) {\n      let firstResult: any = undefined\n      hookId = registerReceiveHook<R>(options.resultCmd as string, (data: R) => {\n        if (options.resultCb && !options.resultCb(data, firstResult)) {\n          return\n        }\n        resolve(data)\n        removeReceiveHook(hookId)\n        timeoutId && clearTimeout(timeoutId)\n      })\n      pmhq.call(funcName, args, timeout).then(r => firstResult = r).catch(reject)\n    }\n    else {\n      pmhq.call(funcName, args, timeout).then(r=>{\n        resolve(r)\n        timeoutId && clearTimeout(timeoutId)\n      }).catch(reject)\n    }\n  })\n}\n","import { Context } from 'cordis'\n\ninterface ServerRkeyData {\n  group_rkey: string\n  private_rkey: string\n  expired_time: number\n}\n\nexport class RkeyManager {\n  private serverUrl: string = ''\n  private rkeyData: ServerRkeyData = {\n    group_rkey: '',\n    private_rkey: '',\n    expired_time: 0\n  }\n\n  constructor(protected ctx: Context, serverUrl: string) {\n    this.serverUrl = serverUrl\n  }\n\n  async getRkey() {\n    if (this.isExpired()) {\n      try {\n        await this.refreshRkey()\n      } catch (e) {\n        this.ctx.logger.error('获取rkey失败', e)\n      }\n    }\n    return this.rkeyData\n  }\n\n  isExpired(): boolean {\n    const now = new Date().getTime() / 1000\n    return now > this.rkeyData.expired_time\n  }\n\n  async refreshRkey() {\n    try {\n      const { privateRKey, groupRKey } = await this.ctx.get('app')!.pmhq.getRKey()\n      if (privateRKey && groupRKey) {\n        this.ctx.logger.info(`发包获取rkey成功,private:${privateRKey}, group:${groupRKey}`)\n        this.rkeyData = {\n          private_rkey: privateRKey,\n          group_rkey: groupRKey,\n          expired_time: new Date().getTime() / 1000 + 50 * 60\n        }\n      }\n    }\n    catch (e) {\n      this.ctx.logger.warn(`发包获取rkey失败 ${e}，开始获取远程rkey`)\n      try {\n        this.rkeyData = await this.fetchServerRkey()\n      }catch (e) {\n        this.ctx.logger.error('获取远程rkey失败', e)\n      }\n    }\n  }\n\n  async fetchServerRkey(): Promise<ServerRkeyData> {\n    const response = await fetch(this.serverUrl)\n    if (!response.ok) {\n      throw new Error(response.statusText)\n    }\n    return response.json()\n  }\n}\n","import { invoke, NTMethod } from '../ntcall'\nimport { GeneralCallResult } from '../services'\nimport {\n  CacheFileList,\n  CacheFileListItem,\n  CacheFileType,\n  CacheScanResult,\n  ChatCacheListItemBasic,\n  ChatType,\n  ElementType,\n  IMAGE_HTTP_HOST,\n  IMAGE_HTTP_HOST_NT,\n  PicElement,\n} from '../types'\nimport path from 'node:path'\nimport { existsSync } from 'node:fs'\nimport { ReceiveCmdS } from '../hook'\nimport { RkeyManager } from '@/ntqqapi/helper/rkey'\nimport { RichMediaDownloadCompleteNotify, RichMediaUploadCompleteNotify, RMBizType, Peer } from '@/ntqqapi/types/msg'\nimport { calculateFileMD5, getFileType, getImageSize } from '@/common/utils/file'\nimport { copyFile, stat, unlink } from 'node:fs/promises'\nimport { Time } from 'cosmokit'\nimport { Service, Context } from 'cordis'\nimport { selfInfo } from '@/common/globalVars'\nimport { FlashFileListItem, FlashFileSetInfo } from '@/ntqqapi/types/flashfile'\n\ndeclare module 'cordis' {\n  interface Context {\n    ntFileApi: NTQQFileApi\n    ntFileCacheApi: NTQQFileCacheApi\n  }\n}\n\nexport class NTQQFileApi extends Service {\n  private rkeyManager: RkeyManager\n\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntFileApi', true)\n    this.rkeyManager = new RkeyManager(ctx, 'https://llob.linyuchen.net/rkey')\n  }\n\n  async getVideoUrl(peer: Peer, msgId: string, elementId: string): Promise<string | undefined> {\n    try {\n      const data = await invoke('nodeIKernelRichMediaService/getVideoPlayUrlV2', [\n        peer,\n        msgId,\n        elementId,\n        0, // video code format, 0: H264, 1: H265 ?\n        {\n          downSourceType: 1,\n          triggerType: 1,\n        },\n      ])\n      if (data.result !== 0) {\n        this.ctx.logger.warn('getVideoUrl', data)\n      }\n      return data.urlResult.domainUrl[0]?.url\n    } catch (e) {\n      this.ctx.logger.warn('getVideoUrl error', e)\n      return ''\n    }\n  }\n\n  async getFileType(filePath: string) {\n    return await getFileType(filePath)\n  }\n\n  /** 上传文件到 QQ 的文件夹 */\n  async uploadFile(filePath: string, elementType = ElementType.Pic, elementSubType = 0) {\n    const fileMd5 = await calculateFileMD5(filePath)\n    let fileName = path.basename(filePath)\n    if (!fileName.includes('.')) {\n      const ext = (await this.getFileType(filePath))?.ext\n      fileName += ext ? '.' + ext : ''\n    }\n    const mediaPath = await invoke(NTMethod.MEDIA_FILE_PATH, [\n      {\n        md5HexStr: fileMd5,\n        fileName: fileName,\n        elementType: elementType,\n        elementSubType,\n        thumbSize: 0,\n        needCreate: true,\n        downloadType: 1,\n        file_uuid: '',\n      },\n    ])\n    await copyFile(filePath, mediaPath)\n    const fileSize = (await stat(filePath)).size\n    return {\n      md5: fileMd5,\n      fileName,\n      path: mediaPath,\n      fileSize,\n    }\n  }\n\n  async downloadMedia(\n    msgId: string,\n    chatType: ChatType,\n    peerUid: string,\n    elementId: string,\n    thumbPath = '',\n    sourcePath = '',\n    timeout = 1000 * 60 * 30,\n    force = false,\n  ) {\n    // 用于下载收到的消息中的图片等\n    if (sourcePath && existsSync(sourcePath)) {\n      if (force) {\n        unlink(sourcePath).then().catch(e => {\n        })\n      } else {\n        return sourcePath\n      }\n    }\n    const data = await invoke<RichMediaDownloadCompleteNotify>(\n      'nodeIKernelMsgService/downloadRichMedia',\n      [{\n        fileModelId: '0',\n        downloadSourceType: 0,\n        triggerType: 1,\n        msgId: msgId,\n        chatType: chatType,\n        peerUid: peerUid,\n        elementId: elementId,\n        thumbSize: 0,\n        downloadType: 1,\n        filePath: thumbPath,\n      }],\n      {\n        resultCmd: ReceiveCmdS.MEDIA_DOWNLOAD_COMPLETE,\n        resultCb: payload => payload.msgId === msgId,\n        timeout,\n      },\n    )\n    return data.filePath\n  }\n\n  async getImageSize(filePath: string): Promise<{ type: string, width: number, height: number }> {\n    const fileType = await getFileType(filePath)\n    const size = await getImageSize(filePath)\n    return {\n      type: fileType.ext,\n      ...size,\n    }\n  }\n\n  async getImageUrl(element: PicElement) {\n    if (!element) {\n      return ''\n    }\n    const url: string = element.originImageUrl!  // 没有域名\n    const md5HexStr = element.md5HexStr\n    const fileMd5 = element.md5HexStr\n\n    if (url) {\n      const parsedUrl = new URL(IMAGE_HTTP_HOST + url) //临时解析拼接\n      const imageAppid = parsedUrl.searchParams.get('appid')\n      const isNTPic = imageAppid && ['1406', '1407'].includes(imageAppid)\n      if (isNTPic) {\n        let rkey = parsedUrl.searchParams.get('rkey')\n        if (rkey) {\n          return IMAGE_HTTP_HOST_NT + url\n        }\n        const rkeyData = await this.rkeyManager.getRkey()\n        rkey = imageAppid === '1406' ? rkeyData.private_rkey : rkeyData.group_rkey\n        return IMAGE_HTTP_HOST_NT + url + rkey\n      } else {\n        // 老的图片url，不需要rkey\n        return IMAGE_HTTP_HOST + url\n      }\n    } else if (fileMd5 || md5HexStr) {\n      // 没有url，需要自己拼接\n      return `${IMAGE_HTTP_HOST}/gchatpic_new/0/0-0-${(fileMd5 || md5HexStr)!.toUpperCase()}/0`\n    }\n    this.ctx.logger.error('图片url获取失败', element)\n    return ''\n  }\n\n  async downloadFileForModelId(peer: Peer, fileModelId: string, timeout = 2 * Time.minute) {\n    const data = await invoke<RichMediaDownloadCompleteNotify>(\n      'nodeIKernelRichMediaService/downloadFileForModelId',\n      [\n        peer,\n        [fileModelId],\n        '', // savePath\n      ],\n      {\n        resultCmd: ReceiveCmdS.MEDIA_DOWNLOAD_COMPLETE,\n        resultCb: payload => payload.fileModelId === fileModelId,\n        timeout,\n      },\n    )\n    return data.filePath\n  }\n\n  async ocrImage(path: string) {\n    return await invoke(\n      'nodeIKernelNodeMiscService/wantWinScreenOCR',\n      [\n        path,\n      ],\n      {\n        timeout: 2 * Time.minute,\n      },\n    )\n  }\n\n  async uploadRMFileWithoutMsg(filePath: string, bizType: RMBizType, peerUid: string) {\n    const data = await invoke<RichMediaUploadCompleteNotify>(\n      'nodeIKernelRichMediaService/uploadRMFileWithoutMsg',\n      [\n        {\n          filePath,\n          bizType,\n          peerUid,\n          useNTV2: true,\n        },\n      ],\n      {\n        resultCmd: ReceiveCmdS.MEDIA_UPLOAD_COMPLETE,\n        resultCb: payload => payload.filePath === filePath,\n        timeout: 10 * Time.second,\n      },\n    )\n    return data\n  }\n\n  async uploadFlashFile(title: string, filePaths: string[]) {\n    const res = await invoke('nodeIKernelFlashTransferService/createFlashTransferUploadTask',\n      [\n        new Date().getTime(),\n        {\n          'scene': 1,\n          'name': title,\n          'uploaders': [\n            {\n              'uin': selfInfo.uin,\n              'nickname': selfInfo.nick,\n              'uid': selfInfo.uid,\n              'sendEntrance': '',\n            },\n          ],\n          'permission': {},\n          'coverPath': '',\n          'paths': filePaths,\n          'excludePaths': [],\n          'expireLeftTime': 0,\n          'isNeedDelExif': true,\n          'coverOriginalInfos': [\n            {\n              'path': '',\n              'thumbnailPath': '',\n            },\n          ],\n          'uploadSceneType': 1,\n        },\n      ],\n    )\n    if (res.result !== 0) {\n      throw new Error(`创建闪传上传任务失败: ${res.result}`)\n    }\n    return res.createFlashTransferResult\n  }\n\n  async downloadFlashFile(fileSetId: string, sceneType: number = 1) {\n    const res = await invoke('nodeIKernelFlashTransferService/startFileSetDownload',\n      [\n        fileSetId,\n        sceneType,\n        { 'isIncludeCompressInnerFiles': false },\n      ],\n    )\n    if (res.result !== 0) {\n      throw new Error(`下载闪传文件失败: ${res.errMsg}`)\n    }\n  }\n\n  flashFileListCache = new Map<string, FlashFileListItem[]>()\n\n  async getFlashFileList(fileSetId: string, force = true) {\n    if (!force) {\n      const cachedList = this.flashFileListCache.get(fileSetId)\n      if (cachedList) {\n        return cachedList\n      }\n    }\n    const res = await invoke('nodeIKernelFlashTransferService/getFileList',\n      [\n        {\n          seq: 0,\n          fileSetId,\n          isUseCache: false,\n          sceneType: 1,\n          reqInfos: [\n            {\n              count: 18,\n              paginationInfo: {},\n              parentId: \"\",\n              reqIndexPath: \"\",\n              reqDepth: 1,\n              filterCondition: {\n                fileCategory: 0,\n                filterType: 0\n              },\n              sortConditions: [\n                {\n                  sortField: 0,\n                  sortOrder: 0\n                }\n              ],\n              isNeedPhysicalInfoReady: false\n            }\n          ]\n        },\n      ],\n    )\n    if (res.rsp.result !== 0) {\n      throw new Error(`获取闪传文件列表失败: ${res.rsp.errMs}`)\n    }\n    if (this.flashFileListCache.size > 100) {\n      const oldestKey = this.flashFileListCache.keys().next().value!\n      this.flashFileListCache.delete(oldestKey)\n    }\n    this.flashFileListCache.set(fileSetId, res.rsp.fileLists)\n    return res.rsp.fileLists\n  }\n\n  async getFlashFileSetIdByCode(code: string) {\n    // code 是 qfile.qq.com/q/ 后面的部分\n    const res = await invoke('nodeIKernelFlashTransferService/getFileSetIdByCode',\n      [code],\n    )\n    if (res.result !== 0) {\n      throw new Error(`获取闪传文件 fileSetId 失败: ${res.errMsg}`)\n    }\n    return res.fileSetId\n  }\n\n  flashFileInfoCache = new Map<string, FlashFileSetInfo>()\n\n  async getFlashFileInfo(fileSetId: string, force = true) {\n    if (!force) {\n      const cachedInfo = this.flashFileInfoCache.get(fileSetId)\n      if (cachedInfo) {\n        return cachedInfo\n      }\n    }\n    const res = await invoke('nodeIKernelFlashTransferService/getFileSet',\n      [\n        { seq: 0, fileSetId, isUseCache: false, isNoReqSvr: false, sceneType: 1 },\n      ])\n    if (res.result !== 0) {\n      throw new Error(`获取闪传文件信息失败: ${res.errMsg}`)\n    }\n    if (this.flashFileInfoCache.size > 100) {\n      const oldestKey = this.flashFileInfoCache.keys().next().value!\n      this.flashFileInfoCache.delete(oldestKey)\n    }\n    this.flashFileInfoCache.set(fileSetId, res.fileSet)\n    return res.fileSet\n  }\n}\n\nexport class NTQQFileCacheApi extends Service {\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntFileCacheApi', true)\n  }\n\n  async setCacheSilentScan(isSilent: boolean = true) {\n    return await invoke<GeneralCallResult>(NTMethod.CACHE_SET_SILENCE, [{ isSilent }])\n  }\n\n  getCacheSessionPathList() {\n    // return invoke<Array<{\n    //   key: string\n    //   value: string\n    // }>>(NTMethod.CACHE_PATH_SESSION, [])\n  }\n\n  scanCache() {\n    invoke<GeneralCallResult>(ReceiveCmdS.CACHE_SCAN_FINISH, [])\n    return invoke<CacheScanResult>(NTMethod.CACHE_SCAN, [], { timeout: 300 * Time.second })\n  }\n\n  getHotUpdateCachePath() {\n    // return invoke<string>(NTMethod.CACHE_PATH_HOT_UPDATE, [])\n  }\n\n  getDesktopTmpPath() {\n    // return invoke<string>(NTMethod.CACHE_PATH_DESKTOP_TEMP, [])\n  }\n\n  getFileCacheInfo(fileType: CacheFileType, pageSize: number = 1000, lastRecord?: CacheFileListItem) {\n    const _lastRecord = lastRecord ? lastRecord : { fileType: fileType }\n\n    return invoke<CacheFileList>(NTMethod.CACHE_FILE_GET, [{\n      fileType: fileType,\n      restart: true,\n      pageSize: pageSize,\n      order: 1,\n      lastRecord: _lastRecord,\n    }])\n  }\n\n  async clearChatCache(chats: ChatCacheListItemBasic[] = [], fileKeys: string[] = []) {\n    return await invoke<GeneralCallResult>(NTMethod.CACHE_CHAT_CLEAR, [{\n      chats,\n      fileKeys,\n    }])\n  }\n}\n\n","import { BidiMap } from '@/common/utils/table'\n\nexport const uidUinBidiMap =  new BidiMap<string, string>(-1)\n","import { CategoryFriend, SimpleInfo } from '../types'\nimport { ReceiveCmdS } from '../hook'\nimport { invoke, NTMethod } from '../ntcall'\nimport { Context, Service } from 'cordis'\nimport { uidUinBidiMap } from '@/ntqqapi/cache'\n\ndeclare module 'cordis' {\n  interface Context {\n    ntFriendApi: NTQQFriendApi\n  }\n}\n\nexport class NTQQFriendApi extends Service {\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntFriendApi', true)\n  }\n\n  async handleFriendRequest(friendUid: string, reqTime: string, accept: boolean) {\n    return await invoke(NTMethod.HANDLE_FRIEND_REQUEST, [{\n      friendUid,\n      reqTime,\n      accept,\n    },\n    ])\n  }\n\n  async getBuddyList(): Promise<SimpleInfo[]> {\n    const data = await invoke<SimpleInfo[]>(\n      'getBuddyList',\n      [],\n      {},\n    )\n    for (const item of data){\n      if (item.uid && item.uin) {\n        uidUinBidiMap.set(item.uid, item.uin);\n      }\n    }\n    return data\n  }\n\n  async getBuddyV2(refresh = false): Promise<SimpleInfo[]> {\n    const data = await this.getBuddyV2WithCate(false)\n    return data.flatMap((item: CategoryFriend) => item.buddyList)\n  }\n\n  async getBuddyV2WithCate(refresh = false): Promise<CategoryFriend[]> {\n    const categoryData = (await invoke<{data:CategoryFriend[]}>(\n      'nodeIKernelBuddyService/getBuddyListV2',\n      [refresh, 0],\n      {\n      },\n    )).data\n    const buddyList = await this.getBuddyList();\n    const buddyMap = new Map<string, SimpleInfo>();\n    for (const buddy of buddyList) {\n      buddyMap.set(buddy.uid!, buddy)\n    }\n    for (const category of categoryData) {\n      category.buddyList = []\n      for(const uid of category.buddyUids){\n        category.buddyList.push(buddyMap.get(uid)!)\n      }\n    }\n    return categoryData\n  }\n\n  async isBuddy(uid: string): Promise<boolean> {\n    return await invoke('nodeIKernelBuddyService/isBuddy', [uid])\n  }\n\n  async getBuddyRecommendContact(uin: string) {\n    const ret = await invoke('nodeIKernelBuddyService/getBuddyRecommendContactArkJson', [{ uin }])\n    return ret.arkMsg\n  }\n\n  async setBuddyRemark(uid: string, remark = '') {\n    return await invoke('nodeIKernelBuddyService/setBuddyRemark', [\n      { uid, remark },\n    ])\n  }\n\n  async delBuddy(friendUid: string) {\n    return await invoke('nodeIKernelBuddyService/delBuddy', [{\n      friendUid,\n      tempBlock: false,\n      tempBothDel: true,\n    },\n    ])\n  }\n\n  async setBuddyCategory(uid: string, categoryId: number) {\n    return await invoke('nodeIKernelBuddyService/setBuddyCategory', [uid, categoryId])\n  }\n}\n","import { ReceiveCmdS } from '../hook'\nimport {\n  GroupSimpleInfo,\n  GroupMember,\n  GroupMemberRole,\n  GroupNotifies,\n  GroupRequestOperateTypes,\n  GetFileListParam,\n  PublishGroupBulletinReq,\n  GroupAllInfo,\n  GroupFileInfo,\n  GroupBulletinListResult,\n  GroupMsgMask,\n  GroupNotify,\n} from '../types'\nimport { invoke, NTMethod } from '../ntcall'\nimport { Service, Context } from 'cordis'\nimport { Field } from 'minato'\nimport number = Field.number\nimport boolean = Field.boolean\nimport string = Field.string\nimport { uidUinBidiMap } from '@/ntqqapi/cache'\n\ndeclare module 'cordis' {\n  interface Context {\n    ntGroupApi: NTQQGroupApi\n  }\n}\n\nexport class NTQQGroupApi extends Service {\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntGroupApi', true)\n  }\n\n  async getGroups(): Promise<GroupSimpleInfo[]> {\n    const result = await invoke<[\n      updateType: number,\n      groupList: GroupSimpleInfo[]\n    ]>(\n      'nodeIKernelGroupService/getGroupList',\n      [true],\n      {\n        resultCmd: 'nodeIKernelGroupListener/onGroupListUpdate',\n      },\n    )\n    return result[1]\n  }\n\n  async getGroupMembers(groupCode: string, force: boolean = true): Promise<Map<string, GroupMember>> {\n    const data = await invoke(NTMethod.GROUP_MEMBERS, [groupCode, force])\n    if (data.errCode !== 0) {\n      throw new Error('获取群成员列表出错,' + data.errMsg)\n    }\n    const infos: Map<string, GroupMember> = data.result.infos\n    for(const [uid, member] of infos){\n      uidUinBidiMap.set(uid, member.uin)\n    }\n    return infos\n  }\n\n  async getGroupMember(groupCode: string, uid: string, forceUpdate = false) {\n    const data = await invoke<[\n      groupCode: string,\n      unknown: number,\n      members: Map<string, GroupMember>\n    ]>(\n      'nodeIKernelGroupService/getMemberInfo',\n      [\n        groupCode,\n        [uid],\n        forceUpdate,\n      ],\n      {\n        resultCmd: 'nodeIKernelGroupListener/onMemberInfoChange',\n        resultCb: result=> {\n          return result[0] === groupCode && result[2].has(uid)\n        }\n      },\n    )\n    return data[2].get(uid)!\n  }\n\n  async getSingleScreenNotifies(doubt: boolean, number: number, startSeq = '') {\n    const data = await invoke<[boolean, string, GroupNotify[]]>(\n      'nodeIKernelGroupService/getSingleScreenNotifies',\n      [doubt, startSeq, number],\n      {\n        resultCmd: ReceiveCmdS.GROUP_NOTIFY,\n      },\n    )\n    return data[2]\n  }\n\n  async getGroupRequest(): Promise<{ notifies: GroupNotify[], normalCount: number }> {\n    const normal = await this.getSingleScreenNotifies(false, 50)\n    const normalCount = normal.length\n    const doubt = await this.getSingleScreenNotifies(true, 50)\n    normal.push(...doubt)\n    return { notifies: normal, normalCount }\n  }\n\n  async handleGroupRequest(flag: string, operateType: GroupRequestOperateTypes, reason?: string) {\n    const flagitem = flag.split('|')\n    const groupCode = flagitem[0]\n    const seq = flagitem[1]\n    const type = parseInt(flagitem[2])\n    const doubt = flagitem[3] === '1'\n    return await invoke(NTMethod.HANDLE_GROUP_REQUEST, [\n      doubt,\n      {\n        operateType,\n        targetMsg: {\n          seq,\n          type,\n          groupCode,\n          postscript: reason || ' ', // 仅传空值可能导致处理失败，故默认给个空格\n        },\n      },\n    ])\n  }\n\n  async quitGroup(groupCode: string) {\n    return await invoke(NTMethod.QUIT_GROUP, [groupCode])\n  }\n\n  async kickMember(groupCode: string, kickUids: string[], refuseForever = false, kickReason = '') {\n    return await invoke(NTMethod.KICK_MEMBER, [groupCode, kickUids, refuseForever, kickReason])\n  }\n\n  /** timeStamp为秒数, 0为解除禁言 */\n  async banMember(groupCode: string, memList: Array<{ uid: string, timeStamp: number }>) {\n    return await invoke(NTMethod.MUTE_MEMBER, [groupCode, memList])\n  }\n\n  async banGroup(groupCode: string, shutUp: boolean) {\n    return await invoke(NTMethod.MUTE_GROUP, [groupCode, shutUp])\n  }\n\n  async setMemberCard(groupCode: string, memberUid: string, cardName: string) {\n    return await invoke(NTMethod.SET_MEMBER_CARD, [groupCode, memberUid, cardName])\n  }\n\n  async setMemberRole(groupCode: string, memberUid: string, role: GroupMemberRole) {\n    return await invoke(NTMethod.SET_MEMBER_ROLE, [groupCode, memberUid, role])\n  }\n\n  async setGroupName(groupCode: string, groupName: string) {\n    return await invoke(NTMethod.SET_GROUP_NAME, [groupCode, groupName, false])\n  }\n\n  async getGroupRemainAtTimes(groupCode: string) {\n    return await invoke(NTMethod.GROUP_AT_ALL_REMAIN_COUNT, [groupCode])\n  }\n\n  async removeGroupEssence(groupCode: string, msgId: string) {\n    const ntMsgApi = this.ctx.get('ntMsgApi')!\n    const data = await ntMsgApi.getMsgHistory({ chatType: 2, guildId: '', peerUid: groupCode }, msgId, 1, false)\n    return await invoke('nodeIKernelGroupService/removeGroupEssence', [{\n      groupCode: groupCode,\n      msgRandom: Number(data?.msgList[0].msgRandom),\n      msgSeq: Number(data?.msgList[0].msgSeq),\n    }])\n  }\n\n  async addGroupEssence(groupCode: string, msgId: string) {\n    const ntMsgApi = this.ctx.get('ntMsgApi')!\n    const data = await ntMsgApi.getMsgHistory({ chatType: 2, guildId: '', peerUid: groupCode }, msgId, 1, false)\n    return await invoke('nodeIKernelGroupService/addGroupEssence', [\n      {\n        groupCode: groupCode,\n        msgRandom: Number(data?.msgList[0].msgRandom),\n        msgSeq: Number(data?.msgList[0].msgSeq),\n\n      }])\n  }\n\n  async createGroupFileFolder(groupId: string, folderName: string) {\n    return await invoke('nodeIKernelRichMediaService/createGroupFolder', [groupId, folderName])\n  }\n\n  async deleteGroupFileFolder(groupId: string, folderId: string) {\n    return await invoke('nodeIKernelRichMediaService/deleteGroupFolder', [groupId, folderId])\n  }\n\n  async deleteGroupFile(groupId: string, fileIdList: string[], busIdList: number[]) {\n    return await invoke('nodeIKernelRichMediaService/deleteGroupFile', [groupId, busIdList, fileIdList])\n  }\n\n  async getGroupFileList(groupId: string, fileListForm: GetFileListParam) {\n    const data = await invoke<GroupFileInfo>(\n      'nodeIKernelRichMediaService/getGroupFileList',\n      [\n        groupId,\n        fileListForm,\n      ],\n      {\n        resultCmd: 'nodeIKernelMsgListener/onGroupFileInfoUpdate',\n        resultCb: (payload, reqId) => {\n          return payload.reqId === reqId\n        },\n      },\n    )\n    return data\n  }\n\n  async publishGroupBulletin(groupCode: string, req: PublishGroupBulletinReq) {\n    const ntUserApi = this.ctx.get('ntUserApi')!\n    const psKey = (await ntUserApi.getPSkey(['qun.qq.com'])).domainPskeyMap.get('qun.qq.com')!\n    return await invoke('nodeIKernelGroupService/publishGroupBulletin', [groupCode, psKey, req])\n  }\n\n  async uploadGroupBulletinPic(groupCode: string, path: string) {\n    const ntUserApi = this.ctx.get('ntUserApi')!\n    const psKey = (await ntUserApi.getPSkey(['qun.qq.com'])).domainPskeyMap.get('qun.qq.com')!\n    return await invoke('nodeIKernelGroupService/uploadGroupBulletinPic', [groupCode, psKey, path])\n  }\n\n  async getGroupRecommendContact(groupCode: string) {\n    const ret = await invoke('nodeIKernelGroupService/getGroupRecommendContactArkJson', [{ groupCode }])\n    return ret.arkJson\n  }\n\n  async queryCachedEssenceMsg(groupCode: string, msgSeq = '0', msgRandom = '0') {\n    return await invoke('nodeIKernelGroupService/queryCachedEssenceMsg', [\n      {\n        groupCode,\n        msgSeq: +msgSeq,\n        msgRandom: +msgRandom,\n      },\n    ])\n  }\n\n  async getGroupHonorList(groupCode: string) {\n    // 还缺点东西\n    return await invoke('nodeIKernelGroupService/getGroupHonorList', [{\n      req: {\n        groupCode: [+groupCode],\n      },\n    }])\n  }\n\n  async getGroupAllInfo(groupCode: string) {\n    return await invoke<GroupAllInfo>(\n      'nodeIKernelGroupService/getGroupAllInfo',\n      [\n        groupCode,\n        4,\n      ],\n      {\n        resultCmd: 'nodeIKernelGroupListener/onGroupAllInfoChange',\n        resultCb: payload => {\n          return payload.groupCode === groupCode\n        },\n      },\n    )\n  }\n\n  async getGroupBulletinList(groupCode: string) {\n    const ntUserApi = this.ctx.get('ntUserApi')!\n    const psKey = (await ntUserApi.getPSkey(['qun.qq.com'])).domainPskeyMap.get('qun.qq.com')!\n    const result = await invoke<[\n      groupCode: string,\n      context: string,\n      result: GroupBulletinListResult\n    ]>(\n      'nodeIKernelGroupService/getGroupBulletinList',\n      [\n        groupCode,\n        psKey,\n        '',\n        {\n          startIndex: -1,\n          num: 20,\n          needInstructionsForJoinGroup: 1,\n          needPublisherInfo: 1,\n        },\n      ],\n      {\n        resultCmd: 'nodeIKernelGroupListener/onGetGroupBulletinListResult',\n        resultCb: payload => payload[0] === groupCode,\n      },\n    )\n    return result[2]\n  }\n\n  async setGroupAvatar(groupCode: string, path: string) {\n    return await invoke('nodeIKernelGroupService/setHeader', [path, groupCode])\n  }\n\n  async searchMember(groupCode: string, keyword: string) {\n    const sceneId = await invoke(NTMethod.GROUP_MEMBER_SCENE, [{\n      groupCode,\n      scene: 'groupMemberList_MainWindow',\n    }])\n    const data = await invoke<{\n      sceneId: string\n      keyword: string\n      infos: Map<string, GroupMember>\n    }>(\n      'nodeIKernelGroupService/searchMember',\n      [{ sceneId, keyword }],\n      {\n        resultCmd: 'nodeIKernelGroupListener/onSearchMemberChange',\n        resultCb: payload => {\n          return payload.sceneId === sceneId && payload.keyword === keyword\n        },\n      },\n    )\n    return data.infos\n  }\n\n  async getGroupFileCount(groupId: string) {\n    return await invoke(\n      'nodeIKernelRichMediaService/batchGetGroupFileCount',\n      [{ groupIds: [groupId] }],\n    )\n  }\n\n  async getGroupFileSpace(groupId: string) {\n    return await invoke(\n      'nodeIKernelRichMediaService/getGroupSpace',\n      [{ groupId }],\n    )\n  }\n\n  async setGroupMsgMask(groupCode: string, msgMask: GroupMsgMask) {\n    return await invoke('nodeIKernelGroupService/setGroupMsgMask', [groupCode, msgMask])\n  }\n\n  async setGroupRemark(groupCode: string, groupRemark = '') {\n    return await invoke('nodeIKernelGroupService/modifyGroupRemark', [groupCode, groupRemark])\n  }\n\n  async moveGroupFile(groupId: string, fileIdList: string[], curFolderId: string, dstFolderId: string) {\n    return await invoke('nodeIKernelRichMediaService/moveGroupFile', [{\n      groupId,\n      fileIdList,\n      curFolderId,\n      dstFolderId,\n      busIdList: [102],\n    }])\n  }\n\n  async getGroupShutUpMemberList(groupCode: string) {\n    const res = await invoke<[\n      groupCode: string,\n      memList: GroupMember[]\n    ]>(\n      'nodeIKernelGroupService/getGroupShutUpMemberList',\n      [groupCode],\n      {\n        resultCmd: 'nodeIKernelGroupListener/onShutUpMemberListChanged',\n        resultCb: payload => payload[0] === groupCode,\n      },\n    )\n    return res[1]\n  }\n\n  async renameGroupFolder(groupId: string, folderId: string, newFolderName: string) {\n    return await invoke('nodeIKernelRichMediaService/renameGroupFolder', [\n      groupId,\n      folderId,\n      newFolderName,\n    ])\n  }\n}\n","import { invoke, NTMethod } from '../ntcall'\nimport { ChatType, MessageElement, Peer, RawMessage, SendMessageElement } from '../types'\nimport { Context, Service } from 'cordis'\nimport { selfInfo } from '@/common/globalVars'\nimport { ReceiveCmdS } from '@/ntqqapi/hook'\n\ndeclare module 'cordis' {\n  interface Context {\n    ntMsgApi: NTQQMsgApi\n  }\n}\n\nexport class NTQQMsgApi extends Service {\n  static inject = ['ntUserApi']\n\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntMsgApi', true)\n  }\n\n  async getTempChatInfo(chatType: ChatType, peerUid: string) {\n    return await invoke('nodeIKernelMsgService/getTempChatInfo', [chatType, peerUid])\n  }\n\n  async setEmojiLike(peer: Peer, msgSeq: string, emojiId: string, setEmoji: boolean) {\n    // nt_qq/global/nt_data/Emoji/emoji-resource/sysface_res/apng/ 下可以看到所有QQ表情预览\n    // nt_qq/global/nt_data/Emoji/emoji-resource/face_config.json 里面有所有表情的id, 自带表情id是QSid, 标准emoji表情id是QCid\n    // 其实以官方文档为准是最好的，https://bot.q.qq.com/wiki/develop/api-v2/openapi/emoji/model.html#EmojiType\n    const emojiType = emojiId.length > 3 ? '2' : '1'\n    return await invoke(NTMethod.EMOJI_LIKE, [peer, msgSeq, emojiId, emojiType, setEmoji])\n  }\n\n  async getMultiMsg(peer: Peer, rootMsgId: string, parentMsgId: string) {\n    return await invoke(NTMethod.GET_MULTI_MSG, [peer, rootMsgId, parentMsgId])\n  }\n\n  async activateChat(peer: Peer) {\n    return await invoke(NTMethod.ACTIVE_CHAT_PREVIEW, [peer, 0])\n  }\n\n  async activateChatAndGetHistory(peer: Peer, cnt: number) {\n    // 消息从旧到新\n    return await invoke(NTMethod.ACTIVE_CHAT_HISTORY, [peer, cnt, '0', true])\n  }\n\n  async getAioFirstViewLatestMsgs(peer: Peer, cnt: number) {\n    return await invoke('nodeIKernelMsgService/getAioFirstViewLatestMsgs', [peer, cnt])\n  }\n\n  async getMsgsByMsgId(peer: Peer, msgIds: string[]) {\n    if (!peer) throw new Error('peer is not allowed')\n    if (!msgIds) throw new Error('msgIds is not allowed')\n    return await invoke('nodeIKernelMsgService/getMsgsByMsgId', [peer, msgIds])\n  }\n\n  async getMsgHistory(peer: Peer, msgId: string, cnt: number, queryOrder = false) {\n    // 默认情况下消息时间从新到旧\n    return await invoke(NTMethod.HISTORY_MSG, [peer, msgId, cnt, queryOrder])\n  }\n\n  async recallMsg(peer: Peer, msgIds: string[]) {\n    return await invoke(NTMethod.RECALL_MSG, [peer, msgIds])\n  }\n\n  async sendMsg(peer: Peer, msgElements: SendMessageElement[], timeout = 10000) {\n    const uniqueId = await this.generateMsgUniqueId(peer.chatType)\n    const msgAttributeInfos = new Map()\n    msgAttributeInfos.set(0, {\n      attrType: 0,\n      attrId: uniqueId,\n      vasMsgInfo: {\n        msgNamePlateInfo: {},\n        bubbleInfo: {},\n        avatarPendantInfo: {},\n        vasFont: {},\n        iceBreakInfo: {},\n      },\n    })\n\n    let sentMsgId: string\n    const data = await invoke<RawMessage[]>(\n      'nodeIKernelMsgService/sendMsg',\n      [\n        '0',\n        peer,\n        msgElements,\n        msgAttributeInfos,\n      ],\n      {\n        resultCmd: 'nodeIKernelMsgListener/onMsgInfoListUpdate',\n        resultCb: payload => {\n          for (const msgRecord of payload) {\n            if (msgRecord.msgAttrs.get(0)?.attrId === uniqueId && msgRecord.sendStatus === 2) {\n              sentMsgId = msgRecord.msgId\n              return true\n            }\n          }\n          return false\n        },\n        timeout,\n      },\n    )\n\n    return data.find(msgRecord => msgRecord.msgId === sentMsgId)\n  }\n\n  async forwardMsg(srcPeer: Peer, destPeer: Peer, msgIds: string[]) {\n    const uniqueId = await this.generateMsgUniqueId(destPeer.chatType)\n    destPeer.guildId = uniqueId\n    const commentElements: unknown = []\n    const msgAttributeInfos = new Map()\n    const data = await invoke<RawMessage[]>(\n      'nodeIKernelMsgService/forwardMsgWithComment',\n      [\n        msgIds,\n        srcPeer,\n        [destPeer],\n        commentElements,\n        msgAttributeInfos,\n      ],\n      {\n        resultCmd: 'nodeIKernelMsgListener/onMsgInfoListUpdate',\n        resultCb: payload => {\n          for (const msgRecord of payload) {\n            if (msgRecord.guildId === uniqueId && msgRecord.sendStatus === 2) {\n              return true\n            }\n          }\n          return false\n        },\n        timeout: 3000,\n      },\n    )\n    delete destPeer.guildId\n    return data.filter(msgRecord => msgRecord.guildId === uniqueId)\n  }\n\n  async multiForwardMsg(srcPeer: Peer, destPeer: Peer, msgIds: string[]): Promise<RawMessage> {\n    const senderShowName = await this.ctx.ntUserApi.getSelfNick(false)\n    const msgInfos = msgIds.map(id => {\n      return { msgId: id, senderShowName }\n    })\n    const selfUid = selfInfo.uid\n    const commentElements: unknown[] = []\n    const msgAttributeInfos = new Map()\n    const data = await invoke<RawMessage[]>(\n      'nodeIKernelMsgService/multiForwardMsgWithComment',\n      [\n        msgInfos,\n        srcPeer,\n        destPeer,\n        commentElements,\n        msgAttributeInfos,\n      ],\n      {\n        resultCmd: 'nodeIKernelMsgListener/onMsgInfoListUpdate',\n        resultCb: payload => {\n          for (const msgRecord of payload) {\n            if (\n              msgRecord.msgType === 11 &&\n              msgRecord.subMsgType === 7 &&\n              msgRecord.peerUid === destPeer.peerUid &&\n              msgRecord.senderUid === selfUid\n            ) {\n              const element = msgRecord.elements[0]\n              const data = JSON.parse(element.arkElement!.bytesData)\n              if (data.app !== 'com.tencent.multimsg' || !data.meta.detail.resid) {\n                continue\n              }\n              return true\n            }\n          }\n          return false\n        },\n      },\n    )\n    return data.find(msgRecord => {\n      const { arkElement } = msgRecord.elements[0]\n      if (arkElement?.bytesData.includes('com.tencent.multimsg')) {\n        return true\n      }\n    })!\n  }\n\n  async getSingleMsg(peer: Peer, msgSeq: string) {\n    return await invoke('nodeIKernelMsgService/getSingleMsg', [peer, msgSeq])\n  }\n\n  async queryFirstMsgBySeq(peer: Peer, msgSeq: string) {\n    return await invoke('nodeIKernelMsgService/queryMsgsWithFilterEx', [\n      '0', // msgId\n      '0', // msgTime\n      msgSeq,\n      {\n        chatInfo: peer,\n        filterMsgType: [],\n        filterSendersUid: [],\n        filterMsgToTime: '0',\n        filterMsgFromTime: '0',\n        isReverseOrder: true,\n        isIncludeCurrent: true,\n        pageLimit: 1,\n      },\n    ])\n  }\n\n  async queryMsgsWithFilterExBySeq(peer: Peer, msgSeq: string, filterMsgTime: string, filterSendersUid: string[] = []) {\n    return await invoke('nodeIKernelMsgService/queryMsgsWithFilterEx', [\n      '0',\n      '0',\n      msgSeq,\n      {\n        chatInfo: peer,\n        filterMsgType: [],\n        filterSendersUid,\n        filterMsgToTime: filterMsgTime,\n        filterMsgFromTime: filterMsgTime,\n        isIncludeCurrent: true,\n        pageLimit: 1,\n      },\n    ])\n  }\n\n  async setMsgRead(peer: Peer) {\n    return await invoke('nodeIKernelMsgService/setMsgRead', [peer])\n  }\n\n  async getMsgEmojiLikesList(peer: Peer, msgSeq: string, emojiId: string, emojiType: string, count: number) {\n    return await invoke('nodeIKernelMsgService/getMsgEmojiLikesList', [\n      peer,\n      msgSeq,\n      emojiId,\n      emojiType,\n      count,\n    ])\n  }\n\n  async fetchFavEmojiList(count: number) {\n    return await invoke('nodeIKernelMsgService/fetchFavEmojiList', [\n      '', // resId\n      count,\n      true, // backwardFetch\n      true, // forceRefresh\n    ])\n  }\n\n  async generateMsgUniqueId(chatType: number) {\n    const time = await this.getServerTime()\n    const uniqueId = await invoke('nodeIKernelMsgService/generateMsgUniqueId', [chatType, time])\n    if (typeof uniqueId === 'string') {\n      return uniqueId\n    } else {\n      const random = Math.trunc(Math.random() * 100)\n      return `${Date.now()}${random}`\n    }\n  }\n\n  async queryMsgsById(chatType: ChatType, msgId: string) {\n    const msgTime = this.getMsgTimeFromId(msgId)\n    return await invoke('nodeIKernelMsgService/queryMsgsWithFilterEx', [{\n      msgId,\n      msgTime: '0',\n      msgSeq: '0',\n      params: {\n        chatInfo: {\n          peerUid: '',\n          chatType,\n        },\n        filterMsgToTime: msgTime,\n        filterMsgFromTime: msgTime,\n        isIncludeCurrent: true,\n        pageLimit: 1,\n      },\n    }])\n  }\n\n  getMsgTimeFromId(msgId: string) {\n    // 小概率相差1毫秒\n    return String(BigInt(msgId) >> 32n)\n  }\n\n  async getServerTime() {\n    return await invoke('nodeIKernelMSFService/getServerTime', [])\n  }\n\n  async fetchUnitedCommendConfig(groups: string[]) {\n    return await invoke('nodeIKernelUnitedConfigService/fetchUnitedCommendConfig', [{ groups }])\n  }\n\n  async getMsgsBySeqAndCount(peer: Peer, msgSeq: string, cnt: number, queryOrder: boolean, includeDeleteMsg: boolean) {\n    try {\n      return await invoke('nodeIKernelMsgService/getMsgsBySeqAndCount', [\n          peer,\n          msgSeq,\n          cnt,\n          queryOrder,\n          includeDeleteMsg,\n        ],\n        {\n          timeout: Math.max(1000 * cnt, 3000),\n        })\n    } catch (e) {\n      this.ctx.logger.error('getMsgsBySeqAndCount error', e)\n      return { msgList: [] }\n    }\n  }\n\n  async getSourceOfReplyMsgByClientSeqAndTime(peer: Peer, clientSeq: string, msgTime: string, sourceMsgIdInRecords: string) {\n    // sourceMsgIdInRecord\n    return await invoke('nodeIKernelMsgService/getSourceOfReplyMsgByClientSeqAndTime', [peer, clientSeq, msgTime, sourceMsgIdInRecords])\n  }\n\n  async translatePtt2Text(msgId: string, peer: Peer, voiceMsgElement: MessageElement) {\n    const res = await invoke('nodeIKernelMsgService/translatePtt2Text', [msgId, peer, voiceMsgElement],\n      {\n        resultCmd: ReceiveCmdS.UPDATE_MSG,\n        resultCb: (msgList: RawMessage[]) => {\n          const voiceMsg = msgList[0]\n          if (voiceMsg && voiceMsg.msgId === msgId && voiceMsg.elements.length > 0) {\n            const pttElement = voiceMsg.elements[0].pttElement\n            if (pttElement && pttElement.text) {\n              return true\n            }\n          }\n          return false\n        },\n      },\n    )\n    return res[0]?.elements[0]?.pttElement?.text || ''\n  }\n}\n","import https from 'node:https'\nimport http from 'node:http'\nimport { Dict } from 'cosmokit'\n\nexport class RequestUtil {\n  // 适用于获取服务器下发cookies时获取，仅GET\n  static async HttpsGetCookies(url: string): Promise<{ [key: string]: string }> {\n    const client = url.startsWith('https') ? https : http\n    return new Promise((resolve, reject) => {\n      client.get(url, (res) => {\n        let cookies: { [key: string]: string } = {}\n        const handleRedirect = (res: http.IncomingMessage) => {\n          if (res.statusCode === 301 || res.statusCode === 302) {\n            if (res.headers.location) {\n              const redirectUrl = new URL(res.headers.location, url)\n              RequestUtil.HttpsGetCookies(redirectUrl.href).then((redirectCookies) => {\n                // 合并重定向过程中的cookies\n                //log('redirectCookies', redirectCookies)\n                cookies = { ...cookies, ...redirectCookies }\n                resolve(cookies)\n              }).catch(reject)\n            } else {\n              resolve(cookies)\n            }\n          } else {\n            resolve(cookies)\n          }\n        }\n        res.on('data', () => { }) // Necessary to consume the stream\n        res.on('end', () => {\n          handleRedirect(res)\n        })\n        if (res.headers['set-cookie']) {\n          //log('set-cookie', url, res.headers['set-cookie'])\n          res.headers['set-cookie'].forEach((cookie) => {\n            const parts = cookie.split(';')[0].split('=')\n            const key = parts[0]\n            const value = parts[1]\n            if (key && value && key.length > 0 && value.length > 0) {\n              cookies[key] = value\n            }\n          })\n        }\n      }).on('error', (err) => {\n        reject(err)\n      })\n    })\n  }\n\n  // 请求和回复都是JSON data传原始内容 自动编码json\n  static async HttpGetJson<T>(url: string, method: string = 'GET', data?: unknown, headers: Record<string, string> = {}, isJsonRet: boolean = true, isArgJson: boolean = true): Promise<T> {\n    const option = new URL(url)\n    const protocol = url.startsWith('https://') ? https : http\n    const options = {\n      hostname: option.hostname,\n      port: option.port,\n      path: option.href,\n      method: method,\n      headers: headers\n    }\n    return new Promise((resolve, reject) => {\n      const req = protocol.request(options, (res: Dict) => {\n        let responseBody = ''\n        res.on('data', (chunk: string | Buffer) => {\n          responseBody += chunk.toString()\n        })\n\n        res.on('end', () => {\n          try {\n            if (res.statusCode && res.statusCode >= 200 && res.statusCode < 300) {\n              if (isJsonRet) {\n                const responseJson = JSON.parse(responseBody)\n                resolve(responseJson as T)\n              } else {\n                resolve(responseBody as T)\n              }\n            } else {\n              reject(new Error(`Unexpected status code: ${res.statusCode}`))\n            }\n          } catch (parseError) {\n            reject(parseError)\n          }\n        })\n      })\n\n      req.on('error', (error) => {\n        reject(error)\n      })\n      if (method === 'POST' || method === 'PUT' || method === 'PATCH') {\n        if (isArgJson) {\n          req.write(JSON.stringify(data))\n        } else {\n          req.write(data)\n        }\n      }\n      req.end()\n    })\n  }\n\n  // 请求返回都是原始内容\n  static async HttpGetText(url: string, method: string = 'GET', data?: unknown, headers: Record<string, string> = {}) {\n    return this.HttpGetJson<string>(url, method, data, headers, false, false)\n  }\n}\n","import { MiniProfile, ProfileBizType, SimpleInfo, UserDetailInfoV2, UserDetailSource } from '../types'\nimport { invoke } from '../ntcall'\nimport { RequestUtil } from '@/common/utils/request'\nimport { Time } from 'cosmokit'\nimport { Context, Service } from 'cordis'\nimport { selfInfo } from '@/common/globalVars'\nimport { uidUinBidiMap } from '@/ntqqapi/cache'\nimport { ReceiveCmdS } from '@/ntqqapi/hook'\nimport { Field } from 'minato'\nimport string = Field.string\n\ndeclare module 'cordis' {\n  interface Context {\n    ntUserApi: NTQQUserApi\n  }\n}\n\nexport class NTQQUserApi extends Service {\n  static inject = ['ntFriendApi', 'ntGroupApi']\n\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntUserApi', true)\n  }\n\n  async setSelfAvatar(path: string) {\n    return await invoke(\n      'nodeIKernelProfileService/setHeader',\n      [path],\n      {\n        timeout: 10 * Time.second, // 10秒不一定够？\n      },\n    )\n  }\n\n  async getUidByUin(uin: string, groupCode?: string) {\n    let uid = uidUinBidiMap.getKey(uin)\n    if (uid) return uid\n    const funcs = [\n      async ()=>{\n        return (await invoke('nodeIKernelUixConvertService/getUid', [[uin]]))?.uidInfo.get(uin)\n      },\n      async ()=>{\n        return (await invoke('nodeIKernelGroupService/getUidByUins', [[uin]])).uids.get(uin)\n      },\n      async ()=>{\n        return (await invoke('nodeIKernelProfileService/getUidByUin', ['FriendsServiceImpl', [uin]]))?.get(uin)\n      },\n      async ()=>{\n        return (await this.getUserDetailInfoByUin(uin)).detail!.uid\n      }\n    ]\n\n    for(const f of funcs) {\n      try {\n        const uid = await f()\n        if (uid) {\n          uidUinBidiMap.set(uid, uin)\n          return uid\n        }\n      } catch (e) {\n        this.ctx.logger.error('get uid by uin filed', e)\n      }\n    }\n    return ''\n  }\n\n  async getUserDetailInfoByUin(uin: string) {\n    return await invoke('nodeIKernelProfileService/getUserDetailInfoByUin', [uin])\n  }\n\n  async getUinByUid(uid: string, groupCode?: string): Promise<string> {\n\n    let uin = uidUinBidiMap.get(uid)\n    if (uin)\n      return uin\n\n    if (groupCode) {\n      try {\n        await this.ctx.ntGroupApi.getGroupMembers(groupCode)\n        uin = uidUinBidiMap.get(uid)\n        if (uin) return uin\n      } catch (e) {\n\n      }\n    }\n    const funcs = [\n      async () => {\n        const uin = (await invoke('nodeIKernelUixConvertService/getUin', [[uid]])).uinInfo.get(uid) || ''\n        this.ctx.logger.info('nodeIKernelUixConvertService/getUin', uin)\n        return uin\n      },\n      async () => {\n        const uin = (await this.fetchUserDetailInfo(uid))?.uin\n        this.ctx.logger.info('fetchUserDetailInfo', uin)\n        return uin\n      },\n    ]\n\n    for(const f of funcs) {\n      try {\n        const result = await f()\n        if (result) {\n          uidUinBidiMap.set(uid, result)\n          return result\n        }\n      } catch (e) {\n        this.ctx.logger.error('get uin filed', e)\n      }\n    }\n\n    return ''\n  }\n\n  // 这个会从服务器拉取，比较可靠\n  async fetchUserDetailInfo(uid: string) {\n    const result = await invoke<{detail: Map<string, UserDetailInfoV2>}>(\n      'nodeIKernelProfileService/fetchUserDetailInfo',\n      [\n        'BuddyProfileStore', // callFrom\n        [uid],\n        UserDetailSource.KSERVER, // source\n        [ProfileBizType.KALL], //bizList\n      ],\n    )\n    return result.detail.get(uid)\n  }\n\n  async getUserDetailInfoWithBizInfo(uid: string): Promise<SimpleInfo> {\n    const result = await invoke<{ simpleInfo: SimpleInfo }>(\n      'nodeIKernelProfileService/getUserDetailInfoWithBizInfo',\n      [\n        uid,\n        [0],\n      ],\n      {\n        resultCmd: 'nodeIKernelProfileListener/onUserDetailInfoChanged',\n        resultCb: payload => payload.simpleInfo.uid === uid,\n      },\n    )\n    return result.simpleInfo\n  }\n\n  async getUserSimpleInfo(uid: string, force = true): Promise<SimpleInfo> {\n    return await this.getUserDetailInfoWithBizInfo(uid)\n    // const data = await invoke<Map<string, SimpleInfo>>(\n    //   'nodeIKernelProfileService/getUserSimpleInfo',\n    //   [\n    //     [uid],\n    //     force,\n    //   ],\n    //   {\n    //     resultCmd: ReceiveCmdS.USER_INFO,\n    //   },\n    // )\n    // return data.get(uid)?.coreInfo\n  }\n\n  async getCoreAndBaseInfo(uids: string[]) {\n    return await invoke(\n      'nodeIKernelProfileService/getCoreAndBaseInfo',\n      [\n        uids,\n        'nodeStore',\n      ],\n    )\n  }\n\n  async getBuddyNick(uid: string): Promise<string> {\n    const data = await invoke<Map<string, string>>('nodeIKernelBuddyService/getBuddyNick', [[uid]])\n    return data.get(uid) || ''\n  }\n\n  async getCookies(domain: string) {\n    const clientKeyData = await this.forceFetchClientKey()\n    if (clientKeyData?.result !== 0) {\n      throw new Error('获取clientKey失败')\n    }\n    const uin = selfInfo.uin\n    const requestUrl = 'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=' + uin + '&clientkey=' + clientKeyData.clientKey + '&u1=https%3A%2F%2F' + domain + '%2F' + uin + '%2Finfocenter&keyindex=19%27'\n    const cookies: { [key: string]: string } = await RequestUtil.HttpsGetCookies(requestUrl)\n    return cookies\n  }\n\n  async getPSkey(domains: string[]) {\n    return await invoke('nodeIKernelTipOffService/getPskey', [\n      domains,\n      true, // isFromNewPCQQ\n    ])\n  }\n\n  async like(uid: string, count = 1) {\n    return await invoke(\n      'nodeIKernelProfileLikeService/setBuddyProfileLike',\n      [{\n\n        friendUid: uid,\n        sourceId: 71,\n        doLikeCount: count,\n        doLikeTollCount: 0,\n      }],\n    )\n  }\n\n\n  async forceFetchClientKey() {\n    return await invoke('nodeIKernelTicketService/forceFetchClientKey', [{ url: '' }])\n  }\n\n  async getSelfNick(refresh = true) {\n    if ((refresh || !selfInfo.nick) && selfInfo.uid) {\n      // const data = await this.getUserSimpleInfo(selfInfo.uid, refresh)\n      selfInfo.nick = await this.getBuddyNick(selfInfo.uid)\n    }\n    return selfInfo.nick\n  }\n\n  async setSelfStatus(status: number, extStatus: number, batteryStatus: number) {\n    return await invoke('nodeIKernelMsgService/setStatus', [\n      {\n        status,\n        extStatus,\n        batteryStatus,\n      },\n    ])\n  }\n\n  async getProfileLike(uid: string, start = 0, limit = 20) {\n    return await invoke('nodeIKernelProfileLikeService/getBuddyProfileLike', [\n      {\n        friendUids: [uid],\n        basic: 1,\n        vote: 0,\n        favorite: 1,\n        userProfile: 1,\n        type: 3,\n        start,\n        limit,\n      },\n    ])\n  }\n\n  async getProfileLikeMe(uid: string, start = 0, limit = 20) {\n    return await invoke('nodeIKernelProfileLikeService/getBuddyProfileLike', [\n      {\n        friendUids: [uid],\n        basic: 1,\n        vote: 1,\n        favorite: 0,\n        userProfile: 1,\n        type: 2,\n        start,\n        limit,\n      },\n    ])\n  }\n\n\n  async getRobotUinRange() {\n    const data = await invoke(\n      'nodeIKernelRobotService/getRobotUinRange',\n      [\n        {\n          justFetchMsgConfig: '1',\n          type: 1,\n          version: 0,\n          aioKeywordVersion: 0,\n        },\n      ],\n    )\n    return data.response.robotUinRanges\n  }\n\n  async quitAccount() {\n    return await invoke(\n      'quitAccount',\n      [],\n    )\n  }\n\n  async modifySelfProfile(profile: MiniProfile) {\n    return await invoke('nodeIKernelProfileService/modifyDesktopMiniProfile', [profile])\n  }\n\n  async getRecentContactListSnapShot(count: number) {\n    return await invoke('nodeIKernelRecentContactService/getRecentContactListSnapShot', [count])\n  }\n}\n","import { RequestUtil } from '@/common/utils/request'\nimport { Service, Context } from 'cordis'\nimport { Dict } from 'cosmokit'\n\ndeclare module 'cordis' {\n  interface Context {\n    ntWebApi: NTQQWebApi\n  }\n}\n\nexport enum WebHonorType {\n  ALL = 'all',\n  TALKACTIVE = 'talkative',\n  PERFROMER = 'performer',\n  LEGEND = 'legend',\n  STORONGE_NEWBI = 'strong_newbie',\n  EMOTION = 'emotion'\n}\n\nexport class NTQQWebApi extends Service {\n  static inject = ['ntUserApi']\n\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntWebApi', true)\n  }\n\n  genBkn(sKey: string) {\n    sKey = sKey || ''\n    let hash = 5381\n    for (let i = 0; i < sKey.length; i++) {\n      const code = sKey.charCodeAt(i)\n      hash = hash + (hash << 5) + code\n    }\n    return (hash & 0x7FFFFFFF).toString()\n  }\n\n  async getGroupHonorInfo(groupCode: string, getType: string) {\n    const getDataInternal = async (groupCode: string, type: number) => {\n      const url = 'https://qun.qq.com/interactive/honorlist?gc=' + groupCode + '&type=' + type\n      let resJson\n      try {\n        const res = await RequestUtil.HttpGetText(url, 'GET', '', { 'Cookie': cookieStr })\n        const match = res.match(/window\\.__INITIAL_STATE__=(.*?);/)\n        if (match) {\n          resJson = JSON.parse(match[1].trim())\n        }\n        if (type === 1) {\n          return resJson?.talkativeList\n        } else {\n          return resJson?.actorList\n        }\n      } catch (e) {\n        this.ctx.logger.error('获取当前群荣耀失败', url, e)\n      }\n      return undefined\n    }\n\n    const honorInfo: Dict = { group_id: groupCode }\n    const cookieObject = await this.ctx.ntUserApi.getCookies('qun.qq.com')\n    const cookieStr = this.cookieToString(cookieObject)\n\n    if (getType === WebHonorType.TALKACTIVE || getType === WebHonorType.ALL) {\n      try {\n        const RetInternal = await getDataInternal(groupCode, 1)\n        if (!RetInternal) {\n          throw new Error('获取龙王信息失败')\n        }\n        honorInfo.current_talkative = {\n          user_id: RetInternal[0]?.uin,\n          avatar: RetInternal[0]?.avatar,\n          nickname: RetInternal[0]?.name,\n          day_count: 0,\n          description: RetInternal[0]?.desc\n        }\n        honorInfo.talkative_list = [];\n        for (const talkative_ele of RetInternal) {\n          honorInfo.talkative_list.push({\n            user_id: talkative_ele?.uin,\n            avatar: talkative_ele?.avatar,\n            description: talkative_ele?.desc,\n            day_count: 0,\n            nickname: talkative_ele?.name\n          })\n        }\n      } catch (e) {\n        this.ctx.logger.error(e)\n      }\n    }\n    if (getType === WebHonorType.PERFROMER || getType === WebHonorType.ALL) {\n      try {\n        const RetInternal = await getDataInternal(groupCode, 2)\n        if (!RetInternal) {\n          throw new Error('获取群聊之火失败')\n        }\n        honorInfo.performer_list = []\n        for (const performer_ele of RetInternal) {\n          honorInfo.performer_list.push({\n            user_id: performer_ele?.uin,\n            nickname: performer_ele?.name,\n            avatar: performer_ele?.avatar,\n            description: performer_ele?.desc\n          })\n        }\n      } catch (e) {\n        this.ctx.logger.error(e)\n      }\n    }\n    if (getType === WebHonorType.PERFROMER || getType === WebHonorType.ALL) {\n      try {\n        const RetInternal = await getDataInternal(groupCode, 3)\n        if (!RetInternal) {\n          throw new Error('获取群聊炽焰失败')\n        }\n        honorInfo.legend_list = []\n        for (const legend_ele of RetInternal) {\n          honorInfo.legend_list.push({\n            user_id: legend_ele?.uin,\n            nickname: legend_ele?.name,\n            avatar: legend_ele?.avatar,\n            desc: legend_ele?.description\n          })\n        }\n      } catch (e) {\n        this.ctx.logger.error('获取群聊炽焰失败', e)\n      }\n    }\n    if (getType === WebHonorType.EMOTION || getType === WebHonorType.ALL) {\n      try {\n        const RetInternal = await getDataInternal(groupCode, 6)\n        if (!RetInternal) {\n          throw new Error('获取快乐源泉失败')\n        }\n        honorInfo.emotion_list = []\n        for (const emotion_ele of RetInternal) {\n          honorInfo.emotion_list.push({\n            user_id: emotion_ele?.uin,\n            nickname: emotion_ele?.name,\n            avatar: emotion_ele?.avatar,\n            desc: emotion_ele?.description\n          })\n        }\n      } catch (e) {\n        this.ctx.logger.error('获取快乐源泉失败', e)\n      }\n    }\n    //冒尖小春笋好像已经被tx扬了\n    if (getType === WebHonorType.EMOTION || getType === WebHonorType.ALL) {\n      honorInfo.strong_newbie_list = []\n    }\n    return honorInfo\n  }\n\n  private cookieToString(cookieObject: Dict) {\n    return Object.entries(cookieObject).map(([key, value]) => `${key}=${value}`).join('; ')\n  }\n}\n","import { Context, Service } from 'cordis'\nimport { invoke } from '@/ntqqapi/ntcall'\n\ndeclare module 'cordis' {\n  interface Context {\n    ntSystemApi: NTQQSystemApi\n  }\n}\n\nexport class NTQQSystemApi extends Service {\n  constructor(protected ctx: Context) {\n    super(ctx, 'ntSystemApi', true)\n  }\n\n  async restart() {\n    // todo: 调用此接口后会将 NTQQ 设置里面的自动登录和无需手机确认打开，重启后将状态恢复到之前的状态\n\n    // 设置自动登录\n    await this.setSettingAutoLogin(true)\n    // 退出账号\n    // invoke('quitAccount', []).then()\n    // invoke('notifyQQClose', [{ type: 1 }]).then()\n    // // 等待登录界面，模拟点击登录按钮？还是直接调用登录方法？\n  }\n\n  async getSettingAutoLogin() {\n    // 查询是否自动登录\n    return invoke('nodeIKernelNodeMiscService/queryAutoRun', [])\n  }\n\n  async setSettingAutoLogin(state: boolean) {\n    await invoke('nodeIKernelSettingService/setNeedConfirmSwitch', [1] ) // 1：不需要手机确认，2：需要手机确认\n\n    await invoke('nodeIKernelSettingService/setAutoLoginSwitch', [state])\n  }\n}\n","import express, { Application, Express, NextFunction, Request, Response } from 'express'\nimport path from 'path'\nimport { fileURLToPath } from 'url'\nimport { getConfigUtil } from '@/common/config'\nimport { Config, WebUIConfig } from '@/common/types'\nimport { Server } from 'http'\nimport { Context, Service } from 'cordis'\nimport { selfInfo } from '@/common/globalVars'\nimport { getAvailablePort, recordPort } from '@/common/utils/port'\n\nconst app = express()\nconst __filename = fileURLToPath(import.meta.url)\nconst __dirname = path.dirname(__filename)\n\n// 静态文件服务，指向前端dist目录\nlet feDistPath = path.resolve(__dirname, 'webui/')\nif (!import.meta.env){\n  feDistPath = path.join(__dirname, '../../../dist/webui/')\n}\n\nexport interface WebUIServerConfig extends WebUIConfig {\n  onlyLocalhost: boolean\n}\n\nexport class WebUIServer extends Service {\n  static inject = []\n  private server: Server | null = null\n  private app: Express = express()\n\n  constructor(ctx: Context, public config: WebUIServerConfig) {\n    super(ctx)\n    this.app.use(express.static(feDistPath))\n    this.app.use(express.json())\n\n    // token 校验中间件\n    this.app.use('/api', (req: Request, res: Response, next: NextFunction) => {\n      const config = getConfigUtil().getConfig()\n      const token = config.webui?.token\n      if (!token) {\n        if (req.path === '/set-token') return next()\n        res.status(401).json({ success: false, message: '请先设置WebUI密码' })\n        return\n      }\n      const reqToken = req.headers['x-webui-token'] || req.body?.token || req.query?.token\n      if (reqToken !== token) {\n        res.status(403).json({ success: false, message: 'Token校验失败' })\n        return\n      }\n      next()\n    })\n\n    // 获取配置接口\n    this.app.get('/api/config/', (req, res) => {\n      try {\n        const config = getConfigUtil().getConfig()\n        const { nick, uin } = selfInfo\n        res.json({ success: true, data: { config, selfInfo: { nick, uin } } })\n      } catch (e) {\n        res.status(500).json({ success: false, message: '获取配置失败', error: String(e) })\n      }\n    })\n\n    // 保存配置接口\n    this.app.post('/api/config', (req, res) => {\n      try {\n        const config = req.body as Config\n        const oldConfig = getConfigUtil().getConfig()\n        const newConfig = {...oldConfig, ...config}\n        this.ctx.parallel('llob/config-updated', newConfig).then()\n        getConfigUtil().setConfig(newConfig)\n        res.json({ success: true, message: '配置保存成功' })\n      } catch (e) {\n        res.status(500).json({ success: false, message: '保存配置失败', error: String(e) })\n      }\n    })\n\n    // 设置token接口\n    this.app.post('/api/set-token', (req: Request, res: Response) => {\n      const { token } = req.body\n      if (!token) {\n        res.status(400).json({ success: false, message: 'Token不能为空' })\n        return\n      }\n      const config = getConfigUtil().getConfig()\n      config.webui.token = token\n      getConfigUtil().setConfig(config)\n      res.json({ success: true, message: 'Token设置成功' })\n    })\n\n    // 获取账号信息接口\n    this.app.get('/api/login-info', (req, res) => {\n      const { nick, uin } = selfInfo\n      res.json({ success: true, data: { nick, uin } })\n    })\n\n    this.app.get('/', (req, res) => {\n      res.sendFile(path.join(feDistPath, 'index.html'))\n    })\n\n    // 监听 config 更新事件\n    ctx.on('llob/config-updated', (newConfig: Config) => {\n      const oldConfig = {...this.config}\n      this.config = { onlyLocalhost: newConfig.onlyLocalhost, ...newConfig.webui }\n      if (oldConfig.onlyLocalhost != newConfig.onlyLocalhost\n        || oldConfig.enable != newConfig.webui?.enable\n        || oldConfig.port != newConfig.webui?.port\n      ) {\n        this.ctx.logger.info('WebUI 配置已更新:', this.config)\n        this.restart()\n      }\n    })\n  }\n\n  // Override the base Service.start() signature to match expected arguments\n  async start() {\n    if (!this.config?.enable) {\n      return\n    }\n\n    let port = this.config.port ?? 3080\n    port = await getAvailablePort(port)\n    recordPort(\n      selfInfo.uin,\n      { webUIPort: port },\n    ).catch((err: Error) => {\n      this.ctx.logger.error('记录WebUI端口失败:', err)\n    })\n    const host = this.config.onlyLocalhost ? '127.0.0.1' : ''\n    this.server = this.app.listen(port, host, () => {\n      this.ctx.logger.info(`WebUI 端口: ${port}`)\n    })\n    this.server.on('error', (err: any) => {\n      if (err.code === 'EADDRINUSE') {\n        this.ctx.logger.error(`WebUI 端口 ${port} 被占用，启动失败！`)\n      }\n      else {\n        this.ctx.logger.error('WebUI 启动失败:', err)\n      }\n    })\n  }\n\n  stop() {\n    this.server?.close()\n  }\n\n  restart() {\n    this.stop()\n    this.start()\n  }\n}\n\n","import path from 'node:path'\nimport { fileURLToPath } from 'node:url'\n\nconst __dirname = typeof window === 'undefined'\n  ? path.dirname(fileURLToPath(import.meta.url))\n  : ''\nglobal.__dirname = __dirname\nimport Log from './log'\nimport Core from '../ntqqapi/core'\nimport OneBot11Adapter from '../onebot11/adapter'\nimport SatoriAdapter from '../satori/adapter'\nimport Database from 'minato'\nimport SQLiteDriver from '@minatojs/driver-sqlite'\nimport Store from './store'\nimport { Config as LLOBConfig } from '../common/types'\nimport { startHook } from '../ntqqapi/hook'\nimport { getConfigUtil } from '../common/config'\nimport { Context } from 'cordis'\nimport { llonebotError, selfInfo, LOG_DIR, DATA_DIR, TEMP_DIR } from '../common/globalVars'\nimport { logFileName } from '../common/utils/legacyLog'\nimport {\n  NTQQFileApi,\n  NTQQFileCacheApi,\n  NTQQFriendApi,\n  NTQQGroupApi,\n  NTQQMsgApi,\n  NTQQUserApi,\n  NTQQWebApi,\n  NTQQSystemApi,\n} from '../ntqqapi/api'\nimport { existsSync, mkdirSync } from 'node:fs'\nimport { pmhq } from '@/ntqqapi/native/pmhq'\nimport { version } from '../version'\nimport { WebUIServer } from '../webui/BE/server'\nimport { setFFMpegPath } from '@/common/utils/ffmpeg'\n\ndeclare module 'cordis' {\n  interface Events {\n    'llob/config-updated': (input: LLOBConfig) => void\n  }\n}\n\n\nasync function onLoad() {\n  if (!existsSync(DATA_DIR)) {\n    mkdirSync(DATA_DIR, { recursive: true })\n  }\n\n  if (!existsSync(LOG_DIR)) {\n    mkdirSync(LOG_DIR)\n  }\n\n  if (!existsSync(TEMP_DIR)) {\n    mkdirSync(TEMP_DIR)\n  }\n\n  const dbDir = path.join(DATA_DIR, 'database')\n  if (!existsSync(dbDir)) {\n    mkdirSync(dbDir)\n  }\n\n  const ctx = new Context()\n\n  ctx.plugin(NTQQFileApi)\n  ctx.plugin(NTQQFileCacheApi)\n  ctx.plugin(NTQQFriendApi)\n  ctx.plugin(NTQQGroupApi)\n  ctx.plugin(NTQQMsgApi)\n  ctx.plugin(NTQQUserApi)\n  ctx.plugin(NTQQWebApi)\n  ctx.plugin(NTQQSystemApi)\n  ctx.plugin(Database)\n\n  let started = false\n\n  ctx.logger.info(`LLOneBot ${version}`)\n  const pmhqSelfInfo = await pmhq.call('getSelfInfo', [])\n  const self = Object.assign(selfInfo, {\n    uin: pmhqSelfInfo.uin,\n    uid: pmhqSelfInfo.uid,\n    online: true,\n  })\n  ctx.ntUserApi.getSelfNick().then(nick => {\n    self.nick = nick\n  }).catch(e=>ctx.logger.error('获取bot昵称失败', e))\n  // log('process pid', process.pid)\n  const configUtil = getConfigUtil()\n  const config = configUtil.getConfig()\n  configUtil.listenChange(c => {\n    ctx.parallel('llob/config-updated', c)\n  })\n  setFFMpegPath(config.ffmpeg || '')\n  startHook()\n\n  ctx.plugin(Log, {\n    enable: config.log!,\n    filename: logFileName,\n  })\n  ctx.plugin(SQLiteDriver, {\n    path: path.join(dbDir, `${selfInfo.uin}.db`),\n  })\n  ctx.plugin(Store, {\n    msgCacheExpire: config.msgCacheExpire! * 1000,\n  })\n  ctx.plugin(Core, config)\n  ctx.plugin(OneBot11Adapter, {\n    ...config.ob11,\n    onlyLocalhost: config.onlyLocalhost,\n    heartInterval: config.heartInterval,\n    debug: config.debug!,\n    musicSignUrl: config.musicSignUrl,\n    enableLocalFile2Url: config.enableLocalFile2Url!,\n    ffmpeg: config.ffmpeg,\n  })\n  ctx.plugin(SatoriAdapter, {\n    ...config.satori,\n    ffmpeg: config.ffmpeg,\n    onlyLocalhost: config.onlyLocalhost,\n  })\n  ctx.plugin(WebUIServer, {...config.webui, onlyLocalhost: config.onlyLocalhost})\n\n  ctx.start()\n  started = true\n  llonebotError.otherError = ''\n}\n\n\nonLoad().then().catch(e=>console.log(e))\n"],"names":["__defProp","__name","key","source","type","bytes","c","buffer","output","abs","self","defineProperty2","internal","service","defineProperty3","remove2","defineProperty4","isNullable2","resolve","defineProperty5","defineProperty6","defineProperty7","os","require$$0","require$$1","hasFlag","require$$2","min","sign","version","inspect","from","global","isPlainObject","__getOwnPropNames","__commonJS","mod","Logger","stdout","line","valueMap","push","pattern","pattern2","encoding","max","key2","Schema","core.Context","core.Service","src_default","path","fs","params","offset","base64","encode","i","decode","pos","utf8","size","util","require$$3","require$$4","require$$5","require$$6","require$$7","this","isObject","Buffer","get","noop","State","writer","create","reader","create_array","Service","request","response","err","rpc","SysMsg","Msg","RichMedia","Oidb","Action","ElementType","AtType","PicType","TipGroupElementType","GrayTipElementSubType","FaceIndex","ChatType","WebSocket","timeout","ReceiveCmdS","Sex","UserDetailSource","ProfileBizType","GroupMemberRole","GroupNotifyType","GroupNotifyStatus","GroupRequestOperateTypes","BuddyReqType","stat","is","utils","utilsModule","audio","video","options","require","async","root","callback","concurrency","q","process","args","ffmpeg","ffprobe","types","formats","data","recipes","fluentFfmpeg","clone","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","OB11UserSex","OB11GroupMemberRole","OB11MessageDataType","EventType","unescape","h","OB11Entities","peer","msg","friend","friends","sex","group","groups","LifeCycleSubType","symbols","varyModule","vary","parse","methods","cors","libModule","statuses","codes","status","inherits_browserModule","token","fn","onFinishedModule","onFinished","queue","bytesModule","decoder","bomHandling","stream_module","streams","read","mimeScore","charset","contentType","extension","typeIsModule","isNaN","hasSymbols","concatty","slicy","Empty","implementation","gOPD","getProto","undefined","floor","pow","round","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","doEval","require$$23","require$$24","stringToPath","getBaseIntrinsic","callBound","compactQueue","arrayToObject","merge","compact","isRegExp","isBuffer","combine","maybeMap","isNonNullishPrimitive","stringify","sideChannel","value","normalizeStringifyOptions","normalizeParseOptions","lib","bodyParser","escape","parseurlModule","parseurl","url","roots","crypto","ipaddr","ref","string","error1","proxyAddrModule","range","cb","onceModule","once","isPromiseModule","isPromise","tokens","match","flatten","regexp","init","error","stack","layer","routerModule","router","route","view","View","charsetModule","accepts","encodingModule","comparator","languageModule","language","mediaTypeModule","mediaType","negotiatorModule","encodings","subdomains","contentDispositionModule","contentDisposition","etag","send","stream","cookie","res","serveStatic","req","express","getImageSize","handlers","type2","uri","JSON5","SendElement","imageSize","pathLib","thumbPath","face","CreatePeerMode","mode","handleFriendRequest","user","ActionName","e","MessageEncoder","fsPromise","unlink","Field","mapValues2","isNullable3","mapValues3","Binary2","isNullable4","mapValues4","filterKeys2","Context","makeArray2","mapValues5","filterKeys3","isNullable5","mapValues6","deepEqual2","isNullable6","FlashFileDownloadStatus","FlashFileUploadStatus","source2","Element","NT.ChatType","NT.AtType","Universal.Channel","srcPeer","element","net","getAvailablePort","getPort","Universal.Methods","Universal.Opcode","NT.GroupNotifyType","NT.GroupNotifyStatus","Eval","Driver2","escapeId2","Field2","column","NTMethod","fileType","number","http","uid","uin","groupCode","__filename","fileURLToPath","__dirname","config","Database","SQLiteDriver"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","x_google_ignoreList":[0,1,2,3,5,6,7,8,9,10,11,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,213,315,329,330,361,369,370]}